Started GET "/products" for ::1 at 2020-07-02 13:53:39 +0700
Started GET "/" for ::1 at 2020-07-02 13:53:39 +0700
  [1m[35m (3.9ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (2.4ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  
ActionController::RoutingError (No route matches [GET] "/products"):
  
actionpack (6.0.3.2) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
web-console (4.0.3) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.3) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.3) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.3) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.3.2) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.3.2) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.3.2) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.3.2) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.3.2) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.3.2) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.3) lib/rack/method_override.rb:24:in `call'
rack (2.2.3) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.3.2) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.3) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
webpacker (4.2.2) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.3.2) lib/rails/engine.rb:527:in `call'
puma (4.3.5) lib/puma/configuration.rb:228:in `call'
puma (4.3.5) lib/puma/server.rb:713:in `handle_request'
puma (4.3.5) lib/puma/server.rb:472:in `process_client'
puma (4.3.5) lib/puma/server.rb:328:in `block in run'
puma (4.3.5) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Processing by Rails::WelcomeController#index as HTML
Started GET "/" for ::1 at 2020-07-02 13:53:41 +0700
  [1m[35m (0.8ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by Rails::WelcomeController#index as HTML
  Rendering /home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/railties-6.0.3.2/lib/rails/templates/rails/welcome/index.html.erb
  Rendering /home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/railties-6.0.3.2/lib/rails/templates/rails/welcome/index.html.erb
  Rendered /home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/railties-6.0.3.2/lib/rails/templates/rails/welcome/index.html.erb (Duration: 126.4ms | Allocations: 759)
  Rendered /home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/railties-6.0.3.2/lib/rails/templates/rails/welcome/index.html.erb (Duration: 51.0ms | Allocations: 688)
Completed 200 OK in 1897ms (Views: 268.5ms | ActiveRecord: 0.0ms | Allocations: 4089)


Completed 200 OK in 2126ms (Views: 225.8ms | ActiveRecord: 0.0ms | Allocations: 35496)


  [1m[35m (12.8ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (136.6ms)[0m  [1m[35mCREATE TABLE "schema_migrations" ("version" varchar NOT NULL PRIMARY KEY)[0m
  [1m[35m (261.0ms)[0m  [1m[35mCREATE TABLE "ar_internal_metadata" ("key" varchar NOT NULL PRIMARY KEY, "value" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateProducts (20200702065555)
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE TABLE "products" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "title" varchar, "description" text, "image_url" varchar, "price" decimal(8,2), "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mprimary::SchemaMigration Create (0.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20200702065555"]]
  [1m[35m (260.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActiveRecord::InternalMetadata Create (0.4ms)[0m  [1m[32mINSERT INTO "ar_internal_metadata" ("key", "value", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["key", "environment"], ["value", "development"], ["created_at", "2020-07-02 07:13:16.313436"], ["updated_at", "2020-07-02 07:13:16.313436"]]
  [1m[35m (234.7ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/" for ::1 at 2020-07-02 14:22:40 +0700
  [1m[35m (1.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (15.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Rails::WelcomeController#index as HTML
  Rendering /home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/railties-6.0.3.2/lib/rails/templates/rails/welcome/index.html.erb
  Rendered /home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/railties-6.0.3.2/lib/rails/templates/rails/welcome/index.html.erb (Duration: 169.0ms | Allocations: 294)
Completed 200 OK in 1027ms (Views: 515.4ms | ActiveRecord: 0.0ms | Allocations: 1634)


Started GET "/products" for ::1 at 2020-07-02 14:23:11 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (119.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:17
  Rendered products/index.html.erb within layouts/application (Duration: 234.8ms | Allocations: 1476)
Started GET "/products" for ::1 at 2020-07-02 14:23:15 +0700
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:17
  Rendered products/index.html.erb within layouts/application (Duration: 5.0ms | Allocations: 663)
[Webpacker] Compiling...
[Webpacker] Compiling...
[Webpacker] Compiled all packs in /home/khanh/Desktop/depot/public/packs
[Webpacker] Hash: 15d1bb7b54cf6326b9ba
Version: webpack 4.43.0
Time: 9861ms
Built at: 07/02/2020 2:23:44 PM
                                     Asset       Size       Chunks                         Chunk Names
    js/application-9afcbb5693aa87623e69.js    124 KiB  application  [emitted] [immutable]  application
js/application-9afcbb5693aa87623e69.js.map    139 KiB  application  [emitted] [dev]        application
                             manifest.json  364 bytes               [emitted]              
Entrypoint application = js/application-9afcbb5693aa87623e69.js js/application-9afcbb5693aa87623e69.js.map
[./app/javascript/channels sync recursive _channel\.js$] ./app/javascript/channels sync _channel\.js$ 160 bytes {application} [built]
[./app/javascript/channels/index.js] 211 bytes {application} [built]
[./app/javascript/packs/application.js] 749 bytes {application} [built]
[./node_modules/webpack/buildin/module.js] (webpack)/buildin/module.js 552 bytes {application} [built]
    + 3 hidden modules

[Webpacker] Compiled all packs in /home/khanh/Desktop/depot/public/packs
[Webpacker] Hash: 15d1bb7b54cf6326b9ba
Version: webpack 4.43.0
Time: 9836ms
Built at: 07/02/2020 2:23:44 PM
                                     Asset       Size       Chunks                         Chunk Names
    js/application-9afcbb5693aa87623e69.js    124 KiB  application  [emitted] [immutable]  application
js/application-9afcbb5693aa87623e69.js.map    139 KiB  application  [emitted] [dev]        application
                             manifest.json  364 bytes               [emitted]              
Entrypoint application = js/application-9afcbb5693aa87623e69.js js/application-9afcbb5693aa87623e69.js.map
[./app/javascript/channels sync recursive _channel\.js$] ./app/javascript/channels sync _channel\.js$ 160 bytes {application} [built]
[./app/javascript/channels/index.js] 211 bytes {application} [built]
[./app/javascript/packs/application.js] 749 bytes {application} [built]
[./node_modules/webpack/buildin/module.js] (webpack)/buildin/module.js 552 bytes {application} [built]
    + 3 hidden modules

Completed 200 OK in 33912ms (Views: 32866.3ms | ActiveRecord: 120.0ms | Allocations: 29077)


Completed 200 OK in 30033ms (Views: 30030.5ms | ActiveRecord: 0.6ms | Allocations: 6803)


Started GET "/products/new" for ::1 at 2020-07-02 14:23:48 +0700
Processing by ProductsController#new as HTML
  Rendering products/new.html.erb within layouts/application
  Rendered products/_form.html.erb (Duration: 858.0ms | Allocations: 6582)
  Rendered products/new.html.erb within layouts/application (Duration: 1187.5ms | Allocations: 6917)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 1227ms (Views: 1200.7ms | ActiveRecord: 1.4ms | Allocations: 14069)


Started GET "/products/new" for ::1 at 2020-07-02 14:24:18 +0700
Processing by ProductsController#new as HTML
  Rendering products/new.html.erb within layouts/application
  Rendered products/_form.html.erb (Duration: 9.4ms | Allocations: 1062)
  Rendered products/new.html.erb within layouts/application (Duration: 11.6ms | Allocations: 1144)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 34ms (Views: 31.1ms | ActiveRecord: 0.0ms | Allocations: 4489)


Started GET "/products" for ::1 at 2020-07-02 14:26:05 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:17
  Rendered products/index.html.erb within layouts/application (Duration: 7.0ms | Allocations: 909)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 30ms (Views: 24.8ms | ActiveRecord: 0.5ms | Allocations: 5166)


Started GET "/products/new" for ::1 at 2020-07-02 14:26:06 +0700
Processing by ProductsController#new as HTML
  Rendering products/new.html.erb within layouts/application
  Rendered products/_form.html.erb (Duration: 59.8ms | Allocations: 3372)
  Rendered products/new.html.erb within layouts/application (Duration: 62.0ms | Allocations: 3678)
Completed 500 Internal Server Error in 66ms (ActiveRecord: 0.0ms | Allocations: 4258)


  
ActionView::SyntaxErrorInTemplate (Encountered a syntax error while rendering template: check <%= form_with(model: product, local: true) do |form| %>
  <% if product.errors.any? %>
    <div id="error_explanation">
      <h2><%= pluralize(product.errors.count, "error") %> prohibited this product from being saved:</h2>

      <ul>
        <% product.errors.full_messages.each do |message| %>
          <li><%= message %></li>
        <% end %>
      </ul>
    </div>
  <% end %>

  <div class="field">
    <%= form.label :title %>
    <%= form.text_field :title %>
  </div>

  <div class="field">
    <%= form.label :description %>
    <%= form.text_area :description rows: 10, cols:60 %>
  </div>

  <div class="field">
    <%= form.label :image_url %>
    <%= form.text_field :image_url %>
  </div>

  <div class="field">
    <%= form.label :price %>
    <%= form.text_field :price %>
  </div>

  <div class="actions">
    <%= form.submit %>
  </div>
<% end %>

):
1:    <%= form_with(model: product, local: true) do |form| %>
2:      <% if product.errors.any? %>
3:        <div id="error_explanation">
4:          <h2><%= pluralize(product.errors.count, "error") %> prohibited this product from being saved:</h2>
5:    
6:          <ul>
7:            <% product.errors.full_messages.each do |message| %>
8:              <li><%= message %></li>
9:            <% end %>
10:          </ul>
11:        </div>
12:      <% end %>
13:    
14:      <div class="field">
15:        <%= form.label :title %>
16:        <%= form.text_field :title %>
17:      </div>
18:    
19:      <div class="field">
20:        <%= form.label :description %>
21:        <%= form.text_area :description rows: 10, cols:60 %>
22:      </div>
23:    
24:      <div class="field">
25:        <%= form.label :image_url %>
26:        <%= form.text_field :image_url %>
27:      </div>
28:    
29:      <div class="field">
30:        <%= form.label :price %>
31:        <%= form.text_field :price %>
32:      </div>
33:    
34:      <div class="actions">
35:        <%= form.submit %>
36:      </div>
37:    <% end %>
  
app/views/products/_form.html.erb:21: syntax error, unexpected local variable or method, expecting ')'
app/views/products/_form.html.erb:21: syntax error, unexpected local variable or method, expecting ')'
app/views/products/_form.html.erb:21: syntax error, unexpected local variable or method, expecting ')'
app/views/products/_form.html.erb:21: syntax error, unexpected local variable or method, expecting ')'
app/views/products/_form.html.erb:21: syntax error, unexpected local variable or method, expecting ')'
app/views/products/_form.html.erb:21: syntax error, unexpected local variable or method, expecting ')'
app/views/products/new.html.erb:3
Started GET "/products/new" for ::1 at 2020-07-02 14:26:16 +0700
Processing by ProductsController#new as HTML
  Rendering products/new.html.erb within layouts/application
  Rendered products/_form.html.erb (Duration: 6.6ms | Allocations: 1484)
  Rendered products/new.html.erb within layouts/application (Duration: 9.0ms | Allocations: 1810)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 26ms (Views: 22.4ms | ActiveRecord: 0.0ms | Allocations: 6129)


Started POST "/products" for ::1 at 2020-07-02 14:28:52 +0700
Processing by ProductsController#create as HTML
  Parameters: {"authenticity_token"=>"Ls8bpmia3JColA+tUz55Lnb+m3QTPXeTH3IajZAKieg0Pt452UI+OcjOBnQ/K0zyM+0rPGy83QVMHtTS337+yw==", "product"=>{"title"=>"Điện Thoại Vsmart Active 3", "description"=>"Chính hãng, nguyên seal, mới 100%, chưa Active\r\nMàn hình: AMOLED, 6.39\", Full HD+\r\nHệ điều hành: Android 9.0 (Pie)\r\nCamera sau: Chính 48 MP & Phụ 8 MP, 2 MP\r\nCamera trước: 16 MP\r\nCPU: MediaTek Helio P60 8 nhân\r\nRAM: Tùy chọn 6GB/4GB\r\nBộ nhớ trong: 64 GB\r\nThẻ nhớ: MicroSD, hỗ trợ tối đa 256 GB\r\nThẻ SIM: 2 SIM Nano (SIM 2 chung khe thẻ nhớ), Hỗ trợ 4G\r\nDung lượng pin: 4020 mAh, có sạc nhanh", "image_url"=>"7apps/jpg", "price"=>"3250000"}, "commit"=>"Create Product"}
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/products_controller.rb:30:in `block in create'
  [1m[36mProduct Create (1621.7ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "image_url", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "Điện Thoại Vsmart Active 3"], ["description", "Chính hãng, nguyên seal, mới 100%, chưa Active\r\nMàn hình: AMOLED, 6.39\", Full HD+\r\nHệ điều hành: Android 9.0 (Pie)\r\nCamera sau: Chính 48 MP & Phụ 8 MP, 2 MP\r\nCamera trước: 16 MP\r\nCPU: MediaTek Helio P60 8 nhân\r\nRAM: Tùy chọn 6GB/4GB\r\nBộ nhớ trong: 64 GB\r\nThẻ nhớ: MicroSD, hỗ trợ tối đa 256 GB\r\nThẻ SIM: 2 SIM Nano (SIM 2 chung khe thẻ nhớ), Hỗ trợ 4G\r\nDung lượng pin: 4020 mAh, có sạc nhanh"], ["image_url", "7apps/jpg"], ["price", 3250000.0], ["created_at", "2020-07-02 07:28:52.796689"], ["updated_at", "2020-07-02 07:28:52.796689"]]
  ↳ app/controllers/products_controller.rb:30:in `block in create'
  [1m[35m (1273.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/products_controller.rb:30:in `block in create'
Redirected to http://localhost:3000/products/1
Completed 302 Found in 3461ms (ActiveRecord: 2895.0ms | Allocations: 4134)


Started GET "/products/1" for ::1 at 2020-07-02 14:28:56 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.8ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:67:in `set_product'
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (Duration: 22.4ms | Allocations: 309)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 799ms (Views: 659.1ms | ActiveRecord: 0.8ms | Allocations: 4959)


Started GET "/products" for ::1 at 2020-07-02 14:29:01 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:17
  Rendered products/index.html.erb within layouts/application (Duration: 7.5ms | Allocations: 1054)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 27ms (Views: 23.5ms | ActiveRecord: 0.3ms | Allocations: 4539)


Started GET "/products/1/edit" for ::1 at 2020-07-02 14:29:06 +0700
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:67:in `set_product'
  Rendering products/edit.html.erb within layouts/application
  Rendered products/_form.html.erb (Duration: 3.1ms | Allocations: 1171)
  Rendered products/edit.html.erb within layouts/application (Duration: 34.8ms | Allocations: 1410)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 50ms (Views: 44.9ms | ActiveRecord: 0.3ms | Allocations: 5416)


Started GET "/products/1/edit" for ::1 at 2020-07-02 14:29:11 +0700
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:67:in `set_product'
  Rendering products/edit.html.erb within layouts/application
  Rendered products/_form.html.erb (Duration: 8.7ms | Allocations: 1143)
  Rendered products/edit.html.erb within layouts/application (Duration: 9.9ms | Allocations: 1256)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 35ms (Views: 28.3ms | ActiveRecord: 0.4ms | Allocations: 5149)


  [1m[35m (1.7ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[36mProduct Destroy (103.0ms)[0m  [1m[31mDELETE FROM "products"[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mProduct Create (4.4ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "image_url", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "Build Chatbot Interactions"], ["description", "<p>\n<em>Responsive, Intuitive Interfaces with Ruby</em>\nThe next step in the evolution of user interfaces is here.\nChatbots let your users interact with your service in their\nown natural language. Use free and open source tools along\nwith Ruby to build creative, useful, and unexpected interactions\nfor users. Take advantage of the Lita framework’s step-by-step\nimplementation strategy to simplify bot development and testing.\nFrom novices to experts, chatbots are an area in which everyone\ncan participate. Exercise your creativity by creating chatbot\nskills for communicating, information, and fun.\n</p>"], ["image_url", "dpchat.jpg"], ["price", 20.0], ["created_at", "2020-07-02 07:44:11.195918"], ["updated_at", "2020-07-02 07:44:11.195918"]]
  [1m[35m (64.7ms)[0m  [1m[36mcommit transaction[0m
Started GET "/products/1/edit" for ::1 at 2020-07-02 14:45:11 +0700
  [1m[35m (2.9ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:67:in `set_product'
Completed 404 Not Found in 11ms (ActiveRecord: 0.9ms | Allocations: 2633)


  
ActiveRecord::RecordNotFound (Couldn't find Product with 'id'=1):
  
app/controllers/products_controller.rb:67:in `set_product'
Started GET "/products/1/edit" for ::1 at 2020-07-02 14:46:16 +0700
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:67:in `set_product'
Completed 404 Not Found in 4ms (ActiveRecord: 0.2ms | Allocations: 1156)


  
ActiveRecord::RecordNotFound (Couldn't find Product with 'id'=1):
  
app/controllers/products_controller.rb:67:in `set_product'
Started GET "/products/1/edit" for ::1 at 2020-07-02 14:46:31 +0700
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:67:in `set_product'
Completed 404 Not Found in 5ms (ActiveRecord: 0.3ms | Allocations: 1128)


  
ActiveRecord::RecordNotFound (Couldn't find Product with 'id'=1):
  
app/controllers/products_controller.rb:67:in `set_product'
Started GET "/products" for ::1 at 2020-07-02 14:46:38 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:17
  Rendered products/index.html.erb within layouts/application (Duration: 26.1ms | Allocations: 4747)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 1161ms (Views: 1156.0ms | ActiveRecord: 0.7ms | Allocations: 15338)


Started GET "/products" for ::1 at 2020-07-02 14:46:44 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:17
  Rendered products/index.html.erb within layouts/application (Duration: 6.2ms | Allocations: 786)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 21ms (Views: 18.5ms | ActiveRecord: 0.5ms | Allocations: 4131)


Started GET "/products" for ::1 at 2020-07-02 14:46:45 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:17
  Rendered products/index.html.erb within layouts/application (Duration: 3.5ms | Allocations: 777)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 19ms (Views: 16.2ms | ActiveRecord: 0.3ms | Allocations: 4123)


Started GET "/products" for ::1 at 2020-07-02 14:46:45 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.8ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:17
  Rendered products/index.html.erb within layouts/application (Duration: 5.0ms | Allocations: 776)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 18ms (Views: 15.4ms | ActiveRecord: 0.8ms | Allocations: 4124)


Started GET "/products" for ::1 at 2020-07-02 14:46:46 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:17
  Rendered products/index.html.erb within layouts/application (Duration: 3.6ms | Allocations: 776)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 24ms (Views: 21.1ms | ActiveRecord: 0.3ms | Allocations: 4128)


Started GET "/products" for ::1 at 2020-07-02 14:46:46 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:17
  Rendered products/index.html.erb within layouts/application (Duration: 5.9ms | Allocations: 776)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 20ms (Views: 16.7ms | ActiveRecord: 0.6ms | Allocations: 4124)


Started GET "/products" for ::1 at 2020-07-02 14:46:46 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:17
  Rendered products/index.html.erb within layouts/application (Duration: 4.7ms | Allocations: 776)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 18ms (Views: 16.3ms | ActiveRecord: 0.5ms | Allocations: 4126)


Started GET "/products/new" for ::1 at 2020-07-02 14:46:53 +0700
Processing by ProductsController#new as HTML
  Rendering products/new.html.erb within layouts/application
  Rendered products/_form.html.erb (Duration: 209.1ms | Allocations: 4997)
  Rendered products/new.html.erb within layouts/application (Duration: 238.3ms | Allocations: 5326)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 256ms (Views: 251.9ms | ActiveRecord: 0.0ms | Allocations: 8734)


Started POST "/products" for ::1 at 2020-07-02 14:47:12 +0700
Processing by ProductsController#create as HTML
  Parameters: {"authenticity_token"=>"WEYkCvyODNy9Mkh/bab7JZUf9JqxxsDDkQJGXkDkxZS2lqc0ia2fU0qbJudLxOkJVWTLFLrFvYdvwwl3R5qrcA==", "product"=>{"title"=>"Điện Thoại Samsung Galaxy Note 10 Lite (128GB/8GB) - Hàng Chính Hãng - Đã Kích Hoạt Bảo Hành Điện Tử", "description"=>"wwwwwwwwwwwwwwww", "image_url"=>"7apps.jpb", "price"=>"12999000"}, "commit"=>"Create Product"}
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/products_controller.rb:30:in `block in create'
  [1m[36mProduct Create (1.4ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "image_url", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "Điện Thoại Samsung Galaxy Note 10 Lite (128GB/8GB) - Hàng Chính Hãng - Đã Kích Hoạt Bảo Hành Điện Tử"], ["description", "wwwwwwwwwwwwwwww"], ["image_url", "7apps.jpb"], ["price", 12999000.0], ["created_at", "2020-07-02 07:47:12.906619"], ["updated_at", "2020-07-02 07:47:12.906619"]]
  ↳ app/controllers/products_controller.rb:30:in `block in create'
  [1m[35m (341.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/products_controller.rb:30:in `block in create'
Redirected to http://localhost:3000/products/3
Completed 302 Found in 375ms (ActiveRecord: 342.7ms | Allocations: 4063)


Started GET "/products/3" for ::1 at 2020-07-02 14:47:13 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:67:in `set_product'
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (Duration: 2.3ms | Allocations: 304)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 14ms (Views: 8.3ms | ActiveRecord: 0.5ms | Allocations: 4342)


Started GET "/products" for ::1 at 2020-07-02 14:47:14 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:17
  Rendered products/index.html.erb within layouts/application (Duration: 8.1ms | Allocations: 918)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 28ms (Views: 26.0ms | ActiveRecord: 0.4ms | Allocations: 4267)


Started DELETE "/products/3" for ::1 at 2020-07-02 14:47:29 +0700
Processing by ProductsController#destroy as HTML
  Parameters: {"authenticity_token"=>"67ynjoONrfcq4jrRt10fw1A4mDQlm+qT2TF2zfquTejxTWIRMlVPXkq4MwjbSCofFSsofFoaQAWKXbiStdo6yw==", "id"=>"3"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:67:in `set_product'
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/products_controller.rb:57:in `destroy'
  [1m[36mProduct Destroy (2.3ms)[0m  [1m[31mDELETE FROM "products" WHERE "products"."id" = ?[0m  [["id", 3]]
  ↳ app/controllers/products_controller.rb:57:in `destroy'
  [1m[35m (294.7ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/products_controller.rb:57:in `destroy'
Redirected to http://localhost:3000/products
Completed 302 Found in 319ms (ActiveRecord: 297.5ms | Allocations: 3808)


Started GET "/products" for ::1 at 2020-07-02 14:47:29 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:17
  Rendered products/index.html.erb within layouts/application (Duration: 5.6ms | Allocations: 778)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 16ms (Views: 14.2ms | ActiveRecord: 0.4ms | Allocations: 4149)


Started GET "/products" for ::1 at 2020-07-02 14:49:18 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.8ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:17
  Rendered products/index.html.erb within layouts/application (Duration: 8.2ms | Allocations: 776)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 772ms (Views: 768.3ms | ActiveRecord: 0.8ms | Allocations: 12198)


Started GET "/products" for ::1 at 2020-07-02 14:51:09 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:17
  Rendered products/index.html.erb within layouts/application (Duration: 3.4ms | Allocations: 776)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 71ms (Views: 68.7ms | ActiveRecord: 0.4ms | Allocations: 12276)


Started GET "/products" for ::1 at 2020-07-02 14:51:22 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:17
  Rendered products/index.html.erb within layouts/application (Duration: 7.2ms | Allocations: 776)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 51ms (Views: 49.1ms | ActiveRecord: 0.4ms | Allocations: 9328)


Started GET "/products" for ::1 at 2020-07-02 14:51:22 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:17
  Rendered products/index.html.erb within layouts/application (Duration: 4.3ms | Allocations: 776)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 20ms (Views: 17.6ms | ActiveRecord: 0.3ms | Allocations: 4122)


Started GET "/products" for ::1 at 2020-07-02 14:51:23 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:17
  Rendered products/index.html.erb within layouts/application (Duration: 4.6ms | Allocations: 776)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 13ms (Views: 10.9ms | ActiveRecord: 0.6ms | Allocations: 4134)


Started GET "/products" for ::1 at 2020-07-02 14:51:23 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:17
  Rendered products/index.html.erb within layouts/application (Duration: 1.9ms | Allocations: 776)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 18ms (Views: 16.6ms | ActiveRecord: 0.1ms | Allocations: 4126)


Started GET "/products" for ::1 at 2020-07-02 14:51:23 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:17
  Rendered products/index.html.erb within layouts/application (Duration: 4.7ms | Allocations: 776)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 17ms (Views: 16.4ms | ActiveRecord: 0.1ms | Allocations: 4120)


Started GET "/products" for ::1 at 2020-07-02 14:56:41 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.9ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:14
  Rendered products/index.html.erb within layouts/application (Duration: 206.2ms | Allocations: 4725)
Completed 500 Internal Server Error in 253ms (ActiveRecord: 0.9ms | Allocations: 5883)


  
ActionView::Template::Error (The asset "dpchat.jpg" is not present in the asset pipeline.):
    14: <% @products.each do |product| %>
    15: <tr class="<%= cycle('list_line_odd', 'list_line_even') %>">
    16: <td class="image">
    17: <%= image_tag(product.image_url, class: 'list_image') %>
    18: </td>
    19: <td class="description">
    20: <h1><%= product.title %></h1>
  
app/views/products/index.html.erb:17
app/views/products/index.html.erb:14
Started GET "/products" for ::1 at 2020-07-02 14:57:07 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:14
  Rendered products/index.html.erb within layouts/application (Duration: 6.1ms | Allocations: 4390)
Completed 500 Internal Server Error in 9ms (ActiveRecord: 0.2ms | Allocations: 4815)


  
ActionView::Template::Error (The asset "dpchat.jpg" is not present in the asset pipeline.):
    14: <% @products.each do |product| %>
    15: <tr class="<%= cycle('list_line_odd', 'list_line_even') %>">
    16: <td class="image">
    17: <%= image_tag(product.image_url, class: 'list_image') %>
    18: </td>
    19: <td class="description">
    20: <h1><%= product.title %></h1>
  
app/views/products/index.html.erb:17
app/views/products/index.html.erb:14
Started GET "/products" for ::1 at 2020-07-02 14:57:10 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:14
  Rendered products/index.html.erb within layouts/application (Duration: 8.0ms | Allocations: 4390)
Completed 500 Internal Server Error in 13ms (ActiveRecord: 0.2ms | Allocations: 4814)


  
ActionView::Template::Error (The asset "dpchat.jpg" is not present in the asset pipeline.):
    14: <% @products.each do |product| %>
    15: <tr class="<%= cycle('list_line_odd', 'list_line_even') %>">
    16: <td class="image">
    17: <%= image_tag(product.image_url, class: 'list_image') %>
    18: </td>
    19: <td class="description">
    20: <h1><%= product.title %></h1>
  
app/views/products/index.html.erb:17
app/views/products/index.html.erb:14
Started GET "/products" for ::1 at 2020-07-02 14:57:22 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:14
  Rendered products/index.html.erb within layouts/application (Duration: 6.7ms | Allocations: 4390)
Completed 500 Internal Server Error in 9ms (ActiveRecord: 0.1ms | Allocations: 4814)


  
ActionView::Template::Error (The asset "dpchat.jpg" is not present in the asset pipeline.):
    14: <% @products.each do |product| %>
    15: <tr class="<%= cycle('list_line_odd', 'list_line_even') %>">
    16: <td class="image">
    17: <%= image_tag(product.image_url, class: 'list_image') %>
    18: </td>
    19: <td class="description">
    20: <h1><%= product.title %></h1>
  
app/views/products/index.html.erb:17
app/views/products/index.html.erb:14
Started GET "/products" for ::1 at 2020-07-02 14:57:48 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:14
  Rendered products/index.html.erb within layouts/application (Duration: 9.3ms | Allocations: 4390)
Completed 500 Internal Server Error in 14ms (ActiveRecord: 0.6ms | Allocations: 4814)


  
ActionView::Template::Error (The asset "dpchat.jpg" is not present in the asset pipeline.):
    14: <% @products.each do |product| %>
    15: <tr class="<%= cycle('list_line_odd', 'list_line_even') %>">
    16: <td class="image">
    17: <%= image_tag(product.image_url, class: 'list_image') %>
    18: </td>
    19: <td class="description">
    20: <h1><%= product.title %></h1>
  
app/views/products/index.html.erb:17
app/views/products/index.html.erb:14
Started GET "/products" for ::1 at 2020-07-02 14:58:14 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:17
  Rendered products/index.html.erb within layouts/application (Duration: 60.9ms | Allocations: 1060)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 267ms (Views: 264.8ms | ActiveRecord: 0.3ms | Allocations: 5408)


Started GET "/products" for ::1 at 2020-07-02 15:08:05 +0700
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (1.6ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:14
  Rendered products/index.html.erb within layouts/application (Duration: 61.6ms | Allocations: 4726)
Completed 500 Internal Server Error in 67ms (ActiveRecord: 1.6ms | Allocations: 5894)


  
ActionView::Template::Error (The asset "dpchat.jpg" is not present in the asset pipeline.):
    14: <% @products.each do |product| %>
    15: <tr class="<%= cycle('list_line_odd', 'list_line_even') %>">
    16: <td class="image">
    17: <%= image_tag(product.image_url, class: 'list_image') %>
    18: </td>
    19: <td class="description">
    20: <h1><%= product.title %></h1>
  
app/views/products/index.html.erb:17
app/views/products/index.html.erb:14
Started GET "/products" for ::1 at 2020-07-02 15:08:30 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:14
  Rendered products/index.html.erb within layouts/application (Duration: 4.3ms | Allocations: 4390)
Completed 500 Internal Server Error in 8ms (ActiveRecord: 0.1ms | Allocations: 4825)


  
ActionView::Template::Error (The asset "dpchat.jpg" is not present in the asset pipeline.):
    14: <% @products.each do |product| %>
    15: <tr class="<%= cycle('list_line_odd', 'list_line_even') %>">
    16: <td class="image">
    17: <%= image_tag(product.image_url, class: 'list_image') %>
    18: </td>
    19: <td class="description">
    20: <h1><%= product.title %></h1>
  
app/views/products/index.html.erb:17
app/views/products/index.html.erb:14
Started GET "/products" for ::1 at 2020-07-02 15:08:54 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:14
  Rendered products/index.html.erb within layouts/application (Duration: 7.3ms | Allocations: 4390)
Completed 500 Internal Server Error in 9ms (ActiveRecord: 0.1ms | Allocations: 4824)


  
ActionView::Template::Error (The asset "dpchat.jpg" is not present in the asset pipeline.):
    14: <% @products.each do |product| %>
    15: <tr class="<%= cycle('list_line_odd', 'list_line_even') %>">
    16: <td class="image">
    17: <%= image_tag(product.image_url, class: 'list_image') %>
    18: </td>
    19: <td class="description">
    20: <h1><%= product.title %></h1>
  
app/views/products/index.html.erb:17
app/views/products/index.html.erb:14
Started GET "/products" for ::1 at 2020-07-02 15:09:13 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:14
  Rendered products/index.html.erb within layouts/application (Duration: 778.3ms | Allocations: 4701)
Completed 500 Internal Server Error in 782ms (ActiveRecord: 0.5ms | Allocations: 5869)


  
ActionView::Template::Error (The asset "dpchat.jpg" is not present in the asset pipeline.):
    14: <% @products.each do |product| %>
    15: <tr class="<%= cycle('list_line_odd', 'list_line_even') %>">
    16: <td class="image">
    17: <%= image_tag(product.image_url) %>
    18: </td>
    19: <td class="description">
    20: <h1><%= product.title %></h1>
  
app/views/products/index.html.erb:17
app/views/products/index.html.erb:14
Started GET "/products" for ::1 at 2020-07-02 15:10:07 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:14
  Rendered products/index.html.erb within layouts/application (Duration: 10.4ms | Allocations: 4700)
Completed 500 Internal Server Error in 19ms (ActiveRecord: 0.2ms | Allocations: 5868)


  
ActionView::Template::Error (The asset "dpchat.jpg" is not present in the asset pipeline.):
    14: <% @products.each do |product| %>
    15: <tr class="<%= cycle('list_line_odd', 'list_line_even') %>">
    16: <td class="image">
    17: <% image_tag(product.image_url, class: 'list_image') %>
    18: </td>
    19: <td class="description">
    20: <h1><%= product.title %></h1>
  
app/views/products/index.html.erb:17
app/views/products/index.html.erb:14
Started GET "/" for ::1 at 2020-07-02 15:11:42 +0700
Processing by Rails::WelcomeController#index as HTML
  Rendering /home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/railties-6.0.3.2/lib/rails/templates/rails/welcome/index.html.erb
  Rendered /home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/railties-6.0.3.2/lib/rails/templates/rails/welcome/index.html.erb (Duration: 28.7ms | Allocations: 182)
Completed 200 OK in 73ms (Views: 31.9ms | ActiveRecord: 0.0ms | Allocations: 951)


Started GET "/products" for ::1 at 2020-07-02 15:11:46 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:14
  Rendered products/index.html.erb within layouts/application (Duration: 14.3ms | Allocations: 4701)
Completed 500 Internal Server Error in 19ms (ActiveRecord: 0.2ms | Allocations: 6294)


  
ActionView::Template::Error (The asset "dpchat.jpg" is not present in the asset pipeline.):
    14: <% @products.each do |product| %>
    15: <tr class="<%= cycle('list_line_odd', 'list_line_even') %>">
    16: <td class="image">
    17: <%= image_tag(product.image_url, class: 'list_image') %>
    18: </td>
    19: <td class="description">
    20: <h1><%= product.title %></h1>
  
app/views/products/index.html.erb:17
app/views/products/index.html.erb:14
Started GET "/products" for ::1 at 2020-07-02 15:13:27 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:14
  Rendered products/index.html.erb within layouts/application (Duration: 8.8ms | Allocations: 4700)
Completed 500 Internal Server Error in 15ms (ActiveRecord: 0.2ms | Allocations: 5870)


  
ActionView::Template::Error (The asset "dpchat.jpg" is not present in the asset pipeline.):
    14: <% @products.each do |product| %>
    15: <tr class="<%= cycle('list_line_odd', 'list_line_even') %>">
    16: <td class="image">
    17: <%= image_tag(product.image_url, class: 'list_image') %>
    18: </td>
    19: <td class="description">
    20: <h1><%= product.title %></h1>
  
app/views/products/index.html.erb:17
app/views/products/index.html.erb:14
Started GET "/products" for ::1 at 2020-07-02 15:32:34 +0700
  [1m[35m (1.6ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:14
  Rendered products/index.html.erb within layouts/application (Duration: 35.5ms | Allocations: 9454)
Completed 500 Internal Server Error in 56ms (ActiveRecord: 3.0ms | Allocations: 11675)


  
ActionView::Template::Error (The asset "dpchat.jpg" is not present in the asset pipeline.):
    14: <% @products.each do |product| %>
    15: <tr class="<%= cycle('list_line_odd', 'list_line_even') %>">
    16: <td class="image">
    17: <%= image_tag(product.image_url, class: 'list_image') %>
    18: </td>
    19: <td class="description">
    20: <h1><%= product.title %></h1>
  
app/views/products/index.html.erb:17
app/views/products/index.html.erb:14
Started GET "/products" for ::1 at 2020-07-02 15:33:06 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:14
  Rendered products/index.html.erb within layouts/application (Duration: 12.2ms | Allocations: 4422)
Completed 500 Internal Server Error in 18ms (ActiveRecord: 0.3ms | Allocations: 4887)


  
ActionView::Template::Error (The asset "dpchat.jpg" is not present in the asset pipeline.):
    14: <% @products.each do |product| %>
    15: <tr class="<%= cycle('list_line_odd', 'list_line_even') %>">
    16: <td class="image">
    17: <%= image_tag(product.image_url, class: 'list_image') %>
    18: </td>
    19: <td class="description">
    20: <h1><%= product.title %></h1>
  
app/views/products/index.html.erb:17
app/views/products/index.html.erb:14
Started GET "/products" for ::1 at 2020-07-02 15:33:22 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (1.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:14
  Rendered products/index.html.erb within layouts/application (Duration: 9.9ms | Allocations: 4391)
Completed 500 Internal Server Error in 13ms (ActiveRecord: 1.2ms | Allocations: 4827)


  
ActionView::Template::Error (The asset "dpchat.jpg" is not present in the asset pipeline.):
    14: <% @products.each do |product| %>
    15: <tr class="<%= cycle('list_line_odd', 'list_line_even') %>">
    16: <td class="image">
    17: <%= image_tag(product.image_url, class: 'list_image') %>
    18: </td>
    19: <td class="description">
    20: <h1><%= product.title %></h1>
  
app/views/products/index.html.erb:17
app/views/products/index.html.erb:14
Started GET "/products" for ::1 at 2020-07-02 15:33:30 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:14
  Rendered products/index.html.erb within layouts/application (Duration: 8.7ms | Allocations: 4401)
Completed 500 Internal Server Error in 11ms (ActiveRecord: 0.2ms | Allocations: 4845)


  
ActionView::Template::Error (The asset "dpchat.jpg" is not present in the asset pipeline.):
    14: <% @products.each do |product| %>
    15: <tr class="<%= cycle('list_line_odd', 'list_line_even') %>">
    16: <td class="image">
    17: <%= image_tag(product.image_url, class: 'list_image') %>
    18: </td>
    19: <td class="description">
    20: <h1><%= product.title %></h1>
  
app/views/products/index.html.erb:17
app/views/products/index.html.erb:14
Started GET "/products" for ::1 at 2020-07-02 15:33:39 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:14
  Rendered products/index.html.erb within layouts/application (Duration: 6.9ms | Allocations: 4391)
Completed 500 Internal Server Error in 8ms (ActiveRecord: 0.1ms | Allocations: 4827)


  
ActionView::Template::Error (The asset "dpchat.jpg" is not present in the asset pipeline.):
    14: <% @products.each do |product| %>
    15: <tr class="<%= cycle('list_line_odd', 'list_line_even') %>">
    16: <td class="image">
    17: <%= image_tag(product.image_url, class: 'list_image') %>
    18: </td>
    19: <td class="description">
    20: <h1><%= product.title %></h1>
  
app/views/products/index.html.erb:17
app/views/products/index.html.erb:14
Started GET "/products" for ::1 at 2020-07-02 15:33:51 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:14
  Rendered products/index.html.erb within layouts/application (Duration: 5.1ms | Allocations: 4391)
Completed 500 Internal Server Error in 8ms (ActiveRecord: 0.1ms | Allocations: 4827)


  
ActionView::Template::Error (The asset "dpchat.jpg" is not present in the asset pipeline.):
    14: <% @products.each do |product| %>
    15: <tr class="<%= cycle('list_line_odd', 'list_line_even') %>">
    16: <td class="image">
    17: <%# <%= image_tag(product.image_url, class: 'list_image') %> %>
    18: </td>
    19: <td class="description">
    20: <h1><%= product.title %></h1>
  
app/views/products/index.html.erb:17
app/views/products/index.html.erb:14
Started GET "/products" for ::1 at 2020-07-02 15:33:54 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:14
  Rendered products/index.html.erb within layouts/application (Duration: 952.4ms | Allocations: 1754)
Started GET "/products" for ::1 at 2020-07-02 15:33:55 +0700
  [1m[35m (0.4ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:14
  Rendered products/index.html.erb within layouts/application (Duration: 5.0ms | Allocations: 1041)
[Webpacker] Everything's up-to-date. Nothing to do
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 1353ms (Views: 1351.0ms | ActiveRecord: 0.1ms | Allocations: 26123)


Completed 200 OK in 369ms (Views: 366.8ms | ActiveRecord: 0.3ms | Allocations: 20681)


Started GET "/products" for ::1 at 2020-07-02 15:34:06 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:14
  Rendered products/index.html.erb within layouts/application (Duration: 11.4ms | Allocations: 1318)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 28ms (Views: 26.1ms | ActiveRecord: 0.3ms | Allocations: 5596)


Started GET "/products" for ::1 at 2020-07-02 15:34:27 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:14
  Rendered products/index.html.erb within layouts/application (Duration: 16.8ms | Allocations: 4703)
Completed 500 Internal Server Error in 24ms (ActiveRecord: 0.2ms | Allocations: 5856)


  
ActionView::Template::Error (The asset "dpchat.jpg" is not present in the asset pipeline.):
    14: <% @products.each do |product| %>
    15: <tr class="<%= cycle('list_line_odd', 'list_line_even') %>">
    16: <td class="image">
    17: <%= image_tag(product.image_url, class: 'list_image') %>
    18: </td>
    19: <td class="description">
    20: <h1><%= product.title %></h1>
  
app/views/products/index.html.erb:17
app/views/products/index.html.erb:14
Started GET "/products" for ::1 at 2020-07-02 15:37:40 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:14
  Rendered products/index.html.erb within layouts/application (Duration: 10.7ms | Allocations: 4389)
Completed 500 Internal Server Error in 16ms (ActiveRecord: 0.4ms | Allocations: 4808)


  
ActionView::Template::Error (The asset "dpchat.jpg" is not present in the asset pipeline.):
    14: <% @products.each do |product| %>
    15: <tr class="<%= cycle('list_line_odd', 'list_line_even') %>">
    16: <td class="image">
    17: <%= image_tag(product.image_url, class: 'list_image') %>
    18: </td>
    19: <td class="description">
    20: <h1><%= product.title %></h1>
  
app/views/products/index.html.erb:17
app/views/products/index.html.erb:14
Started GET "/products" for ::1 at 2020-07-02 15:37:59 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:14
  Rendered products/index.html.erb within layouts/application (Duration: 10.1ms | Allocations: 1315)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 34ms (Views: 28.8ms | ActiveRecord: 0.6ms | Allocations: 5601)


Started GET "/products/2/edit" for ::1 at 2020-07-02 15:38:15 +0700
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"2"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:67:in `set_product'
  Rendering products/edit.html.erb within layouts/application
  Rendered products/_form.html.erb (Duration: 206.7ms | Allocations: 3166)
  Rendered products/edit.html.erb within layouts/application (Duration: 225.3ms | Allocations: 3545)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 259ms (Views: 239.1ms | ActiveRecord: 0.4ms | Allocations: 9583)


Started DELETE "/products/2" for ::1 at 2020-07-02 15:38:22 +0700
Processing by ProductsController#destroy as HTML
  Parameters: {"authenticity_token"=>"D5asXCAAHvxydyVyv+wiSsAFMcrXGLypz1ymTYd+I0IVZ2nDkdj8VRItLKvT+ReWhRaBgqiZFj+cMGgSyApUYQ==", "id"=>"2"}
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:67:in `set_product'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/products_controller.rb:57:in `destroy'
  [1m[36mProduct Destroy (0.6ms)[0m  [1m[31mDELETE FROM "products" WHERE "products"."id" = ?[0m  [["id", 2]]
  ↳ app/controllers/products_controller.rb:57:in `destroy'
  [1m[35m (266.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/products_controller.rb:57:in `destroy'
Redirected to http://localhost:3000/products
Completed 302 Found in 282ms (ActiveRecord: 267.3ms | Allocations: 3855)


Started GET "/products" for ::1 at 2020-07-02 15:38:22 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:14
  Rendered products/index.html.erb within layouts/application (Duration: 1.9ms | Allocations: 643)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 11ms (Views: 9.0ms | ActiveRecord: 0.1ms | Allocations: 4033)


Started GET "/products" for ::1 at 2020-07-02 15:38:33 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:14
  Rendered products/index.html.erb within layouts/application (Duration: 4.2ms | Allocations: 948)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 21ms (Views: 18.8ms | ActiveRecord: 0.2ms | Allocations: 5249)


Started GET "/products/new" for ::1 at 2020-07-02 15:38:34 +0700
Processing by ProductsController#new as HTML
  Rendering products/new.html.erb within layouts/application
  Rendered products/_form.html.erb (Duration: 7.6ms | Allocations: 1473)
  Rendered products/new.html.erb within layouts/application (Duration: 10.3ms | Allocations: 1801)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 25ms (Views: 22.3ms | ActiveRecord: 0.0ms | Allocations: 5316)


Started POST "/products" for ::1 at 2020-07-02 15:38:49 +0700
Processing by ProductsController#create as HTML
  Parameters: {"authenticity_token"=>"lSy/XzesMfUcNLrMKm/BP2RuKBWaFVALCZEfU7ngOrN7/DxhQo+ieuud1FQMDdMTpBUXm5EWLU/3UFB6vp5UVw==", "product"=>{"title"=>"Điện Thoại Samsung Galaxy Note 10 Lite (128GB/8GB) - Hàng Chính Hãng - Đã Kích Hoạt Bảo Hành Điện Tử", "description"=>"hay", "image_url"=>"7apps.jpg", "price"=>"12999000"}, "commit"=>"Create Product"}
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/products_controller.rb:30:in `block in create'
  [1m[36mProduct Create (41.6ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "image_url", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "Điện Thoại Samsung Galaxy Note 10 Lite (128GB/8GB) - Hàng Chính Hãng - Đã Kích Hoạt Bảo Hành Điện Tử"], ["description", "hay"], ["image_url", "7apps.jpg"], ["price", 12999000.0], ["created_at", "2020-07-02 08:38:49.932711"], ["updated_at", "2020-07-02 08:38:49.932711"]]
  ↳ app/controllers/products_controller.rb:30:in `block in create'
  [1m[35m (630.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/products_controller.rb:30:in `block in create'
Redirected to http://localhost:3000/products/4
Completed 302 Found in 693ms (ActiveRecord: 672.1ms | Allocations: 4003)


Started GET "/products/4" for ::1 at 2020-07-02 15:38:50 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:67:in `set_product'
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (Duration: 1.2ms | Allocations: 304)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 22ms (Views: 17.2ms | ActiveRecord: 0.3ms | Allocations: 4355)


Started GET "/products" for ::1 at 2020-07-02 15:38:52 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:14
  Rendered products/index.html.erb within layouts/application (Duration: 6.0ms | Allocations: 1439)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 18ms (Views: 15.7ms | ActiveRecord: 0.3ms | Allocations: 4730)


Started GET "/products" for ::1 at 2020-07-02 15:45:17 +0700
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (13.5ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:12
  Rendered products/index.html.erb within layouts/application (Duration: 115.6ms | Allocations: 1794)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 158ms (Views: 142.4ms | ActiveRecord: 13.5ms | Allocations: 6002)


Started GET "/products" for ::1 at 2020-07-02 15:52:56 +0700
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  Rendered products/index.html.erb within layouts/application (Duration: 56.9ms | Allocations: 1176)
Completed 500 Internal Server Error in 400ms (ActiveRecord: 0.0ms | Allocations: 3004)


  
ActionView::SyntaxErrorInTemplate (Encountered a syntax error while rendering template: check <% if notice %>
<aside id="notice"><%= notice %>
</aside><% end %>
<h1>Products</h1>
<table>
    <tfoot>
        <tr>
            <td colspan="3"><%= link_to 'New Product', new_product_path %>
            </td>
        </tr>
    </tfoot>
    <tbody><% @products.each do |product| %>
        <tr class="<%= cycle('list_line_odd', 'list_line_even') %>">
            <td class="image"><%= image_tag(product.image_url, class: 'list_image') %>
            </td>
            <td class="description">
                <h1><%= product.title %>
                </h1>
                <p><%= truncate(strip_tags(product.description),length: 80) %>
                </p>
            </td>
            <td class="actions">
                <ul>
                    <li><%= link_to 'Show', product %>
                    </li>
                    <li><%= link_to 'Edit', edit_product_path(product) %>
                    </li>
                    <li><%= link_to 'Destroy'
                    ,product,
                    method: :delete,
                    data: { confirm: 'Are you sure?' } %>
                    </li>
                </ul>
            </td>
        </tr><% end %>
    </tbody>
</table>
):
1:    <% if notice %>
2:    <aside id="notice"><%= notice %>
3:    </aside><% end %>
4:    <h1>Products</h1>
5:    <table>
6:        <tfoot>
7:            <tr>
8:                <td colspan="3"><%= link_to 'New Product', new_product_path %>
9:                </td>
10:            </tr>
11:        </tfoot>
12:        <tbody><% @products.each do |product| %>
13:            <tr class="<%= cycle('list_line_odd', 'list_line_even') %>">
14:                <td class="image"><%= image_tag(product.image_url, class: 'list_image') %>
15:                </td>
16:                <td class="description">
17:                    <h1><%= product.title %>
18:                    </h1>
19:                    <p><%= truncate(strip_tags(product.description),length: 80) %>
20:                    </p>
21:                </td>
22:                <td class="actions">
23:                    <ul>
24:                        <li><%= link_to 'Show', product %>
25:                        </li>
26:                        <li><%= link_to 'Edit', edit_product_path(product) %>
27:                        </li>
28:                        <li><%= link_to 'Destroy'
29:                        ,product,
30:                        method: :delete,
31:                        data: { confirm: 'Are you sure?' } %>
32:                        </li>
33:                    </ul>
34:                </td>
35:            </tr><% end %>
36:        </tbody>
37:    </table>
  
app/views/products/index.html.erb:29: syntax error, unexpected ',', expecting ')'
app/views/products/index.html.erb:29: syntax error, unexpected ',', expecting ')'
app/views/products/index.html.erb:29: syntax error, unexpected ',', expecting ')'
app/views/products/index.html.erb:29: syntax error, unexpected ',', expecting ')'
app/views/products/index.html.erb:29: syntax error, unexpected ',', expecting ')'
app/views/products/index.html.erb:29: syntax error, unexpected ',', expecting ')'
Started GET "/products" for ::1 at 2020-07-02 15:53:09 +0700
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  Rendered products/index.html.erb within layouts/application (Duration: 5.2ms | Allocations: 1178)
Completed 500 Internal Server Error in 15ms (ActiveRecord: 0.0ms | Allocations: 2147)


  
ActionView::SyntaxErrorInTemplate (Encountered a syntax error while rendering template: check <% if notice %>
<aside id="notice"><%= notice %>
</aside><% end %>
<h1>Products</h1>
<table>
    <tfoot>
        <tr>
            <td colspan="3"><%= link_to 'New Product', new_product_path %>
            </td>
        </tr>
    </tfoot>
    <tbody><% @products.each do |product| %>
        <tr class="<%= cycle('list_line_odd', 'list_line_even') %>">
            <td class="image"><%= image_tag(product.image_url, class: 'list_image') %>
            </td>
            <td class="description">
                <h1><%= product.title %>
                </h1>
                <p><%= truncate(strip_tags(product.description),length: 80) %>
                </p>
            </td>
            <td class="actions">
                <ul>
                    <li><%= link_to 'Show', product %>
                    </li>
                    <li><%= link_to 'Edit', edit_product_path(product) %>
                    </li>
                    <li><%= link_to 'Destroy'
                    ,product,
                    method: :delete,
                    data: { confirm: 'Are you sure?' } %>
                    </li>
                </ul>
            </td>
        </tr><% end %>
    </tbody>
</table>
):
1:    <% if notice %>
2:    <aside id="notice"><%= notice %>
3:    </aside><% end %>
4:    <h1>Products</h1>
5:    <table>
6:        <tfoot>
7:            <tr>
8:                <td colspan="3"><%= link_to 'New Product', new_product_path %>
9:                </td>
10:            </tr>
11:        </tfoot>
12:        <tbody><% @products.each do |product| %>
13:            <tr class="<%= cycle('list_line_odd', 'list_line_even') %>">
14:                <td class="image"><%= image_tag(product.image_url, class: 'list_image') %>
15:                </td>
16:                <td class="description">
17:                    <h1><%= product.title %>
18:                    </h1>
19:                    <p><%= truncate(strip_tags(product.description),length: 80) %>
20:                    </p>
21:                </td>
22:                <td class="actions">
23:                    <ul>
24:                        <li><%= link_to 'Show', product %>
25:                        </li>
26:                        <li><%= link_to 'Edit', edit_product_path(product) %>
27:                        </li>
28:                        <li><%= link_to 'Destroy'
29:                        ,product,
30:                        method: :delete,
31:                        data: { confirm: 'Are you sure?' } %>
32:                        </li>
33:                    </ul>
34:                </td>
35:            </tr><% end %>
36:        </tbody>
37:    </table>
  
app/views/products/index.html.erb:29: syntax error, unexpected ',', expecting ')'
app/views/products/index.html.erb:29: syntax error, unexpected ',', expecting ')'
app/views/products/index.html.erb:29: syntax error, unexpected ',', expecting ')'
app/views/products/index.html.erb:29: syntax error, unexpected ',', expecting ')'
app/views/products/index.html.erb:29: syntax error, unexpected ',', expecting ')'
app/views/products/index.html.erb:29: syntax error, unexpected ',', expecting ')'
Started GET "/products" for ::1 at 2020-07-02 15:53:30 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:12
  Rendered products/index.html.erb within layouts/application (Duration: 29.1ms | Allocations: 5873)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 55ms (Views: 49.7ms | ActiveRecord: 1.4ms | Allocations: 10097)


Started GET "/products" for ::1 at 2020-07-02 15:53:49 +0700
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:12
  Rendered products/index.html.erb within layouts/application (Duration: 65.9ms | Allocations: 5839)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 97ms (Views: 82.1ms | ActiveRecord: 3.3ms | Allocations: 10728)


Started GET "/products/new" for ::1 at 2020-07-02 15:53:51 +0700
Processing by ProductsController#new as HTML
  Rendering products/new.html.erb within layouts/application
  Rendered products/_form.html.erb (Duration: 12.1ms | Allocations: 1458)
  Rendered products/new.html.erb within layouts/application (Duration: 15.3ms | Allocations: 1786)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 31ms (Views: 28.0ms | ActiveRecord: 0.0ms | Allocations: 5293)


Started POST "/products" for ::1 at 2020-07-02 15:53:53 +0700
Processing by ProductsController#create as HTML
  Parameters: {"authenticity_token"=>"tIyyEwma7haod5LJSiyLNuuXP9Gber2s11xKX2MqwshaXDEtfLl9mV/e/FFsTpkaK+wAX5B5wOgpnQV2ZFSsLA==", "product"=>{"title"=>"", "description"=>"", "image_url"=>"", "price"=>""}, "commit"=>"Create Product"}
  [1m[35m (0.8ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/products_controller.rb:30:in `block in create'
  [1m[36mProduct Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "products" WHERE "products"."title" = ? LIMIT ?[0m  [["title", ""], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:30:in `block in create'
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  ↳ app/controllers/products_controller.rb:30:in `block in create'
  Rendering products/new.html.erb within layouts/application
  Rendered products/_form.html.erb (Duration: 6.7ms | Allocations: 1654)
  Rendered products/new.html.erb within layouts/application (Duration: 7.8ms | Allocations: 1736)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 58ms (Views: 22.6ms | ActiveRecord: 1.6ms | Allocations: 9973)


Started GET "/store/index.html" for ::1 at 2020-07-02 16:07:35 +0700
  [1m[35m (25.8ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (18.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  Rendered store/index.html.erb within layouts/application (Duration: 21.9ms | Allocations: 187)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 1728ms (Views: 1659.5ms | ActiveRecord: 0.0ms | Allocations: 22277)


Started GET "/" for ::1 at 2020-07-02 16:11:29 +0700
  
SyntaxError (/home/khanh/Desktop/depot/config/routes.rb:3: syntax error, unexpected string literal, expecting `do' or '{' or '('
  root 'store#index', as 'store_index'
                         ^
):
  
config/routes.rb:3: syntax error, unexpected string literal, expecting `do' or '{' or '('
config/routes.rb:3: syntax error, unexpected string literal, expecting `do' or '{' or '('
config/routes.rb:3: syntax error, unexpected string literal, expecting `do' or '{' or '('
Started GET "/" for ::1 at 2020-07-02 16:11:41 +0700
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  Rendered store/index.html.erb within layouts/application (Duration: 0.1ms | Allocations: 4)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 147ms (Views: 145.4ms | ActiveRecord: 0.0ms | Allocations: 3616)


Started GET "/" for ::1 at 2020-07-02 16:15:10 +0700
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (13.8ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:6
  Rendered store/index.html.erb within layouts/application (Duration: 584.9ms | Allocations: 5301)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 969ms (Views: 783.2ms | ActiveRecord: 17.7ms | Allocations: 10720)


Started GET "/" for ::1 at 2020-07-02 16:16:05 +0700
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:6
  Rendered store/index.html.erb within layouts/application (Duration: 7.9ms | Allocations: 1267)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 118ms (Views: 114.2ms | ActiveRecord: 0.4ms | Allocations: 4663)


Started GET "/" for ::1 at 2020-07-02 16:16:12 +0700
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:6
  Rendered store/index.html.erb within layouts/application (Duration: 4.1ms | Allocations: 1266)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 1878ms (Views: 1875.3ms | ActiveRecord: 0.2ms | Allocations: 14256)


Started GET "/" for ::1 at 2020-07-02 16:19:15 +0700
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 24.0ms | Allocations: 1487)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 69ms (Views: 66.0ms | ActiveRecord: 0.6ms | Allocations: 5803)


Started GET "/" for ::1 at 2020-07-02 16:20:46 +0700
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 10.8ms | Allocations: 1489)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 500 Internal Server Error in 138ms (ActiveRecord: 0.6ms | Allocations: 9290)


  
ActionView::Template::Error (The asset "logo.svg" is not present in the asset pipeline.):
    4: 'data-turbolinks-track': 'reload' %><%= javascript_pack_tag 'application', 'data-turbolinks-track': 'reload' %>
    5:     </head>
    6:     <body>
    7:         <header class="main"><%= image_tag 'logo.svg', alt: 'The Pragmatic Bookshelf' %>
    8:             <h1><%= @page_title %>
    9:             </h1>
   10:         </header>
  
app/views/layouts/application.html.erb:7
Started GET "/" for ::1 at 2020-07-02 16:21:36 +0700
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 3.3ms | Allocations: 1264)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 756ms (Views: 753.6ms | ActiveRecord: 0.2ms | Allocations: 12262)


Started GET "/" for ::1 at 2020-07-02 16:22:56 +0700
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 8.3ms | Allocations: 1481)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 63ms (Views: 56.3ms | ActiveRecord: 0.4ms | Allocations: 12247)


Started GET "/" for ::1 at 2020-07-02 16:26:08 +0700
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 12.2ms | Allocations: 1261)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 1580ms (Views: 1574.7ms | ActiveRecord: 0.5ms | Allocations: 12415)


Started GET "/" for ::1 at 2020-07-02 16:30:42 +0700
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.9ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 72.8ms | Allocations: 1259)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 431ms (Views: 425.6ms | ActiveRecord: 0.9ms | Allocations: 15586)


Started GET "/" for ::1 at 2020-07-02 16:33:10 +0700
  [1m[35m (1.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.9ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 233.9ms | Allocations: 14626)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 381ms (Views: 352.5ms | ActiveRecord: 1.7ms | Allocations: 21308)


Started GET "/" for ::1 at 2020-07-02 16:36:34 +0700
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  
ArgumentError (wrong number of arguments (given 1, expected 2)):
  
app/controllers/store_controller.rb:6:in `test'
app/controllers/store_controller.rb:6:in `<class:StoreController>'
app/controllers/store_controller.rb:1:in `<main>'
Started GET "/" for ::1 at 2020-07-02 16:44:25 +0700
  [1m[35m (1.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.9ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 64.8ms | Allocations: 8136)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 105ms (Views: 86.6ms | ActiveRecord: 2.1ms | Allocations: 14849)


Started GET "/" for ::1 at 2020-07-02 16:44:30 +0700
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 5.8ms | Allocations: 1275)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 22ms (Views: 19.4ms | ActiveRecord: 0.2ms | Allocations: 5034)


Started GET "/products" for ::1 at 2020-07-02 16:44:36 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:12
  Rendered products/index.html.erb within layouts/application (Duration: 24.7ms | Allocations: 1893)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 47ms (Views: 44.3ms | ActiveRecord: 0.4ms | Allocations: 6222)


  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateCarts (20200702094530)
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE TABLE "carts" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mprimary::SchemaMigration Create (0.8ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20200702094530"]]
  [1m[35m (539.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (4.7ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateLineItems (20200702100352)
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (1.4ms)[0m  [1m[35mCREATE TABLE "line_items" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "product_id" integer NOT NULL, "cart_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_11e15d5c6b"
FOREIGN KEY ("product_id")
  REFERENCES "products" ("id")
, CONSTRAINT "fk_rails_af645e8e5f"
FOREIGN KEY ("cart_id")
  REFERENCES "carts" ("id")
)[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_product_id" ON "line_items" ("product_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_cart_id" ON "line_items" ("cart_id")[0m
  [1m[36mprimary::SchemaMigration Create (94.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20200702100352"]]
  [1m[35m (727.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/" for ::1 at 2020-07-02 17:21:48 +0700
  [1m[35m (1.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 413.0ms | Allocations: 24081)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 644ms (Views: 537.3ms | ActiveRecord: 2.2ms | Allocations: 37571)


Started POST "/line_items?product_id=4" for ::1 at 2020-07-02 17:22:16 +0700
Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"gyGxSe3QR4plULnN3G8zZAl0SGwF8R/gWZsSF/i62DqZ0HTWXAilIwUKsBSwega4TGf4JHpwtXYK99xIt86vGQ==", "product_id"=>"4"}
Completed 400 Bad Request in 12ms (ActiveRecord: 0.0ms | Allocations: 1809)


  
ActionController::ParameterMissing (param is missing or the value is empty: line_item):
  
app/controllers/line_items_controller.rb:72:in `line_item_params'
app/controllers/line_items_controller.rb:27:in `create'
Started GET "/products" for ::1 at 2020-07-02 17:23:26 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:12
  Rendered products/index.html.erb within layouts/application (Duration: 29.2ms | Allocations: 1930)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 49ms (Views: 46.5ms | ActiveRecord: 0.4ms | Allocations: 6323)


Started GET "/products" for ::1 at 2020-07-02 17:23:28 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:12
  Rendered products/index.html.erb within layouts/application (Duration: 6.4ms | Allocations: 1448)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 17ms (Views: 14.5ms | ActiveRecord: 0.3ms | Allocations: 5293)


Started GET "/" for ::1 at 2020-07-02 17:23:34 +0700
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 5.4ms | Allocations: 1430)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 14ms (Views: 12.8ms | ActiveRecord: 0.2ms | Allocations: 5295)


Started POST "/line_items?product_id=4" for ::1 at 2020-07-02 17:24:58 +0700
Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"0XtCTa761mxDMLAG0YxWsGYQdzV65Nm/yZDhQ2wNTSQs+StnuEtlO4Q1nbAv1xm1WgEy4YfwZLaoPkUOdsy/YQ==", "product_id"=>"4"}
Completed 400 Bad Request in 2ms (ActiveRecord: 0.0ms | Allocations: 636)


  
ActionController::ParameterMissing (param is missing or the value is empty: line_item):
  
app/controllers/line_items_controller.rb:72:in `line_item_params'
app/controllers/line_items_controller.rb:27:in `create'
Started GET "/" for ::1 at 2020-07-03 08:44:33 +0700
  [1m[35m (2.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (1.7ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 188.8ms | Allocations: 8934)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 331ms (Views: 269.7ms | ActiveRecord: 3.1ms | Allocations: 16435)


Started POST "/line_items?product_id=4" for ::1 at 2020-07-03 08:44:35 +0700
Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"ku7Xbo1j9ILOaU4aGXNXtFLbs83RIQlouTRMhxKGT05qVz/diWQRsatNGAv/QWv2T+ZRpz+pBN199NryKnuRuA==", "product_id"=>"4"}
Completed 400 Bad Request in 20ms (ActiveRecord: 0.0ms | Allocations: 1506)


  
ActionController::ParameterMissing (param is missing or the value is empty: line_item):
  
app/controllers/line_items_controller.rb:72:in `line_item_params'
app/controllers/line_items_controller.rb:27:in `create'
Started POST "/line_items?product_id=4" for ::1 at 2020-07-03 08:53:47 +0700
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"ku7Xbo1j9ILOaU4aGXNXtFLbs83RIQlouTRMhxKGT05qVz/diWQRsatNGAv/QWv2T+ZRpz+pBN199NryKnuRuA==", "product_id"=>"4"}
Completed 400 Bad Request in 4ms (ActiveRecord: 0.0ms | Allocations: 625)


  
ActionController::ParameterMissing (param is missing or the value is empty: line_item):
  
app/controllers/line_items_controller.rb:72:in `line_item_params'
app/controllers/line_items_controller.rb:27:in `create'
Started POST "/line_items?product_id=4" for ::1 at 2020-07-03 08:57:12 +0700
Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"ku7Xbo1j9ILOaU4aGXNXtFLbs83RIQlouTRMhxKGT05qVz/diWQRsatNGAv/QWv2T+ZRpz+pBN199NryKnuRuA==", "product_id"=>"4"}
Completed 400 Bad Request in 3ms (ActiveRecord: 0.0ms | Allocations: 619)


  
ActionController::ParameterMissing (param is missing or the value is empty: line_item):
  
app/controllers/line_items_controller.rb:72:in `line_item_params'
app/controllers/line_items_controller.rb:27:in `create'
Started GET "/" for ::1 at 2020-07-03 08:57:47 +0700
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (85.8ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 439.8ms | Allocations: 1474)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 983ms (Views: 894.2ms | ActiveRecord: 85.8ms | Allocations: 5373)


Started GET "/products" for ::1 at 2020-07-03 08:57:54 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:12
  Rendered products/index.html.erb within layouts/application (Duration: 145.3ms | Allocations: 1889)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 163ms (Views: 161.4ms | ActiveRecord: 0.4ms | Allocations: 6327)


Started GET "/products" for ::1 at 2020-07-03 09:04:31 +0700
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:12
  Rendered products/index.html.erb within layouts/application (Duration: 8.0ms | Allocations: 1459)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 24ms (Views: 21.5ms | ActiveRecord: 0.5ms | Allocations: 5304)


Started GET "/products/new" for ::1 at 2020-07-03 09:05:16 +0700
Started GET "/products/new" for ::1 at 2020-07-03 09:05:16 +0700
  [1m[35m (0.7ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by ProductsController#new as HTML
Processing by ProductsController#new as HTML
  Rendering products/new.html.erb within layouts/application
  Rendering products/new.html.erb within layouts/application
  Rendered products/_form.html.erb (Duration: 1602.2ms | Allocations: 6162)
  Rendered products/_form.html.erb (Duration: 1613.5ms | Allocations: 6945)
  Rendered products/new.html.erb within layouts/application (Duration: 1647.3ms | Allocations: 7364)
  Rendered products/new.html.erb within layouts/application (Duration: 1649.5ms | Allocations: 7426)
[Webpacker] Everything's up-to-date. Nothing to do
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 2034ms (Views: 2016.2ms | ActiveRecord: 0.0ms | Allocations: 15630)


Completed 200 OK in 2030ms (Views: 2015.6ms | ActiveRecord: 0.0ms | Allocations: 15135)


Started POST "/products" for ::1 at 2020-07-03 09:06:54 +0700
Processing by ProductsController#create as HTML
  Parameters: {"authenticity_token"=>"gYLdywGx1k7LcCjZHwB3JGNdB2TMxHxtViaGL++jK3ld85Yko3ddi3eO2yWgL5ePZVJR02z1/VMIV1dZknGXkw==", "product"=>{"title"=>"Điện Thoại Vsmart Joy 3", "description"=>"Chính hãng, Nguyên seal, Mới 100%\r\nThiết kế: Nguyên khối\r\nMàn hình: IPS LCD, 6.5\", HD+\r\nCamera Trước/Sau: 8MP/ Chính 13 MP & Phụ 8 MP, 2 MP\r\nCPU: Snapdragon 632 8 nhân\r\nRAM/Bộ nhớ trong: Tùy chọn 2GB/32GB hoặc 4GB/64GB\r\nSIM tương thích: 2 Nano SIM, Hỗ trợ 4G\r\nTính năng: Sạc pin nhanh, Chạm 2 lần tắt/mở màn hình, Chặn cuộc gọi, Nhân bản ứng dụng, Đèn pin, Chặn tin nhắn", "image_url"=>"1apps/jpg", "price"=>"1930000 "}, "commit"=>"Create Product"}
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/products_controller.rb:30:in `block in create'
  [1m[36mProduct Exists? (696.4ms)[0m  [1m[34mSELECT 1 AS one FROM "products" WHERE "products"."title" = ? LIMIT ?[0m  [["title", "Điện Thoại Vsmart Joy 3"], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:30:in `block in create'
  [1m[35m (5.8ms)[0m  [1m[31mrollback transaction[0m
  ↳ app/controllers/products_controller.rb:30:in `block in create'
  Rendering products/new.html.erb within layouts/application
  Rendered products/_form.html.erb (Duration: 10.4ms | Allocations: 1279)
  Rendered products/new.html.erb within layouts/application (Duration: 11.6ms | Allocations: 1361)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 1004ms (Views: 33.1ms | ActiveRecord: 702.3ms | Allocations: 10880)


Started POST "/products" for ::1 at 2020-07-03 09:07:05 +0700
Processing by ProductsController#create as HTML
  Parameters: {"authenticity_token"=>"u5bBrgaShU7C16nEquRTOFtveETGBQebEZRf88cTIkBDLykdApVgfafz/9VM1m96RlKaLiiNCi7VVMmG/+78tg==", "product"=>{"title"=>"Điện Thoại Vsmart Joy 3", "description"=>"Chính hãng, Nguyên seal, Mới 100%\r\nThiết kế: Nguyên khối\r\nMàn hình: IPS LCD, 6.5\", HD+\r\nCamera Trước/Sau: 8MP/ Chính 13 MP & Phụ 8 MP, 2 MP\r\nCPU: Snapdragon 632 8 nhân\r\nRAM/Bộ nhớ trong: Tùy chọn 2GB/32GB hoặc 4GB/64GB\r\nSIM tương thích: 2 Nano SIM, Hỗ trợ 4G\r\nTính năng: Sạc pin nhanh, Chạm 2 lần tắt/mở màn hình, Chặn cuộc gọi, Nhân bản ứng dụng, Đèn pin, Chặn tin nhắn", "image_url"=>"1apps.jpg", "price"=>"1930000 "}, "commit"=>"Create Product"}
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/products_controller.rb:30:in `block in create'
  [1m[36mProduct Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "products" WHERE "products"."title" = ? LIMIT ?[0m  [["title", "Điện Thoại Vsmart Joy 3"], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:30:in `block in create'
  [1m[36mProduct Create (211.0ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "image_url", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "Điện Thoại Vsmart Joy 3"], ["description", "Chính hãng, Nguyên seal, Mới 100%\r\nThiết kế: Nguyên khối\r\nMàn hình: IPS LCD, 6.5\", HD+\r\nCamera Trước/Sau: 8MP/ Chính 13 MP & Phụ 8 MP, 2 MP\r\nCPU: Snapdragon 632 8 nhân\r\nRAM/Bộ nhớ trong: Tùy chọn 2GB/32GB hoặc 4GB/64GB\r\nSIM tương thích: 2 Nano SIM, Hỗ trợ 4G\r\nTính năng: Sạc pin nhanh, Chạm 2 lần tắt/mở màn hình, Chặn cuộc gọi, Nhân bản ứng dụng, Đèn pin, Chặn tin nhắn"], ["image_url", "1apps.jpg"], ["price", 1930000.0], ["created_at", "2020-07-03 02:07:05.944585"], ["updated_at", "2020-07-03 02:07:05.944585"]]
  ↳ app/controllers/products_controller.rb:30:in `block in create'
  [1m[35m (266.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/products_controller.rb:30:in `block in create'
Redirected to http://localhost:3000/products/5
Completed 302 Found in 2002ms (ActiveRecord: 477.8ms | Allocations: 5219)


Started GET "/products/5" for ::1 at 2020-07-03 09:07:07 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:67:in `set_product'
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (Duration: 46.1ms | Allocations: 309)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 94ms (Views: 73.1ms | ActiveRecord: 0.6ms | Allocations: 5268)


Started GET "/products" for ::1 at 2020-07-03 09:07:10 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:12
  Rendered products/index.html.erb within layouts/application (Duration: 2615.0ms | Allocations: 5215)
Completed 500 Internal Server Error in 2621ms (ActiveRecord: 0.3ms | Allocations: 5651)


  
ActionView::Template::Error (The asset "1apps.jpg" is not present in the asset pipeline.):
    11:     </tfoot>
    12:     <tbody><% @products.each do |product| %>
    13:         <tr class="<%= cycle('list_line_odd', 'list_line_even') %>">
    14:             <td class="image"><%= image_tag(product.image_url, class: 'list_image') %>
    15:             </td>
    16:             <td class="description">
    17:                 <h1><%= product.title %>
  
app/views/products/index.html.erb:14
app/views/products/index.html.erb:12
Started GET "/products" for ::1 at 2020-07-03 09:08:02 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:12
  Rendered products/index.html.erb within layouts/application (Duration: 1626.2ms | Allocations: 11582)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 1660ms (Views: 1655.3ms | ActiveRecord: 0.3ms | Allocations: 15433)


Started GET "/" for ::1 at 2020-07-03 09:12:11 +0700
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (30.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 41.2ms | Allocations: 2122)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 56ms (Views: 24.0ms | ActiveRecord: 30.1ms | Allocations: 6015)


Started POST "/line_items?product_id=4" for ::1 at 2020-07-03 09:12:14 +0700
Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"JgMT4wWnk9PO6TTRVjj/ome6buwhMXBgWSrKZj2eaQLeuvtQAaB24KvNYsCwCsPgeoeMhs+5fdWd6lwTBWO39A==", "product_id"=>"4"}
Completed 400 Bad Request in 2ms (ActiveRecord: 0.0ms | Allocations: 634)


  
ActionController::ParameterMissing (param is missing or the value is empty: line_item):
  
app/controllers/line_items_controller.rb:72:in `line_item_params'
app/controllers/line_items_controller.rb:27:in `create'
Started GET "/" for ::1 at 2020-07-03 09:13:19 +0700
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 9.1ms | Allocations: 2108)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 26ms (Views: 24.4ms | ActiveRecord: 0.2ms | Allocations: 5997)


Started POST "/line_items?product_id=4" for ::1 at 2020-07-03 09:16:18 +0700
Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"Hj2Nmm6t9AUjqoRYK1BuIem7j4wqo+sMVccCDmXO1a/mhGUpaqoRNkaO0knNYlJj9IZt5sQr5rmRB5R7XTMLWQ==", "product_id"=>"4"}
Completed 400 Bad Request in 3ms (ActiveRecord: 0.0ms | Allocations: 638)


  
ActionController::ParameterMissing (param is missing or the value is empty: line_item):
  
app/controllers/line_items_controller.rb:72:in `line_item_params'
app/controllers/line_items_controller.rb:27:in `create'
Started POST "/line_items?product_id=5" for ::1 at 2020-07-03 09:16:21 +0700
Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"Hj2Nmm6t9AUjqoRYK1BuIem7j4wqo+sMVccCDmXO1a/mhGUpaqoRNkaO0knNYlJj9IZt5sQr5rmRB5R7XTMLWQ==", "product_id"=>"5"}
Completed 400 Bad Request in 3ms (ActiveRecord: 0.0ms | Allocations: 638)


  
ActionController::ParameterMissing (param is missing or the value is empty: line_item):
  
app/controllers/line_items_controller.rb:72:in `line_item_params'
app/controllers/line_items_controller.rb:27:in `create'
Started GET "/" for ::1 at 2020-07-03 09:39:45 +0700
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (1.8ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 215.2ms | Allocations: 5435)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 459ms (Views: 369.5ms | ActiveRecord: 1.8ms | Allocations: 10924)


Started GET "/" for ::1 at 2020-07-03 09:43:51 +0700
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (1.3ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 116.2ms | Allocations: 5576)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 141ms (Views: 119.4ms | ActiveRecord: 13.2ms | Allocations: 11152)


Started POST "/line_items?product_id=4" for ::1 at 2020-07-03 09:43:52 +0700
Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"soA8F4ft3coNvA+J2pJTkVe4CRfDhx4VfCcWJZcXSM1KOdSkg+o4+WiYWZg8oG/TSoXrfS0PE6C454BQr+qWOw==", "product_id"=>"4"}
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[36mCart Create (58.7ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2020-07-03 02:43:52.716961"], ["updated_at", "2020-07-03 02:43:52.716961"]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[35m (320.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (1.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 1], ["LIMIT", 11]]
Completed 500 Internal Server Error in 825ms (ActiveRecord: 382.0ms | Allocations: 15257)


  [1m[36mCACHE LineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 1], ["LIMIT", 11]]
  
NoMethodError (undefined method `buid' for #<ActiveRecord::Associations::CollectionProxy []>
Did you mean?  build):
  
app/controllers/line_items_controller.rb:30:in `create'
Started POST "/line_items?product_id=4" for ::1 at 2020-07-03 09:44:36 +0700
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"soA8F4ft3coNvA+J2pJTkVe4CRfDhx4VfCcWJZcXSM1KOdSkg+o4+WiYWZg8oG/TSoXrfS0PE6C454BQr+qWOw==", "product_id"=>"4"}
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[36mCart Create (0.3ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2020-07-03 02:44:36.271743"], ["updated_at", "2020-07-03 02:44:36.271743"]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[35m (349.7ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:29:in `create'
Completed 500 Internal Server Error in 543ms (ActiveRecord: 355.1ms | Allocations: 18185)


  
NoMethodError (undefined method `save' for nil:NilClass):
  
app/controllers/line_items_controller.rb:34:in `block in create'
app/controllers/line_items_controller.rb:33:in `create'
Started POST "/line_items?product_id=4" for ::1 at 2020-07-03 09:45:54 +0700
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"soA8F4ft3coNvA+J2pJTkVe4CRfDhx4VfCcWJZcXSM1KOdSkg+o4+WiYWZg8oG/TSoXrfS0PE6C454BQr+qWOw==", "product_id"=>"4"}
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[36mCart Create (0.7ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2020-07-03 02:45:54.687224"], ["updated_at", "2020-07-03 02:45:54.687224"]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[35m (355.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:29:in `create'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/line_items_controller.rb:34:in `block in create'
  [1m[36mLineItem Create (1.0ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 4], ["cart_id", 3], ["created_at", "2020-07-03 02:45:55.101571"], ["updated_at", "2020-07-03 02:45:55.101571"]]
  ↳ app/controllers/line_items_controller.rb:34:in `block in create'
  [1m[35m (68.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/line_items_controller.rb:34:in `block in create'
Redirected to http://localhost:3000/carts/3
Completed 302 Found in 506ms (ActiveRecord: 430.2ms | Allocations: 20235)


Started GET "/carts/3" for ::1 at 2020-07-03 09:45:55 +0700
Processing by CartsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mCart Load (1.0ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:67:in `set_cart'
  Rendering carts/show.html.erb within layouts/application
  Rendered carts/show.html.erb within layouts/application (Duration: 21.4ms | Allocations: 298)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 85ms (Views: 71.2ms | ActiveRecord: 1.0ms | Allocations: 5647)


Started GET "/carts/3" for ::1 at 2020-07-03 09:47:36 +0700
Processing by CartsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:67:in `set_cart'
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.8ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 3]]
  ↳ app/views/carts/show.html.erb:6
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/carts/show.html.erb:7
  Rendered carts/show.html.erb within layouts/application (Duration: 12.1ms | Allocations: 2005)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 42ms (Views: 36.2ms | ActiveRecord: 1.4ms | Allocations: 7442)


Started GET "/carts/3" for ::1 at 2020-07-03 09:47:37 +0700
Processing by CartsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:67:in `set_cart'
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 3]]
  ↳ app/views/carts/show.html.erb:6
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/carts/show.html.erb:7
  Rendered carts/show.html.erb within layouts/application (Duration: 10.1ms | Allocations: 1485)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 33ms (Views: 26.1ms | ActiveRecord: 1.2ms | Allocations: 5962)


Started GET "/carts/3" for ::1 at 2020-07-03 09:47:38 +0700
Processing by CartsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:67:in `set_cart'
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 3]]
  ↳ app/views/carts/show.html.erb:6
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/carts/show.html.erb:7
  Rendered carts/show.html.erb within layouts/application (Duration: 7.4ms | Allocations: 1484)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 33ms (Views: 24.0ms | ActiveRecord: 1.0ms | Allocations: 5981)


Started GET "/carts/3" for ::1 at 2020-07-03 09:47:38 +0700
Processing by CartsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:67:in `set_cart'
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 3]]
  ↳ app/views/carts/show.html.erb:6
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/carts/show.html.erb:7
  Rendered carts/show.html.erb within layouts/application (Duration: 10.8ms | Allocations: 1484)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 56ms (Views: 47.0ms | ActiveRecord: 1.3ms | Allocations: 5978)


Started GET "/carts/3" for ::1 at 2020-07-03 09:47:38 +0700
Processing by CartsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:67:in `set_cart'
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 3]]
  ↳ app/views/carts/show.html.erb:6
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/carts/show.html.erb:7
  Rendered carts/show.html.erb within layouts/application (Duration: 8.5ms | Allocations: 1484)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 27ms (Views: 20.6ms | ActiveRecord: 0.8ms | Allocations: 5975)


Started GET "/carts/3" for ::1 at 2020-07-03 09:48:49 +0700
Processing by CartsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:67:in `set_cart'
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 3]]
  ↳ app/views/carts/show.html.erb:6
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/carts/show.html.erb:7
  Rendered carts/show.html.erb within layouts/application (Duration: 9.8ms | Allocations: 1484)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 903ms (Views: 896.3ms | ActiveRecord: 1.2ms | Allocations: 15810)


Started GET "/carts/3" for ::1 at 2020-07-03 09:49:01 +0700
Processing by CartsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:67:in `set_cart'
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 3]]
  ↳ app/views/carts/show.html.erb:6
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/carts/show.html.erb:7
  Rendered carts/show.html.erb within layouts/application (Duration: 10.0ms | Allocations: 1484)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 28ms (Views: 20.9ms | ActiveRecord: 0.9ms | Allocations: 5960)


Started POST "/line_items?product_id=4" for ::1 at 2020-07-03 09:49:03 +0700
Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"soA8F4ft3coNvA+J2pJTkVe4CRfDhx4VfCcWJZcXSM1KOdSkg+o4+WiYWZg8oG/TSoXrfS0PE6C454BQr+qWOw==", "product_id"=>"4"}
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:29:in `create'
  [1m[35m (0.5ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/line_items_controller.rb:34:in `block in create'
  [1m[36mLineItem Create (1.1ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 4], ["cart_id", 3], ["created_at", "2020-07-03 02:49:03.826198"], ["updated_at", "2020-07-03 02:49:03.826198"]]
  ↳ app/controllers/line_items_controller.rb:34:in `block in create'
  [1m[35m (1336.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/line_items_controller.rb:34:in `block in create'
Redirected to http://localhost:3000/carts/3
Completed 302 Found in 1366ms (ActiveRecord: 1338.7ms | Allocations: 4919)


Started GET "/carts/3" for ::1 at 2020-07-03 09:49:05 +0700
Processing by CartsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:67:in `set_cart'
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 3]]
  ↳ app/views/carts/show.html.erb:6
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/carts/show.html.erb:7
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/carts/show.html.erb:7
  Rendered carts/show.html.erb within layouts/application (Duration: 7.5ms | Allocations: 2182)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 31ms (Views: 25.3ms | ActiveRecord: 0.8ms | Allocations: 6679)


Started POST "/line_items?product_id=5" for ::1 at 2020-07-03 09:49:11 +0700
Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"soA8F4ft3coNvA+J2pJTkVe4CRfDhx4VfCcWJZcXSM1KOdSkg+o4+WiYWZg8oG/TSoXrfS0PE6C454BQr+qWOw==", "product_id"=>"5"}
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:29:in `create'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/line_items_controller.rb:34:in `block in create'
  [1m[36mLineItem Create (0.6ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 5], ["cart_id", 3], ["created_at", "2020-07-03 02:49:11.849176"], ["updated_at", "2020-07-03 02:49:11.849176"]]
  ↳ app/controllers/line_items_controller.rb:34:in `block in create'
  [1m[35m (96.7ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/line_items_controller.rb:34:in `block in create'
Redirected to http://localhost:3000/carts/3
Completed 302 Found in 120ms (ActiveRecord: 98.5ms | Allocations: 4990)


Started GET "/carts/3" for ::1 at 2020-07-03 09:49:11 +0700
Processing by CartsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:67:in `set_cart'
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 3]]
  ↳ app/views/carts/show.html.erb:6
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/carts/show.html.erb:7
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/carts/show.html.erb:7
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/carts/show.html.erb:7
  Rendered carts/show.html.erb within layouts/application (Duration: 10.1ms | Allocations: 2927)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 31ms (Views: 28.0ms | ActiveRecord: 0.7ms | Allocations: 7423)


Started GET "/carts/3" for ::1 at 2020-07-03 09:49:16 +0700
Processing by CartsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:67:in `set_cart'
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 3]]
  ↳ app/views/carts/show.html.erb:6
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/carts/show.html.erb:7
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/carts/show.html.erb:7
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/carts/show.html.erb:7
  Rendered carts/show.html.erb within layouts/application (Duration: 22.3ms | Allocations: 2921)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 46ms (Views: 39.9ms | ActiveRecord: 1.1ms | Allocations: 7404)


Started GET "/carts/3" for ::1 at 2020-07-03 09:51:16 +0700
Processing by CartsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:67:in `set_cart'
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 3]]
  ↳ app/views/carts/show.html.erb:5
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/carts/show.html.erb:6
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/carts/show.html.erb:6
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/carts/show.html.erb:6
  Rendered carts/show.html.erb within layouts/application (Duration: 15.7ms | Allocations: 3161)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 37ms (Views: 29.5ms | ActiveRecord: 1.1ms | Allocations: 8589)


Started GET "/carts/3/edit" for ::1 at 2020-07-03 09:51:19 +0700
Processing by CartsController#edit as HTML
  Parameters: {"id"=>"3"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:67:in `set_cart'
  Rendering carts/edit.html.erb within layouts/application
  Rendered carts/_form.html.erb (Duration: 9.0ms | Allocations: 621)
  Rendered carts/edit.html.erb within layouts/application (Duration: 20.3ms | Allocations: 996)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 32ms (Views: 25.9ms | ActiveRecord: 0.3ms | Allocations: 5607)


Started GET "/carts" for ::1 at 2020-07-03 09:51:22 +0700
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts"[0m
  ↳ app/views/carts/index.html.erb:13
  Rendered carts/index.html.erb within layouts/application (Duration: 32.8ms | Allocations: 1228)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 45ms (Views: 42.3ms | ActiveRecord: 0.3ms | Allocations: 5315)


Started DELETE "/carts/2" for ::1 at 2020-07-03 09:51:25 +0700
Processing by CartsController#destroy as HTML
  Parameters: {"authenticity_token"=>"7y83yetCpFQyF2MQ3t4Wv1z/jhfcACRWYi6QGo6X/1QXlt9670VBZ1czNQE47Cr9QcJsfTKIKeOm7gZvtmohog==", "id"=>"2"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:67:in `set_cart'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/carts_controller.rb:57:in `destroy'
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 2]]
  ↳ app/controllers/carts_controller.rb:57:in `destroy'
  [1m[36mCart Destroy (0.3ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 2]]
  ↳ app/controllers/carts_controller.rb:57:in `destroy'
  [1m[35m (277.7ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/carts_controller.rb:57:in `destroy'
Redirected to http://localhost:3000/carts
Completed 302 Found in 292ms (ActiveRecord: 278.5ms | Allocations: 4875)


Started GET "/carts" for ::1 at 2020-07-03 09:51:26 +0700
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT "carts".* FROM "carts"[0m
  ↳ app/views/carts/index.html.erb:13
  Rendered carts/index.html.erb within layouts/application (Duration: 7.9ms | Allocations: 873)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 41ms (Views: 38.1ms | ActiveRecord: 0.5ms | Allocations: 4865)


Started DELETE "/carts/3" for ::1 at 2020-07-03 09:51:28 +0700
Processing by CartsController#destroy as HTML
  Parameters: {"authenticity_token"=>"ZdL150K2P9zBHHy2BZBES6WovZhccNx6Cgm1MWyLV7Kdax1URrHa76Q4KqfjongJuJVf8rL40c/OySNEVHaJRA==", "id"=>"3"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:67:in `set_cart'
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/carts_controller.rb:57:in `destroy'
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 3]]
  ↳ app/controllers/carts_controller.rb:57:in `destroy'
  [1m[36mLineItem Destroy (0.5ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 1]]
  ↳ app/controllers/carts_controller.rb:57:in `destroy'
  [1m[36mLineItem Destroy (0.8ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 2]]
  ↳ app/controllers/carts_controller.rb:57:in `destroy'
  [1m[36mLineItem Destroy (0.3ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 3]]
  ↳ app/controllers/carts_controller.rb:57:in `destroy'
  [1m[36mCart Destroy (1.5ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 3]]
  ↳ app/controllers/carts_controller.rb:57:in `destroy'
  [1m[35m (830.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/carts_controller.rb:57:in `destroy'
Redirected to http://localhost:3000/carts
Completed 302 Found in 870ms (ActiveRecord: 834.3ms | Allocations: 7726)


Started GET "/carts" for ::1 at 2020-07-03 09:51:29 +0700
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.9ms)[0m  [1m[34mSELECT "carts".* FROM "carts"[0m
  ↳ app/views/carts/index.html.erb:13
  Rendered carts/index.html.erb within layouts/application (Duration: 9.8ms | Allocations: 755)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 29ms (Views: 24.3ms | ActiveRecord: 0.9ms | Allocations: 4734)


Started GET "/carts/3/edit" for ::1 at 2020-07-03 09:51:33 +0700
Processing by CartsController#edit as HTML
  Parameters: {"id"=>"3"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:67:in `set_cart'
Completed 404 Not Found in 6ms (ActiveRecord: 0.2ms | Allocations: 1091)


  
ActiveRecord::RecordNotFound (Couldn't find Cart with 'id'=3):
  
app/controllers/carts_controller.rb:67:in `set_cart'
Started GET "/carts/3/edit" for ::1 at 2020-07-03 09:51:34 +0700
Processing by CartsController#edit as HTML
  Parameters: {"id"=>"3"}
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:67:in `set_cart'
Completed 404 Not Found in 6ms (ActiveRecord: 0.5ms | Allocations: 1090)


  
ActiveRecord::RecordNotFound (Couldn't find Cart with 'id'=3):
  
app/controllers/carts_controller.rb:67:in `set_cart'
Started GET "/" for ::1 at 2020-07-03 09:51:40 +0700
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 73.6ms | Allocations: 2409)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 88ms (Views: 84.7ms | ActiveRecord: 0.3ms | Allocations: 6794)


Started POST "/line_items?product_id=4" for ::1 at 2020-07-03 09:51:42 +0700
Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"qY+bYq0HYef0/uNbvCz/EOxEu+ZKoVV/R9dGgf5+7q5RNnPRqQCE1JHatUpaHsNS8XlZjKQpWMqDF9D0xoMwWA==", "product_id"=>"4"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[36mCart Create (0.3ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2020-07-03 02:51:42.032418"], ["updated_at", "2020-07-03 02:51:42.032418"]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[35m (829.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:29:in `create'
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/line_items_controller.rb:34:in `block in create'
  [1m[36mLineItem Create (1.0ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 4], ["cart_id", 4], ["created_at", "2020-07-03 02:51:42.873329"], ["updated_at", "2020-07-03 02:51:42.873329"]]
  ↳ app/controllers/line_items_controller.rb:34:in `block in create'
  [1m[35m (861.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/line_items_controller.rb:34:in `block in create'
Redirected to http://localhost:3000/carts/4
Completed 302 Found in 1723ms (ActiveRecord: 1692.1ms | Allocations: 8573)


Started GET "/carts/4" for ::1 at 2020-07-03 09:51:43 +0700
Processing by CartsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:67:in `set_cart'
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 4]]
  ↳ app/views/carts/show.html.erb:5
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/carts/show.html.erb:6
  Rendered carts/show.html.erb within layouts/application (Duration: 11.2ms | Allocations: 1548)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 34ms (Views: 27.5ms | ActiveRecord: 1.1ms | Allocations: 6040)


Started POST "/line_items?product_id=4" for ::1 at 2020-07-03 09:53:51 +0700
Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"qY+bYq0HYef0/uNbvCz/EOxEu+ZKoVV/R9dGgf5+7q5RNnPRqQCE1JHatUpaHsNS8XlZjKQpWMqDF9D0xoMwWA==", "product_id"=>"4"}
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:29:in `create'
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/line_items_controller.rb:34:in `block in create'
  [1m[36mLineItem Create (0.9ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 4], ["cart_id", 4], ["created_at", "2020-07-03 02:53:51.729800"], ["updated_at", "2020-07-03 02:53:51.729800"]]
  ↳ app/controllers/line_items_controller.rb:34:in `block in create'
  [1m[35m (73.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/line_items_controller.rb:34:in `block in create'
Redirected to http://localhost:3000/carts/4
Completed 302 Found in 100ms (ActiveRecord: 75.3ms | Allocations: 4842)


Started GET "/carts/4" for ::1 at 2020-07-03 09:53:51 +0700
Processing by CartsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:67:in `set_cart'
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 4]]
  ↳ app/views/carts/show.html.erb:5
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/carts/show.html.erb:6
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/carts/show.html.erb:6
  Rendered carts/show.html.erb within layouts/application (Duration: 5.2ms | Allocations: 2230)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 20ms (Views: 15.2ms | ActiveRecord: 0.6ms | Allocations: 6881)


Started GET "/carts/4/edit" for ::1 at 2020-07-03 09:54:03 +0700
Processing by CartsController#edit as HTML
  Parameters: {"id"=>"4"}
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:67:in `set_cart'
  Rendering carts/edit.html.erb within layouts/application
  Rendered carts/_form.html.erb (Duration: 2.3ms | Allocations: 355)
  Rendered carts/edit.html.erb within layouts/application (Duration: 3.3ms | Allocations: 468)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 21ms (Views: 14.6ms | ActiveRecord: 0.5ms | Allocations: 4942)


Started GET "/carts" for ::1 at 2020-07-03 09:54:06 +0700
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts"[0m
  ↳ app/views/carts/index.html.erb:13
  Rendered carts/index.html.erb within layouts/application (Duration: 5.0ms | Allocations: 872)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 21ms (Views: 18.8ms | ActiveRecord: 0.4ms | Allocations: 4838)


Started DELETE "/carts/1" for ::1 at 2020-07-03 09:54:11 +0700
Processing by CartsController#destroy as HTML
  Parameters: {"authenticity_token"=>"TxC1+i/5+9wULFT4+SK4L1J3UwGxMPx3xNT4XDSjYj63qV1JK/4e73EIAukfEIRtT0qxa1+48cIAFG4pDF68yA==", "id"=>"1"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:67:in `set_cart'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/carts_controller.rb:57:in `destroy'
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 1]]
  ↳ app/controllers/carts_controller.rb:57:in `destroy'
  [1m[36mCart Destroy (0.7ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 1]]
  ↳ app/controllers/carts_controller.rb:57:in `destroy'
  [1m[35m (1416.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/carts_controller.rb:57:in `destroy'
Redirected to http://localhost:3000/carts
Completed 302 Found in 1447ms (ActiveRecord: 1417.6ms | Allocations: 4852)


Started GET "/carts" for ::1 at 2020-07-03 09:54:12 +0700
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts"[0m
  ↳ app/views/carts/index.html.erb:13
  Rendered carts/index.html.erb within layouts/application (Duration: 2.8ms | Allocations: 755)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 18ms (Views: 15.4ms | ActiveRecord: 0.2ms | Allocations: 4754)


Started GET "/carts/4" for ::1 at 2020-07-03 09:54:16 +0700
Processing by CartsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:67:in `set_cart'
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 4]]
  ↳ app/views/carts/show.html.erb:5
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/carts/show.html.erb:6
  [1m[36mCACHE Product Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/carts/show.html.erb:6
  Rendered carts/show.html.erb within layouts/application (Duration: 13.2ms | Allocations: 2228)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 32ms (Views: 26.4ms | ActiveRecord: 1.2ms | Allocations: 6711)


Started GET "/carts/4" for ::1 at 2020-07-03 09:54:18 +0700
Processing by CartsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:67:in `set_cart'
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 4]]
  ↳ app/views/carts/show.html.erb:5
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/carts/show.html.erb:6
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/carts/show.html.erb:6
  Rendered carts/show.html.erb within layouts/application (Duration: 9.2ms | Allocations: 2228)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 26ms (Views: 20.4ms | ActiveRecord: 0.9ms | Allocations: 6717)


Started GET "/carts" for ::1 at 2020-07-03 09:54:19 +0700
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts"[0m
  ↳ app/views/carts/index.html.erb:13
  Rendered carts/index.html.erb within layouts/application (Duration: 5.2ms | Allocations: 753)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 39ms (Views: 35.1ms | ActiveRecord: 0.3ms | Allocations: 4703)


Started GET "/" for ::1 at 2020-07-03 09:54:24 +0700
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 19.1ms | Allocations: 2101)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 50ms (Views: 47.2ms | ActiveRecord: 0.5ms | Allocations: 5967)


Started POST "/line_items?product_id=5" for ::1 at 2020-07-03 09:54:29 +0700
Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"itGa0Wl/wq0ds6Q72FGFfqBFpvVTIDye5csYns6TTF5yaHJibXgnnniX8io+Y7k8vXhEn72oMSshC47r9m6SqA==", "product_id"=>"5"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:29:in `create'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/line_items_controller.rb:34:in `block in create'
  [1m[36mLineItem Create (1.0ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 5], ["cart_id", 4], ["created_at", "2020-07-03 02:54:29.162082"], ["updated_at", "2020-07-03 02:54:29.162082"]]
  ↳ app/controllers/line_items_controller.rb:34:in `block in create'
  [1m[35m (206.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/line_items_controller.rb:34:in `block in create'
Redirected to http://localhost:3000/carts/4
Completed 302 Found in 228ms (ActiveRecord: 207.7ms | Allocations: 4904)


Started GET "/carts/4" for ::1 at 2020-07-03 09:54:29 +0700
Processing by CartsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mCart Load (0.7ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:67:in `set_cart'
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 4]]
  ↳ app/views/carts/show.html.erb:5
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/carts/show.html.erb:6
  [1m[36mCACHE Product Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/carts/show.html.erb:6
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/carts/show.html.erb:6
  Rendered carts/show.html.erb within layouts/application (Duration: 18.1ms | Allocations: 2978)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 36ms (Views: 29.0ms | ActiveRecord: 1.5ms | Allocations: 7475)


Started GET "/carts/4/edit" for ::1 at 2020-07-03 09:54:31 +0700
Processing by CartsController#edit as HTML
  Parameters: {"id"=>"4"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:67:in `set_cart'
  Rendering carts/edit.html.erb within layouts/application
  Rendered carts/_form.html.erb (Duration: 1.8ms | Allocations: 352)
  Rendered carts/edit.html.erb within layouts/application (Duration: 2.7ms | Allocations: 464)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 25ms (Views: 19.9ms | ActiveRecord: 0.3ms | Allocations: 4936)


Started PATCH "/carts/4" for ::1 at 2020-07-03 09:54:33 +0700
Processing by CartsController#update as HTML
  Parameters: {"authenticity_token"=>"yK6ofr0A78G369spklwLARH08ZdgH1rkIh5eYBY+knWyI7PWLH+NXPZF1EjlX3QT6zwHYjTMuJ7q8OXoeJMWyA==", "commit"=>"Update Cart", "id"=>"4"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:67:in `set_cart'
Redirected to http://localhost:3000/carts/4
Completed 302 Found in 12ms (ActiveRecord: 0.3ms | Allocations: 1159)


Started GET "/carts/4" for ::1 at 2020-07-03 09:54:33 +0700
Processing by CartsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:67:in `set_cart'
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 4]]
  ↳ app/views/carts/show.html.erb:5
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/carts/show.html.erb:6
  [1m[36mCACHE Product Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/carts/show.html.erb:6
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/carts/show.html.erb:6
  Rendered carts/show.html.erb within layouts/application (Duration: 25.5ms | Allocations: 2978)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 50ms (Views: 34.8ms | ActiveRecord: 1.2ms | Allocations: 7502)


Started GET "/carts" for ::1 at 2020-07-03 09:54:37 +0700
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.6ms)[0m  [1m[34mSELECT "carts".* FROM "carts"[0m
  ↳ app/views/carts/index.html.erb:13
  Rendered carts/index.html.erb within layouts/application (Duration: 8.0ms | Allocations: 753)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 38ms (Views: 34.6ms | ActiveRecord: 0.6ms | Allocations: 4723)


Started DELETE "/carts/4" for ::1 at 2020-07-03 09:54:40 +0700
Processing by CartsController#destroy as HTML
  Parameters: {"authenticity_token"=>"6cJ/wB/7ulQCkoVUiShfdBP2mfq100q+DO61Zca61CkRe5dzG/xfZ2e200VvGmM2Dst7kFtbRwvILiMQ/kcK3w==", "id"=>"4"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:67:in `set_cart'
  [1m[35m (0.4ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/carts_controller.rb:57:in `destroy'
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 4]]
  ↳ app/controllers/carts_controller.rb:57:in `destroy'
  [1m[36mLineItem Destroy (1.0ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 4]]
  ↳ app/controllers/carts_controller.rb:57:in `destroy'
  [1m[36mLineItem Destroy (0.5ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 5]]
  ↳ app/controllers/carts_controller.rb:57:in `destroy'
  [1m[36mLineItem Destroy (1.1ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 6]]
  ↳ app/controllers/carts_controller.rb:57:in `destroy'
  [1m[36mCart Destroy (1.1ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 4]]
  ↳ app/controllers/carts_controller.rb:57:in `destroy'
  [1m[35m (108.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/carts_controller.rb:57:in `destroy'
Redirected to http://localhost:3000/carts
Completed 302 Found in 179ms (ActiveRecord: 113.1ms | Allocations: 7717)


Started GET "/carts" for ::1 at 2020-07-03 09:54:40 +0700
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.8ms)[0m  [1m[34mSELECT "carts".* FROM "carts"[0m
  ↳ app/views/carts/index.html.erb:13
  Rendered carts/index.html.erb within layouts/application (Duration: 6.5ms | Allocations: 637)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 33ms (Views: 28.5ms | ActiveRecord: 0.8ms | Allocations: 4624)


Started GET "/carts/new" for ::1 at 2020-07-03 09:54:41 +0700
Processing by CartsController#new as HTML
  Rendering carts/new.html.erb within layouts/application
  Rendered carts/_form.html.erb (Duration: 4.5ms | Allocations: 338)
  Rendered carts/new.html.erb within layouts/application (Duration: 37.2ms | Allocations: 532)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 69ms (Views: 65.9ms | ActiveRecord: 0.0ms | Allocations: 4618)


Started POST "/carts" for ::1 at 2020-07-03 09:54:42 +0700
Processing by CartsController#create as HTML
  Parameters: {"authenticity_token"=>"bzlnUJjt8of/3geKTbc+iI4I2SISQlMHwGJtfHjMXKDeqvb70eh7Tifiew6fDpxASMd6ZZhjicHPgSjFwNduWw==", "commit"=>"Create Cart"}
  [1m[35m (0.4ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/carts_controller.rb:30:in `block in create'
  [1m[36mCart Create (1.6ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2020-07-03 02:54:42.775352"], ["updated_at", "2020-07-03 02:54:42.775352"]]
  ↳ app/controllers/carts_controller.rb:30:in `block in create'
  [1m[35m (250.8ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/carts_controller.rb:30:in `block in create'
Redirected to http://localhost:3000/carts/5
Completed 302 Found in 285ms (ActiveRecord: 252.7ms | Allocations: 3692)


Started GET "/carts/5" for ::1 at 2020-07-03 09:54:43 +0700
Processing by CartsController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mCart Load (0.9ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:67:in `set_cart'
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 5]]
  ↳ app/views/carts/show.html.erb:5
  Rendered carts/show.html.erb within layouts/application (Duration: 6.4ms | Allocations: 798)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 26ms (Views: 18.7ms | ActiveRecord: 1.0ms | Allocations: 5296)


Started GET "/carts/5" for ::1 at 2020-07-03 09:54:44 +0700
Processing by CartsController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:67:in `set_cart'
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 5]]
  ↳ app/views/carts/show.html.erb:5
  Rendered carts/show.html.erb within layouts/application (Duration: 7.2ms | Allocations: 794)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 56ms (Views: 44.5ms | ActiveRecord: 0.8ms | Allocations: 5272)


Started GET "/carts/5" for ::1 at 2020-07-03 09:54:45 +0700
Processing by CartsController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:67:in `set_cart'
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 5]]
  ↳ app/views/carts/show.html.erb:5
  Rendered carts/show.html.erb within layouts/application (Duration: 6.8ms | Allocations: 794)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 39ms (Views: 32.5ms | ActiveRecord: 0.7ms | Allocations: 5272)


Started GET "/carts/5" for ::1 at 2020-07-03 09:54:45 +0700
Processing by CartsController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:67:in `set_cart'
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.7ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 5]]
  ↳ app/views/carts/show.html.erb:5
  Rendered carts/show.html.erb within layouts/application (Duration: 5.6ms | Allocations: 794)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 50ms (Views: 42.7ms | ActiveRecord: 1.2ms | Allocations: 5258)


Started GET "/" for ::1 at 2020-07-03 09:54:48 +0700
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 10.0ms | Allocations: 2109)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 26ms (Views: 24.0ms | ActiveRecord: 0.2ms | Allocations: 5986)


Started POST "/line_items?product_id=4" for ::1 at 2020-07-03 09:54:50 +0700
Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"25/yHWualgUaRtPBxEvsc+Ih8180ESix40FXOy28M+4jJhqub51zNn9ihdAiedAx/xwRNdqZJQQngcFOFUHtGA==", "product_id"=>"4"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[36mCart Create (1.6ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2020-07-03 02:54:50.282483"], ["updated_at", "2020-07-03 02:54:50.282483"]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[35m (1169.8ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:29:in `create'
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/line_items_controller.rb:34:in `block in create'
  [1m[36mLineItem Create (0.8ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 4], ["cart_id", 6], ["created_at", "2020-07-03 02:54:51.473732"], ["updated_at", "2020-07-03 02:54:51.473732"]]
  ↳ app/controllers/line_items_controller.rb:34:in `block in create'
  [1m[35m (972.7ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/line_items_controller.rb:34:in `block in create'
Redirected to http://localhost:3000/carts/6
Completed 302 Found in 2186ms (ActiveRecord: 2146.0ms | Allocations: 8564)


Started GET "/carts/6" for ::1 at 2020-07-03 09:54:52 +0700
Processing by CartsController#show as HTML
  Parameters: {"id"=>"6"}
  [1m[36mCart Load (0.8ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:67:in `set_cart'
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 6]]
  ↳ app/views/carts/show.html.erb:5
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/carts/show.html.erb:6
  Rendered carts/show.html.erb within layouts/application (Duration: 14.4ms | Allocations: 1541)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 41ms (Views: 33.4ms | ActiveRecord: 1.7ms | Allocations: 6061)


Started GET "/carts/6" for ::1 at 2020-07-03 10:13:07 +0700
  [1m[35m (2.6ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (1.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by CartsController#show as HTML
  Parameters: {"id"=>"6"}
  [1m[36mCart Load (27.7ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:67:in `set_cart'
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (35.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 6]]
  ↳ app/views/carts/show.html.erb:5
  [1m[36mProduct Load (28.6ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/carts/show.html.erb:6
  Rendered carts/show.html.erb within layouts/application (Duration: 435.8ms | Allocations: 13899)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 1538ms (Views: 1270.6ms | ActiveRecord: 97.9ms | Allocations: 34404)


Started GET "/" for ::1 at 2020-07-03 10:13:19 +0700
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 194.5ms | Allocations: 2477)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 230ms (Views: 221.3ms | ActiveRecord: 0.7ms | Allocations: 6963)


Started POST "/line_items?product_id=5" for ::1 at 2020-07-03 10:13:25 +0700
Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"Cn8w4VlXTDAOzRC6BVTnervvBrAPukypLA8bxp/U56nyxthSXVCpA2vpRqvjZts4ptLk2uEyQRzoz42zpyk5Xw==", "product_id"=>"5"}
  [1m[36mCart Load (0.9ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:29:in `create'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/line_items_controller.rb:34:in `block in create'
  [1m[36mLineItem Create (22.4ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 5], ["cart_id", 6], ["created_at", "2020-07-03 03:13:25.233383"], ["updated_at", "2020-07-03 03:13:25.233383"]]
  ↳ app/controllers/line_items_controller.rb:34:in `block in create'
  [1m[35m (78.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/line_items_controller.rb:34:in `block in create'
Redirected to http://localhost:3000/carts/6
Completed 302 Found in 127ms (ActiveRecord: 102.3ms | Allocations: 5394)


Started GET "/carts/6" for ::1 at 2020-07-03 10:13:25 +0700
Processing by CartsController#show as HTML
  Parameters: {"id"=>"6"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:67:in `set_cart'
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 6]]
  ↳ app/views/carts/show.html.erb:5
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/carts/show.html.erb:6
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/carts/show.html.erb:6
  Rendered carts/show.html.erb within layouts/application (Duration: 13.8ms | Allocations: 2447)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 31ms (Views: 27.4ms | ActiveRecord: 1.1ms | Allocations: 6954)


Started GET "/" for ::1 at 2020-07-03 10:49:36 +0700
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (42.6ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 615.8ms | Allocations: 2140)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 1798ms (Views: 1634.7ms | ActiveRecord: 42.6ms | Allocations: 5901)


Started POST "/line_items?product_id=4" for ::1 at 2020-07-03 10:54:18 +0700
Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"5WxRKq+RVegAsk8+lsYFACEW3c4KH9OJd4z322SrYVoBj7Rw4nv/1B0bZL4HVxDMPSEBL+NSyA6XkHW4uk7ZBw==", "product_id"=>"4"}
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[36mCart Create (58.3ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2020-07-03 03:54:19.141552"], ["updated_at", "2020-07-03 03:54:19.141552"]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[35m (88.7ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:29:in `create'
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/line_items_controller.rb:34:in `block in create'
  [1m[36mLineItem Create (1.2ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 4], ["cart_id", 7], ["created_at", "2020-07-03 03:54:19.306894"], ["updated_at", "2020-07-03 03:54:19.306894"]]
  ↳ app/controllers/line_items_controller.rb:34:in `block in create'
  [1m[35m (98.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/line_items_controller.rb:34:in `block in create'
Redirected to http://localhost:3000/carts/7
Completed 302 Found in 436ms (ActiveRecord: 247.9ms | Allocations: 8211)


Started GET "/carts/7" for ::1 at 2020-07-03 10:54:19 +0700
Processing by CartsController#show as HTML
  Parameters: {"id"=>"7"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:67:in `set_cart'
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.7ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 7]]
  ↳ app/views/carts/show.html.erb:5
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/carts/show.html.erb:6
  Rendered carts/show.html.erb within layouts/application (Duration: 11.2ms | Allocations: 1556)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 27ms (Views: 20.4ms | ActiveRecord: 1.2ms | Allocations: 6074)


Started GET "/" for ::1 at 2020-07-03 11:01:18 +0700
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 7.1ms | Allocations: 2131)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 16ms (Views: 14.9ms | ActiveRecord: 0.2ms | Allocations: 6002)


Started GET "/questions" for ::1 at 2020-07-03 11:01:22 +0700
  
ActionController::RoutingError (No route matches [GET] "/questions"):
  
actionpack (6.0.3.2) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
web-console (4.0.3) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.3) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.3) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.3) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.3.2) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.3.2) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.3.2) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.3.2) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.3.2) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.3.2) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.3) lib/rack/method_override.rb:24:in `call'
rack (2.2.3) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.3.2) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.3) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
webpacker (4.2.2) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.3.2) lib/rails/engine.rb:527:in `call'
puma (4.3.5) lib/puma/configuration.rb:228:in `call'
puma (4.3.5) lib/puma/server.rb:713:in `handle_request'
puma (4.3.5) lib/puma/server.rb:472:in `process_client'
puma (4.3.5) lib/puma/server.rb:328:in `block in run'
puma (4.3.5) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/" for ::1 at 2020-07-03 11:01:25 +0700
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 17.4ms | Allocations: 2144)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 38ms (Views: 33.9ms | ActiveRecord: 0.3ms | Allocations: 6041)


Started GET "/news" for ::1 at 2020-07-03 11:01:27 +0700
  
ActionController::RoutingError (No route matches [GET] "/news"):
  
actionpack (6.0.3.2) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
web-console (4.0.3) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.3) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.3) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.3) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.3.2) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.3.2) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.3.2) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.3.2) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.3.2) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.3.2) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.3) lib/rack/method_override.rb:24:in `call'
rack (2.2.3) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.3.2) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.3) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
webpacker (4.2.2) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.3.2) lib/rails/engine.rb:527:in `call'
puma (4.3.5) lib/puma/configuration.rb:228:in `call'
puma (4.3.5) lib/puma/server.rb:713:in `handle_request'
puma (4.3.5) lib/puma/server.rb:472:in `process_client'
puma (4.3.5) lib/puma/server.rb:328:in `block in run'
puma (4.3.5) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/" for ::1 at 2020-07-03 11:01:28 +0700
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 4.4ms | Allocations: 2106)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 18ms (Views: 17.0ms | ActiveRecord: 0.1ms | Allocations: 5975)


Started GET "/" for ::1 at 2020-07-03 11:01:29 +0700
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 16.1ms | Allocations: 2100)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 35ms (Views: 32.2ms | ActiveRecord: 0.5ms | Allocations: 5957)


Started GET "/contact" for ::1 at 2020-07-03 11:01:31 +0700
  
ActionController::RoutingError (No route matches [GET] "/contact"):
  
actionpack (6.0.3.2) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
web-console (4.0.3) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.3) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.3) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.3) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.3.2) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.3.2) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.3.2) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.3.2) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.3.2) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.3.2) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.3) lib/rack/method_override.rb:24:in `call'
rack (2.2.3) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.3.2) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.3) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
webpacker (4.2.2) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.3.2) lib/rails/engine.rb:527:in `call'
puma (4.3.5) lib/puma/configuration.rb:228:in `call'
puma (4.3.5) lib/puma/server.rb:713:in `handle_request'
puma (4.3.5) lib/puma/server.rb:472:in `process_client'
puma (4.3.5) lib/puma/server.rb:328:in `block in run'
puma (4.3.5) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/" for ::1 at 2020-07-03 11:01:33 +0700
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 5.2ms | Allocations: 2106)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 19ms (Views: 17.4ms | ActiveRecord: 0.2ms | Allocations: 5977)


Started GET "/" for ::1 at 2020-07-03 11:01:40 +0700
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 7.1ms | Allocations: 2100)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 17ms (Views: 16.1ms | ActiveRecord: 0.2ms | Allocations: 5966)


Started GET "/" for ::1 at 2020-07-03 11:01:41 +0700
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 8.8ms | Allocations: 2100)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 24ms (Views: 23.0ms | ActiveRecord: 0.3ms | Allocations: 5959)


Started POST "/line_items?product_id=4" for ::1 at 2020-07-03 11:01:42 +0700
Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"xvo8NuvPRfEwA9BttVAjKzAQ+7RCZkCAOg+I2VIYIil/HG7c26WV8e9ROaCK1xaSv7hbhzw4CwH7gavVjC+IaA==", "product_id"=>"4"}
  [1m[36mCart Load (0.6ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:29:in `create'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/line_items_controller.rb:34:in `block in create'
  [1m[36mLineItem Create (0.8ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 4], ["cart_id", 7], ["created_at", "2020-07-03 04:01:42.969920"], ["updated_at", "2020-07-03 04:01:42.969920"]]
  ↳ app/controllers/line_items_controller.rb:34:in `block in create'
  [1m[35m (107.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/line_items_controller.rb:34:in `block in create'
Redirected to http://localhost:3000/carts/7
Completed 302 Found in 138ms (ActiveRecord: 109.3ms | Allocations: 5039)


Started GET "/carts/7" for ::1 at 2020-07-03 11:01:43 +0700
Processing by CartsController#show as HTML
  Parameters: {"id"=>"7"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:67:in `set_cart'
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 7]]
  ↳ app/views/carts/show.html.erb:5
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/carts/show.html.erb:6
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/carts/show.html.erb:6
  Rendered carts/show.html.erb within layouts/application (Duration: 7.3ms | Allocations: 2246)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 25ms (Views: 20.2ms | ActiveRecord: 0.8ms | Allocations: 6753)


Started GET "/carts/7/edit" for ::1 at 2020-07-03 11:01:52 +0700
Processing by CartsController#edit as HTML
  Parameters: {"id"=>"7"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:67:in `set_cart'
  Rendering carts/edit.html.erb within layouts/application
  Rendered carts/_form.html.erb (Duration: 364.3ms | Allocations: 1665)
  Rendered carts/edit.html.erb within layouts/application (Duration: 447.0ms | Allocations: 2043)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 475ms (Views: 468.7ms | ActiveRecord: 0.3ms | Allocations: 6659)


Started PATCH "/carts/7" for ::1 at 2020-07-03 11:01:54 +0700
Processing by CartsController#update as HTML
  Parameters: {"authenticity_token"=>"a1v2/B/AxLybK8i3Q2cukkejQ3QFMTFMyI3FzY6ZrgRAsySxAXxe0rtt+R73JETXsWmTL9FVtcefXQQ5/m/B0Q==", "commit"=>"Update Cart", "id"=>"7"}
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:67:in `set_cart'
Redirected to http://localhost:3000/carts/7
Completed 302 Found in 11ms (ActiveRecord: 0.4ms | Allocations: 1156)


Started GET "/carts/7" for ::1 at 2020-07-03 11:01:54 +0700
Processing by CartsController#show as HTML
  Parameters: {"id"=>"7"}
  [1m[36mCart Load (0.6ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:67:in `set_cart'
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 7]]
  ↳ app/views/carts/show.html.erb:5
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/carts/show.html.erb:6
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/carts/show.html.erb:6
  Rendered carts/show.html.erb within layouts/application (Duration: 12.0ms | Allocations: 2232)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 32ms (Views: 26.8ms | ActiveRecord: 1.4ms | Allocations: 6738)


Started GET "/carts" for ::1 at 2020-07-03 11:01:56 +0700
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT "carts".* FROM "carts"[0m
  ↳ app/views/carts/index.html.erb:13
  Rendered carts/index.html.erb within layouts/application (Duration: 107.3ms | Allocations: 1231)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 127ms (Views: 124.2ms | ActiveRecord: 0.5ms | Allocations: 5312)


Started DELETE "/carts/5" for ::1 at 2020-07-03 11:01:59 +0700
Processing by CartsController#destroy as HTML
  Parameters: {"authenticity_token"=>"UrItYGViJVrA1ABy8ztsJ/RUQO0FNL+36JB/lOXYzyG2Ucg6KIiPZt19K/Jiqnnr6GOcDOx5pDAIjP33Oz13fA==", "id"=>"5"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:67:in `set_cart'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/carts_controller.rb:57:in `destroy'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 5]]
  ↳ app/controllers/carts_controller.rb:57:in `destroy'
  [1m[36mCart Destroy (0.3ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 5]]
  ↳ app/controllers/carts_controller.rb:57:in `destroy'
  [1m[35m (346.8ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/carts_controller.rb:57:in `destroy'
Redirected to http://localhost:3000/carts
Completed 302 Found in 362ms (ActiveRecord: 347.4ms | Allocations: 4872)


Started GET "/carts" for ::1 at 2020-07-03 11:01:59 +0700
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT "carts".* FROM "carts"[0m
  ↳ app/views/carts/index.html.erb:13
  Rendered carts/index.html.erb within layouts/application (Duration: 7.0ms | Allocations: 873)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 34ms (Views: 30.2ms | ActiveRecord: 0.5ms | Allocations: 4863)


Started GET "/carts/6/edit" for ::1 at 2020-07-03 11:02:13 +0700
Processing by CartsController#edit as HTML
  Parameters: {"id"=>"6"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:67:in `set_cart'
  Rendering carts/edit.html.erb within layouts/application
  Rendered carts/_form.html.erb (Duration: 1.2ms | Allocations: 354)
  Rendered carts/edit.html.erb within layouts/application (Duration: 1.9ms | Allocations: 467)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 14ms (Views: 11.8ms | ActiveRecord: 0.1ms | Allocations: 4954)


Started GET "/carts/6" for ::1 at 2020-07-03 11:02:23 +0700
Processing by CartsController#show as HTML
  Parameters: {"id"=>"6"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:67:in `set_cart'
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 6]]
  ↳ app/views/carts/show.html.erb:5
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/carts/show.html.erb:6
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/carts/show.html.erb:6
  Rendered carts/show.html.erb within layouts/application (Duration: 15.8ms | Allocations: 2287)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 29ms (Views: 23.0ms | ActiveRecord: 1.2ms | Allocations: 6757)


Started GET "/carts/6/edit" for ::1 at 2020-07-03 11:02:26 +0700
Processing by CartsController#edit as HTML
  Parameters: {"id"=>"6"}
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:67:in `set_cart'
  Rendering carts/edit.html.erb within layouts/application
  Rendered carts/_form.html.erb (Duration: 3.1ms | Allocations: 352)
  Rendered carts/edit.html.erb within layouts/application (Duration: 4.3ms | Allocations: 464)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 30ms (Views: 23.4ms | ActiveRecord: 0.4ms | Allocations: 4944)


Started GET "/carts" for ::1 at 2020-07-03 11:02:28 +0700
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT "carts".* FROM "carts"[0m
  ↳ app/views/carts/index.html.erb:13
  Rendered carts/index.html.erb within layouts/application (Duration: 6.5ms | Allocations: 871)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 26ms (Views: 23.6ms | ActiveRecord: 0.5ms | Allocations: 4832)


Started GET "/carts/6" for ::1 at 2020-07-03 11:02:29 +0700
Processing by CartsController#show as HTML
  Parameters: {"id"=>"6"}
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:67:in `set_cart'
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 6]]
  ↳ app/views/carts/show.html.erb:5
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/carts/show.html.erb:6
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/carts/show.html.erb:6
  Rendered carts/show.html.erb within layouts/application (Duration: 17.8ms | Allocations: 2287)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 41ms (Views: 33.5ms | ActiveRecord: 1.6ms | Allocations: 6760)


Started GET "/carts" for ::1 at 2020-07-03 11:02:33 +0700
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts"[0m
  ↳ app/views/carts/index.html.erb:13
  Rendered carts/index.html.erb within layouts/application (Duration: 7.2ms | Allocations: 871)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 33ms (Views: 31.1ms | ActiveRecord: 0.4ms | Allocations: 4831)


Started GET "/carts" for ::1 at 2020-07-03 11:03:34 +0700
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.6ms)[0m  [1m[34mSELECT "carts".* FROM "carts"[0m
  ↳ app/views/carts/index.html.erb:13
  Rendered carts/index.html.erb within layouts/application (Duration: 5.4ms | Allocations: 871)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 20ms (Views: 16.9ms | ActiveRecord: 0.6ms | Allocations: 4823)


Started DELETE "/carts/6" for ::1 at 2020-07-03 11:03:37 +0700
Processing by CartsController#destroy as HTML
  Parameters: {"authenticity_token"=>"IC5hD7Cyrybv3m/i8u5XvC0eadN4v9gA28LZuwklFZbEzYRV/VgFGvJ3RGJjf0JwMSm1MpHyw4c73lvY18Ctyw==", "id"=>"6"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:67:in `set_cart'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/carts_controller.rb:57:in `destroy'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 6]]
  ↳ app/controllers/carts_controller.rb:57:in `destroy'
  [1m[36mLineItem Destroy (0.4ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 7]]
  ↳ app/controllers/carts_controller.rb:57:in `destroy'
  [1m[36mLineItem Destroy (0.3ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 8]]
  ↳ app/controllers/carts_controller.rb:57:in `destroy'
  [1m[36mCart Destroy (0.4ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 6]]
  ↳ app/controllers/carts_controller.rb:57:in `destroy'
  [1m[35m (286.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/carts_controller.rb:57:in `destroy'
Redirected to http://localhost:3000/carts
Completed 302 Found in 308ms (ActiveRecord: 287.8ms | Allocations: 6768)


Started GET "/carts" for ::1 at 2020-07-03 11:03:37 +0700
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts"[0m
  ↳ app/views/carts/index.html.erb:13
  Rendered carts/index.html.erb within layouts/application (Duration: 5.6ms | Allocations: 755)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 22ms (Views: 20.3ms | ActiveRecord: 0.4ms | Allocations: 4733)


Started DELETE "/carts/7" for ::1 at 2020-07-03 11:03:39 +0700
Processing by CartsController#destroy as HTML
  Parameters: {"authenticity_token"=>"TfPb6ipGmP8P5rCK8z9+7t4w5l1tmLfn4T/K0L5/14WpED6wZ6wywxJPmwpirmsiwgc6vITVrGABI0izYJpv2A==", "id"=>"7"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:67:in `set_cart'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/carts_controller.rb:57:in `destroy'
  [1m[36mLineItem Load (0.8ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 7]]
  ↳ app/controllers/carts_controller.rb:57:in `destroy'
  [1m[36mLineItem Destroy (1.3ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 9]]
  ↳ app/controllers/carts_controller.rb:57:in `destroy'
  [1m[36mLineItem Destroy (0.3ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 10]]
  ↳ app/controllers/carts_controller.rb:57:in `destroy'
  [1m[36mCart Destroy (0.5ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 7]]
  ↳ app/controllers/carts_controller.rb:57:in `destroy'
  [1m[35m (112.8ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/carts_controller.rb:57:in `destroy'
Redirected to http://localhost:3000/carts
Completed 302 Found in 148ms (ActiveRecord: 116.1ms | Allocations: 6752)


Started GET "/carts" for ::1 at 2020-07-03 11:03:39 +0700
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT "carts".* FROM "carts"[0m
  ↳ app/views/carts/index.html.erb:13
  Rendered carts/index.html.erb within layouts/application (Duration: 4.3ms | Allocations: 637)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 19ms (Views: 16.4ms | ActiveRecord: 0.5ms | Allocations: 4620)


Started GET "/carts/new" for ::1 at 2020-07-03 11:03:41 +0700
Processing by CartsController#new as HTML
  Rendering carts/new.html.erb within layouts/application
  Rendered carts/_form.html.erb (Duration: 2.2ms | Allocations: 347)
  Rendered carts/new.html.erb within layouts/application (Duration: 20.6ms | Allocations: 541)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 41ms (Views: 38.2ms | ActiveRecord: 0.0ms | Allocations: 4629)


Started POST "/carts" for ::1 at 2020-07-03 11:03:42 +0700
Processing by CartsController#create as HTML
  Parameters: {"authenticity_token"=>"MfpzVfLNJCAbUllCaCzUOyG2jlK8PbRw035QM6zFQZZJfE8+UCTtq94VXZwKgMmeZ5D3bsY6rbKMrQoMz9tJaA==", "commit"=>"Create Cart"}
  [1m[35m (0.4ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/carts_controller.rb:30:in `block in create'
  [1m[36mCart Create (1.5ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2020-07-03 04:03:42.359323"], ["updated_at", "2020-07-03 04:03:42.359323"]]
  ↳ app/controllers/carts_controller.rb:30:in `block in create'
  [1m[35m (83.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/carts_controller.rb:30:in `block in create'
Redirected to http://localhost:3000/carts/8
Completed 302 Found in 112ms (ActiveRecord: 85.3ms | Allocations: 3604)


Started GET "/carts/8" for ::1 at 2020-07-03 11:03:42 +0700
Processing by CartsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 8], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:67:in `set_cart'
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 8]]
  ↳ app/views/carts/show.html.erb:5
  Rendered carts/show.html.erb within layouts/application (Duration: 4.7ms | Allocations: 798)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 26ms (Views: 16.2ms | ActiveRecord: 0.5ms | Allocations: 5316)


Started GET "/carts/8" for ::1 at 2020-07-03 11:03:43 +0700
Processing by CartsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 8], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:67:in `set_cart'
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 8]]
  ↳ app/views/carts/show.html.erb:5
  Rendered carts/show.html.erb within layouts/application (Duration: 2.6ms | Allocations: 794)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 16ms (Views: 12.4ms | ActiveRecord: 0.5ms | Allocations: 5271)


Started GET "/" for ::1 at 2020-07-03 11:03:47 +0700
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 5.8ms | Allocations: 2110)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 17ms (Views: 15.5ms | ActiveRecord: 0.1ms | Allocations: 5958)


Started POST "/line_items?product_id=4" for ::1 at 2020-07-03 11:03:50 +0700
Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"9ZHUvS6SO//46dnBunnofXhX3cTzqbfGLM1xr9PltaARcjHnY3iRw+VA8kEr6P2xZGABJRrkrEHM0fPMDQAN/Q==", "product_id"=>"4"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[36mCart Create (0.9ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2020-07-03 04:03:50.907534"], ["updated_at", "2020-07-03 04:03:50.907534"]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[35m (151.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:29:in `create'
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/line_items_controller.rb:34:in `block in create'
  [1m[36mLineItem Create (1.9ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 4], ["cart_id", 9], ["created_at", "2020-07-03 04:03:51.077144"], ["updated_at", "2020-07-03 04:03:51.077144"]]
  ↳ app/controllers/line_items_controller.rb:34:in `block in create'
  [1m[35m (99.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/line_items_controller.rb:34:in `block in create'
Redirected to http://localhost:3000/carts/9
Completed 302 Found in 292ms (ActiveRecord: 253.9ms | Allocations: 8572)


Started GET "/carts/9" for ::1 at 2020-07-03 11:03:51 +0700
Processing by CartsController#show as HTML
  Parameters: {"id"=>"9"}
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:67:in `set_cart'
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 9]]
  ↳ app/views/carts/show.html.erb:5
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/carts/show.html.erb:6
  Rendered carts/show.html.erb within layouts/application (Duration: 5.7ms | Allocations: 1541)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 24ms (Views: 17.7ms | ActiveRecord: 0.8ms | Allocations: 6041)


Started GET "/carts" for ::1 at 2020-07-03 11:03:56 +0700
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts"[0m
  ↳ app/views/carts/index.html.erb:13
  Rendered carts/index.html.erb within layouts/application (Duration: 5.9ms | Allocations: 874)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 99ms (Views: 96.6ms | ActiveRecord: 0.4ms | Allocations: 4821)


Started GET "/carts/8/edit" for ::1 at 2020-07-03 11:03:58 +0700
Processing by CartsController#edit as HTML
  Parameters: {"id"=>"8"}
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 8], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:67:in `set_cart'
  Rendering carts/edit.html.erb within layouts/application
  Rendered carts/_form.html.erb (Duration: 3.4ms | Allocations: 352)
  Rendered carts/edit.html.erb within layouts/application (Duration: 4.8ms | Allocations: 464)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 30ms (Views: 25.3ms | ActiveRecord: 0.4ms | Allocations: 4942)


Started GET "/carts/8" for ::1 at 2020-07-03 11:03:59 +0700
Processing by CartsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 8], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:67:in `set_cart'
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 8]]
  ↳ app/views/carts/show.html.erb:5
  Rendered carts/show.html.erb within layouts/application (Duration: 5.4ms | Allocations: 794)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 27ms (Views: 20.0ms | ActiveRecord: 0.7ms | Allocations: 5271)


Started GET "/carts/8/edit" for ::1 at 2020-07-03 11:04:01 +0700
Processing by CartsController#edit as HTML
  Parameters: {"id"=>"8"}
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 8], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:67:in `set_cart'
  Rendering carts/edit.html.erb within layouts/application
  Rendered carts/_form.html.erb (Duration: 3.9ms | Allocations: 352)
  Rendered carts/edit.html.erb within layouts/application (Duration: 5.3ms | Allocations: 464)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 28ms (Views: 22.8ms | ActiveRecord: 0.4ms | Allocations: 4951)


Started PATCH "/carts/8" for ::1 at 2020-07-03 11:04:02 +0700
Processing by CartsController#update as HTML
  Parameters: {"authenticity_token"=>"NM4AhBtUBAe8iReTP+fZJ3g+XoiuyDHE1fH3JMJhk8EmmY9JYwt19R4wSwIxg9GN4z2oNlj1bIzRx5Qdg67p2A==", "commit"=>"Update Cart", "id"=>"8"}
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 8], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:67:in `set_cart'
Redirected to http://localhost:3000/carts/8
Completed 302 Found in 14ms (ActiveRecord: 0.5ms | Allocations: 1111)


Started GET "/carts/8" for ::1 at 2020-07-03 11:04:02 +0700
Processing by CartsController#show as HTML
  Parameters: {"id"=>"8"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 8], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:67:in `set_cart'
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 8]]
  ↳ app/views/carts/show.html.erb:5
  Rendered carts/show.html.erb within layouts/application (Duration: 5.2ms | Allocations: 796)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 29ms (Views: 21.3ms | ActiveRecord: 0.6ms | Allocations: 5302)


Started GET "/carts" for ::1 at 2020-07-03 11:04:03 +0700
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts"[0m
  ↳ app/views/carts/index.html.erb:13
  Rendered carts/index.html.erb within layouts/application (Duration: 5.4ms | Allocations: 871)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 27ms (Views: 25.0ms | ActiveRecord: 0.3ms | Allocations: 4819)


Started DELETE "/carts/8" for ::1 at 2020-07-03 11:04:05 +0700
Processing by CartsController#destroy as HTML
  Parameters: {"authenticity_token"=>"MH0odNIvsR+SsKR49Llb1FcC5KiHpcg6w6Yb1KoEudzUns0un8UbI48Zj/hlKE4YSzU4SW7o070jupm3dOEBgQ==", "id"=>"8"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 8], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:67:in `set_cart'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/carts_controller.rb:57:in `destroy'
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 8]]
  ↳ app/controllers/carts_controller.rb:57:in `destroy'
  [1m[36mCart Destroy (1.1ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 8]]
  ↳ app/controllers/carts_controller.rb:57:in `destroy'
  [1m[35m (1323.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/carts_controller.rb:57:in `destroy'
Redirected to http://localhost:3000/carts
Completed 302 Found in 1345ms (ActiveRecord: 1324.9ms | Allocations: 4833)


Started GET "/carts" for ::1 at 2020-07-03 11:04:06 +0700
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.6ms)[0m  [1m[34mSELECT "carts".* FROM "carts"[0m
  ↳ app/views/carts/index.html.erb:13
  Rendered carts/index.html.erb within layouts/application (Duration: 7.8ms | Allocations: 755)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 25ms (Views: 20.3ms | ActiveRecord: 0.6ms | Allocations: 4730)


Started DELETE "/carts/9" for ::1 at 2020-07-03 11:04:09 +0700
Processing by CartsController#destroy as HTML
  Parameters: {"authenticity_token"=>"teu50PSSpvnRD90Hf8qJDcDJttlnlCedinZgcoZu9E1RCFyKuXgMxcym9ofuW5zB3P5qOI7ZPBpqauIRWItMEA==", "id"=>"9"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:67:in `set_cart'
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/carts_controller.rb:57:in `destroy'
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 9]]
  ↳ app/controllers/carts_controller.rb:57:in `destroy'
  [1m[36mLineItem Destroy (1.1ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 11]]
  ↳ app/controllers/carts_controller.rb:57:in `destroy'
  [1m[36mCart Destroy (1.1ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 9]]
  ↳ app/controllers/carts_controller.rb:57:in `destroy'
  [1m[35m (413.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/carts_controller.rb:57:in `destroy'
Redirected to http://localhost:3000/carts
Completed 302 Found in 456ms (ActiveRecord: 416.3ms | Allocations: 5795)


Started GET "/carts" for ::1 at 2020-07-03 11:04:10 +0700
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT "carts".* FROM "carts"[0m
  ↳ app/views/carts/index.html.erb:13
  Rendered carts/index.html.erb within layouts/application (Duration: 5.7ms | Allocations: 637)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 42ms (Views: 38.6ms | ActiveRecord: 0.5ms | Allocations: 4619)


Started GET "/carts/new" for ::1 at 2020-07-03 11:04:11 +0700
Processing by CartsController#new as HTML
  Rendering carts/new.html.erb within layouts/application
  Rendered carts/_form.html.erb (Duration: 2.4ms | Allocations: 319)
  Rendered carts/new.html.erb within layouts/application (Duration: 3.8ms | Allocations: 401)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 22ms (Views: 20.7ms | ActiveRecord: 0.0ms | Allocations: 4342)


Started POST "/carts" for ::1 at 2020-07-03 11:04:13 +0700
Processing by CartsController#create as HTML
  Parameters: {"authenticity_token"=>"SbnQS3UybtL1A8azAcMcy13mcwRY0CKyNJlyd1JWG6wxP+wg19unWTBEwm1jbwFuG8AKOCLXO3BrSihIMUgTUg==", "commit"=>"Create Cart"}
  [1m[35m (0.4ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/carts_controller.rb:30:in `block in create'
  [1m[36mCart Create (0.7ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2020-07-03 04:04:13.328408"], ["updated_at", "2020-07-03 04:04:13.328408"]]
  ↳ app/controllers/carts_controller.rb:30:in `block in create'
  [1m[35m (491.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/carts_controller.rb:30:in `block in create'
Redirected to http://localhost:3000/carts/10
Completed 302 Found in 515ms (ActiveRecord: 492.6ms | Allocations: 3693)


Started GET "/carts/10" for ::1 at 2020-07-03 11:04:13 +0700
Processing by CartsController#show as HTML
  Parameters: {"id"=>"10"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 10], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:67:in `set_cart'
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 10]]
  ↳ app/views/carts/show.html.erb:5
  Rendered carts/show.html.erb within layouts/application (Duration: 6.5ms | Allocations: 796)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 30ms (Views: 23.4ms | ActiveRecord: 0.6ms | Allocations: 5307)


Started GET "/carts" for ::1 at 2020-07-03 11:04:17 +0700
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts"[0m
  ↳ app/views/carts/index.html.erb:13
  Rendered carts/index.html.erb within layouts/application (Duration: 6.0ms | Allocations: 753)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 27ms (Views: 24.8ms | ActiveRecord: 0.4ms | Allocations: 4710)


Started GET "/carts/10/edit" for ::1 at 2020-07-03 11:04:20 +0700
Processing by CartsController#edit as HTML
  Parameters: {"id"=>"10"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 10], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:67:in `set_cart'
  Rendering carts/edit.html.erb within layouts/application
  Rendered carts/_form.html.erb (Duration: 2.7ms | Allocations: 352)
  Rendered carts/edit.html.erb within layouts/application (Duration: 4.0ms | Allocations: 464)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 26ms (Views: 22.0ms | ActiveRecord: 0.3ms | Allocations: 4946)


Started GET "/" for ::1 at 2020-07-03 11:04:25 +0700
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 20.2ms | Allocations: 2105)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 47ms (Views: 44.6ms | ActiveRecord: 0.4ms | Allocations: 5966)


Started POST "/line_items?product_id=5" for ::1 at 2020-07-03 11:04:29 +0700
Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"uHlrPpPOo3hejGRa1ZJDwT/yOUTkX1gVVA3ildnwI35cmo5k3iQJREMlT9pEA1YNI8XlpQ0SQ5K0EWD2BxWbIw==", "product_id"=>"5"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[36mCart Create (0.5ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2020-07-03 04:04:29.310384"], ["updated_at", "2020-07-03 04:04:29.310384"]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[35m (73.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:29:in `create'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/line_items_controller.rb:34:in `block in create'
  [1m[36mLineItem Create (0.3ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 5], ["cart_id", 11], ["created_at", "2020-07-03 04:04:29.390932"], ["updated_at", "2020-07-03 04:04:29.390932"]]
  ↳ app/controllers/line_items_controller.rb:34:in `block in create'
  [1m[35m (1708.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/line_items_controller.rb:34:in `block in create'
Redirected to http://localhost:3000/carts/11
Completed 302 Found in 1802ms (ActiveRecord: 1782.8ms | Allocations: 8527)


Started GET "/carts/11" for ::1 at 2020-07-03 11:04:31 +0700
Processing by CartsController#show as HTML
  Parameters: {"id"=>"11"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 11], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:67:in `set_cart'
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 11]]
  ↳ app/views/carts/show.html.erb:5
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/carts/show.html.erb:6
  Rendered carts/show.html.erb within layouts/application (Duration: 8.1ms | Allocations: 1541)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 22ms (Views: 15.5ms | ActiveRecord: 0.7ms | Allocations: 6022)


Started GET "/carts/11" for ::1 at 2020-07-03 11:34:54 +0700
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by CartsController#show as HTML
  Parameters: {"id"=>"11"}
  [1m[36mCart Load (0.8ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 11], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:67:in `set_cart'
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.8ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 11]]
  ↳ app/views/carts/show.html.erb:5
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/carts/show.html.erb:6
  Rendered carts/show.html.erb within layouts/application (Duration: 14.5ms | Allocations: 1573)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 47ms (Views: 38.1ms | ActiveRecord: 2.1ms | Allocations: 6077)


Started GET "/carts/11" for ::1 at 2020-07-03 11:34:54 +0700
Processing by CartsController#show as HTML
  Parameters: {"id"=>"11"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 11], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:67:in `set_cart'
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 11]]
  ↳ app/views/carts/show.html.erb:5
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/carts/show.html.erb:6
  Rendered carts/show.html.erb within layouts/application (Duration: 9.2ms | Allocations: 1539)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 26ms (Views: 21.4ms | ActiveRecord: 0.8ms | Allocations: 6009)


Started GET "/carts/11" for ::1 at 2020-07-03 11:34:56 +0700
Processing by CartsController#show as HTML
  Parameters: {"id"=>"11"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 11], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:67:in `set_cart'
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 11]]
  ↳ app/views/carts/show.html.erb:5
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/carts/show.html.erb:6
  Rendered carts/show.html.erb within layouts/application (Duration: 15.9ms | Allocations: 1539)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 38ms (Views: 33.5ms | ActiveRecord: 0.7ms | Allocations: 6042)


Started GET "/carts/11" for ::1 at 2020-07-03 11:34:57 +0700
Processing by CartsController#show as HTML
  Parameters: {"id"=>"11"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 11], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:67:in `set_cart'
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.7ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 11]]
  ↳ app/views/carts/show.html.erb:5
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/carts/show.html.erb:6
  Rendered carts/show.html.erb within layouts/application (Duration: 10.3ms | Allocations: 1539)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 33ms (Views: 25.7ms | ActiveRecord: 1.3ms | Allocations: 6034)


Started GET "/carts/11" for ::1 at 2020-07-03 11:34:57 +0700
Processing by CartsController#show as HTML
  Parameters: {"id"=>"11"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 11], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:67:in `set_cart'
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 11]]
  ↳ app/views/carts/show.html.erb:5
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/carts/show.html.erb:6
  Rendered carts/show.html.erb within layouts/application (Duration: 10.9ms | Allocations: 1539)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 31ms (Views: 28.0ms | ActiveRecord: 0.8ms | Allocations: 6019)


Started GET "/carts/11" for ::1 at 2020-07-03 11:34:57 +0700
Processing by CartsController#show as HTML
  Parameters: {"id"=>"11"}
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 11], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:67:in `set_cart'
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 11]]
  ↳ app/views/carts/show.html.erb:5
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/carts/show.html.erb:6
  Rendered carts/show.html.erb within layouts/application (Duration: 11.0ms | Allocations: 1539)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 45ms (Views: 37.5ms | ActiveRecord: 1.2ms | Allocations: 6009)


Started GET "/carts/11" for ::1 at 2020-07-03 11:34:57 +0700
Processing by CartsController#show as HTML
  Parameters: {"id"=>"11"}
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 11], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:67:in `set_cart'
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 11]]
  ↳ app/views/carts/show.html.erb:5
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/carts/show.html.erb:6
  Rendered carts/show.html.erb within layouts/application (Duration: 16.9ms | Allocations: 1539)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 51ms (Views: 43.2ms | ActiveRecord: 1.5ms | Allocations: 6013)


Started GET "/carts/11" for ::1 at 2020-07-03 11:34:58 +0700
Processing by CartsController#show as HTML
  Parameters: {"id"=>"11"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 11], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:67:in `set_cart'
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 11]]
  ↳ app/views/carts/show.html.erb:5
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/carts/show.html.erb:6
  Rendered carts/show.html.erb within layouts/application (Duration: 10.0ms | Allocations: 1539)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 35ms (Views: 28.6ms | ActiveRecord: 0.8ms | Allocations: 6024)


Started GET "/carts/11" for ::1 at 2020-07-03 11:34:58 +0700
Processing by CartsController#show as HTML
  Parameters: {"id"=>"11"}
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 11], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:67:in `set_cart'
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 11]]
  ↳ app/views/carts/show.html.erb:5
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/carts/show.html.erb:6
  Rendered carts/show.html.erb within layouts/application (Duration: 15.4ms | Allocations: 1539)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 57ms (Views: 48.5ms | ActiveRecord: 1.2ms | Allocations: 6016)


Started GET "/carts/11" for ::1 at 2020-07-03 11:34:58 +0700
Processing by CartsController#show as HTML
  Parameters: {"id"=>"11"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 11], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:67:in `set_cart'
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 11]]
  ↳ app/views/carts/show.html.erb:5
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/carts/show.html.erb:6
  Rendered carts/show.html.erb within layouts/application (Duration: 10.2ms | Allocations: 1539)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 46ms (Views: 39.2ms | ActiveRecord: 0.9ms | Allocations: 6019)


Started GET "/carts/11" for ::1 at 2020-07-03 11:34:58 +0700
Processing by CartsController#show as HTML
  Parameters: {"id"=>"11"}
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 11], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:67:in `set_cart'
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 11]]
  ↳ app/views/carts/show.html.erb:5
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/carts/show.html.erb:6
  Rendered carts/show.html.erb within layouts/application (Duration: 12.2ms | Allocations: 1539)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 48ms (Views: 40.1ms | ActiveRecord: 1.2ms | Allocations: 6012)


Started GET "/carts/11" for ::1 at 2020-07-03 11:35:00 +0700
Processing by CartsController#show as HTML
  Parameters: {"id"=>"11"}
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 11], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:67:in `set_cart'
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 11]]
  ↳ app/views/carts/show.html.erb:5
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/carts/show.html.erb:6
  Rendered carts/show.html.erb within layouts/application (Duration: 7.1ms | Allocations: 1539)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 28ms (Views: 22.4ms | ActiveRecord: 0.9ms | Allocations: 6015)


Started GET "/" for ::1 at 2020-07-03 11:35:10 +0700
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 10.9ms | Allocations: 2126)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 32ms (Views: 30.0ms | ActiveRecord: 0.4ms | Allocations: 5997)


Started POST "/line_items?product_id=5" for ::1 at 2020-07-03 11:35:12 +0700
Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"Zn5feP9/y0favntENE6JIGW7gHVwnh8HrWRNMLVPHcmCnboispVhe8cXUMSl35zseYxclJnTBIBNeM9Ta6qllA==", "product_id"=>"5"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 11], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:29:in `create'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/line_items_controller.rb:34:in `block in create'
  [1m[36mLineItem Create (0.7ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 5], ["cart_id", 11], ["created_at", "2020-07-03 04:35:12.039004"], ["updated_at", "2020-07-03 04:35:12.039004"]]
  ↳ app/controllers/line_items_controller.rb:34:in `block in create'
  [1m[35m (1662.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/line_items_controller.rb:34:in `block in create'
Redirected to http://localhost:3000/carts/11
Completed 302 Found in 1681ms (ActiveRecord: 1663.1ms | Allocations: 4930)


Started GET "/carts/11" for ::1 at 2020-07-03 11:35:13 +0700
Processing by CartsController#show as HTML
  Parameters: {"id"=>"11"}
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 11], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:67:in `set_cart'
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 11]]
  ↳ app/views/carts/show.html.erb:5
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/carts/show.html.erb:6
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/carts/show.html.erb:6
  Rendered carts/show.html.erb within layouts/application (Duration: 26.0ms | Allocations: 2230)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 41ms (Views: 33.0ms | ActiveRecord: 1.7ms | Allocations: 6734)


Started GET "/carts/11/edit" for ::1 at 2020-07-03 11:35:26 +0700
Processing by CartsController#edit as HTML
  Parameters: {"id"=>"11"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 11], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:67:in `set_cart'
  Rendering carts/edit.html.erb within layouts/application
  Rendered carts/_form.html.erb (Duration: 2.6ms | Allocations: 352)
  Rendered carts/edit.html.erb within layouts/application (Duration: 4.0ms | Allocations: 464)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 27ms (Views: 21.2ms | ActiveRecord: 0.3ms | Allocations: 4952)


Started PATCH "/carts/11" for ::1 at 2020-07-03 11:35:27 +0700
Processing by CartsController#update as HTML
  Parameters: {"authenticity_token"=>"+2abuuupCVD8fpM0ISW9Awg/m8qOKrtTXSrXqSlkClK8g+WYK0bIssMfth/+oHRS7YV1OAplt/Quux2+/AwFeg==", "commit"=>"Update Cart", "id"=>"11"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 11], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:67:in `set_cart'
Redirected to http://localhost:3000/carts/11
Completed 302 Found in 12ms (ActiveRecord: 0.3ms | Allocations: 1120)


Started GET "/carts/11" for ::1 at 2020-07-03 11:35:27 +0700
Processing by CartsController#show as HTML
  Parameters: {"id"=>"11"}
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 11], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:67:in `set_cart'
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 11]]
  ↳ app/views/carts/show.html.erb:5
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/carts/show.html.erb:6
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/carts/show.html.erb:6
  Rendered carts/show.html.erb within layouts/application (Duration: 16.3ms | Allocations: 2230)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 39ms (Views: 29.9ms | ActiveRecord: 1.7ms | Allocations: 6736)


Started GET "/carts" for ::1 at 2020-07-03 11:35:28 +0700
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT "carts".* FROM "carts"[0m
  ↳ app/views/carts/index.html.erb:13
  Rendered carts/index.html.erb within layouts/application (Duration: 5.3ms | Allocations: 881)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 25ms (Views: 22.8ms | ActiveRecord: 0.5ms | Allocations: 4839)


Started GET "/carts" for ::1 at 2020-07-03 11:35:40 +0700
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts"[0m
  ↳ app/views/carts/index.html.erb:13
  Rendered carts/index.html.erb within layouts/application (Duration: 4.5ms | Allocations: 871)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 25ms (Views: 22.5ms | ActiveRecord: 0.3ms | Allocations: 4831)


Started GET "/" for ::1 at 2020-07-03 11:35:44 +0700
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 17.1ms | Allocations: 2104)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 44ms (Views: 40.8ms | ActiveRecord: 0.4ms | Allocations: 5977)


Started POST "/line_items?product_id=4" for ::1 at 2020-07-03 11:37:18 +0700
Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"Em+9Cc1RFCkTTGScSIYcM807ci0uwoW//o/gUgX0e4T2jFhTgLu+FQ7lTxzZFwn/0QyuzMePnjgek2Ix2xHD2Q==", "product_id"=>"4"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 11], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:29:in `create'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/line_items_controller.rb:34:in `block in create'
  [1m[36mLineItem Create (1.6ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 4], ["cart_id", 11], ["created_at", "2020-07-03 04:37:18.356130"], ["updated_at", "2020-07-03 04:37:18.356130"]]
  ↳ app/controllers/line_items_controller.rb:34:in `block in create'
  [1m[35m (182.8ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/line_items_controller.rb:34:in `block in create'
Redirected to http://localhost:3000/carts/11
Completed 302 Found in 212ms (ActiveRecord: 185.1ms | Allocations: 4914)


Started GET "/carts/11" for ::1 at 2020-07-03 11:37:18 +0700
Processing by CartsController#show as HTML
  Parameters: {"id"=>"11"}
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 11], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:67:in `set_cart'
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 11]]
  ↳ app/views/carts/show.html.erb:5
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/carts/show.html.erb:6
  [1m[36mCACHE Product Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/carts/show.html.erb:6
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/carts/show.html.erb:6
  Rendered carts/show.html.erb within layouts/application (Duration: 21.6ms | Allocations: 2978)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 42ms (Views: 32.7ms | ActiveRecord: 1.5ms | Allocations: 7478)


Started GET "/carts/11/edit" for ::1 at 2020-07-03 11:37:21 +0700
Processing by CartsController#edit as HTML
  Parameters: {"id"=>"11"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 11], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:67:in `set_cart'
  Rendering carts/edit.html.erb within layouts/application
  Rendered carts/_form.html.erb (Duration: 2.7ms | Allocations: 352)
  Rendered carts/edit.html.erb within layouts/application (Duration: 3.9ms | Allocations: 464)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 28ms (Views: 21.9ms | ActiveRecord: 0.3ms | Allocations: 4936)


Started GET "/carts/11" for ::1 at 2020-07-03 11:37:24 +0700
Processing by CartsController#show as HTML
  Parameters: {"id"=>"11"}
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 11], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:67:in `set_cart'
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 11]]
  ↳ app/views/carts/show.html.erb:5
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/carts/show.html.erb:6
  [1m[36mCACHE Product Load (0.0ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/carts/show.html.erb:6
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/carts/show.html.erb:6
  Rendered carts/show.html.erb within layouts/application (Duration: 22.4ms | Allocations: 2976)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 46ms (Views: 38.1ms | ActiveRecord: 1.4ms | Allocations: 7448)


Started GET "/carts" for ::1 at 2020-07-03 11:37:25 +0700
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts"[0m
  ↳ app/views/carts/index.html.erb:13
  Rendered carts/index.html.erb within layouts/application (Duration: 2.7ms | Allocations: 871)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 14ms (Views: 13.1ms | ActiveRecord: 0.2ms | Allocations: 4818)


Started DELETE "/carts/11" for ::1 at 2020-07-03 11:37:41 +0700
Processing by CartsController#destroy as HTML
  Parameters: {"authenticity_token"=>"Htu19JMAPZm/C+HeIupKk8hwNbfu9c6kIA4SM0OFU6b6OFCu3uqXpaKiyl6ze19f1EfpVge41SPAEpBQnWDr+w==", "id"=>"11"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 11], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:67:in `set_cart'
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/carts_controller.rb:57:in `destroy'
  [1m[36mLineItem Load (0.8ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 11]]
  ↳ app/controllers/carts_controller.rb:57:in `destroy'
  [1m[36mLineItem Destroy (1.0ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 12]]
  ↳ app/controllers/carts_controller.rb:57:in `destroy'
  [1m[36mLineItem Destroy (0.3ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 13]]
  ↳ app/controllers/carts_controller.rb:57:in `destroy'
  [1m[36mLineItem Destroy (0.2ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 14]]
  ↳ app/controllers/carts_controller.rb:57:in `destroy'
  [1m[36mCart Destroy (0.4ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 11]]
  ↳ app/controllers/carts_controller.rb:57:in `destroy'
  [1m[35m (81.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/carts_controller.rb:57:in `destroy'
Redirected to http://localhost:3000/carts
Completed 302 Found in 113ms (ActiveRecord: 84.3ms | Allocations: 7619)


Started GET "/carts" for ::1 at 2020-07-03 11:37:41 +0700
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts"[0m
  ↳ app/views/carts/index.html.erb:13
  Rendered carts/index.html.erb within layouts/application (Duration: 13.4ms | Allocations: 755)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 33ms (Views: 30.3ms | ActiveRecord: 0.3ms | Allocations: 4749)


Started GET "/carts/new" for ::1 at 2020-07-03 11:37:46 +0700
Processing by CartsController#new as HTML
  Rendering carts/new.html.erb within layouts/application
  Rendered carts/_form.html.erb (Duration: 1.0ms | Allocations: 319)
  Rendered carts/new.html.erb within layouts/application (Duration: 1.4ms | Allocations: 401)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 13ms (Views: 11.9ms | ActiveRecord: 0.0ms | Allocations: 4367)


Started POST "/carts" for ::1 at 2020-07-03 11:37:47 +0700
Processing by CartsController#create as HTML
  Parameters: {"authenticity_token"=>"IbsLVOHId7zLwqP/uQDoseGOht3lDR3pkNyN1xSs+GtZPTc/QyG+Nw6FpyHbrPUUp6j/4Z8KBCvPD9fod7LwlQ==", "commit"=>"Create Cart"}
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/carts_controller.rb:30:in `block in create'
  [1m[36mCart Create (0.4ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2020-07-03 04:37:47.844784"], ["updated_at", "2020-07-03 04:37:47.844784"]]
  ↳ app/controllers/carts_controller.rb:30:in `block in create'
  [1m[35m (587.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/carts_controller.rb:30:in `block in create'
Redirected to http://localhost:3000/carts/12
Completed 302 Found in 599ms (ActiveRecord: 587.6ms | Allocations: 3699)


Started GET "/carts/12" for ::1 at 2020-07-03 11:37:48 +0700
Processing by CartsController#show as HTML
  Parameters: {"id"=>"12"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 12], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:67:in `set_cart'
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 12]]
  ↳ app/views/carts/show.html.erb:5
  Rendered carts/show.html.erb within layouts/application (Duration: 3.8ms | Allocations: 796)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 30ms (Views: 23.0ms | ActiveRecord: 0.6ms | Allocations: 5296)


Started GET "/carts" for ::1 at 2020-07-03 11:37:50 +0700
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts"[0m
  ↳ app/views/carts/index.html.erb:13
  Rendered carts/index.html.erb within layouts/application (Duration: 4.7ms | Allocations: 871)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 27ms (Views: 24.9ms | ActiveRecord: 0.3ms | Allocations: 4835)


Started DELETE "/carts/12" for ::1 at 2020-07-03 11:37:52 +0700
Processing by CartsController#destroy as HTML
  Parameters: {"authenticity_token"=>"0VRWkIQyxImMC/AvNfWQ5LQrfmi7mevlqBLpCaroC0s1t7PKydhutZGi26+kZIUoqByiiVLU8GJIDmtqdA2zFg==", "id"=>"12"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 12], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:67:in `set_cart'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/carts_controller.rb:57:in `destroy'
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 12]]
  ↳ app/controllers/carts_controller.rb:57:in `destroy'
  [1m[36mCart Destroy (0.9ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 12]]
  ↳ app/controllers/carts_controller.rb:57:in `destroy'
  [1m[35m (74.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/carts_controller.rb:57:in `destroy'
Redirected to http://localhost:3000/carts
Completed 302 Found in 100ms (ActiveRecord: 76.3ms | Allocations: 4757)


Started GET "/carts" for ::1 at 2020-07-03 11:37:52 +0700
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT "carts".* FROM "carts"[0m
  ↳ app/views/carts/index.html.erb:13
  Rendered carts/index.html.erb within layouts/application (Duration: 5.1ms | Allocations: 755)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 30ms (Views: 26.0ms | ActiveRecord: 0.5ms | Allocations: 4870)


Started DELETE "/carts/10" for ::1 at 2020-07-03 11:37:54 +0700
Processing by CartsController#destroy as HTML
  Parameters: {"authenticity_token"=>"G77d/3YbhcSyWcw6qNSrNm9/DNZQMdu9x5nvlqF7Bhv/XTilO/Ev+K/w57o5Rb76c0jQN7l8wDonhW31f56+Rg==", "id"=>"10"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 10], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:67:in `set_cart'
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/carts_controller.rb:57:in `destroy'
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 10]]
  ↳ app/controllers/carts_controller.rb:57:in `destroy'
  [1m[36mCart Destroy (1.0ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 10]]
  ↳ app/controllers/carts_controller.rb:57:in `destroy'
  [1m[35m (162.7ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/carts_controller.rb:57:in `destroy'
Redirected to http://localhost:3000/carts
Completed 302 Found in 195ms (ActiveRecord: 164.7ms | Allocations: 4849)


Started GET "/carts" for ::1 at 2020-07-03 11:37:54 +0700
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT "carts".* FROM "carts"[0m
  ↳ app/views/carts/index.html.erb:13
  Rendered carts/index.html.erb within layouts/application (Duration: 5.7ms | Allocations: 637)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 31ms (Views: 28.1ms | ActiveRecord: 0.5ms | Allocations: 4620)


Started GET "/" for ::1 at 2020-07-03 11:37:57 +0700
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 8.2ms | Allocations: 2104)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 32ms (Views: 30.1ms | ActiveRecord: 0.2ms | Allocations: 5974)


Started GET "/" for ::1 at 2020-07-03 13:38:19 +0700
  [1m[35m (1.5ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (171.9ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 1811.4ms | Allocations: 9861)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 2398ms (Views: 1847.0ms | ActiveRecord: 173.7ms | Allocations: 17365)


Started POST "/line_items?product_id=4" for ::1 at 2020-07-03 13:46:37 +0700
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"wKqmZ6sSgWHC9YqvbGt6wKFxe/sEyQtQFbirwMUMONuMHN900AZhjt58U5p/hsiDCti73IrXeNt0NFW8TjoipA==", "product_id"=>"4"}
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[36mCart Create (82.6ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2020-07-03 06:46:37.458279"], ["updated_at", "2020-07-03 06:46:37.458279"]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[35m (949.6ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[36mProduct Load (257.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:29:in `create'
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/line_items_controller.rb:34:in `block in create'
  [1m[36mLineItem Create (1.2ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 4], ["cart_id", 13], ["created_at", "2020-07-03 06:46:38.942825"], ["updated_at", "2020-07-03 06:46:38.942825"]]
  ↳ app/controllers/line_items_controller.rb:34:in `block in create'
  [1m[35m (1062.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/line_items_controller.rb:34:in `block in create'
Redirected to http://localhost:3000/carts/13
Completed 302 Found in 2686ms (ActiveRecord: 2356.2ms | Allocations: 17907)


Started GET "/carts/13" for ::1 at 2020-07-03 13:46:40 +0700
Processing by CartsController#show as HTML
  Parameters: {"id"=>"13"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 13], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:67:in `set_cart'
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (1.0ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 13]]
  ↳ app/views/carts/show.html.erb:5
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/carts/show.html.erb:6
  Rendered carts/show.html.erb within layouts/application (Duration: 36.9ms | Allocations: 2271)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 261ms (Views: 232.5ms | ActiveRecord: 1.5ms | Allocations: 7522)


Started GET "/products" for ::1 at 2020-07-03 13:47:36 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.8ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:12
  Rendered products/index.html.erb within layouts/application (Duration: 149.3ms | Allocations: 2567)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 173ms (Views: 169.8ms | ActiveRecord: 0.8ms | Allocations: 7002)


Started GET "/products/4/edit" for ::1 at 2020-07-03 13:47:49 +0700
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"4"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:67:in `set_product'
  Rendering products/edit.html.erb within layouts/application
  Rendered products/_form.html.erb (Duration: 273.7ms | Allocations: 3146)
  Rendered products/edit.html.erb within layouts/application (Duration: 305.7ms | Allocations: 3528)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 317ms (Views: 311.8ms | ActiveRecord: 0.3ms | Allocations: 8160)


Started PATCH "/products/4" for ::1 at 2020-07-03 13:48:47 +0700
Processing by ProductsController#update as HTML
  Parameters: {"authenticity_token"=>"OWPtcdbr06HWfbBs5DOag2fOapGGIHm7SlH5F3nYXePkLa6AoE8Q3wKiMNt7/0DmKaU0CufJAiwR97NC3d7itg==", "product"=>{"title"=>"Điện Thoại Samsung Galaxy Note 10 Lite (128GB/8GB) - Hàng Chính Hãng - Đã Kích Hoạt Bảo Hành Điện Tử", "description"=>"Chính hãng, nguyên seal, mới 100%, chưa Active\r\nMàn hình: AMOLED, 6.39\", Full HD+\r\nHệ điều hành: Android 9.0 (Pie)\r\nCamera sau: Chính 48 MP & Phụ 8 MP, 2 MP\r\nCamera trước: 16 MP\r\nCPU: MediaTek Helio P60 8 nhân\r\nRAM: Tùy chọn 6GB/4GB\r\nBộ nhớ trong: 64 GB\r\nThẻ nhớ: MicroSD, hỗ trợ tối đa 256 GB\r\nThẻ SIM: 2 SIM Nano (SIM 2 chung khe thẻ nhớ), Hỗ trợ 4G\r\nDung lượng pin: 4020 mAh, có sạc nhanh", "image_url"=>"7apps.jpg", "price"=>"12999000.0"}, "commit"=>"Update Product", "id"=>"4"}
  [1m[36mProduct Load (9.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:67:in `set_product'
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/products_controller.rb:44:in `block in update'
  [1m[36mProduct Exists? (16.9ms)[0m  [1m[34mSELECT 1 AS one FROM "products" WHERE "products"."title" = ? AND "products"."id" != ? LIMIT ?[0m  [["title", "Điện Thoại Samsung Galaxy Note 10 Lite (128GB/8GB) - Hàng Chính Hãng - Đã Kích Hoạt Bảo Hành Điện Tử"], ["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:44:in `block in update'
  [1m[36mProduct Update (1.6ms)[0m  [1m[33mUPDATE "products" SET "description" = ?, "updated_at" = ? WHERE "products"."id" = ?[0m  [["description", "Chính hãng, nguyên seal, mới 100%, chưa Active\r\nMàn hình: AMOLED, 6.39\", Full HD+\r\nHệ điều hành: Android 9.0 (Pie)\r\nCamera sau: Chính 48 MP & Phụ 8 MP, 2 MP\r\nCamera trước: 16 MP\r\nCPU: MediaTek Helio P60 8 nhân\r\nRAM: Tùy chọn 6GB/4GB\r\nBộ nhớ trong: 64 GB\r\nThẻ nhớ: MicroSD, hỗ trợ tối đa 256 GB\r\nThẻ SIM: 2 SIM Nano (SIM 2 chung khe thẻ nhớ), Hỗ trợ 4G\r\nDung lượng pin: 4020 mAh, có sạc nhanh"], ["updated_at", "2020-07-03 06:48:48.138169"], ["id", 4]]
  ↳ app/controllers/products_controller.rb:44:in `block in update'
  [1m[35m (194.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/products_controller.rb:44:in `block in update'
Redirected to http://localhost:3000/products/4
Completed 302 Found in 569ms (ActiveRecord: 222.1ms | Allocations: 6092)


Started GET "/products/4" for ::1 at 2020-07-03 13:48:48 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:67:in `set_product'
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (Duration: 15.9ms | Allocations: 308)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 37ms (Views: 28.9ms | ActiveRecord: 0.3ms | Allocations: 4966)


Started GET "/products" for ::1 at 2020-07-03 13:48:53 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:12
  Rendered products/index.html.erb within layouts/application (Duration: 116.9ms | Allocations: 2156)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 133ms (Views: 131.1ms | ActiveRecord: 0.2ms | Allocations: 5994)


Started GET "/" for ::1 at 2020-07-03 13:48:55 +0700
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 72.5ms | Allocations: 2133)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 87ms (Views: 86.2ms | ActiveRecord: 0.3ms | Allocations: 5991)


Started POST "/line_items?product_id=5" for ::1 at 2020-07-03 13:48:58 +0700
Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"q0gBgn0NNqKGZwJ+B3iE86SxgiiggONPZXqIme+9iQjn/niRBhnWTZru20sUlTawDxhCDy6ekMQE9nblZIuTdw==", "product_id"=>"5"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 13], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:29:in `create'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/line_items_controller.rb:34:in `block in create'
  [1m[36mLineItem Create (0.4ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 5], ["cart_id", 13], ["created_at", "2020-07-03 06:48:58.486481"], ["updated_at", "2020-07-03 06:48:58.486481"]]
  ↳ app/controllers/line_items_controller.rb:34:in `block in create'
  [1m[35m (353.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/line_items_controller.rb:34:in `block in create'
Redirected to http://localhost:3000/carts/13
Completed 302 Found in 371ms (ActiveRecord: 354.1ms | Allocations: 4934)


Started GET "/carts/13" for ::1 at 2020-07-03 13:48:58 +0700
Processing by CartsController#show as HTML
  Parameters: {"id"=>"13"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 13], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:67:in `set_cart'
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 13]]
  ↳ app/views/carts/show.html.erb:5
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/carts/show.html.erb:6
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/carts/show.html.erb:6
  Rendered carts/show.html.erb within layouts/application (Duration: 4.8ms | Allocations: 2297)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 13ms (Views: 10.7ms | ActiveRecord: 0.5ms | Allocations: 6796)


Started GET "/carts" for ::1 at 2020-07-03 13:49:05 +0700
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts"[0m
  ↳ app/views/carts/index.html.erb:13
  Rendered carts/index.html.erb within layouts/application (Duration: 23.2ms | Allocations: 991)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 40ms (Views: 37.6ms | ActiveRecord: 0.3ms | Allocations: 5084)


Started GET "/carts/13" for ::1 at 2020-07-03 13:49:07 +0700
Processing by CartsController#show as HTML
  Parameters: {"id"=>"13"}
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 13], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:67:in `set_cart'
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 13]]
  ↳ app/views/carts/show.html.erb:5
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/carts/show.html.erb:6
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/carts/show.html.erb:6
  Rendered carts/show.html.erb within layouts/application (Duration: 9.9ms | Allocations: 2288)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 197ms (Views: 191.1ms | ActiveRecord: 1.2ms | Allocations: 6759)


Started GET "/carts" for ::1 at 2020-07-03 13:49:09 +0700
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts"[0m
  ↳ app/views/carts/index.html.erb:13
  Rendered carts/index.html.erb within layouts/application (Duration: 6.3ms | Allocations: 753)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 33ms (Views: 29.3ms | ActiveRecord: 0.4ms | Allocations: 4721)


Started DELETE "/carts/13" for ::1 at 2020-07-03 13:49:12 +0700
Processing by CartsController#destroy as HTML
  Parameters: {"authenticity_token"=>"0WjsBI9EJnMj+V7ISkEhj4BhYEoSfSiQo7M7q431IZud3pUX9FDGnD9wh/1ZrJPMK8igbZxjWxvCP8XXBsM75A==", "id"=>"13"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 13], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:67:in `set_cart'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/carts_controller.rb:57:in `destroy'
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 13]]
  ↳ app/controllers/carts_controller.rb:57:in `destroy'
  [1m[36mLineItem Destroy (98.1ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 15]]
  ↳ app/controllers/carts_controller.rb:57:in `destroy'
  [1m[36mLineItem Destroy (0.3ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 16]]
  ↳ app/controllers/carts_controller.rb:57:in `destroy'
  [1m[36mCart Destroy (0.4ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 13]]
  ↳ app/controllers/carts_controller.rb:57:in `destroy'
  [1m[35m (1675.6ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/carts_controller.rb:57:in `destroy'
Redirected to http://localhost:3000/carts
Completed 302 Found in 1801ms (ActiveRecord: 1775.0ms | Allocations: 6803)


Started GET "/carts" for ::1 at 2020-07-03 13:49:14 +0700
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts"[0m
  ↳ app/views/carts/index.html.erb:13
  Rendered carts/index.html.erb within layouts/application (Duration: 5.4ms | Allocations: 637)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 24ms (Views: 20.9ms | ActiveRecord: 0.4ms | Allocations: 4608)


Started GET "/carts" for ::1 at 2020-07-03 13:49:21 +0700
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts"[0m
  ↳ app/views/carts/index.html.erb:13
  Rendered carts/index.html.erb within layouts/application (Duration: 3.0ms | Allocations: 635)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 21ms (Views: 19.3ms | ActiveRecord: 0.3ms | Allocations: 4593)


Started GET "/" for ::1 at 2020-07-03 13:49:23 +0700
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 7.0ms | Allocations: 2117)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 19ms (Views: 17.9ms | ActiveRecord: 0.1ms | Allocations: 5971)


Started GET "/" for ::1 at 2020-07-03 13:49:25 +0700
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 13.2ms | Allocations: 2114)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 27ms (Views: 23.9ms | ActiveRecord: 0.6ms | Allocations: 5982)


Started GET "/questions" for ::1 at 2020-07-03 13:49:25 +0700
  
ActionController::RoutingError (No route matches [GET] "/questions"):
  
actionpack (6.0.3.2) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
web-console (4.0.3) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.3) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.3) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.3) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.3.2) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.3.2) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.3.2) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.3.2) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.3.2) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.3.2) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.3) lib/rack/method_override.rb:24:in `call'
rack (2.2.3) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.3.2) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.3) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
webpacker (4.2.2) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.3.2) lib/rails/engine.rb:527:in `call'
puma (4.3.5) lib/puma/configuration.rb:228:in `call'
puma (4.3.5) lib/puma/server.rb:713:in `handle_request'
puma (4.3.5) lib/puma/server.rb:472:in `process_client'
puma (4.3.5) lib/puma/server.rb:328:in `block in run'
puma (4.3.5) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/" for ::1 at 2020-07-03 13:49:28 +0700
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 13.2ms | Allocations: 2152)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 25ms (Views: 21.4ms | ActiveRecord: 0.3ms | Allocations: 6063)


Started GET "/" for ::1 at 2020-07-03 13:49:33 +0700
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 14.7ms | Allocations: 2105)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 33ms (Views: 30.8ms | ActiveRecord: 0.4ms | Allocations: 5955)


Started GET "/contact" for ::1 at 2020-07-03 14:14:18 +0700
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  
ActionController::RoutingError (No route matches [GET] "/contact"):
  
actionpack (6.0.3.2) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
web-console (4.0.3) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.3) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.3) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.3) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.3.2) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.3.2) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.3.2) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.3.2) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.3.2) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.3.2) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.3) lib/rack/method_override.rb:24:in `call'
rack (2.2.3) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.3.2) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.3) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
webpacker (4.2.2) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.3.2) lib/rails/engine.rb:527:in `call'
puma (4.3.5) lib/puma/configuration.rb:228:in `call'
puma (4.3.5) lib/puma/server.rb:713:in `handle_request'
puma (4.3.5) lib/puma/server.rb:472:in `process_client'
puma (4.3.5) lib/puma/server.rb:328:in `block in run'
puma (4.3.5) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/" for ::1 at 2020-07-03 14:14:21 +0700
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (49.5ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 213.9ms | Allocations: 2136)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 468ms (Views: 414.1ms | ActiveRecord: 49.5ms | Allocations: 6018)


Started POST "/line_items?product_id=4" for ::1 at 2020-07-03 14:14:23 +0700
Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"ipS437gUuT/6nIWcWRx66FWWxTHjlD01x7L9FZzErFfGIsHMwwBZ0OYVXKlK8cir/j8FFm2KTr6mPgNpF/K2KA==", "product_id"=>"4"}
  [1m[36mCart Load (30.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 13], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[36mCart Create (73.4ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2020-07-03 07:14:23.931438"], ["updated_at", "2020-07-03 07:14:23.931438"]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[35m (99.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[36mProduct Load (0.8ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:29:in `create'
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/line_items_controller.rb:34:in `block in create'
  [1m[36mLineItem Create (2.2ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 4], ["cart_id", 14], ["created_at", "2020-07-03 07:14:24.144417"], ["updated_at", "2020-07-03 07:14:24.144417"]]
  ↳ app/controllers/line_items_controller.rb:34:in `block in create'
  [1m[35m (67.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/line_items_controller.rb:34:in `block in create'
Redirected to http://localhost:3000/carts/14
Completed 302 Found in 350ms (ActiveRecord: 273.3ms | Allocations: 8632)


Started GET "/carts/14" for ::1 at 2020-07-03 14:14:24 +0700
Processing by CartsController#show as HTML
  Parameters: {"id"=>"14"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 14], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:67:in `set_cart'
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.8ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 14]]
  ↳ app/views/carts/show.html.erb:5
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/carts/show.html.erb:6
  Rendered carts/show.html.erb within layouts/application (Duration: 13.3ms | Allocations: 1556)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 49ms (Views: 38.8ms | ActiveRecord: 1.7ms | Allocations: 6069)


Started GET "/carts" for ::1 at 2020-07-03 14:20:04 +0700
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.7ms)[0m  [1m[34mSELECT "carts".* FROM "carts"[0m
  ↳ app/views/carts/index.html.erb:13
  Rendered carts/index.html.erb within layouts/application (Duration: 6.5ms | Allocations: 764)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 34ms (Views: 30.2ms | ActiveRecord: 0.7ms | Allocations: 4720)


Started GET "/carts/14/edit" for ::1 at 2020-07-03 14:20:08 +0700
Processing by CartsController#edit as HTML
  Parameters: {"id"=>"14"}
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 14], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:67:in `set_cart'
  Rendering carts/edit.html.erb within layouts/application
  Rendered carts/_form.html.erb (Duration: 58.0ms | Allocations: 625)
  Rendered carts/edit.html.erb within layouts/application (Duration: 118.0ms | Allocations: 997)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 150ms (Views: 141.5ms | ActiveRecord: 0.5ms | Allocations: 5636)


Started GET "/carts" for ::1 at 2020-07-03 14:20:11 +0700
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts"[0m
  ↳ app/views/carts/index.html.erb:13
  Rendered carts/index.html.erb within layouts/application (Duration: 3.5ms | Allocations: 756)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 17ms (Views: 14.7ms | ActiveRecord: 0.3ms | Allocations: 4703)


Started GET "/carts/14" for ::1 at 2020-07-03 14:20:12 +0700
Processing by CartsController#show as HTML
  Parameters: {"id"=>"14"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 14], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:67:in `set_cart'
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 14]]
  ↳ app/views/carts/show.html.erb:5
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/carts/show.html.erb:6
  Rendered carts/show.html.erb within layouts/application (Duration: 6.8ms | Allocations: 1539)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 18ms (Views: 14.0ms | ActiveRecord: 0.6ms | Allocations: 6021)


Started GET "/" for ::1 at 2020-07-03 14:34:18 +0700
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (34.8ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 121.7ms | Allocations: 2141)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 165ms (Views: 128.4ms | ActiveRecord: 34.8ms | Allocations: 5993)


Started POST "/line_items?product_id=5" for ::1 at 2020-07-03 14:34:20 +0700
Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"PLyliQKP6Vj4s+GgX+LsYHTLQDkCpHilVyScQosrXzwg6gm4MOCu2RYm3B+ur73796vAG/Z/BNaiyTj1shJQ+w==", "product_id"=>"5"}
  [1m[36mCart Load (76.0ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 14], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:29:in `create'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/line_items_controller.rb:34:in `block in create'
  [1m[36mLineItem Create (34.4ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 5], ["cart_id", 14], ["created_at", "2020-07-03 07:34:20.736264"], ["updated_at", "2020-07-03 07:34:20.736264"]]
  ↳ app/controllers/line_items_controller.rb:34:in `block in create'
  [1m[35m (335.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/line_items_controller.rb:34:in `block in create'
Redirected to http://localhost:3000/carts/14
Completed 302 Found in 476ms (ActiveRecord: 446.4ms | Allocations: 4980)


Started GET "/carts/14" for ::1 at 2020-07-03 14:34:21 +0700
Processing by CartsController#show as HTML
  Parameters: {"id"=>"14"}
  [1m[36mCart Load (1.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 14], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:67:in `set_cart'
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 14]]
  ↳ app/views/carts/show.html.erb:5
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/carts/show.html.erb:6
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/carts/show.html.erb:6
  Rendered carts/show.html.erb within layouts/application (Duration: 21.3ms | Allocations: 2304)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 69ms (Views: 53.2ms | ActiveRecord: 2.9ms | Allocations: 6798)


  [1m[35m (0.6ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (7.8ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to AddQuantityToLineItems (20200703075220)
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (1.4ms)[0m  [1m[35mALTER TABLE "line_items" ADD "quantity" integer DEFAULT 1[0m
  [1m[36mprimary::SchemaMigration Create (16.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20200703075220"]]
  [1m[35m (85.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/" for ::1 at 2020-07-03 15:47:19 +0700
  [1m[35m (1.9ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (1.8ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 610.6ms | Allocations: 9846)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 821ms (Views: 724.8ms | ActiveRecord: 8.2ms | Allocations: 17462)


Started POST "/line_items?product_id=4" for ::1 at 2020-07-03 15:47:23 +0700
Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"N8YlYFCMWZ2ZVu8zSKK1pV0loaP5792JzdtWYhYhDUZ7cFxzK5i5coXfNgZbTwfm9oxhhHfxrgKsV6genRcXOQ==", "product_id"=>"4"}
  [1m[36mCart Load (27.8ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 14], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (4.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 14], ["product_id", 4], ["LIMIT", 1]]
  ↳ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mLineItem Update (1.5ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 2], ["updated_at", "2020-07-03 08:47:23.579435"], ["id", 17]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[35m (162.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
Redirected to http://localhost:3000/carts/14
Completed 302 Found in 360ms (ActiveRecord: 201.6ms | Allocations: 17415)


Started GET "/carts/14" for ::1 at 2020-07-03 15:47:23 +0700
Processing by CartsController#show as HTML
  Parameters: {"id"=>"14"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 14], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:67:in `set_cart'
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 14]]
  ↳ app/views/carts/show.html.erb:5
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/carts/show.html.erb:6
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/carts/show.html.erb:6
  Rendered carts/show.html.erb within layouts/application (Duration: 37.2ms | Allocations: 2867)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 66ms (Views: 57.9ms | ActiveRecord: 1.6ms | Allocations: 8010)


Started GET "/carts" for ::1 at 2020-07-03 15:47:29 +0700
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts"[0m
  ↳ app/views/carts/index.html.erb:13
  Rendered carts/index.html.erb within layouts/application (Duration: 81.9ms | Allocations: 1006)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 91ms (Views: 87.9ms | ActiveRecord: 0.3ms | Allocations: 5121)


Started GET "/" for ::1 at 2020-07-03 15:47:32 +0700
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 14.0ms | Allocations: 2122)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 29ms (Views: 26.1ms | ActiveRecord: 0.5ms | Allocations: 5994)


Started POST "/line_items?product_id=4" for ::1 at 2020-07-03 15:47:33 +0700
Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"/0Dwf7sfD6HTNb35jz4g7Hn3d9eqW87C3Gsce9rWY4/jFlxOiXBIID2ggEZ+c3F3+pf39V6AsrEphrjM4+9sSA==", "product_id"=>"4"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 14], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 14], ["product_id", 4], ["LIMIT", 1]]
  ↳ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.4ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mLineItem Update (1.5ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 3], ["updated_at", "2020-07-03 08:47:33.850695"], ["id", 17]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[35m (74.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
Redirected to http://localhost:3000/carts/14
Completed 302 Found in 113ms (ActiveRecord: 77.5ms | Allocations: 6722)


Started GET "/carts/14" for ::1 at 2020-07-03 15:47:33 +0700
Processing by CartsController#show as HTML
  Parameters: {"id"=>"14"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 14], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:67:in `set_cart'
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 14]]
  ↳ app/views/carts/show.html.erb:5
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/carts/show.html.erb:6
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/carts/show.html.erb:6
  Rendered carts/show.html.erb within layouts/application (Duration: 7.0ms | Allocations: 2297)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 27ms (Views: 23.9ms | ActiveRecord: 0.8ms | Allocations: 6933)


Started GET "/carts" for ::1 at 2020-07-03 15:47:36 +0700
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts"[0m
  ↳ app/views/carts/index.html.erb:13
  Rendered carts/index.html.erb within layouts/application (Duration: 2.4ms | Allocations: 753)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 32ms (Views: 31.3ms | ActiveRecord: 0.2ms | Allocations: 4721)


Started GET "/" for ::1 at 2020-07-03 15:47:39 +0700
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 5.7ms | Allocations: 2113)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 17ms (Views: 15.3ms | ActiveRecord: 0.2ms | Allocations: 5980)


Started POST "/line_items?product_id=5" for ::1 at 2020-07-03 15:47:44 +0700
Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"cvrJ+8o5N66PPDrMTKeRZH5/oGAxPlmLzJ2GVhQTUs9urGXK+FZwL2GpB3O96sD//R8gQsXlJfg5cCLhLSpdCA==", "product_id"=>"5"}
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 14], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 14], ["product_id", 5], ["LIMIT", 1]]
  ↳ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mProduct Load (1.0ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mLineItem Update (1.0ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 2], ["updated_at", "2020-07-03 08:47:44.890373"], ["id", 18]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[35m (70.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
Redirected to http://localhost:3000/carts/14
Completed 302 Found in 128ms (ActiveRecord: 73.5ms | Allocations: 6714)


Started GET "/carts/14" for ::1 at 2020-07-03 15:47:45 +0700
Processing by CartsController#show as HTML
  Parameters: {"id"=>"14"}
  [1m[36mCart Load (0.7ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 14], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:67:in `set_cart'
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 14]]
  ↳ app/views/carts/show.html.erb:5
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/carts/show.html.erb:6
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/carts/show.html.erb:6
  Rendered carts/show.html.erb within layouts/application (Duration: 13.6ms | Allocations: 2295)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 41ms (Views: 32.6ms | ActiveRecord: 1.4ms | Allocations: 6790)


Started GET "/products" for ::1 at 2020-07-03 15:48:51 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:12
  Rendered products/index.html.erb within layouts/application (Duration: 40.0ms | Allocations: 2566)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 63ms (Views: 57.5ms | ActiveRecord: 0.3ms | Allocations: 6998)


Started GET "/products/new" for ::1 at 2020-07-03 15:51:03 +0700
Processing by ProductsController#new as HTML
  Rendering products/new.html.erb within layouts/application
  Rendered products/_form.html.erb (Duration: 1481.4ms | Allocations: 4902)
  Rendered products/new.html.erb within layouts/application (Duration: 1489.1ms | Allocations: 5235)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 1803ms (Views: 1771.5ms | ActiveRecord: 0.0ms | Allocations: 9244)


Started POST "/products" for ::1 at 2020-07-03 15:51:37 +0700
Processing by ProductsController#create as HTML
  Parameters: {"authenticity_token"=>"dx/hOrYjqw95BZXVyD3077uMVw4j3csIK2Wn7Xd7rmhE9T1ONvrf6OjKLgb/BVuga8N4m4Y+Se3MxtylcboaiA==", "product"=>{"title"=>"Điện Thoại iPhone 11 Pro Max 64GB", "description"=>"Chính hãng, Nguyên seal, Mới 100%, Chưa active\r\nMã part: VN/A\r\nThiết kế: Nguyên khối\r\nMàn hình: OLED (Super Retina XDR), 6.5 inch, 2688 x 1242 pixels\r\nCamera Trước/Sau: 12MP / 12MP + 12MP + 12MP\r\nCPU: Apple A13 Bionic (7 nm+)\r\nBộ Nhớ: 64 GB\r\nRAM: 4GB\r\nSIM: 1 Nano SIM + 1 esim\r\nTính năng: Chống nước, chống bụi, Face ID, Sạc pin nhanh", "image_url"=>"iphone11.jpg", "price"=>"28.490.000"}, "commit"=>"Create Product"}
  [1m[35m (78.4ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/products_controller.rb:30:in `block in create'
  [1m[36mProduct Exists? (213.4ms)[0m  [1m[34mSELECT 1 AS one FROM "products" WHERE "products"."title" = ? LIMIT ?[0m  [["title", "Điện Thoại iPhone 11 Pro Max 64GB"], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:30:in `block in create'
  [1m[35m (105.1ms)[0m  [1m[31mrollback transaction[0m
  ↳ app/controllers/products_controller.rb:30:in `block in create'
  Rendering products/new.html.erb within layouts/application
  Rendered products/_form.html.erb (Duration: 6.7ms | Allocations: 1256)
  Rendered products/new.html.erb within layouts/application (Duration: 7.6ms | Allocations: 1338)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 548ms (Views: 20.1ms | ActiveRecord: 396.8ms | Allocations: 9293)


Started POST "/products" for ::1 at 2020-07-03 15:51:47 +0700
Processing by ProductsController#create as HTML
  Parameters: {"authenticity_token"=>"xy9OF10XqPVWBiDtBo2/vKZNXhrIihtowuG5jPWlV7SLmTcEJgNIGkqP+dgVYA3/DeSePUaUaOOjbUfwfpNNyw==", "product"=>{"title"=>"Điện Thoại iPhone 11 Pro Max 64GB", "description"=>"Chính hãng, Nguyên seal, Mới 100%, Chưa active\r\nMã part: VN/A\r\nThiết kế: Nguyên khối\r\nMàn hình: OLED (Super Retina XDR), 6.5 inch, 2688 x 1242 pixels\r\nCamera Trước/Sau: 12MP / 12MP + 12MP + 12MP\r\nCPU: Apple A13 Bionic (7 nm+)\r\nBộ Nhớ: 64 GB\r\nRAM: 4GB\r\nSIM: 1 Nano SIM + 1 esim\r\nTính năng: Chống nước, chống bụi, Face ID, Sạc pin nhanh", "image_url"=>"iphone11.jpg", "price"=>"28490000"}, "commit"=>"Create Product"}
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/products_controller.rb:30:in `block in create'
  [1m[36mProduct Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "products" WHERE "products"."title" = ? LIMIT ?[0m  [["title", "Điện Thoại iPhone 11 Pro Max 64GB"], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:30:in `block in create'
  [1m[36mProduct Create (268.9ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "image_url", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "Điện Thoại iPhone 11 Pro Max 64GB"], ["description", "Chính hãng, Nguyên seal, Mới 100%, Chưa active\r\nMã part: VN/A\r\nThiết kế: Nguyên khối\r\nMàn hình: OLED (Super Retina XDR), 6.5 inch, 2688 x 1242 pixels\r\nCamera Trước/Sau: 12MP / 12MP + 12MP + 12MP\r\nCPU: Apple A13 Bionic (7 nm+)\r\nBộ Nhớ: 64 GB\r\nRAM: 4GB\r\nSIM: 1 Nano SIM + 1 esim\r\nTính năng: Chống nước, chống bụi, Face ID, Sạc pin nhanh"], ["image_url", "iphone11.jpg"], ["price", 28490000.0], ["created_at", "2020-07-03 08:51:47.139046"], ["updated_at", "2020-07-03 08:51:47.139046"]]
  ↳ app/controllers/products_controller.rb:30:in `block in create'
  [1m[35m (581.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/products_controller.rb:30:in `block in create'
Redirected to http://localhost:3000/products/6
Completed 302 Found in 897ms (ActiveRecord: 850.7ms | Allocations: 5183)


Started GET "/products/6" for ::1 at 2020-07-03 15:51:48 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"6"}
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:67:in `set_product'
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (Duration: 57.6ms | Allocations: 306)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 78ms (Views: 70.2ms | ActiveRecord: 0.7ms | Allocations: 4955)


Started GET "/products" for ::1 at 2020-07-03 15:51:50 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:12
  Rendered products/index.html.erb within layouts/application (Duration: 1552.8ms | Allocations: 13812)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 1600ms (Views: 1595.6ms | ActiveRecord: 0.5ms | Allocations: 17584)


Started GET "/carts" for ::1 at 2020-07-03 15:52:24 +0700
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts"[0m
  ↳ app/views/carts/index.html.erb:13
  Rendered carts/index.html.erb within layouts/application (Duration: 6.3ms | Allocations: 762)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 33ms (Views: 30.2ms | ActiveRecord: 0.4ms | Allocations: 4727)


Started GET "/carts/new" for ::1 at 2020-07-03 15:52:28 +0700
Processing by CartsController#new as HTML
  Rendering carts/new.html.erb within layouts/application
  Rendered carts/_form.html.erb (Duration: 5.5ms | Allocations: 578)
  Rendered carts/new.html.erb within layouts/application (Duration: 35.5ms | Allocations: 903)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 60ms (Views: 57.2ms | ActiveRecord: 0.0ms | Allocations: 4987)


Started GET "/carts" for ::1 at 2020-07-03 15:52:29 +0700
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT "carts".* FROM "carts"[0m
  ↳ app/views/carts/index.html.erb:13
  Rendered carts/index.html.erb within layouts/application (Duration: 7.2ms | Allocations: 758)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 37ms (Views: 33.8ms | ActiveRecord: 0.5ms | Allocations: 4713)


Started GET "/carts/14" for ::1 at 2020-07-03 15:52:31 +0700
Processing by CartsController#show as HTML
  Parameters: {"id"=>"14"}
  [1m[36mCart Load (0.8ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 14], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:67:in `set_cart'
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 14]]
  ↳ app/views/carts/show.html.erb:5
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/carts/show.html.erb:6
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/carts/show.html.erb:6
  Rendered carts/show.html.erb within layouts/application (Duration: 18.2ms | Allocations: 2293)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 51ms (Views: 40.4ms | ActiveRecord: 2.0ms | Allocations: 6781)


Started GET "/carts" for ::1 at 2020-07-03 15:52:32 +0700
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts"[0m
  ↳ app/views/carts/index.html.erb:13
  Rendered carts/index.html.erb within layouts/application (Duration: 7.1ms | Allocations: 753)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 39ms (Views: 36.1ms | ActiveRecord: 0.4ms | Allocations: 4710)


Started DELETE "/carts/14" for ::1 at 2020-07-03 15:52:34 +0700
Processing by CartsController#destroy as HTML
  Parameters: {"authenticity_token"=>"/Ibi9Tkf31be7oeexhzpMs57IVM0NaujEc6szcTMQiawMJvmQgs/ucJnXqvV8VtxZdLhdLor2ChwQlKxT/pYWQ==", "id"=>"14"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 14], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:67:in `set_cart'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/carts_controller.rb:57:in `destroy'
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 14]]
  ↳ app/controllers/carts_controller.rb:57:in `destroy'
  [1m[36mLineItem Destroy (15.5ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 17]]
  ↳ app/controllers/carts_controller.rb:57:in `destroy'
  [1m[36mLineItem Destroy (0.6ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 18]]
  ↳ app/controllers/carts_controller.rb:57:in `destroy'
  [1m[36mCart Destroy (1.3ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 14]]
  ↳ app/controllers/carts_controller.rb:57:in `destroy'
  [1m[35m (473.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/carts_controller.rb:57:in `destroy'
Redirected to http://localhost:3000/carts
Completed 302 Found in 526ms (ActiveRecord: 491.6ms | Allocations: 6804)


Started GET "/carts" for ::1 at 2020-07-03 15:52:35 +0700
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts"[0m
  ↳ app/views/carts/index.html.erb:13
  Rendered carts/index.html.erb within layouts/application (Duration: 6.0ms | Allocations: 637)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 35ms (Views: 31.9ms | ActiveRecord: 0.4ms | Allocations: 4612)


Started GET "/" for ::1 at 2020-07-03 15:52:37 +0700
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 21.4ms | Allocations: 2807)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 46ms (Views: 42.9ms | ActiveRecord: 0.4ms | Allocations: 6672)


Started POST "/line_items?product_id=5" for ::1 at 2020-07-03 15:52:47 +0700
Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"HOztzXC4cRIcw8KnJlM40kZBrlMQPdlz74v3CEq0i3wAukH8Qtc2k/JW/xjXHmlJxSEuceTmpQAaZlO/c42Euw==", "product_id"=>"5"}
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 14], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[36mCart Create (1.1ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2020-07-03 08:52:47.398640"], ["updated_at", "2020-07-03 08:52:47.398640"]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[35m (710.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 15], ["product_id", 5], ["LIMIT", 1]]
  ↳ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mProduct Load (0.9ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mLineItem Create (0.6ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 5], ["cart_id", 15], ["created_at", "2020-07-03 08:52:48.148799"], ["updated_at", "2020-07-03 08:52:48.148799"]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[35m (331.6ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
Redirected to http://localhost:3000/carts/15
Completed 302 Found in 1106ms (ActiveRecord: 1045.8ms | Allocations: 10612)


Started GET "/carts/15" for ::1 at 2020-07-03 15:52:48 +0700
Processing by CartsController#show as HTML
  Parameters: {"id"=>"15"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 15], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:67:in `set_cart'
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 15]]
  ↳ app/views/carts/show.html.erb:5
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/carts/show.html.erb:6
  Rendered carts/show.html.erb within layouts/application (Duration: 5.5ms | Allocations: 1544)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 21ms (Views: 16.4ms | ActiveRecord: 0.6ms | Allocations: 6047)


Started POST "/line_items?product_id=5" for ::1 at 2020-07-03 15:52:52 +0700
Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"HAJ7fbP7EkjUcEVUYtQc9eRzT0ZC1zBaNFc+1a/TYU9QtAJuyO/yp8j5nGFxOa62T9qPYczJQ9FV28CpJOV7MA==", "product_id"=>"5"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 15], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 15], ["product_id", 5], ["LIMIT", 1]]
  ↳ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mLineItem Update (1.0ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 2], ["updated_at", "2020-07-03 08:52:52.219283"], ["id", 19]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[35m (237.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
Redirected to http://localhost:3000/carts/15
Completed 302 Found in 285ms (ActiveRecord: 240.1ms | Allocations: 6751)


Started GET "/carts/15" for ::1 at 2020-07-03 15:52:52 +0700
Processing by CartsController#show as HTML
  Parameters: {"id"=>"15"}
  [1m[36mCart Load (0.9ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 15], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:67:in `set_cart'
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (1.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 15]]
  ↳ app/views/carts/show.html.erb:5
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/carts/show.html.erb:6
  Rendered carts/show.html.erb within layouts/application (Duration: 15.5ms | Allocations: 1544)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 47ms (Views: 37.5ms | ActiveRecord: 2.4ms | Allocations: 6080)


Started POST "/line_items?product_id=4" for ::1 at 2020-07-03 15:55:33 +0700
Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"HAJ7fbP7EkjUcEVUYtQc9eRzT0ZC1zBaNFc+1a/TYU9QtAJuyO/yp8j5nGFxOa62T9qPYczJQ9FV28CpJOV7MA==", "product_id"=>"4"}
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 15], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 15], ["product_id", 4], ["LIMIT", 1]]
  ↳ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mProduct Load (1.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mLineItem Create (1.1ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 4], ["cart_id", 15], ["created_at", "2020-07-03 08:55:33.391991"], ["updated_at", "2020-07-03 08:55:33.391991"]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[35m (110.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
Redirected to http://localhost:3000/carts/15
Completed 302 Found in 174ms (ActiveRecord: 114.2ms | Allocations: 6844)


Started GET "/carts/15" for ::1 at 2020-07-03 15:55:33 +0700
Processing by CartsController#show as HTML
  Parameters: {"id"=>"15"}
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 15], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:67:in `set_cart'
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 15]]
  ↳ app/views/carts/show.html.erb:5
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/carts/show.html.erb:6
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/carts/show.html.erb:6
  Rendered carts/show.html.erb within layouts/application (Duration: 22.2ms | Allocations: 2295)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 57ms (Views: 50.2ms | ActiveRecord: 1.7ms | Allocations: 6798)


  [1m[35m (0.5ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (9.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CombineItemsInCart (20200703085803)
Started GET "/" for ::1 at 2020-07-03 16:12:24 +0700
  [1m[35m (0.4ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
ActiveRecord::PendingMigrationError (

Migrations are pending. To resolve this issue, run:

        rails db:migrate RAILS_ENV=development

):
  
activerecord (6.0.3.2) lib/active_record/migration.rb:586:in `check_pending!'
activerecord (6.0.3.2) lib/active_record/migration.rb:564:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.0.3.2) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (6.0.3.2) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
web-console (4.0.3) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.3) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.3) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.3) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.3.2) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.3.2) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.3.2) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.3.2) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.3.2) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.3.2) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.3) lib/rack/method_override.rb:24:in `call'
rack (2.2.3) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.3.2) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.3) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
webpacker (4.2.2) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.3.2) lib/rails/engine.rb:527:in `call'
puma (4.3.5) lib/puma/configuration.rb:228:in `call'
puma (4.3.5) lib/puma/server.rb:713:in `handle_request'
puma (4.3.5) lib/puma/server.rb:472:in `process_client'
puma (4.3.5) lib/puma/server.rb:328:in `block in run'
puma (4.3.5) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/" for ::1 at 2020-07-03 16:12:46 +0700
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
ActiveRecord::PendingMigrationError (

Migrations are pending. To resolve this issue, run:

        rails db:migrate RAILS_ENV=development

):
  
activerecord (6.0.3.2) lib/active_record/migration.rb:586:in `check_pending!'
activerecord (6.0.3.2) lib/active_record/migration.rb:564:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.0.3.2) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (6.0.3.2) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
web-console (4.0.3) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.3) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.3) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.3) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.3.2) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.3.2) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.3.2) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.3.2) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.3.2) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.3.2) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.3) lib/rack/method_override.rb:24:in `call'
rack (2.2.3) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.3.2) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.3) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
webpacker (4.2.2) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.3.2) lib/rails/engine.rb:527:in `call'
puma (4.3.5) lib/puma/configuration.rb:228:in `call'
puma (4.3.5) lib/puma/server.rb:713:in `handle_request'
puma (4.3.5) lib/puma/server.rb:472:in `process_client'
puma (4.3.5) lib/puma/server.rb:328:in `block in run'
puma (4.3.5) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/products" for ::1 at 2020-07-03 16:12:49 +0700
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
ActiveRecord::PendingMigrationError (

Migrations are pending. To resolve this issue, run:

        rails db:migrate RAILS_ENV=development

):
  
activerecord (6.0.3.2) lib/active_record/migration.rb:586:in `check_pending!'
activerecord (6.0.3.2) lib/active_record/migration.rb:564:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.0.3.2) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (6.0.3.2) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
web-console (4.0.3) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.3) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.3) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.3) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.3.2) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.3.2) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.3.2) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.3.2) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.3.2) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.3.2) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.3) lib/rack/method_override.rb:24:in `call'
rack (2.2.3) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.3.2) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.3) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
webpacker (4.2.2) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.3.2) lib/rails/engine.rb:527:in `call'
puma (4.3.5) lib/puma/configuration.rb:228:in `call'
puma (4.3.5) lib/puma/server.rb:713:in `handle_request'
puma (4.3.5) lib/puma/server.rb:472:in `process_client'
puma (4.3.5) lib/puma/server.rb:328:in `block in run'
puma (4.3.5) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started POST "/rails/actions" for ::1 at 2020-07-03 16:13:15 +0700
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CombineItemsInCart (20200703085803)
  
SyntaxError (/home/khanh/Desktop/depot/db/migrate/20200703085803_combine_items_in_cart.rb:19: syntax error, unexpected end-of-input, expecting `end'):
  
db/migrate/20200703085803_combine_items_in_cart.rb:19: syntax error, unexpected end-of-input, expecting `end'
db/migrate/20200703085803_combine_items_in_cart.rb:19: syntax error, unexpected end-of-input, expecting `end'
db/migrate/20200703085803_combine_items_in_cart.rb:19: syntax error, unexpected end-of-input, expecting `end'
bootsnap (1.4.6) lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:23:in `require'
bootsnap (1.4.6) lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:23:in `block in require_with_bootsnap_lfi'
bootsnap (1.4.6) lib/bootsnap/load_path_cache/loaded_features_index.rb:92:in `register'
bootsnap (1.4.6) lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:22:in `require_with_bootsnap_lfi'
bootsnap (1.4.6) lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:31:in `require'
zeitwerk (2.3.1) lib/zeitwerk/kernel.rb:34:in `require'
activerecord (6.0.3.2) lib/active_record/migration.rb:1010:in `load_migration'
activerecord (6.0.3.2) lib/active_record/migration.rb:1006:in `migration'
activerecord (6.0.3.2) lib/active_record/migration.rb:1002:in `disable_ddl_transaction'
activerecord (6.0.3.2) lib/active_record/migration.rb:1368:in `use_transaction?'
activerecord (6.0.3.2) lib/active_record/migration.rb:1360:in `ddl_transaction'
activerecord (6.0.3.2) lib/active_record/migration.rb:1309:in `execute_migration_in_transaction'
activerecord (6.0.3.2) lib/active_record/migration.rb:1281:in `block in migrate_without_lock'
activerecord (6.0.3.2) lib/active_record/migration.rb:1280:in `each'
activerecord (6.0.3.2) lib/active_record/migration.rb:1280:in `migrate_without_lock'
activerecord (6.0.3.2) lib/active_record/migration.rb:1231:in `migrate'
activerecord (6.0.3.2) lib/active_record/migration.rb:1061:in `up'
activerecord (6.0.3.2) lib/active_record/migration.rb:1036:in `migrate'
activerecord (6.0.3.2) lib/active_record/tasks/database_tasks.rb:238:in `migrate'
activerecord (6.0.3.2) lib/active_record/migration.rb:135:in `block in <class:PendingMigrationError>'
activesupport (6.0.3.2) lib/active_support/actionable_error.rb:28:in `dispatch'
actionpack (6.0.3.2) lib/action_dispatch/middleware/actionable_exceptions.rb:19:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
web-console (4.0.3) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.3) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.3) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.3) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.3.2) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.3.2) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.3.2) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.3.2) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.3.2) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.3.2) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.3) lib/rack/method_override.rb:24:in `call'
rack (2.2.3) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.3.2) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.3) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
webpacker (4.2.2) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.3.2) lib/rails/engine.rb:527:in `call'
puma (4.3.5) lib/puma/configuration.rb:228:in `call'
puma (4.3.5) lib/puma/server.rb:713:in `handle_request'
puma (4.3.5) lib/puma/server.rb:472:in `process_client'
puma (4.3.5) lib/puma/server.rb:328:in `block in run'
puma (4.3.5) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started POST "/rails/actions" for ::1 at 2020-07-03 16:13:29 +0700
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CombineItemsInCart (20200703085803)
  
SyntaxError (/home/khanh/Desktop/depot/db/migrate/20200703085803_combine_items_in_cart.rb:18: syntax error, unexpected end-of-input, expecting `end'):
  
db/migrate/20200703085803_combine_items_in_cart.rb:18: syntax error, unexpected end-of-input, expecting `end'
db/migrate/20200703085803_combine_items_in_cart.rb:18: syntax error, unexpected end-of-input, expecting `end'
db/migrate/20200703085803_combine_items_in_cart.rb:18: syntax error, unexpected end-of-input, expecting `end'
bootsnap (1.4.6) lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:23:in `require'
bootsnap (1.4.6) lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:23:in `block in require_with_bootsnap_lfi'
bootsnap (1.4.6) lib/bootsnap/load_path_cache/loaded_features_index.rb:92:in `register'
bootsnap (1.4.6) lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:22:in `require_with_bootsnap_lfi'
bootsnap (1.4.6) lib/bootsnap/load_path_cache/core_ext/kernel_require.rb:31:in `require'
zeitwerk (2.3.1) lib/zeitwerk/kernel.rb:34:in `require'
activerecord (6.0.3.2) lib/active_record/migration.rb:1010:in `load_migration'
activerecord (6.0.3.2) lib/active_record/migration.rb:1006:in `migration'
activerecord (6.0.3.2) lib/active_record/migration.rb:1002:in `disable_ddl_transaction'
activerecord (6.0.3.2) lib/active_record/migration.rb:1368:in `use_transaction?'
activerecord (6.0.3.2) lib/active_record/migration.rb:1360:in `ddl_transaction'
activerecord (6.0.3.2) lib/active_record/migration.rb:1309:in `execute_migration_in_transaction'
activerecord (6.0.3.2) lib/active_record/migration.rb:1281:in `block in migrate_without_lock'
activerecord (6.0.3.2) lib/active_record/migration.rb:1280:in `each'
activerecord (6.0.3.2) lib/active_record/migration.rb:1280:in `migrate_without_lock'
activerecord (6.0.3.2) lib/active_record/migration.rb:1231:in `migrate'
activerecord (6.0.3.2) lib/active_record/migration.rb:1061:in `up'
activerecord (6.0.3.2) lib/active_record/migration.rb:1036:in `migrate'
activerecord (6.0.3.2) lib/active_record/tasks/database_tasks.rb:238:in `migrate'
activerecord (6.0.3.2) lib/active_record/migration.rb:135:in `block in <class:PendingMigrationError>'
activesupport (6.0.3.2) lib/active_support/actionable_error.rb:28:in `dispatch'
actionpack (6.0.3.2) lib/action_dispatch/middleware/actionable_exceptions.rb:19:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
web-console (4.0.3) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.3) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.3) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.3) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.3.2) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.3.2) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.3.2) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.3.2) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.3.2) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.3.2) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.3) lib/rack/method_override.rb:24:in `call'
rack (2.2.3) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.3.2) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.3) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
webpacker (4.2.2) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.3.2) lib/rails/engine.rb:527:in `call'
puma (4.3.5) lib/puma/configuration.rb:228:in `call'
puma (4.3.5) lib/puma/server.rb:713:in `handle_request'
puma (4.3.5) lib/puma/server.rb:472:in `process_client'
puma (4.3.5) lib/puma/server.rb:328:in `block in run'
puma (4.3.5) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started POST "/rails/actions" for ::1 at 2020-07-03 16:13:40 +0700
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CombineItemsInCart (20200703085803)
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mprimary::SchemaMigration Create (30.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20200703085803"]]
  [1m[35m (149.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.6ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
Started GET "/products" for ::1 at 2020-07-03 16:13:40 +0700
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (12.0ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:12
  Rendered products/index.html.erb within layouts/application (Duration: 731.1ms | Allocations: 11065)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 906ms (Views: 840.9ms | ActiveRecord: 13.7ms | Allocations: 17730)


Started GET "/products" for ::1 at 2020-07-03 16:14:10 +0700
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:12
  Rendered products/index.html.erb within layouts/application (Duration: 16.1ms | Allocations: 2859)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 32ms (Views: 30.3ms | ActiveRecord: 0.2ms | Allocations: 6713)


Started GET "/products" for ::1 at 2020-07-03 16:14:11 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:12
  Rendered products/index.html.erb within layouts/application (Duration: 15.9ms | Allocations: 2860)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 32ms (Views: 28.3ms | ActiveRecord: 0.6ms | Allocations: 6730)


Started GET "/products" for ::1 at 2020-07-03 16:14:11 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.8ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:12
  Rendered products/index.html.erb within layouts/application (Duration: 20.4ms | Allocations: 2849)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 35ms (Views: 33.2ms | ActiveRecord: 0.8ms | Allocations: 6695)


Started GET "/products" for ::1 at 2020-07-03 16:14:11 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:12
  Rendered products/index.html.erb within layouts/application (Duration: 20.8ms | Allocations: 2849)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 41ms (Views: 37.3ms | ActiveRecord: 0.2ms | Allocations: 6701)


  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.2ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/products" for ::1 at 2020-07-03 16:14:57 +0700
  [1m[35m (1.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.8ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:12
  Rendered products/index.html.erb within layouts/application (Duration: 72.0ms | Allocations: 11748)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 113ms (Views: 92.8ms | ActiveRecord: 1.6ms | Allocations: 19196)


Started GET "/" for ::1 at 2020-07-03 16:15:03 +0700
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 69.4ms | Allocations: 3141)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 90ms (Views: 84.5ms | ActiveRecord: 0.4ms | Allocations: 7625)


Started POST "/line_items?product_id=4" for ::1 at 2020-07-03 16:15:05 +0700
Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"zPRcqxxNvfm2y/PBctK8HCMBWM8ZPgPb/xYw4Ke2Zv+AQiW4Z1ldFqpCKvRhPw5fiKiY6JcgcFCems6cLIB8gA==", "product_id"=>"4"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 15], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 15], ["product_id", 4], ["LIMIT", 1]]
  ↳ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mLineItem Update (0.3ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 2], ["updated_at", "2020-07-03 09:15:05.692984"], ["id", 20]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[35m (81.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
Redirected to http://localhost:3000/carts/15
Completed 302 Found in 209ms (ActiveRecord: 83.9ms | Allocations: 17296)


Started GET "/carts/15" for ::1 at 2020-07-03 16:15:05 +0700
Processing by CartsController#show as HTML
  Parameters: {"id"=>"15"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 15], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:67:in `set_cart'
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.9ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 15]]
  ↳ app/views/carts/show.html.erb:5
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/carts/show.html.erb:6
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/carts/show.html.erb:6
  Rendered carts/show.html.erb within layouts/application (Duration: 37.3ms | Allocations: 2680)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 59ms (Views: 50.9ms | ActiveRecord: 1.9ms | Allocations: 7822)


Started GET "/carts" for ::1 at 2020-07-03 16:15:09 +0700
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts"[0m
  ↳ app/views/carts/index.html.erb:13
  Rendered carts/index.html.erb within layouts/application (Duration: 32.7ms | Allocations: 1000)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 61ms (Views: 56.6ms | ActiveRecord: 0.3ms | Allocations: 5106)


Started GET "/" for ::1 at 2020-07-03 16:15:11 +0700
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 18.0ms | Allocations: 2821)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 31ms (Views: 29.1ms | ActiveRecord: 0.5ms | Allocations: 6719)


Started POST "/line_items?product_id=5" for ::1 at 2020-07-03 16:15:12 +0700
Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"EvCJ0DmkgqNxcnbILXXymnGYnUEgvpWvlAfBa8ZjUcsOpiXhC8vFIp/nS3fcOKMB8vgdY9Rl6dxh6mXc/1peDA==", "product_id"=>"5"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 15], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 15], ["product_id", 5], ["LIMIT", 1]]
  ↳ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mLineItem Update (1.7ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 3], ["updated_at", "2020-07-03 09:15:13.026050"], ["id", 19]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[35m (74.8ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
Redirected to http://localhost:3000/carts/15
Completed 302 Found in 116ms (ActiveRecord: 78.5ms | Allocations: 6706)


Started GET "/carts/15" for ::1 at 2020-07-03 16:15:13 +0700
Processing by CartsController#show as HTML
  Parameters: {"id"=>"15"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 15], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:67:in `set_cart'
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 15]]
  ↳ app/views/carts/show.html.erb:5
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/carts/show.html.erb:6
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/carts/show.html.erb:6
  Rendered carts/show.html.erb within layouts/application (Duration: 12.0ms | Allocations: 2443)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 25ms (Views: 20.3ms | ActiveRecord: 1.1ms | Allocations: 6948)


Started GET "/" for ::1 at 2020-07-03 16:15:15 +0700
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 15.1ms | Allocations: 2797)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 31ms (Views: 27.8ms | ActiveRecord: 0.5ms | Allocations: 6668)


Started POST "/line_items?product_id=6" for ::1 at 2020-07-03 16:15:17 +0700
Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"BmtOxvDzzM3hlRo8mvgvoJdB4kVBZKr+TvOCQ/Q7iJoaPeL3wpyLTA8AJ4NrtX47FCFiZ7W/1o27Hib0zQKHXQ==", "product_id"=>"6"}
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 15], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 15], ["product_id", 6], ["LIMIT", 1]]
  ↳ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mLineItem Create (1.7ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 6], ["cart_id", 15], ["created_at", "2020-07-03 09:15:17.083979"], ["updated_at", "2020-07-03 09:15:17.083979"]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[35m (655.7ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
Redirected to http://localhost:3000/carts/15
Completed 302 Found in 698ms (ActiveRecord: 659.4ms | Allocations: 6916)


Started GET "/carts/15" for ::1 at 2020-07-03 16:15:17 +0700
Processing by CartsController#show as HTML
  Parameters: {"id"=>"15"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 15], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:67:in `set_cart'
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 15]]
  ↳ app/views/carts/show.html.erb:5
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/carts/show.html.erb:6
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/carts/show.html.erb:6
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/views/carts/show.html.erb:6
  Rendered carts/show.html.erb within layouts/application (Duration: 6.1ms | Allocations: 3046)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 15ms (Views: 12.4ms | ActiveRecord: 0.7ms | Allocations: 7555)


Started GET "/" for ::1 at 2020-07-03 16:21:53 +0700
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 6.9ms | Allocations: 2824)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 17ms (Views: 16.0ms | ActiveRecord: 0.3ms | Allocations: 6688)


Started GET "/" for ::1 at 2020-07-03 16:34:02 +0700
  [1m[35m (0.4ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (1.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (1.4ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 33.9ms | Allocations: 2814)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 54ms (Views: 50.2ms | ActiveRecord: 1.4ms | Allocations: 6677)


Started GET "/" for ::1 at 2020-07-03 16:34:03 +0700
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 12.9ms | Allocations: 2800)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 27ms (Views: 25.1ms | ActiveRecord: 0.4ms | Allocations: 6668)


Started GET "/" for ::1 at 2020-07-03 16:34:03 +0700
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 30.2ms | Allocations: 2800)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 48ms (Views: 46.5ms | ActiveRecord: 0.5ms | Allocations: 6703)


Started POST "/line_items?product_id=4" for ::1 at 2020-07-03 16:34:04 +0700
Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"4oI1Z7UNPcDOkelYIBpA3hiezSBCHgZZoQQKH3zwJjiuNEx0zhndL9IYMG0z9/KdszcNB8wAddLAiPRj98Y8Rw==", "product_id"=>"4"}
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 15], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.8ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (1.9ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 15], ["product_id", 4], ["LIMIT", 1]]
  ↳ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mLineItem Update (0.8ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 3], ["updated_at", "2020-07-03 09:34:04.329674"], ["id", 20]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[35m (78.7ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
Redirected to http://localhost:3000/carts/15
Completed 302 Found in 128ms (ActiveRecord: 83.3ms | Allocations: 6717)


Started GET "/carts/15" for ::1 at 2020-07-03 16:34:04 +0700
Processing by CartsController#show as HTML
  Parameters: {"id"=>"15"}
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 15], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:67:in `set_cart'
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 15]]
  ↳ app/views/carts/show.html.erb:5
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/carts/show.html.erb:6
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/carts/show.html.erb:6
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/views/carts/show.html.erb:6
  Rendered carts/show.html.erb within layouts/application (Duration: 28.4ms | Allocations: 3063)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 57ms (Views: 47.9ms | ActiveRecord: 2.5ms | Allocations: 7565)


Started GET "/carts" for ::1 at 2020-07-03 16:34:07 +0700
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT "carts".* FROM "carts"[0m
  ↳ app/views/carts/index.html.erb:13
  Rendered carts/index.html.erb within layouts/application (Duration: 4.6ms | Allocations: 763)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 21ms (Views: 18.7ms | ActiveRecord: 0.5ms | Allocations: 4727)


Started GET "/carts/15/edit" for ::1 at 2020-07-03 16:34:09 +0700
Processing by CartsController#edit as HTML
  Parameters: {"id"=>"15"}
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 15], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:67:in `set_cart'
  Rendering carts/edit.html.erb within layouts/application
  Rendered carts/_form.html.erb (Duration: 187.5ms | Allocations: 1658)
  Rendered carts/edit.html.erb within layouts/application (Duration: 215.2ms | Allocations: 2044)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 240ms (Views: 232.5ms | ActiveRecord: 0.4ms | Allocations: 6659)


Started GET "/carts" for ::1 at 2020-07-03 16:34:11 +0700
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts"[0m
  ↳ app/views/carts/index.html.erb:13
  Rendered carts/index.html.erb within layouts/application (Duration: 6.5ms | Allocations: 756)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 40ms (Views: 37.0ms | ActiveRecord: 0.3ms | Allocations: 4721)


Started GET "/carts/15/edit" for ::1 at 2020-07-03 16:34:12 +0700
Processing by CartsController#edit as HTML
  Parameters: {"id"=>"15"}
  [1m[36mCart Load (0.8ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 15], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:67:in `set_cart'
  Rendering carts/edit.html.erb within layouts/application
  Rendered carts/_form.html.erb (Duration: 2.2ms | Allocations: 352)
  Rendered carts/edit.html.erb within layouts/application (Duration: 3.2ms | Allocations: 464)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 37ms (Views: 28.5ms | ActiveRecord: 0.8ms | Allocations: 4933)


Started GET "/carts/15" for ::1 at 2020-07-03 16:34:13 +0700
Processing by CartsController#show as HTML
  Parameters: {"id"=>"15"}
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 15], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:67:in `set_cart'
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 15]]
  ↳ app/views/carts/show.html.erb:5
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/carts/show.html.erb:6
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/carts/show.html.erb:6
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/views/carts/show.html.erb:6
  Rendered carts/show.html.erb within layouts/application (Duration: 27.8ms | Allocations: 3044)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 56ms (Views: 45.7ms | ActiveRecord: 2.1ms | Allocations: 7529)


Started GET "/carts/15/edit" for ::1 at 2020-07-03 16:34:15 +0700
Processing by CartsController#edit as HTML
  Parameters: {"id"=>"15"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 15], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:67:in `set_cart'
  Rendering carts/edit.html.erb within layouts/application
  Rendered carts/_form.html.erb (Duration: 1.6ms | Allocations: 352)
  Rendered carts/edit.html.erb within layouts/application (Duration: 2.1ms | Allocations: 464)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 22ms (Views: 18.5ms | ActiveRecord: 0.3ms | Allocations: 4951)


Started PATCH "/carts/15" for ::1 at 2020-07-03 16:34:16 +0700
Processing by CartsController#update as HTML
  Parameters: {"authenticity_token"=>"oBbYLT5ScSA76k6UxZRltI+JSPHdIA6wJb+IH/i2JjdINqFt7oLL+HqdSwFofGZLoU/LuukHnB04s7DhnQkq0Q==", "commit"=>"Update Cart", "id"=>"15"}
  [1m[36mCart Load (0.6ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 15], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:67:in `set_cart'
Redirected to http://localhost:3000/carts/15
Completed 302 Found in 10ms (ActiveRecord: 0.6ms | Allocations: 1208)


Started GET "/carts/15" for ::1 at 2020-07-03 16:34:16 +0700
Processing by CartsController#show as HTML
  Parameters: {"id"=>"15"}
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 15], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:67:in `set_cart'
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 15]]
  ↳ app/views/carts/show.html.erb:5
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/carts/show.html.erb:6
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/carts/show.html.erb:6
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/views/carts/show.html.erb:6
  Rendered carts/show.html.erb within layouts/application (Duration: 18.5ms | Allocations: 3046)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 40ms (Views: 29.9ms | ActiveRecord: 2.0ms | Allocations: 7559)


Started GET "/carts/15/edit" for ::1 at 2020-07-03 16:34:18 +0700
Processing by CartsController#edit as HTML
  Parameters: {"id"=>"15"}
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 15], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:67:in `set_cart'
  Rendering carts/edit.html.erb within layouts/application
  Rendered carts/_form.html.erb (Duration: 3.1ms | Allocations: 352)
  Rendered carts/edit.html.erb within layouts/application (Duration: 4.2ms | Allocations: 464)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 26ms (Views: 20.5ms | ActiveRecord: 0.4ms | Allocations: 4952)


Started GET "/carts" for ::1 at 2020-07-03 16:34:19 +0700
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts"[0m
  ↳ app/views/carts/index.html.erb:13
  Rendered carts/index.html.erb within layouts/application (Duration: 6.0ms | Allocations: 753)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 28ms (Views: 25.8ms | ActiveRecord: 0.4ms | Allocations: 4718)


Started DELETE "/carts/15" for ::1 at 2020-07-03 16:34:22 +0700
Processing by CartsController#destroy as HTML
  Parameters: {"authenticity_token"=>"MZFhF6upcsPE4E4ikm7a8fzJspf2P6U3GrtPRcHF2Fx9JxgE0L2SLNhplxeBg2iyV2BysHgh1rx7N7E5SvPCIw==", "id"=>"15"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 15], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:67:in `set_cart'
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/carts_controller.rb:57:in `destroy'
  [1m[36mLineItem Load (0.8ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 15]]
  ↳ app/controllers/carts_controller.rb:57:in `destroy'
  [1m[36mLineItem Destroy (1.1ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 19]]
  ↳ app/controllers/carts_controller.rb:57:in `destroy'
  [1m[36mLineItem Destroy (0.6ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 20]]
  ↳ app/controllers/carts_controller.rb:57:in `destroy'
  [1m[36mLineItem Destroy (0.2ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 21]]
  ↳ app/controllers/carts_controller.rb:57:in `destroy'
  [1m[36mCart Destroy (0.2ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 15]]
  ↳ app/controllers/carts_controller.rb:57:in `destroy'
  [1m[35m (76.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/carts_controller.rb:57:in `destroy'
Redirected to http://localhost:3000/carts
Completed 302 Found in 115ms (ActiveRecord: 79.7ms | Allocations: 7681)


Started GET "/carts" for ::1 at 2020-07-03 16:34:22 +0700
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts"[0m
  ↳ app/views/carts/index.html.erb:13
  Rendered carts/index.html.erb within layouts/application (Duration: 3.3ms | Allocations: 637)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 30ms (Views: 27.4ms | ActiveRecord: 0.2ms | Allocations: 4639)


Started GET "/" for ::1 at 2020-07-03 16:34:24 +0700
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 18.9ms | Allocations: 2813)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 36ms (Views: 32.7ms | ActiveRecord: 0.4ms | Allocations: 6685)


Started POST "/line_items?product_id=4" for ::1 at 2020-07-03 16:34:24 +0700
Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"066qRmTnPciURO9tDYWU0uho3BWD5jRsjHJw/LnoqbrP+AZ3Voh6SXrR0tL8yMVJawhcN3c9SB95n9RLgNGmfQ==", "product_id"=>"4"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 15], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[36mCart Create (0.8ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2020-07-03 09:34:24.912825"], ["updated_at", "2020-07-03 09:34:24.912825"]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[35m (102.8ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 16], ["product_id", 4], ["LIMIT", 1]]
  ↳ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mLineItem Create (2.0ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 4], ["cart_id", 16], ["created_at", "2020-07-03 09:34:25.056197"], ["updated_at", "2020-07-03 09:34:25.056197"]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[35m (70.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
Redirected to http://localhost:3000/carts/16
Completed 302 Found in 242ms (ActiveRecord: 177.5ms | Allocations: 10542)


Started GET "/carts/16" for ::1 at 2020-07-03 16:34:25 +0700
Processing by CartsController#show as HTML
  Parameters: {"id"=>"16"}
  [1m[36mCart Load (0.6ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 16], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:67:in `set_cart'
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 16]]
  ↳ app/views/carts/show.html.erb:5
  [1m[36mProduct Load (1.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/carts/show.html.erb:6
  Rendered carts/show.html.erb within layouts/application (Duration: 13.9ms | Allocations: 1544)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 46ms (Views: 36.5ms | ActiveRecord: 2.4ms | Allocations: 6055)


  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CombineItemsInCart (20200703085803)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE (quantity>1)[0m
  [1m[36mprimary::SchemaMigration Destroy (0.4ms)[0m  [1m[31mDELETE FROM "schema_migrations" WHERE "schema_migrations"."version" = ?[0m  [["version", "20200703085803"]]
  [1m[35m (106.0ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/carts/16" for ::1 at 2020-07-03 16:36:21 +0700
  [1m[35m (1.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  
ActiveRecord::PendingMigrationError (

Migrations are pending. To resolve this issue, run:

        rails db:migrate RAILS_ENV=development

):
  
activerecord (6.0.3.2) lib/active_record/migration.rb:586:in `check_pending!'
activerecord (6.0.3.2) lib/active_record/migration.rb:564:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.0.3.2) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (6.0.3.2) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
web-console (4.0.3) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.3) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.3) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.3) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.3.2) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.3.2) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.3.2) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.3.2) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.3.2) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.3.2) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.3) lib/rack/method_override.rb:24:in `call'
rack (2.2.3) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.3.2) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.3) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
webpacker (4.2.2) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.3.2) lib/rails/engine.rb:527:in `call'
puma (4.3.5) lib/puma/configuration.rb:228:in `call'
puma (4.3.5) lib/puma/server.rb:713:in `handle_request'
puma (4.3.5) lib/puma/server.rb:472:in `process_client'
puma (4.3.5) lib/puma/server.rb:328:in `block in run'
puma (4.3.5) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started POST "/rails/actions" for ::1 at 2020-07-03 16:36:27 +0700
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CombineItemsInCart (20200703085803)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mCart Load (0.8ms)[0m  [1m[34mSELECT "carts".* FROM "carts"[0m
  [1m[35m (0.8ms)[0m  [1m[34mSELECT SUM("line_items"."quantity") AS sum_quantity, "line_items"."product_id" AS line_items_product_id FROM "line_items" WHERE "line_items"."cart_id" = ? GROUP BY "line_items"."product_id"[0m  [["cart_id", 16]]
  [1m[36mprimary::SchemaMigration Create (0.5ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20200703085803"]]
  [1m[35m (1344.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
Started GET "/carts/16" for ::1 at 2020-07-03 16:36:29 +0700
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by CartsController#show as HTML
  Parameters: {"id"=>"16"}
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 16], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:67:in `set_cart'
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 16]]
  ↳ app/views/carts/show.html.erb:5
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/carts/show.html.erb:6
  Rendered carts/show.html.erb within layouts/application (Duration: 41.6ms | Allocations: 11510)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 91ms (Views: 75.3ms | ActiveRecord: 3.9ms | Allocations: 21064)


Started GET "/carts/16" for ::1 at 2020-07-03 16:36:31 +0700
Processing by CartsController#show as HTML
  Parameters: {"id"=>"16"}
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 16], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:67:in `set_cart'
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 16]]
  ↳ app/views/carts/show.html.erb:5
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/carts/show.html.erb:6
  Rendered carts/show.html.erb within layouts/application (Duration: 18.8ms | Allocations: 1551)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 53ms (Views: 45.8ms | ActiveRecord: 1.3ms | Allocations: 6043)


Started GET "/" for ::1 at 2020-07-03 16:36:35 +0700
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 24.6ms | Allocations: 3213)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 42ms (Views: 36.6ms | ActiveRecord: 0.7ms | Allocations: 7713)


Started POST "/line_items?product_id=4" for ::1 at 2020-07-03 16:36:37 +0700
Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"BXIBVxxAurktkSxBn9bHhUg5QjfAO3BkIkyzPVHjg7IZJK1mLi/9OMMEEf5um5Yey1nCFTTgDBfXoReKaNqMdQ==", "product_id"=>"4"}
  [1m[36mCart Load (0.6ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 16], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.7ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 16], ["product_id", 4], ["LIMIT", 1]]
  ↳ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.4ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mLineItem Update (0.9ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 2], ["updated_at", "2020-07-03 09:36:37.216222"], ["id", 22]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[35m (608.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
Redirected to http://localhost:3000/carts/16
Completed 302 Found in 650ms (ActiveRecord: 611.6ms | Allocations: 7212)


Started GET "/carts/16" for ::1 at 2020-07-03 16:36:37 +0700
Processing by CartsController#show as HTML
  Parameters: {"id"=>"16"}
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 16], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:67:in `set_cart'
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 16]]
  ↳ app/views/carts/show.html.erb:5
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/carts/show.html.erb:6
  Rendered carts/show.html.erb within layouts/application (Duration: 11.1ms | Allocations: 1551)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 35ms (Views: 28.6ms | ActiveRecord: 1.4ms | Allocations: 6061)


  [1m[35m (0.4ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/" for ::1 at 2020-07-03 16:37:50 +0700
  [1m[35m (0.6ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (1.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 101.6ms | Allocations: 12066)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 166ms (Views: 129.3ms | ActiveRecord: 5.2ms | Allocations: 20025)


Started POST "/line_items?product_id=5" for ::1 at 2020-07-03 16:37:52 +0700
Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"1Iti8HxNom9Dl1g6nRaOCN2CSQGTVOJFyCQy3TF08PCYPRvjB1lCgF8egQ+O+zxLdiuJJh1Kkc6pqMyhukLqjw==", "product_id"=>"5"}
  [1m[36mCart Load (1.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 16], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (1.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 16], ["product_id", 5], ["LIMIT", 1]]
  ↳ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mLineItem Create (1.2ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 5], ["cart_id", 16], ["created_at", "2020-07-03 09:37:52.938275"], ["updated_at", "2020-07-03 09:37:52.938275"]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[35m (67.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
Redirected to http://localhost:3000/carts/16
Completed 302 Found in 180ms (ActiveRecord: 77.0ms | Allocations: 17342)


Started GET "/carts/16" for ::1 at 2020-07-03 16:37:53 +0700
Processing by CartsController#show as HTML
  Parameters: {"id"=>"16"}
  [1m[36mCart Load (0.7ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 16], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:67:in `set_cart'
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 16]]
  ↳ app/views/carts/show.html.erb:5
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/carts/show.html.erb:6
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/carts/show.html.erb:6
  Rendered carts/show.html.erb within layouts/application (Duration: 15.1ms | Allocations: 2689)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 30ms (Views: 24.2ms | ActiveRecord: 1.7ms | Allocations: 7979)


Started GET "/carts" for ::1 at 2020-07-03 16:37:58 +0700
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts"[0m
  ↳ app/views/carts/index.html.erb:13
  Rendered carts/index.html.erb within layouts/application (Duration: 3.9ms | Allocations: 1006)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 18ms (Views: 15.2ms | ActiveRecord: 0.3ms | Allocations: 5118)


Started DELETE "/carts/16" for ::1 at 2020-07-03 16:38:00 +0700
Processing by CartsController#destroy as HTML
  Parameters: {"authenticity_token"=>"9sumv/KLOVK7Fogje9kXSA3iNu9Hfoa6YiXMm0p5YT66fd+siZ/ZvaefURZoNKULpkv2yMlg9TEDqTLnwU97QQ==", "id"=>"16"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 16], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:67:in `set_cart'
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/carts_controller.rb:57:in `destroy'
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 16]]
  ↳ app/controllers/carts_controller.rb:57:in `destroy'
  [1m[36mLineItem Destroy (1.2ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 22]]
  ↳ app/controllers/carts_controller.rb:57:in `destroy'
  [1m[36mLineItem Destroy (0.9ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 23]]
  ↳ app/controllers/carts_controller.rb:57:in `destroy'
  [1m[36mCart Destroy (0.3ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 16]]
  ↳ app/controllers/carts_controller.rb:57:in `destroy'
  [1m[35m (68.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/carts_controller.rb:57:in `destroy'
Redirected to http://localhost:3000/carts
Completed 302 Found in 100ms (ActiveRecord: 71.4ms | Allocations: 6748)


Started GET "/carts" for ::1 at 2020-07-03 16:38:00 +0700
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT "carts".* FROM "carts"[0m
  ↳ app/views/carts/index.html.erb:13
  Rendered carts/index.html.erb within layouts/application (Duration: 5.1ms | Allocations: 638)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 27ms (Views: 24.3ms | ActiveRecord: 0.5ms | Allocations: 4763)


Started GET "/carts/new" for ::1 at 2020-07-03 16:38:01 +0700
Processing by CartsController#new as HTML
  Rendering carts/new.html.erb within layouts/application
  Rendered carts/_form.html.erb (Duration: 12.4ms | Allocations: 1624)
  Rendered carts/new.html.erb within layouts/application (Duration: 31.3ms | Allocations: 1957)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 59ms (Views: 55.7ms | ActiveRecord: 0.0ms | Allocations: 6050)


Started POST "/carts" for ::1 at 2020-07-03 16:38:02 +0700
Processing by CartsController#create as HTML
  Parameters: {"authenticity_token"=>"GeV3qJkoIvJQvgLI3WTcMZx5S03xzaReefo2dHgM8xLPTIZZvI6WLB7R5a19yhZc+9NrR7UBkv1sGLbY4LAdrw==", "commit"=>"Create Cart"}
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/carts_controller.rb:30:in `block in create'
  [1m[36mCart Create (1.4ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2020-07-03 09:38:02.579765"], ["updated_at", "2020-07-03 09:38:02.579765"]]
  ↳ app/controllers/carts_controller.rb:30:in `block in create'
  [1m[35m (77.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/carts_controller.rb:30:in `block in create'
Redirected to http://localhost:3000/carts/17
Completed 302 Found in 142ms (ActiveRecord: 78.8ms | Allocations: 3703)


Started GET "/carts/17" for ::1 at 2020-07-03 16:38:02 +0700
Processing by CartsController#show as HTML
  Parameters: {"id"=>"17"}
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 17], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:67:in `set_cart'
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 17]]
  ↳ app/views/carts/show.html.erb:5
  Rendered carts/show.html.erb within layouts/application (Duration: 7.3ms | Allocations: 798)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 37ms (Views: 29.0ms | ActiveRecord: 0.9ms | Allocations: 5337)


Started GET "/carts/17/edit" for ::1 at 2020-07-03 16:38:04 +0700
Processing by CartsController#edit as HTML
  Parameters: {"id"=>"17"}
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 17], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:67:in `set_cart'
  Rendering carts/edit.html.erb within layouts/application
  Rendered carts/_form.html.erb (Duration: 3.6ms | Allocations: 381)
  Rendered carts/edit.html.erb within layouts/application (Duration: 6.9ms | Allocations: 621)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 35ms (Views: 27.0ms | ActiveRecord: 0.4ms | Allocations: 5242)


Started GET "/carts" for ::1 at 2020-07-03 16:38:05 +0700
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts"[0m
  ↳ app/views/carts/index.html.erb:13
  Rendered carts/index.html.erb within layouts/application (Duration: 5.4ms | Allocations: 765)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 23ms (Views: 20.7ms | ActiveRecord: 0.4ms | Allocations: 4731)


Started GET "/carts/new" for ::1 at 2020-07-03 16:38:06 +0700
Processing by CartsController#new as HTML
  Rendering carts/new.html.erb within layouts/application
  Rendered carts/_form.html.erb (Duration: 3.1ms | Allocations: 319)
  Rendered carts/new.html.erb within layouts/application (Duration: 4.2ms | Allocations: 401)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 26ms (Views: 23.5ms | ActiveRecord: 0.0ms | Allocations: 4360)


Started GET "/" for ::1 at 2020-07-03 16:38:08 +0700
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 20.7ms | Allocations: 2810)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 37ms (Views: 32.6ms | ActiveRecord: 0.5ms | Allocations: 6670)


Started POST "/line_items?product_id=5" for ::1 at 2020-07-03 16:38:09 +0700
Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"bxpabDPTLbdVxj53m02BjOcRQn/Xhwr4f3n/xLtRootzTPZdAbxqNrtTA8hqANAXZHHCXSNcdouKlFtzgmitTA==", "product_id"=>"5"}
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 16], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[36mCart Create (1.0ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2020-07-03 09:38:09.617634"], ["updated_at", "2020-07-03 09:38:09.617634"]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[35m (131.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 18], ["product_id", 5], ["LIMIT", 1]]
  ↳ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mLineItem Create (1.3ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 5], ["cart_id", 18], ["created_at", "2020-07-03 09:38:09.798338"], ["updated_at", "2020-07-03 09:38:09.798338"]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[35m (70.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
Redirected to http://localhost:3000/carts/18
Completed 302 Found in 275ms (ActiveRecord: 206.3ms | Allocations: 10528)


Started GET "/carts/18" for ::1 at 2020-07-03 16:38:09 +0700
Processing by CartsController#show as HTML
  Parameters: {"id"=>"18"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 18], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:67:in `set_cart'
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 18]]
  ↳ app/views/carts/show.html.erb:5
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/carts/show.html.erb:6
  Rendered carts/show.html.erb within layouts/application (Duration: 11.5ms | Allocations: 1544)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 32ms (Views: 28.7ms | ActiveRecord: 0.9ms | Allocations: 6048)


Started POST "/line_items?product_id=6" for ::1 at 2020-07-03 16:38:13 +0700
Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"BXwOVltmnhMfqpdGUE7uh5sNe4AEm/n2V4o6BIV80IBJyndFIHJ+/AMjTnNDo1zEMKS7p4qFin02BsR4DkrK/w==", "product_id"=>"6"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 18], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 18], ["product_id", 6], ["LIMIT", 1]]
  ↳ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mLineItem Create (1.1ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 6], ["cart_id", 18], ["created_at", "2020-07-03 09:38:13.300626"], ["updated_at", "2020-07-03 09:38:13.300626"]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[35m (65.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
Redirected to http://localhost:3000/carts/18
Completed 302 Found in 98ms (ActiveRecord: 67.2ms | Allocations: 6764)


Started GET "/carts/18" for ::1 at 2020-07-03 16:38:13 +0700
Processing by CartsController#show as HTML
  Parameters: {"id"=>"18"}
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 18], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:67:in `set_cart'
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 18]]
  ↳ app/views/carts/show.html.erb:5
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/carts/show.html.erb:6
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/views/carts/show.html.erb:6
  Rendered carts/show.html.erb within layouts/application (Duration: 18.9ms | Allocations: 2442)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 49ms (Views: 41.5ms | ActiveRecord: 1.6ms | Allocations: 6964)


Started POST "/line_items?product_id=5" for ::1 at 2020-07-03 16:38:16 +0700
Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"BXwOVltmnhMfqpdGUE7uh5sNe4AEm/n2V4o6BIV80IBJyndFIHJ+/AMjTnNDo1zEMKS7p4qFin02BsR4DkrK/w==", "product_id"=>"5"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 18], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 18], ["product_id", 5], ["LIMIT", 1]]
  ↳ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mLineItem Update (0.5ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 2], ["updated_at", "2020-07-03 09:38:16.542785"], ["id", 24]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[35m (107.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
Redirected to http://localhost:3000/carts/18
Completed 302 Found in 144ms (ActiveRecord: 109.5ms | Allocations: 6804)


Started GET "/carts/18" for ::1 at 2020-07-03 16:38:16 +0700
Processing by CartsController#show as HTML
  Parameters: {"id"=>"18"}
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 18], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:67:in `set_cart'
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 18]]
  ↳ app/views/carts/show.html.erb:5
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/carts/show.html.erb:6
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/views/carts/show.html.erb:6
  Rendered carts/show.html.erb within layouts/application (Duration: 20.5ms | Allocations: 2295)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 52ms (Views: 42.9ms | ActiveRecord: 1.6ms | Allocations: 6801)


Started GET "/carts" for ::1 at 2020-07-03 16:42:40 +0700
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.6ms)[0m  [1m[34mSELECT "carts".* FROM "carts"[0m
  ↳ app/views/carts/index.html.erb:13
  Rendered carts/index.html.erb within layouts/application (Duration: 6.1ms | Allocations: 871)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 21ms (Views: 17.9ms | ActiveRecord: 0.6ms | Allocations: 4832)


Started DELETE "/carts/18" for ::1 at 2020-07-03 16:42:43 +0700
Processing by CartsController#destroy as HTML
  Parameters: {"authenticity_token"=>"yV5RHv+qVfp1EaBl/dlmbt4EZj6/mzMBPyC04N+xggeF6CgNhL61FWmYeVDuNNQtda2mGTGFQIperEqcVIeYeA==", "id"=>"18"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 18], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:67:in `set_cart'
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/carts_controller.rb:57:in `destroy'
  [1m[36mLineItem Load (0.8ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 18]]
  ↳ app/controllers/carts_controller.rb:57:in `destroy'
  [1m[36mLineItem Destroy (1.6ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 24]]
  ↳ app/controllers/carts_controller.rb:57:in `destroy'
  [1m[36mLineItem Destroy (0.5ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 25]]
  ↳ app/controllers/carts_controller.rb:57:in `destroy'
  [1m[36mCart Destroy (0.3ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 18]]
  ↳ app/controllers/carts_controller.rb:57:in `destroy'
  [1m[35m (728.7ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/carts_controller.rb:57:in `destroy'
Redirected to http://localhost:3000/carts
Completed 302 Found in 780ms (ActiveRecord: 732.3ms | Allocations: 6757)


Started GET "/carts" for ::1 at 2020-07-03 16:42:44 +0700
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts"[0m
  ↳ app/views/carts/index.html.erb:13
  Rendered carts/index.html.erb within layouts/application (Duration: 5.0ms | Allocations: 755)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 39ms (Views: 35.0ms | ActiveRecord: 0.3ms | Allocations: 4741)


Started GET "/" for ::1 at 2020-07-03 16:42:45 +0700
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 11.1ms | Allocations: 2806)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 23ms (Views: 21.5ms | ActiveRecord: 0.2ms | Allocations: 6667)


Started POST "/line_items?product_id=4" for ::1 at 2020-07-03 16:42:47 +0700
Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"Vw8loAYs+9EMCZuHoiOJYeMg9/pOgkZ3zbyPQaOPKydLWYmRNEO8UOKcpjhTbtj6YEB32LpZOgQ4USv2mrYk4A==", "product_id"=>"4"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 18], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[36mCart Create (1.1ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2020-07-03 09:42:47.307095"], ["updated_at", "2020-07-03 09:42:47.307095"]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[35m (943.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.7ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 19], ["product_id", 4], ["LIMIT", 1]]
  ↳ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mLineItem Create (1.2ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 4], ["cart_id", 19], ["created_at", "2020-07-03 09:42:48.291439"], ["updated_at", "2020-07-03 09:42:48.291439"]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[35m (64.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
Redirected to http://localhost:3000/carts/19
Completed 302 Found in 1069ms (ActiveRecord: 1013.0ms | Allocations: 10651)


Started GET "/carts/19" for ::1 at 2020-07-03 16:42:48 +0700
Processing by CartsController#show as HTML
  Parameters: {"id"=>"19"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 19], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:67:in `set_cart'
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 19]]
  ↳ app/views/carts/show.html.erb:5
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/carts/show.html.erb:6
  Rendered carts/show.html.erb within layouts/application (Duration: 4.5ms | Allocations: 1544)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 18ms (Views: 14.9ms | ActiveRecord: 0.4ms | Allocations: 6042)


Started GET "/" for ::1 at 2020-07-03 16:48:49 +0700
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.9ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 19.8ms | Allocations: 2828)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 35ms (Views: 31.1ms | ActiveRecord: 0.9ms | Allocations: 6689)


Started GET "/" for ::1 at 2020-07-03 16:54:13 +0700
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 285.3ms | Allocations: 6810)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 309ms (Views: 306.6ms | ActiveRecord: 0.3ms | Allocations: 11526)


Started POST "/line_items?product_id=4" for ::1 at 2020-07-03 16:54:20 +0700
Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"GTwPrDMSQVafdSh+Tot63sE+vGrUQ8VFTE+tlGcNnQdVina/SAahuYP88UtdZsidapd8TVpdts4tw1Po7DuHeA==", "product_id"=>"4"}
  [1m[36mCart Load (0.6ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 19], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 19], ["product_id", 4], ["LIMIT", 1]]
  ↳ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mLineItem Update (0.4ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 2], ["updated_at", "2020-07-03 09:54:20.225952"], ["id", 26]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[35m (104.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
Redirected to http://localhost:3000/carts/19
Completed 302 Found in 141ms (ActiveRecord: 107.2ms | Allocations: 6796)


Started GET "/carts/19" for ::1 at 2020-07-03 16:54:20 +0700
Processing by CartsController#show as HTML
  Parameters: {"id"=>"19"}
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 19], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:67:in `set_cart'
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.9ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 19]]
  ↳ app/views/carts/show.html.erb:5
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/carts/show.html.erb:6
  Rendered carts/show.html.erb within layouts/application (Duration: 13.9ms | Allocations: 1752)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 35ms (Views: 27.3ms | ActiveRecord: 1.8ms | Allocations: 6830)


Started GET "/" for ::1 at 2020-07-03 17:04:41 +0700
  [1m[35m (0.4ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 28.1ms | Allocations: 3198)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 54ms (Views: 51.0ms | ActiveRecord: 0.4ms | Allocations: 7084)


Started GET "/" for ::1 at 2020-07-04 10:38:35 +0700
  [1m[35m (1.5ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (1.7ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 1965.2ms | Allocations: 12889)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 3272ms (Views: 2695.1ms | ActiveRecord: 4.2ms | Allocations: 20399)


Started POST "/line_items?product_id=4" for ::1 at 2020-07-04 10:39:00 +0700
Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"seucfMt4usG7SGVPpfeAEasVQWokRATwydSpVU1a4PwfawfAPoub3apIyNyCkzg2UYeYhvCLmKshP+FWnDz9WQ==", "product_id"=>"4"}
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[36mCart Create (36.1ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2020-07-04 03:39:00.833067"], ["updated_at", "2020-07-04 03:39:00.833067"]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[35m (1862.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 20], ["product_id", 4], ["LIMIT", 1]]
  ↳ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mLineItem Create (0.5ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 4], ["cart_id", 20], ["created_at", "2020-07-04 03:39:02.844315"], ["updated_at", "2020-07-04 03:39:02.844315"]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[35m (87.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
Redirected to http://localhost:3000/carts/20
Completed 302 Found in 2178ms (ActiveRecord: 1991.2ms | Allocations: 20690)


Started GET "/carts/20" for ::1 at 2020-07-04 10:39:02 +0700
Processing by CartsController#show as HTML
  Parameters: {"id"=>"20"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 20], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:67:in `set_cart'
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 20]]
  ↳ app/views/carts/show.html.erb:5
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/carts/show.html.erb:6
  Rendered carts/show.html.erb within layouts/application (Duration: 73.7ms | Allocations: 1938)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 101ms (Views: 95.8ms | ActiveRecord: 0.9ms | Allocations: 7192)


Started GET "/" for ::1 at 2020-07-04 10:39:05 +0700
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.8ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 24.9ms | Allocations: 3200)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 49ms (Views: 45.9ms | ActiveRecord: 0.8ms | Allocations: 7068)


Started POST "/line_items?product_id=4" for ::1 at 2020-07-04 10:39:10 +0700
Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"2+YirK4UlZ75HRPhoRM1Q5PLHtBetIxvFx3t5o6oau9J4TTF2zMEPzfFrRdooWOrXXQmk377eWUzKo5wDMKTwQ==", "product_id"=>"4"}
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 20], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 20], ["product_id", 4], ["LIMIT", 1]]
  ↳ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mLineItem Update (0.9ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 2], ["updated_at", "2020-07-04 03:39:10.356479"], ["id", 27]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[35m (640.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
Redirected to http://localhost:3000/carts/20
Completed 302 Found in 677ms (ActiveRecord: 642.9ms | Allocations: 6823)


Started GET "/carts/20" for ::1 at 2020-07-04 10:39:11 +0700
Processing by CartsController#show as HTML
  Parameters: {"id"=>"20"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 20], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:67:in `set_cart'
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 20]]
  ↳ app/views/carts/show.html.erb:5
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/carts/show.html.erb:6
  Rendered carts/show.html.erb within layouts/application (Duration: 4.9ms | Allocations: 1544)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 13ms (Views: 10.5ms | ActiveRecord: 0.4ms | Allocations: 6045)


Started POST "/line_items?product_id=5" for ::1 at 2020-07-04 10:39:13 +0700
Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"3yhEfhLaa5BIFH6LQFTzjuWvqZPvSF6gVm/v+mwt9VxxqN/C5ylKjFkU0xhnMEupHz1wfzuHwvu+hKf5vUvo+Q==", "product_id"=>"5"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 20], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 20], ["product_id", 5], ["LIMIT", 1]]
  ↳ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mLineItem Create (0.4ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 5], ["cart_id", 20], ["created_at", "2020-07-04 03:39:13.925454"], ["updated_at", "2020-07-04 03:39:13.925454"]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[35m (1184.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
Redirected to http://localhost:3000/carts/20
Completed 302 Found in 1215ms (ActiveRecord: 1185.9ms | Allocations: 6856)


Started GET "/carts/20" for ::1 at 2020-07-04 10:39:15 +0700
Processing by CartsController#show as HTML
  Parameters: {"id"=>"20"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 20], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:67:in `set_cart'
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 20]]
  ↳ app/views/carts/show.html.erb:5
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/carts/show.html.erb:6
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/carts/show.html.erb:6
  Rendered carts/show.html.erb within layouts/application (Duration: 6.3ms | Allocations: 2296)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 30ms (Views: 27.2ms | ActiveRecord: 0.6ms | Allocations: 6817)


Started GET "/carts" for ::1 at 2020-07-04 10:39:21 +0700
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT "carts".* FROM "carts"[0m
  ↳ app/views/carts/index.html.erb:13
  Rendered carts/index.html.erb within layouts/application (Duration: 641.9ms | Allocations: 1235)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 666ms (Views: 663.4ms | ActiveRecord: 0.5ms | Allocations: 5332)


Started DELETE "/carts/20" for ::1 at 2020-07-04 10:39:25 +0700
Processing by CartsController#destroy as HTML
  Parameters: {"authenticity_token"=>"JcPlolu0OgMEJBu3/3VlxVoVR7+HC9d2u+zcE1X+iR2LQ34erkcbHxUktiTYEd3ioIeeU1PESy1TB5QQhJiUuA==", "id"=>"20"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 20], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:67:in `set_cart'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/carts_controller.rb:57:in `destroy'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 20]]
  ↳ app/controllers/carts_controller.rb:57:in `destroy'
  [1m[36mLineItem Destroy (0.2ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 27]]
  ↳ app/controllers/carts_controller.rb:57:in `destroy'
  [1m[36mLineItem Destroy (1.1ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 28]]
  ↳ app/controllers/carts_controller.rb:57:in `destroy'
  [1m[36mCart Destroy (1.0ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 20]]
  ↳ app/controllers/carts_controller.rb:57:in `destroy'
  [1m[35m (809.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/carts_controller.rb:57:in `destroy'
Redirected to http://localhost:3000/carts
Completed 302 Found in 832ms (ActiveRecord: 811.9ms | Allocations: 6810)


Started GET "/carts" for ::1 at 2020-07-04 10:39:25 +0700
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts"[0m
  ↳ app/views/carts/index.html.erb:13
  Rendered carts/index.html.erb within layouts/application (Duration: 3.4ms | Allocations: 873)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 19ms (Views: 17.0ms | ActiveRecord: 0.3ms | Allocations: 4854)


Started DELETE "/carts/17" for ::1 at 2020-07-04 10:39:27 +0700
Processing by CartsController#destroy as HTML
  Parameters: {"authenticity_token"=>"YWzV4tppk7VymR+7zTFDt51zBgoAV6Aj24LJfgKw70nP7E5eL5qyqWOZsijqVfuQZ+Hf5tSYPHgzaYF909by7A==", "id"=>"17"}
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 17], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:67:in `set_cart'
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/carts_controller.rb:57:in `destroy'
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 17]]
  ↳ app/controllers/carts_controller.rb:57:in `destroy'
  [1m[36mCart Destroy (0.6ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 17]]
  ↳ app/controllers/carts_controller.rb:57:in `destroy'
  [1m[35m (851.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/carts_controller.rb:57:in `destroy'
Redirected to http://localhost:3000/carts
Completed 302 Found in 879ms (ActiveRecord: 853.0ms | Allocations: 4859)


Started GET "/carts" for ::1 at 2020-07-04 10:39:28 +0700
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts"[0m
  ↳ app/views/carts/index.html.erb:13
  Rendered carts/index.html.erb within layouts/application (Duration: 5.6ms | Allocations: 756)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 27ms (Views: 24.1ms | ActiveRecord: 0.4ms | Allocations: 4733)


Started GET "/" for ::1 at 2020-07-04 10:39:30 +0700
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 19.3ms | Allocations: 3188)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 38ms (Views: 35.3ms | ActiveRecord: 0.5ms | Allocations: 7067)


Started GET "/" for ::1 at 2020-07-06 22:18:05 +0700
  [1m[35m (1.7ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (1.6ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 334.9ms | Allocations: 12883)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 1138ms (Views: 554.8ms | ActiveRecord: 4.6ms | Allocations: 20395)


Started POST "/line_items?product_id=4" for ::1 at 2020-07-06 22:20:49 +0700
Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"VUGdlQPfnuLCx437BEMrQgPreS3KyMnsdhMv0BUNHkapsURCDEpij/7d1SShCYmoGnZwCfm05KyaP1useJOnsQ==", "product_id"=>"4"}
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[36mCart Create (27.7ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2020-07-06 15:20:49.573444"], ["updated_at", "2020-07-06 15:20:49.573444"]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[35m (117.8ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 21], ["product_id", 4], ["LIMIT", 1]]
  ↳ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mLineItem Create (0.3ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 4], ["cart_id", 21], ["created_at", "2020-07-06 15:20:49.890573"], ["updated_at", "2020-07-06 15:20:49.890573"]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[35m (118.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
Redirected to http://localhost:3000/carts/21
Completed 302 Found in 475ms (ActiveRecord: 270.4ms | Allocations: 20055)


Started GET "/carts/21" for ::1 at 2020-07-06 22:20:50 +0700
Processing by CartsController#show as HTML
  Parameters: {"id"=>"21"}
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 21], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:67:in `set_cart'
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 21]]
  ↳ app/views/carts/show.html.erb:5
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/carts/show.html.erb:6
  Rendered carts/show.html.erb within layouts/application (Duration: 28.7ms | Allocations: 1938)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 46ms (Views: 38.2ms | ActiveRecord: 1.0ms | Allocations: 7194)


Started GET "/" for ::1 at 2020-07-06 22:21:26 +0700
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 17.2ms | Allocations: 3197)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 31ms (Views: 28.0ms | ActiveRecord: 0.6ms | Allocations: 7057)


Started GET "/" for ::1 at 2020-07-07 00:22:58 +0700
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (10.5ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 300.6ms | Allocations: 6782)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 742ms (Views: 521.3ms | ActiveRecord: 10.5ms | Allocations: 12992)


Started POST "/line_items?product_id=4" for ::1 at 2020-07-07 00:23:05 +0700
Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"57wqkY7ECJdgsLYHQO6a5ExjGAPVvAVaTMWvEuqLMt8bTPNGgVH0+lyq7tjlpDgOVf4RJ+bAKBqg6dtuhxWLKA==", "product_id"=>"4"}
  [1m[36mCart Load (44.5ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 21], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (54.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 21], ["product_id", 4], ["LIMIT", 1]]
  ↳ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mProduct Load (1.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mLineItem Update (108.1ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 2], ["updated_at", "2020-07-06 17:23:06.201560"], ["id", 29]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[35m (95.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
Redirected to http://localhost:3000/carts/21
Completed 302 Found in 707ms (ActiveRecord: 303.8ms | Allocations: 14279)


Started GET "/carts/21" for ::1 at 2020-07-07 00:23:06 +0700
Processing by CartsController#show as HTML
  Parameters: {"id"=>"21"}
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 21], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:68:in `set_cart'
  Rendering carts/show.html.erb within layouts/application
  Rendered carts/show.html.erb within layouts/application (Duration: 404.3ms | Allocations: 1410)
Completed 500 Internal Server Error in 418ms (ActiveRecord: 0.4ms | Allocations: 3013)


  
ActionView::SyntaxErrorInTemplate (Encountered a syntax error while rendering template: check <p id="notice"><%= notice %></p>

<h2>Your Pragmatic Cart</h2>
<ul>
<% @cart.line_items.each do |item| %>
<li> <%= item.quantity %> &times;<%= item.product.title %></li>
<% end %>
</ul>

<%= button_tp 'Empty cart' @cart, method:   :delete,
data: { confirm: 'Are you sure>'} %>

<%= link_to 'Edit', edit_cart_path(@cart) %> |
<%= link_to 'Back', carts_path %>

):
1:    <p id="notice"><%= notice %></p>
2:    
3:    <h2>Your Pragmatic Cart</h2>
4:    <ul>
5:    <% @cart.line_items.each do |item| %>
6:    <li> <%= item.quantity %> &times;<%= item.product.title %></li>
7:    <% end %>
8:    </ul>
9:    
10:    <%= button_tp 'Empty cart' @cart, method:   :delete,
11:    data: { confirm: 'Are you sure>'} %>
12:    
13:    <%= link_to 'Edit', edit_cart_path(@cart) %> |
14:    <%= link_to 'Back', carts_path %>
  
app/views/carts/show.html.erb:10: syntax error, unexpected instance variable, expecting ')'
app/views/carts/show.html.erb:10: syntax error, unexpected instance variable, expecting ')'
app/views/carts/show.html.erb:10: syntax error, unexpected instance variable, expecting ')'
app/views/carts/show.html.erb:10: syntax error, unexpected instance variable, expecting ')'
app/views/carts/show.html.erb:10: syntax error, unexpected instance variable, expecting ')'
app/views/carts/show.html.erb:10: syntax error, unexpected instance variable, expecting ')'
Started GET "/carts/21" for ::1 at 2020-07-07 00:24:54 +0700
Processing by CartsController#show as HTML
  Parameters: {"id"=>"21"}
  [1m[36mCart Load (0.7ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 21], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:68:in `set_cart'
  Rendering carts/show.html.erb within layouts/application
  Rendered carts/show.html.erb within layouts/application (Duration: 2.4ms | Allocations: 1097)
Completed 500 Internal Server Error in 11ms (ActiveRecord: 0.7ms | Allocations: 2099)


  
ActionView::SyntaxErrorInTemplate (Encountered a syntax error while rendering template: check <p id="notice"><%= notice %></p>

<h2>Your Pragmatic Cart</h2>
<ul>
<% @cart.line_items.each do |item| %>
<li> <%= item.quantity %> &times;<%= item.product.title %></li>
<% end %>
</ul>

<%= button_tp 'Empty cart' @cart, method:   :delete,
data: { confirm: 'Are you sure>'} %>

<%= link_to 'Edit', edit_cart_path(@cart) %> |
<%= link_to 'Back', carts_path %>

):
1:    <p id="notice"><%= notice %></p>
2:    
3:    <h2>Your Pragmatic Cart</h2>
4:    <ul>
5:    <% @cart.line_items.each do |item| %>
6:    <li> <%= item.quantity %> &times;<%= item.product.title %></li>
7:    <% end %>
8:    </ul>
9:    
10:    <%= button_tp 'Empty cart' @cart, method:   :delete,
11:    data: { confirm: 'Are you sure>'} %>
12:    
13:    <%= link_to 'Edit', edit_cart_path(@cart) %> |
14:    <%= link_to 'Back', carts_path %>
  
app/views/carts/show.html.erb:10: syntax error, unexpected instance variable, expecting ')'
app/views/carts/show.html.erb:10: syntax error, unexpected instance variable, expecting ')'
app/views/carts/show.html.erb:10: syntax error, unexpected instance variable, expecting ')'
app/views/carts/show.html.erb:10: syntax error, unexpected instance variable, expecting ')'
app/views/carts/show.html.erb:10: syntax error, unexpected instance variable, expecting ')'
app/views/carts/show.html.erb:10: syntax error, unexpected instance variable, expecting ')'
Started GET "/carts/21" for ::1 at 2020-07-07 00:26:40 +0700
Processing by CartsController#show as HTML
  Parameters: {"id"=>"21"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 21], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:68:in `set_cart'
  Rendering carts/show.html.erb within layouts/application
  Rendered carts/show.html.erb within layouts/application (Duration: 3.6ms | Allocations: 1110)
Completed 500 Internal Server Error in 548ms (ActiveRecord: 0.3ms | Allocations: 3298)


  
ActionView::SyntaxErrorInTemplate (Encountered a syntax error while rendering template: check <p id="notice"><%= notice %></p>

<h2>Your Pragmatic Cart</h2>
<ul>
<% @cart.line_items.each do |item| %>
<li> <%= item.quantity %> &times;<%= item.product.title %></li>
<% end %>
</ul>

<%= button_to 'Empty cart' @cart, method:   :delete,
data: { confirm: 'Are you sure>'} %>

<%= link_to 'Edit', edit_cart_path(@cart) %> |
<%= link_to 'Back', carts_path %>

):
1:    <p id="notice"><%= notice %></p>
2:    
3:    <h2>Your Pragmatic Cart</h2>
4:    <ul>
5:    <% @cart.line_items.each do |item| %>
6:    <li> <%= item.quantity %> &times;<%= item.product.title %></li>
7:    <% end %>
8:    </ul>
9:    
10:    <%= button_to 'Empty cart' @cart, method:   :delete,
11:    data: { confirm: 'Are you sure>'} %>
12:    
13:    <%= link_to 'Edit', edit_cart_path(@cart) %> |
14:    <%= link_to 'Back', carts_path %>
  
app/views/carts/show.html.erb:10: syntax error, unexpected instance variable, expecting ')'
app/views/carts/show.html.erb:10: syntax error, unexpected instance variable, expecting ')'
app/views/carts/show.html.erb:10: syntax error, unexpected instance variable, expecting ')'
app/views/carts/show.html.erb:10: syntax error, unexpected instance variable, expecting ')'
app/views/carts/show.html.erb:10: syntax error, unexpected instance variable, expecting ')'
app/views/carts/show.html.erb:10: syntax error, unexpected instance variable, expecting ')'
Started GET "/carts/21" for ::1 at 2020-07-07 00:26:56 +0700
Processing by CartsController#show as HTML
  Parameters: {"id"=>"21"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 21], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:68:in `set_cart'
  Rendering carts/show.html.erb within layouts/application
  Rendered carts/show.html.erb within layouts/application (Duration: 0.9ms | Allocations: 1113)
Completed 500 Internal Server Error in 8ms (ActiveRecord: 0.1ms | Allocations: 2817)


  
ActionView::SyntaxErrorInTemplate (Encountered a syntax error while rendering template: check <p id="notice"><%= notice %></p>

<h2>Your Pragmatic Cart</h2>
<ul>
<% @cart.line_items.each do |item| %>
<li> <%= item.quantity %> &times;<%= item.product.title %></li>
<% end %>
</ul>

<%= button_to 'Empty cart' @cart, method: delete,
data: { confirm: 'Are you sure>'} %>

<%= link_to 'Edit', edit_cart_path(@cart) %> |
<%= link_to 'Back', carts_path %>

):
1:    <p id="notice"><%= notice %></p>
2:    
3:    <h2>Your Pragmatic Cart</h2>
4:    <ul>
5:    <% @cart.line_items.each do |item| %>
6:    <li> <%= item.quantity %> &times;<%= item.product.title %></li>
7:    <% end %>
8:    </ul>
9:    
10:    <%= button_to 'Empty cart' @cart, method: delete,
11:    data: { confirm: 'Are you sure>'} %>
12:    
13:    <%= link_to 'Edit', edit_cart_path(@cart) %> |
14:    <%= link_to 'Back', carts_path %>
  
app/views/carts/show.html.erb:10: syntax error, unexpected instance variable, expecting ')'
app/views/carts/show.html.erb:10: syntax error, unexpected instance variable, expecting ')'
app/views/carts/show.html.erb:10: syntax error, unexpected instance variable, expecting ')'
app/views/carts/show.html.erb:10: syntax error, unexpected instance variable, expecting ')'
app/views/carts/show.html.erb:10: syntax error, unexpected instance variable, expecting ')'
app/views/carts/show.html.erb:10: syntax error, unexpected instance variable, expecting ')'
Started GET "/carts/21" for ::1 at 2020-07-07 00:27:13 +0700
Processing by CartsController#show as HTML
  Parameters: {"id"=>"21"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 21], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:68:in `set_cart'
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 21]]
  ↳ app/views/carts/show.html.erb:5
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/carts/show.html.erb:6
  Rendered carts/show.html.erb within layouts/application (Duration: 521.4ms | Allocations: 127109)
Completed 500 Internal Server Error in 533ms (ActiveRecord: 0.6ms | Allocations: 128812)


  
ActionView::Template::Error (undefined local variable or method `delete' for #<#<Class:0x000055784e8ce508>:0x000055784e89c468>):
     7: <% end %>
     8: </ul>
     9: 
    10: <%= button_to 'Empty cart', @cart, method: delete,
    11: data: { confirm: 'Are you sure>'} %>
    12: 
    13: <%= link_to 'Edit', edit_cart_path(@cart) %> |
  
app/views/carts/show.html.erb:10
Started GET "/carts/21" for ::1 at 2020-07-07 00:27:37 +0700
Processing by CartsController#show as HTML
  Parameters: {"id"=>"21"}
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 21], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:68:in `set_cart'
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.7ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 21]]
  ↳ app/views/carts/show.html.erb:5
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/carts/show.html.erb:6
  Rendered carts/show.html.erb within layouts/application (Duration: 13.5ms | Allocations: 1919)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 266ms (Views: 257.0ms | ActiveRecord: 1.5ms | Allocations: 7432)


Started GET "/carts" for ::1 at 2020-07-07 00:27:40 +0700
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts"[0m
  ↳ app/views/carts/index.html.erb:13
  Rendered carts/index.html.erb within layouts/application (Duration: 25.1ms | Allocations: 1114)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 39ms (Views: 35.2ms | ActiveRecord: 0.3ms | Allocations: 5201)


Started GET "/carts" for ::1 at 2020-07-07 00:28:02 +0700
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts"[0m
  ↳ app/views/carts/index.html.erb:13
  Rendered carts/index.html.erb within layouts/application (Duration: 5.3ms | Allocations: 872)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 17ms (Views: 14.2ms | ActiveRecord: 0.3ms | Allocations: 4834)


Started GET "/" for ::1 at 2020-07-07 00:28:04 +0700
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 153.2ms | Allocations: 3492)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 175ms (Views: 171.2ms | ActiveRecord: 0.2ms | Allocations: 7930)


Started POST "/line_items?product_id=4" for ::1 at 2020-07-07 00:28:06 +0700
Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"z8C97PbtFXE+uprxJJr8Cu8eVjrgReTMkEjM0H/RWFpezIViuCjJ3ZKiX7NVocJy+OEI8k0vJ2/qh7lghMgoQw==", "product_id"=>"4"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 21], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 21], ["product_id", 4], ["LIMIT", 1]]
  ↳ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mLineItem Update (38.2ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 3], ["updated_at", "2020-07-06 17:28:06.590646"], ["id", 29]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[35m (129.8ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
Redirected to http://localhost:3000/carts/21
Completed 302 Found in 197ms (ActiveRecord: 168.9ms | Allocations: 6806)


Started GET "/carts/21" for ::1 at 2020-07-07 00:28:06 +0700
Processing by CartsController#show as HTML
  Parameters: {"id"=>"21"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 21], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:68:in `set_cart'
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 21]]
  ↳ app/views/carts/show.html.erb:5
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/carts/show.html.erb:6
  Rendered carts/show.html.erb within layouts/application (Duration: 10.4ms | Allocations: 1707)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 26ms (Views: 20.8ms | ActiveRecord: 0.8ms | Allocations: 6229)


Started GET "/" for ::1 at 2020-07-07 00:28:09 +0700
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 18.1ms | Allocations: 3180)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 29ms (Views: 25.8ms | ActiveRecord: 0.4ms | Allocations: 7066)


Started GET "/" for ::1 at 2020-07-07 00:31:41 +0700
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 12.6ms | Allocations: 3170)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 23ms (Views: 18.9ms | ActiveRecord: 0.3ms | Allocations: 7029)


Started GET "/" for ::1 at 2020-07-07 00:31:43 +0700
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 12.0ms | Allocations: 3170)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 23ms (Views: 21.0ms | ActiveRecord: 0.3ms | Allocations: 7031)


Started POST "/line_items?product_id=5" for ::1 at 2020-07-07 00:31:44 +0700
Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"aSG8VOjx6/nHlk+fAS+d7An9oTbG/SrhZFmIincPb7uV0WWD52QXlPuMF0CkZT8GEGCoEvWBB6GIdfz2GpHWTA==", "product_id"=>"5"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 21], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 21], ["product_id", 5], ["LIMIT", 1]]
  ↳ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mLineItem Create (38.4ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 5], ["cart_id", 21], ["created_at", "2020-07-06 17:31:44.625925"], ["updated_at", "2020-07-06 17:31:44.625925"]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[35m (85.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
Redirected to http://localhost:3000/carts/21
Completed 302 Found in 149ms (ActiveRecord: 124.7ms | Allocations: 6763)


Started GET "/carts/21" for ::1 at 2020-07-07 00:31:44 +0700
Processing by CartsController#show as HTML
  Parameters: {"id"=>"21"}
  [1m[36mCart Load (0.8ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 21], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:68:in `set_cart'
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 21]]
  ↳ app/views/carts/show.html.erb:5
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/carts/show.html.erb:6
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/carts/show.html.erb:6
  Rendered carts/show.html.erb within layouts/application (Duration: 9.8ms | Allocations: 2447)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 25ms (Views: 17.6ms | ActiveRecord: 1.5ms | Allocations: 6954)


Started GET "/" for ::1 at 2020-07-07 00:31:46 +0700
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 19.0ms | Allocations: 3175)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 32ms (Views: 29.3ms | ActiveRecord: 0.3ms | Allocations: 7054)


Started GET "/" for ::1 at 2020-07-07 00:36:48 +0700
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 13.2ms | Allocations: 3170)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 26ms (Views: 24.0ms | ActiveRecord: 0.3ms | Allocations: 7059)


Started POST "/line_items?product_id=4" for ::1 at 2020-07-07 00:36:50 +0700
Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"UmWADH/Kbic7e/mPjtkTrrCp01WWbiXIMeHecA6ornmulVnbcF+SSgdhoVArk7FEqTTacaUSCIjdzaoMYzYXjg==", "product_id"=>"4"}
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 21], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 21], ["product_id", 4], ["LIMIT", 1]]
  ↳ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mProduct Load (0.9ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mLineItem Update (0.8ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 4], ["updated_at", "2020-07-06 17:36:50.334405"], ["id", 29]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[35m (69.8ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
Redirected to http://localhost:3000/carts/21
Completed 302 Found in 109ms (ActiveRecord: 72.8ms | Allocations: 6672)


Started GET "/carts/21" for ::1 at 2020-07-07 00:36:50 +0700
Processing by CartsController#show as HTML
  Parameters: {"id"=>"21"}
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 21], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:68:in `set_cart'
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 21]]
  ↳ app/views/carts/show.html.erb:5
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/carts/show.html.erb:6
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/carts/show.html.erb:6
  Rendered carts/show.html.erb within layouts/application (Duration: 13.8ms | Allocations: 2447)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 33ms (Views: 24.9ms | ActiveRecord: 1.2ms | Allocations: 7108)


Started DELETE "/carts/21" for ::1 at 2020-07-07 00:36:57 +0700
Processing by CartsController#destroy as HTML
  Parameters: {"authenticity_token"=>"f3+2JPaesktAH60ns2SK0imQ+fyi9X0Ie3HMbrhugwuDj2/z+QtOJnwF9fgWLig4MA3w2JGJUEiXXbgS1fA6/A==", "id"=>"21"}
  [1m[36mCart Load (0.6ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 21], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:68:in `set_cart'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/carts_controller.rb:57:in `destroy'
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 21]]
  ↳ app/controllers/carts_controller.rb:57:in `destroy'
  [1m[36mLineItem Destroy (0.4ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 29]]
  ↳ app/controllers/carts_controller.rb:57:in `destroy'
  [1m[36mLineItem Destroy (0.8ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 30]]
  ↳ app/controllers/carts_controller.rb:57:in `destroy'
  [1m[36mCart Destroy (7.6ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 21]]
  ↳ app/controllers/carts_controller.rb:57:in `destroy'
  [1m[35m (81.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/carts_controller.rb:57:in `destroy'
Redirected to http://localhost:3000/
Completed 302 Found in 121ms (ActiveRecord: 91.1ms | Allocations: 6875)


Started GET "/" for ::1 at 2020-07-07 00:36:57 +0700
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 12.8ms | Allocations: 3187)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 21ms (Views: 19.4ms | ActiveRecord: 0.2ms | Allocations: 7077)


Started POST "/line_items?product_id=4" for ::1 at 2020-07-07 00:37:00 +0700
Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"xa9Kmaiopgp+kDerH3GrI2baDuR0bZ7ofMUCAoaYXss5X5NOpz1aZ0KKb3S6OwnJf0cHwEcRs6iQ6XZ+6wbnPA==", "product_id"=>"4"}
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[36mCart Create (0.8ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2020-07-06 17:37:00.516898"], ["updated_at", "2020-07-06 17:37:00.516898"]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[35m (635.8ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 22], ["product_id", 4], ["LIMIT", 1]]
  ↳ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mLineItem Create (0.4ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 4], ["cart_id", 22], ["created_at", "2020-07-06 17:37:01.176267"], ["updated_at", "2020-07-06 17:37:01.176267"]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[35m (745.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
Redirected to http://localhost:3000/carts/22
Completed 302 Found in 1422ms (ActiveRecord: 1383.2ms | Allocations: 10108)


Started GET "/carts/22" for ::1 at 2020-07-07 00:37:01 +0700
Processing by CartsController#show as HTML
  Parameters: {"id"=>"22"}
  [1m[36mCart Load (1.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 22], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:68:in `set_cart'
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 22]]
  ↳ app/views/carts/show.html.erb:5
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/carts/show.html.erb:6
  Rendered carts/show.html.erb within layouts/application (Duration: 15.0ms | Allocations: 1696)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 53ms (Views: 41.7ms | ActiveRecord: 1.7ms | Allocations: 6188)


Started GET "/carts" for ::1 at 2020-07-07 00:37:03 +0700
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts"[0m
  ↳ app/views/carts/index.html.erb:13
  Rendered carts/index.html.erb within layouts/application (Duration: 5.4ms | Allocations: 872)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 25ms (Views: 22.0ms | ActiveRecord: 0.3ms | Allocations: 4847)


Started DELETE "/carts/22" for ::1 at 2020-07-07 00:37:07 +0700
Processing by CartsController#destroy as HTML
  Parameters: {"authenticity_token"=>"VT84D6JQ9D48gwESTd62hxmX2f9FDXGok1d3Oid9/WGpz+HYrcUIUwCZWc3olBRtAArQ23ZxXOh/ewNGSuNElg==", "id"=>"22"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 22], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:68:in `set_cart'
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/carts_controller.rb:57:in `destroy'
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 22]]
  ↳ app/controllers/carts_controller.rb:57:in `destroy'
  [1m[36mLineItem Destroy (0.3ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 31]]
  ↳ app/controllers/carts_controller.rb:57:in `destroy'
  [1m[36mCart Destroy (0.2ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 22]]
  ↳ app/controllers/carts_controller.rb:57:in `destroy'
  [1m[35m (246.7ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/carts_controller.rb:57:in `destroy'
Redirected to http://localhost:3000/
Completed 302 Found in 262ms (ActiveRecord: 247.7ms | Allocations: 5814)


Started GET "/" for ::1 at 2020-07-07 00:37:07 +0700
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 24.4ms | Allocations: 3185)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 44ms (Views: 40.7ms | ActiveRecord: 0.5ms | Allocations: 7068)


Started POST "/line_items?product_id=4" for ::1 at 2020-07-07 00:37:10 +0700
Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"MWMibj0vI2sX0Zn2nea/UZQEkJFxFmJedH9GgKoCBKnNk/u5MrrfBivLwSk4rB27jZmZtUJqTx6YUzL8x5y9Xg==", "product_id"=>"4"}
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[36mCart Create (0.9ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2020-07-06 17:37:10.020169"], ["updated_at", "2020-07-06 17:37:10.020169"]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[35m (864.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 23], ["product_id", 4], ["LIMIT", 1]]
  ↳ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mLineItem Create (0.5ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 4], ["cart_id", 23], ["created_at", "2020-07-06 17:37:10.923715"], ["updated_at", "2020-07-06 17:37:10.923715"]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[35m (1057.7ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
Redirected to http://localhost:3000/carts/23
Completed 302 Found in 1975ms (ActiveRecord: 1925.6ms | Allocations: 10025)


Started GET "/carts/23" for ::1 at 2020-07-07 00:37:12 +0700
Processing by CartsController#show as HTML
  Parameters: {"id"=>"23"}
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 23], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:68:in `set_cart'
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 23]]
  ↳ app/views/carts/show.html.erb:5
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/carts/show.html.erb:6
  Rendered carts/show.html.erb within layouts/application (Duration: 14.5ms | Allocations: 1696)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 38ms (Views: 31.9ms | ActiveRecord: 1.2ms | Allocations: 6220)


Started GET "/" for ::1 at 2020-07-07 00:37:15 +0700
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 20.0ms | Allocations: 3172)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 33ms (Views: 29.3ms | ActiveRecord: 0.5ms | Allocations: 7031)


Started POST "/line_items?product_id=5" for ::1 at 2020-07-07 00:37:41 +0700
Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"k2yyQDnrlyzMoAAZpJRCSbE/s4lX5fNL0WXJh8jm7F8CYIrOdy5LgGC4xVvVr3wxpsDtQfqPMOirqrw3M/+cRg==", "product_id"=>"5"}
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 23], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.8ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 23], ["product_id", 5], ["LIMIT", 1]]
  ↳ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mLineItem Create (0.6ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 5], ["cart_id", 23], ["created_at", "2020-07-06 17:37:41.579438"], ["updated_at", "2020-07-06 17:37:41.579438"]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[35m (742.8ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
Redirected to http://localhost:3000/carts/23
Completed 302 Found in 786ms (ActiveRecord: 745.4ms | Allocations: 6881)


Started GET "/carts/23" for ::1 at 2020-07-07 00:37:42 +0700
Processing by CartsController#show as HTML
  Parameters: {"id"=>"23"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 23], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:68:in `set_cart'
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 23]]
  ↳ app/views/carts/show.html.erb:5
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/carts/show.html.erb:6
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/carts/show.html.erb:6
  Rendered carts/show.html.erb within layouts/application (Duration: 8.8ms | Allocations: 2447)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 20ms (Views: 15.6ms | ActiveRecord: 0.7ms | Allocations: 6969)


Started GET "/" for ::1 at 2020-07-07 00:37:47 +0700
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 20.4ms | Allocations: 3179)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 33ms (Views: 30.7ms | ActiveRecord: 0.5ms | Allocations: 7055)


Started POST "/line_items?product_id=6" for ::1 at 2020-07-07 00:37:53 +0700
Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"ai8Ayd2wFooEhAtv19IoOk4DA+iQAH3nAtcGi3QPqFb7IzhHk3XKJqiczi2m6RZCWfxdID1qvkR4GHM7jxbYTw==", "product_id"=>"6"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 23], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 23], ["product_id", 6], ["LIMIT", 1]]
  ↳ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mLineItem Create (0.5ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 6], ["cart_id", 23], ["created_at", "2020-07-06 17:37:53.937424"], ["updated_at", "2020-07-06 17:37:53.937424"]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[35m (102.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
Redirected to http://localhost:3000/carts/23
Completed 302 Found in 137ms (ActiveRecord: 103.8ms | Allocations: 6885)


Started GET "/carts/23" for ::1 at 2020-07-07 00:37:54 +0700
Processing by CartsController#show as HTML
  Parameters: {"id"=>"23"}
  [1m[36mCart Load (0.8ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 23], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:68:in `set_cart'
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 23]]
  ↳ app/views/carts/show.html.erb:5
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/carts/show.html.erb:6
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/carts/show.html.erb:6
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/views/carts/show.html.erb:6
  Rendered carts/show.html.erb within layouts/application (Duration: 21.1ms | Allocations: 3198)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 45ms (Views: 36.4ms | ActiveRecord: 1.8ms | Allocations: 7694)


Started GET "/carts" for ::1 at 2020-07-07 00:37:56 +0700
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts"[0m
  ↳ app/views/carts/index.html.erb:13
  Rendered carts/index.html.erb within layouts/application (Duration: 5.0ms | Allocations: 871)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 25ms (Views: 21.7ms | ActiveRecord: 0.3ms | Allocations: 4834)


Started GET "/" for ::1 at 2020-07-07 00:37:57 +0700
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 19.2ms | Allocations: 3170)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 30ms (Views: 26.9ms | ActiveRecord: 0.6ms | Allocations: 7031)


Started GET "/" for ::1 at 2020-07-07 10:15:50 +0700
  [1m[35m (0.9ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (20.4ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 1700.5ms | Allocations: 12884)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 3746ms (Views: 2042.3ms | ActiveRecord: 23.0ms | Allocations: 20401)


Started POST "/line_items?product_id=4" for ::1 at 2020-07-07 10:16:17 +0700
  
SyntaxError (/home/khanh/Desktop/depot/app/controllers/line_items_controller.rb:37: syntax error, unexpected ':', expecting '}'
          notice: 'Line item was successfully ...
                ^
/home/khanh/Desktop/depot/app/controllers/line_items_controller.rb:37: syntax error, unexpected '}', expecting `end'
...em was successfully created.' }
...                              ^
):
  
app/controllers/line_items_controller.rb:37: syntax error, unexpected ':', expecting '}'
app/controllers/line_items_controller.rb:37: syntax error, unexpected '}', expecting `end'
app/controllers/line_items_controller.rb:37: syntax error, unexpected ':', expecting '}'
app/controllers/line_items_controller.rb:37: syntax error, unexpected '}', expecting `end'
app/controllers/line_items_controller.rb:37: syntax error, unexpected ':', expecting '}'
app/controllers/line_items_controller.rb:37: syntax error, unexpected '}', expecting `end'
Started POST "/line_items?product_id=4" for ::1 at 2020-07-07 10:16:31 +0700
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"iUdT4uFYZXpVH9IMWZ+koFgEgiZnVdEZIeoyg9k+B56TAW+NMj9RMEXK34Zj9+78OmVvDZbm34CuUGLyaQt7Pw==", "product_id"=>"4"}
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[36mCart Create (78.8ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2020-07-07 03:16:32.051385"], ["updated_at", "2020-07-07 03:16:32.051385"]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[35m (259.7ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.7ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 24], ["product_id", 4], ["LIMIT", 1]]
  ↳ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mProduct Load (1.0ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mLineItem Create (0.7ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 4], ["cart_id", 24], ["created_at", "2020-07-07 03:16:32.593256"], ["updated_at", "2020-07-07 03:16:32.593256"]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[35m (155.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
Redirected to http://localhost:3000/carts/24
Completed 302 Found in 867ms (ActiveRecord: 503.8ms | Allocations: 25580)


Started GET "/carts/24" for ::1 at 2020-07-07 10:16:32 +0700
Processing by CartsController#show as HTML
  Parameters: {"id"=>"24"}
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 24], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:68:in `set_cart'
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 24]]
  ↳ app/views/carts/show.html.erb:5
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/carts/show.html.erb:6
  Rendered carts/show.html.erb within layouts/application (Duration: 61.2ms | Allocations: 2302)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 92ms (Views: 80.2ms | ActiveRecord: 1.7ms | Allocations: 7615)


Started DELETE "/carts/24" for ::1 at 2020-07-07 10:17:45 +0700
Processing by CartsController#destroy as HTML
  Parameters: {"authenticity_token"=>"fGbkls/YIvtO3wun2JI9GBfwLT1RbWHc8Yu121rqdzRmINj5HL8WsV4KBi3i+ndEdZHAFqDeb0V+MeWq6t8LlQ==", "id"=>"24"}
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 24], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:68:in `set_cart'
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/carts_controller.rb:57:in `destroy'
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 24]]
  ↳ app/controllers/carts_controller.rb:57:in `destroy'
  [1m[36mLineItem Destroy (0.9ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 35]]
  ↳ app/controllers/carts_controller.rb:57:in `destroy'
  [1m[36mCart Destroy (0.8ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 24]]
  ↳ app/controllers/carts_controller.rb:57:in `destroy'
  [1m[35m (1155.7ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/carts_controller.rb:57:in `destroy'
Redirected to http://localhost:3000/
Completed 302 Found in 1200ms (ActiveRecord: 1158.5ms | Allocations: 5866)


Started GET "/" for ::1 at 2020-07-07 10:17:46 +0700
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 11.4ms | Allocations: 3235)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 20ms (Views: 18.5ms | ActiveRecord: 0.4ms | Allocations: 7237)


Started POST "/line_items?product_id=4" for ::1 at 2020-07-07 10:17:48 +0700
Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"dyc2tQ4jJeNSqlSI9t/7anW1k1ZtYOZdWR2XI/mVIq5tYQra3UQRqUJ/WQLMt7E2F9R+fZzT6MTWp8dSSaBeDw==", "product_id"=>"4"}
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[36mCart Create (0.7ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2020-07-07 03:17:48.879834"], ["updated_at", "2020-07-07 03:17:48.879834"]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[35m (341.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 25], ["product_id", 4], ["LIMIT", 1]]
  ↳ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mLineItem Create (1.3ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 4], ["cart_id", 25], ["created_at", "2020-07-07 03:17:49.252380"], ["updated_at", "2020-07-07 03:17:49.252380"]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[35m (69.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
Redirected to http://localhost:3000/carts/25
Completed 302 Found in 457ms (ActiveRecord: 414.1ms | Allocations: 10070)


Started GET "/carts/25" for ::1 at 2020-07-07 10:17:49 +0700
Processing by CartsController#show as HTML
  Parameters: {"id"=>"25"}
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 25], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:68:in `set_cart'
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 25]]
  ↳ app/views/carts/show.html.erb:5
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/carts/show.html.erb:6
  Rendered carts/show.html.erb within layouts/application (Duration: 13.7ms | Allocations: 1696)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 37ms (Views: 29.9ms | ActiveRecord: 1.2ms | Allocations: 6200)


Started GET "/carts" for ::1 at 2020-07-07 10:17:51 +0700
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT "carts".* FROM "carts"[0m
  ↳ app/views/carts/index.html.erb:13
  Rendered carts/index.html.erb within layouts/application (Duration: 297.4ms | Allocations: 1235)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 313ms (Views: 311.4ms | ActiveRecord: 0.5ms | Allocations: 5330)


Started GET "/carts/19" for ::1 at 2020-07-07 10:17:55 +0700
Processing by CartsController#show as HTML
  Parameters: {"id"=>"19"}
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 19], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:68:in `set_cart'
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 19]]
  ↳ app/views/carts/show.html.erb:5
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/carts/show.html.erb:6
  Rendered carts/show.html.erb within layouts/application (Duration: 10.5ms | Allocations: 1697)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 29ms (Views: 22.5ms | ActiveRecord: 1.2ms | Allocations: 6193)


Started GET "/carts" for ::1 at 2020-07-07 10:17:57 +0700
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts"[0m
  ↳ app/views/carts/index.html.erb:13
  Rendered carts/index.html.erb within layouts/application (Duration: 8.2ms | Allocations: 998)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 33ms (Views: 29.4ms | ActiveRecord: 0.4ms | Allocations: 4963)


Started GET "/carts/23" for ::1 at 2020-07-07 10:17:58 +0700
Processing by CartsController#show as HTML
  Parameters: {"id"=>"23"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 23], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:68:in `set_cart'
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 23]]
  ↳ app/views/carts/show.html.erb:5
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/carts/show.html.erb:6
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/carts/show.html.erb:6
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/views/carts/show.html.erb:6
  Rendered carts/show.html.erb within layouts/application (Duration: 15.9ms | Allocations: 3196)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 27ms (Views: 21.0ms | ActiveRecord: 1.5ms | Allocations: 7683)


Started GET "/carts" for ::1 at 2020-07-07 10:18:00 +0700
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT "carts".* FROM "carts"[0m
  ↳ app/views/carts/index.html.erb:13
  Rendered carts/index.html.erb within layouts/application (Duration: 8.9ms | Allocations: 989)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 28ms (Views: 25.7ms | ActiveRecord: 0.5ms | Allocations: 4958)


Started DELETE "/carts/25" for ::1 at 2020-07-07 10:18:02 +0700
Processing by CartsController#destroy as HTML
  Parameters: {"authenticity_token"=>"nS+q/jkCf39vlcJq2elB12kjTZCyO8MGXkqKM7cAnU+HaZaR6mVLNX9Az+DjgQuLC0Kgu0OIzZ/R8NpCBzXh7g==", "id"=>"25"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 25], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:68:in `set_cart'
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/carts_controller.rb:57:in `destroy'
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 25]]
  ↳ app/controllers/carts_controller.rb:57:in `destroy'
  [1m[36mLineItem Destroy (0.9ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 36]]
  ↳ app/controllers/carts_controller.rb:57:in `destroy'
  [1m[36mCart Destroy (0.3ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 25]]
  ↳ app/controllers/carts_controller.rb:57:in `destroy'
  [1m[35m (92.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/carts_controller.rb:57:in `destroy'
Redirected to http://localhost:3000/
Completed 302 Found in 116ms (ActiveRecord: 94.5ms | Allocations: 5730)


Started GET "/" for ::1 at 2020-07-07 10:18:02 +0700
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 31.6ms | Allocations: 3184)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 52ms (Views: 48.5ms | ActiveRecord: 0.7ms | Allocations: 7068)


Started POST "/line_items?product_id=4" for ::1 at 2020-07-07 10:18:04 +0700
Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"AM22p86Le2YxUoBqg7w+5mMeHPUsO769dC2My0zQ2roai4rIHexPLCGHjeC51HS6AX/x3t2IsCT7l9y6/OWmGw==", "product_id"=>"4"}
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[36mCart Create (0.9ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2020-07-07 03:18:04.475153"], ["updated_at", "2020-07-07 03:18:04.475153"]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[35m (72.7ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 26], ["product_id", 4], ["LIMIT", 1]]
  ↳ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.4ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mLineItem Create (0.8ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 4], ["cart_id", 26], ["created_at", "2020-07-07 03:18:04.593186"], ["updated_at", "2020-07-07 03:18:04.593186"]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[35m (98.6ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
Redirected to http://localhost:3000/carts/26
Completed 302 Found in 232ms (ActiveRecord: 174.8ms | Allocations: 10078)


Started GET "/carts/26" for ::1 at 2020-07-07 10:18:04 +0700
Processing by CartsController#show as HTML
  Parameters: {"id"=>"26"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 26], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:68:in `set_cart'
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 26]]
  ↳ app/views/carts/show.html.erb:5
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/carts/show.html.erb:6
  Rendered carts/show.html.erb within layouts/application (Duration: 9.3ms | Allocations: 1696)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 28ms (Views: 21.6ms | ActiveRecord: 0.8ms | Allocations: 6204)


Started GET "/carts" for ::1 at 2020-07-07 10:18:06 +0700
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts"[0m
  ↳ app/views/carts/index.html.erb:13
  Rendered carts/index.html.erb within layouts/application (Duration: 2.9ms | Allocations: 989)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 13ms (Views: 11.5ms | ActiveRecord: 0.2ms | Allocations: 4952)


Started DELETE "/carts/26" for ::1 at 2020-07-07 10:18:07 +0700
Processing by CartsController#destroy as HTML
  Parameters: {"authenticity_token"=>"t9nuLhIfSKt+4uAv/g2KczVGJj5iMmbk6qkaqWAm8Getn9JBwXh84W437aXEZcAvVyfLFZOBaH1lE0rY0BOMxg==", "id"=>"26"}
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 26], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:68:in `set_cart'
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/carts_controller.rb:57:in `destroy'
  [1m[36mLineItem Load (0.7ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 26]]
  ↳ app/controllers/carts_controller.rb:57:in `destroy'
  [1m[36mLineItem Destroy (0.5ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 37]]
  ↳ app/controllers/carts_controller.rb:57:in `destroy'
  [1m[36mCart Destroy (0.5ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 26]]
  ↳ app/controllers/carts_controller.rb:57:in `destroy'
  [1m[35m (992.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/carts_controller.rb:57:in `destroy'
Redirected to http://localhost:3000/
Completed 302 Found in 1026ms (ActiveRecord: 995.5ms | Allocations: 5810)


Started GET "/" for ::1 at 2020-07-07 10:18:08 +0700
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 8.6ms | Allocations: 3185)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 17ms (Views: 16.2ms | ActiveRecord: 0.2ms | Allocations: 7072)


Started POST "/line_items?product_id=5" for ::1 at 2020-07-07 10:18:10 +0700
Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"QA4HQdg6pMv9P0jAkzMtbJdH6sNZzY1QOgFIfGKbpOFaSDsuC12Qge3qRUqpW2cw9SYH6Kh+g8m1uxgN0q7YQA==", "product_id"=>"5"}
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[36mCart Create (0.8ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2020-07-07 03:18:10.922278"], ["updated_at", "2020-07-07 03:18:10.922278"]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[35m (411.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 27], ["product_id", 5], ["LIMIT", 1]]
  ↳ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mLineItem Create (0.5ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 5], ["cart_id", 27], ["created_at", "2020-07-07 03:18:11.371937"], ["updated_at", "2020-07-07 03:18:11.371937"]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[35m (77.6ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
Redirected to http://localhost:3000/carts/27
Completed 302 Found in 544ms (ActiveRecord: 491.6ms | Allocations: 10010)


Started GET "/carts/27" for ::1 at 2020-07-07 10:18:11 +0700
Processing by CartsController#show as HTML
  Parameters: {"id"=>"27"}
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 27], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:68:in `set_cart'
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 27]]
  ↳ app/views/carts/show.html.erb:5
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/carts/show.html.erb:6
  Rendered carts/show.html.erb within layouts/application (Duration: 7.7ms | Allocations: 1696)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 23ms (Views: 17.5ms | ActiveRecord: 0.8ms | Allocations: 6184)


Started GET "/carts/27/edit" for ::1 at 2020-07-07 10:18:14 +0700
Processing by CartsController#edit as HTML
  Parameters: {"id"=>"27"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 27], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:68:in `set_cart'
  Rendering carts/edit.html.erb within layouts/application
  Rendered carts/_form.html.erb (Duration: 65.6ms | Allocations: 663)
  Rendered carts/edit.html.erb within layouts/application (Duration: 203.0ms | Allocations: 1041)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 221ms (Views: 218.4ms | ActiveRecord: 0.2ms | Allocations: 5660)


Started PATCH "/carts/27" for ::1 at 2020-07-07 10:18:15 +0700
Processing by CartsController#update as HTML
  Parameters: {"authenticity_token"=>"AZjybNWuku6QpLumaZi0u5M+gvkg0rKxkLmprcKbrxi4ajwJHXhdMUG5nFmdJq3SSxEegjeaqHDFLC3WMZEeTA==", "commit"=>"Update Cart", "id"=>"27"}
  [1m[36mCart Load (0.9ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 27], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:68:in `set_cart'
Redirected to http://localhost:3000/carts/27
Completed 302 Found in 11ms (ActiveRecord: 0.9ms | Allocations: 1153)


Started GET "/carts/27" for ::1 at 2020-07-07 10:18:15 +0700
Processing by CartsController#show as HTML
  Parameters: {"id"=>"27"}
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 27], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:68:in `set_cart'
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 27]]
  ↳ app/views/carts/show.html.erb:5
  [1m[36mProduct Load (0.8ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/carts/show.html.erb:6
  Rendered carts/show.html.erb within layouts/application (Duration: 8.8ms | Allocations: 1698)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 23ms (Views: 15.5ms | ActiveRecord: 1.5ms | Allocations: 6211)


Started GET "/carts" for ::1 at 2020-07-07 10:18:17 +0700
Processing by CartsController#index as HTML
  Rendering carts/index.html.erb within layouts/application
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts"[0m
  ↳ app/views/carts/index.html.erb:13
  Rendered carts/index.html.erb within layouts/application (Duration: 6.6ms | Allocations: 990)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 24ms (Views: 21.7ms | ActiveRecord: 0.4ms | Allocations: 4949)


Started DELETE "/carts/27" for ::1 at 2020-07-07 10:18:21 +0700
Processing by CartsController#destroy as HTML
  Parameters: {"authenticity_token"=>"ea4qM/VAntxhmsHnxX7YthNwRU52wN0BaNo1df2iD2Zj6BZcJieqlnFPzG3/FpLqcRGoZYdz05jnYGUETZdzxw==", "id"=>"27"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 27], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:68:in `set_cart'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/carts_controller.rb:57:in `destroy'
  [1m[36mLineItem Load (0.7ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 27]]
  ↳ app/controllers/carts_controller.rb:57:in `destroy'
  [1m[36mLineItem Destroy (0.6ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 38]]
  ↳ app/controllers/carts_controller.rb:57:in `destroy'
  [1m[36mCart Destroy (0.5ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 27]]
  ↳ app/controllers/carts_controller.rb:57:in `destroy'
  [1m[35m (2295.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/carts_controller.rb:57:in `destroy'
Redirected to http://localhost:3000/
Completed 302 Found in 2337ms (ActiveRecord: 2297.5ms | Allocations: 5814)


Started GET "/" for ::1 at 2020-07-07 10:18:23 +0700
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 22.6ms | Allocations: 3195)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 42ms (Views: 37.8ms | ActiveRecord: 0.5ms | Allocations: 7090)


Started GET "/" for ::1 at 2020-07-07 10:28:42 +0700
  [1m[35m (0.4ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (14.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 437.5ms | Allocations: 6495)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 736ms (Views: 677.3ms | ActiveRecord: 14.1ms | Allocations: 11885)


Started GET "/" for ::1 at 2020-07-07 10:29:32 +0700
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 34.3ms | Allocations: 3467)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 100ms (Views: 96.8ms | ActiveRecord: 0.2ms | Allocations: 8279)


Started GET "/" for ::1 at 2020-07-07 10:29:34 +0700
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 23.0ms | Allocations: 3174)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 39ms (Views: 35.3ms | ActiveRecord: 0.5ms | Allocations: 7032)


Started GET "/" for ::1 at 2020-07-07 10:29:34 +0700
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 19.5ms | Allocations: 3170)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 29ms (Views: 27.8ms | ActiveRecord: 0.4ms | Allocations: 7029)


Started GET "/" for ::1 at 2020-07-07 10:29:34 +0700
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 14.6ms | Allocations: 3170)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 62ms (Views: 60.7ms | ActiveRecord: 0.1ms | Allocations: 7043)


Started GET "/" for ::1 at 2020-07-07 10:29:34 +0700
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.9ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 16.2ms | Allocations: 3180)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 30ms (Views: 25.9ms | ActiveRecord: 0.9ms | Allocations: 7054)


Started GET "/" for ::1 at 2020-07-07 10:46:45 +0700
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (15.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 296.4ms | Allocations: 6496)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 1937ms (Views: 1898.2ms | ActiveRecord: 15.1ms | Allocations: 26774)


Started POST "/line_items?product_id=4" for ::1 at 2020-07-07 10:46:51 +0700
Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"mS2I72C3fknD3GXjXNEV4z9UodxnACDBfJ5PlgwperSDa7SAs9BKA9MJaGlmuV+/XTVM95azLljzJB/nvBwGFQ==", "product_id"=>"4"}
Completed 500 Internal Server Error in 35ms (ActiveRecord: 0.0ms | Allocations: 1273)


  
SyntaxError (/home/khanh/Desktop/depot/app/models/cart.rb:16: syntax error, unexpected end-of-input, expecting `end'):
  
app/models/cart.rb:16: syntax error, unexpected end-of-input, expecting `end'
app/models/cart.rb:16: syntax error, unexpected end-of-input, expecting `end'
app/models/cart.rb:16: syntax error, unexpected end-of-input, expecting `end'
app/controllers/concerns/current_cart.rb:4:in `set_cart'
Started POST "/line_items?product_id=4" for ::1 at 2020-07-07 10:47:08 +0700
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"mS2I72C3fknD3GXjXNEV4z9UodxnACDBfJ5PlgwperSDa7SAs9BKA9MJaGlmuV+/XTVM95azLljzJB/nvBwGFQ==", "product_id"=>"4"}
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[36mCart Create (87.7ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2020-07-07 03:47:08.705916"], ["updated_at", "2020-07-07 03:47:08.705916"]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[35m (65.8ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 28], ["product_id", 4], ["LIMIT", 1]]
  ↳ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mLineItem Create (0.4ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 4], ["cart_id", 28], ["created_at", "2020-07-07 03:47:08.964016"], ["updated_at", "2020-07-07 03:47:08.964016"]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[35m (131.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
Redirected to http://localhost:3000/carts/28
Completed 302 Found in 415ms (ActiveRecord: 292.8ms | Allocations: 23149)


Started GET "/carts/28" for ::1 at 2020-07-07 10:47:09 +0700
Processing by CartsController#show as HTML
  Parameters: {"id"=>"28"}
  [1m[36mCart Load (0.6ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 28], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:68:in `set_cart'
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 28]]
  ↳ app/views/carts/show.html.erb:7
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/carts/show.html.erb:10
  Rendered carts/show.html.erb within layouts/application (Duration: 33.9ms | Allocations: 2421)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 80ms (Views: 71.2ms | ActiveRecord: 1.4ms | Allocations: 7867)


Started GET "/carts/28" for ::1 at 2020-07-07 10:47:18 +0700
Processing by CartsController#show as HTML
  Parameters: {"id"=>"28"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 28], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:68:in `set_cart'
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 28]]
  ↳ app/views/carts/show.html.erb:7
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/carts/show.html.erb:10
  Rendered carts/show.html.erb within layouts/application (Duration: 6.2ms | Allocations: 1932)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 22ms (Views: 16.9ms | ActiveRecord: 0.5ms | Allocations: 6426)


Started GET "/" for ::1 at 2020-07-07 10:47:20 +0700
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 11.4ms | Allocations: 3210)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 22ms (Views: 19.5ms | ActiveRecord: 0.4ms | Allocations: 7191)


Started POST "/line_items?product_id=5" for ::1 at 2020-07-07 10:47:22 +0700
Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"l1ifsXY3ItoGkgw0yaRQwNRQ3tFZz+fOiWRukregBe7RoEfjdxcfeMO7vHirP6M5JEWBVJ77m395BQVZ/6sNWQ==", "product_id"=>"5"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 28], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 28], ["product_id", 5], ["LIMIT", 1]]
  ↳ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mLineItem Create (0.3ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 5], ["cart_id", 28], ["created_at", "2020-07-07 03:47:22.384160"], ["updated_at", "2020-07-07 03:47:22.384160"]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[35m (113.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
Redirected to http://localhost:3000/carts/28
Completed 302 Found in 133ms (ActiveRecord: 115.0ms | Allocations: 6857)


Started GET "/carts/28" for ::1 at 2020-07-07 10:47:22 +0700
Processing by CartsController#show as HTML
  Parameters: {"id"=>"28"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 28], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:68:in `set_cart'
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 28]]
  ↳ app/views/carts/show.html.erb:7
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/carts/show.html.erb:10
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/carts/show.html.erb:10
  Rendered carts/show.html.erb within layouts/application (Duration: 9.5ms | Allocations: 2808)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 23ms (Views: 17.5ms | ActiveRecord: 0.9ms | Allocations: 7303)


Started GET "/carts/28" for ::1 at 2020-07-07 10:47:28 +0700
Processing by CartsController#show as HTML
  Parameters: {"id"=>"28"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 28], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:68:in `set_cart'
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 28]]
  ↳ app/views/carts/show.html.erb:7
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/carts/show.html.erb:10
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/carts/show.html.erb:10
  Rendered carts/show.html.erb within layouts/application (Duration: 9.3ms | Allocations: 2808)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 19ms (Views: 14.7ms | ActiveRecord: 0.7ms | Allocations: 7301)


Started GET "/carts/28" for ::1 at 2020-07-07 10:48:27 +0700
Processing by CartsController#show as HTML
  Parameters: {"id"=>"28"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 28], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:68:in `set_cart'
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 28]]
  ↳ app/views/carts/show.html.erb:7
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/carts/show.html.erb:10
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/carts/show.html.erb:10
  Rendered carts/show.html.erb within layouts/application (Duration: 15.3ms | Allocations: 2808)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 35ms (Views: 31.8ms | ActiveRecord: 1.1ms | Allocations: 7304)


Started GET "/" for ::1 at 2020-07-08 13:23:30 +0700
  [1m[35m (0.8ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (1.9ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 530.7ms | Allocations: 21297)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 1088ms (Views: 701.8ms | ActiveRecord: 4.0ms | Allocations: 28794)


Started POST "/line_items?product_id=4" for ::1 at 2020-07-08 13:23:39 +0700
Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"L7t12rw8y39vZTCBBU2xi2razqW4xkBTmBDW9xpPtXc47bS4Ba1CoppRYexmzFqfiuA8rHdz8TUZ2lLeRL0JxQ==", "product_id"=>"4"}
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[36mCart Create (56.8ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2020-07-08 06:23:39.189650"], ["updated_at", "2020-07-08 06:23:39.189650"]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[35m (836.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 29], ["product_id", 4], ["LIMIT", 1]]
  ↳ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mProduct Load (0.8ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mLineItem Create (1.1ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 4], ["cart_id", 29], ["created_at", "2020-07-08 06:23:40.187089"], ["updated_at", "2020-07-08 06:23:40.187089"]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[35m (83.7ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
Redirected to http://localhost:3000/carts/29
Completed 302 Found in 1158ms (ActiveRecord: 983.2ms | Allocations: 20518)


Started GET "/carts/29" for ::1 at 2020-07-08 13:23:40 +0700
Processing by CartsController#show as HTML
  Parameters: {"id"=>"29"}
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 29], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:68:in `set_cart'
  Rendering carts/show.html.erb within layouts/application
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 29]]
  ↳ app/views/carts/show.html.erb:7
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/carts/show.html.erb:10
  Rendered carts/show.html.erb within layouts/application (Duration: 17.2ms | Allocations: 2427)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 39ms (Views: 31.2ms | ActiveRecord: 0.9ms | Allocations: 7676)


Started GET "/" for ::1 at 2020-07-08 13:42:27 +0700
  [1m[35m (0.6ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by StoreController#index as HTML
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (9.5ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 343.2ms | Allocations: 3201)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 811ms (Views: 765.9ms | ActiveRecord: 9.5ms | Allocations: 7076)


Started GET "/" for ::1 at 2020-07-08 14:51:23 +0700
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by StoreController#index as HTML
  [1m[36mCart Load (8.8ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 29], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (11.5ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 185.1ms | Allocations: 6751)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 500 Internal Server Error in 1062ms (ActiveRecord: 20.3ms | Allocations: 27353)


  
ActionView::Template::Error (Missing partial carts/_cart with {:locale=>[:en], :formats=>[:html], :variants=>[], :handlers=>[:raw, :erb, :html, :builder, :ruby, :jbuilder]}. Searched in:
  * "/home/khanh/Desktop/depot/app/views"
  * "/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/actiontext-6.0.3.2/app/views"
  * "/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/actionmailbox-6.0.3.2/app/views"
):
    11:         <section class="content">
    12:             <nav class="side_nav">
    13:               <div id="cart" class="carts">
    14:                 <%= render @cart%>
    15:               </div>   
    16:                 <ul>
    17:                     <li>
  
app/views/layouts/application.html.erb:14
Started GET "/" for ::1 at 2020-07-08 14:52:59 +0700
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 29], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 17.6ms | Allocations: 3513)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 500 Internal Server Error in 43ms (ActiveRecord: 0.6ms | Allocations: 10071)


  
ActionView::Template::Error (Missing partial carts/_cart with {:locale=>[:en], :formats=>[:html], :variants=>[], :handlers=>[:raw, :erb, :html, :builder, :ruby, :jbuilder]}. Searched in:
  * "/home/khanh/Desktop/depot/app/views"
  * "/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/actiontext-6.0.3.2/app/views"
  * "/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/actionmailbox-6.0.3.2/app/views"
):
    11:         <section class="content">
    12:             <nav class="side_nav">
    13:               <div id="cart" class="carts">
    14:                 <%= render @cart %>
    15:               </div>   
    16:                 <ul>
    17:                     <li>
  
app/views/layouts/application.html.erb:14
Started GET "/" for ::1 at 2020-07-08 14:54:32 +0700
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 29], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 9.4ms | Allocations: 3476)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 500 Internal Server Error in 27ms (ActiveRecord: 0.6ms | Allocations: 9929)


  
ActionView::Template::Error (Missing partial carts/_cart with {:locale=>[:en], :formats=>[:html], :variants=>[], :handlers=>[:raw, :erb, :html, :builder, :ruby, :jbuilder]}. Searched in:
  * "/home/khanh/Desktop/depot/app/views"
  * "/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/actiontext-6.0.3.2/app/views"
  * "/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/actionmailbox-6.0.3.2/app/views"
):
    11:         <section class="content">
    12:             <nav class="side_nav">
    13:               <div id="cart" class="carts">
    14:                 <%= render @cart %>
    15:               </div>   
    16:                 <ul>
    17:                     <li>
  
app/views/layouts/application.html.erb:14
Started GET "/" for ::1 at 2020-07-08 14:54:34 +0700
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 29], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 6.8ms | Allocations: 3183)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 500 Internal Server Error in 25ms (ActiveRecord: 0.4ms | Allocations: 8367)


  
ActionView::Template::Error (Missing partial carts/_cart with {:locale=>[:en], :formats=>[:html], :variants=>[], :handlers=>[:raw, :erb, :html, :builder, :ruby, :jbuilder]}. Searched in:
  * "/home/khanh/Desktop/depot/app/views"
  * "/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/actiontext-6.0.3.2/app/views"
  * "/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/actionmailbox-6.0.3.2/app/views"
):
    11:         <section class="content">
    12:             <nav class="side_nav">
    13:               <div id="cart" class="carts">
    14:                 <%= render @cart %>
    15:               </div>   
    16:                 <ul>
    17:                     <li>
  
app/views/layouts/application.html.erb:14
Started GET "/" for ::1 at 2020-07-08 14:54:34 +0700
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 29], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 11.5ms | Allocations: 3179)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 500 Internal Server Error in 25ms (ActiveRecord: 0.6ms | Allocations: 8360)


  
ActionView::Template::Error (Missing partial carts/_cart with {:locale=>[:en], :formats=>[:html], :variants=>[], :handlers=>[:raw, :erb, :html, :builder, :ruby, :jbuilder]}. Searched in:
  * "/home/khanh/Desktop/depot/app/views"
  * "/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/actiontext-6.0.3.2/app/views"
  * "/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/actionmailbox-6.0.3.2/app/views"
):
    11:         <section class="content">
    12:             <nav class="side_nav">
    13:               <div id="cart" class="carts">
    14:                 <%= render @cart %>
    15:               </div>   
    16:                 <ul>
    17:                     <li>
  
app/views/layouts/application.html.erb:14
Started GET "/" for ::1 at 2020-07-08 14:56:49 +0700
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 29], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 17.7ms | Allocations: 3181)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 500 Internal Server Error in 38ms (ActiveRecord: 0.8ms | Allocations: 8364)


  
ActionView::Template::Error (Missing partial carts/_cart with {:locale=>[:en], :formats=>[:html], :variants=>[], :handlers=>[:raw, :erb, :html, :builder, :ruby, :jbuilder]}. Searched in:
  * "/home/khanh/Desktop/depot/app/views"
  * "/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/actiontext-6.0.3.2/app/views"
  * "/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/actionmailbox-6.0.3.2/app/views"
):
    11:         <section class="content">
    12:             <nav class="side_nav">
    13:               <div id="cart" class="carts">
    14:                 <%= render @cart %>
    15:               </div>   
    16:                 <ul>
    17:                     <li>
  
app/views/layouts/application.html.erb:14
Started POST "/__web_console/repl_sessions/06cefa1aa7ef24b364e307de3133428e/trace" for ::1 at 2020-07-08 14:57:08 +0700
Started GET "/" for ::1 at 2020-07-08 14:57:20 +0700
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 29], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 7.3ms | Allocations: 3472)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 500 Internal Server Error in 427ms (ActiveRecord: 0.3ms | Allocations: 134780)


  
ActionView::Template::Error (undefined local variable or method `cart' for #<#<Class:0x00007f0b880c2f48>:0x00007f0b880c0b58>
Did you mean?  @cart):
    11:         <section class="content">
    12:             <nav class="side_nav">
    13:               <div id="cart" class="carts">
    14:                 <%= render cart %>
    15:               </div>   
    16:                 <ul>
    17:                     <li>
  
app/views/layouts/application.html.erb:14
Started GET "/" for ::1 at 2020-07-08 14:57:27 +0700
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 29], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 10.8ms | Allocations: 3472)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 500 Internal Server Error in 24ms (ActiveRecord: 0.3ms | Allocations: 9905)


  
ActionView::Template::Error (Missing partial carts/_cart with {:locale=>[:en], :formats=>[:html], :variants=>[], :handlers=>[:raw, :erb, :html, :builder, :ruby, :jbuilder]}. Searched in:
  * "/home/khanh/Desktop/depot/app/views"
  * "/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/actiontext-6.0.3.2/app/views"
  * "/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/actionmailbox-6.0.3.2/app/views"
):
    11:         <section class="content">
    12:             <nav class="side_nav">
    13:               <div id="cart" class="carts">
    14:                 <%= render @cart %>
    15:               </div>   
    16:                 <ul>
    17:                     <li>
  
app/views/layouts/application.html.erb:14
Started GET "/" for ::1 at 2020-07-08 15:00:41 +0700
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.8ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 29], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 27.1ms | Allocations: 3472)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 500 Internal Server Error in 73ms (ActiveRecord: 1.3ms | Allocations: 9904)


  
ActionView::Template::Error (Missing partial carts/_cart with {:locale=>[:en], :formats=>[:html], :variants=>[], :handlers=>[:raw, :erb, :html, :builder, :ruby, :jbuilder]}. Searched in:
  * "/home/khanh/Desktop/depot/app/views"
  * "/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/actiontext-6.0.3.2/app/views"
  * "/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/actionmailbox-6.0.3.2/app/views"
):
    11:         <section class="content">
    12:             <nav class="side_nav">
    13:               <div id="cart" class="carts">
    14:                 <%= render @cart %>
    15:               </div>   
    16:                 <ul>
    17:                     <li>
  
app/views/layouts/application.html.erb:14
Started GET "/" for ::1 at 2020-07-08 15:01:43 +0700
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 29], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 17.8ms | Allocations: 3472)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 500 Internal Server Error in 42ms (ActiveRecord: 0.7ms | Allocations: 9904)


  
ActionView::Template::Error (Missing partial carts/_cart with {:locale=>[:en], :formats=>[:html], :variants=>[], :handlers=>[:raw, :erb, :html, :builder, :ruby, :jbuilder]}. Searched in:
  * "/home/khanh/Desktop/depot/app/views"
  * "/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/actiontext-6.0.3.2/app/views"
  * "/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/actionmailbox-6.0.3.2/app/views"
):
    11:         <section class="content">
    12:             <nav class="side_nav">
    13:               <div id="cart" class="carts">
    14:                 <%= render @cart %>
    15:               </div>   
    16:                 <ul>
    17:                     <li>
  
app/views/layouts/application.html.erb:14
Started GET "/" for ::1 at 2020-07-08 15:03:53 +0700
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 29], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 8.9ms | Allocations: 3472)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered carts/_cart.html.erb (Duration: 2.6ms | Allocations: 1158)
Completed 500 Internal Server Error in 25ms (ActiveRecord: 0.6ms | Allocations: 10172)


  
ActionView::SyntaxErrorInTemplate (Encountered a syntax error while rendering template: check <article>
<% if notice %>
<aside id="notice"><%= notice %></aside>
<% end %>
<h2>Your Cart</h2>
<table>
<%= render @cart%>
<tr>
<td class="quantity"><%= line_item.quantity %></td>
<td><%= line_item.product.title %></td>
<td class="price"><%= number_to_currency(line_item.total_price) %></td>
</tr>
<% end %>
<tfoot>
<tr>
<th colspan="2">Total:</th>
<td class="price"><%= number_to_currency(cart.total_price) %></td>
</tr>
</tfoot>
</table>
<%= button_to 'Empty cart', cart,
method: :delete,
data: { confirm: 'Are you sure?' } %>
</article>

<%= link_to 'Edit', edit_cart_path(@cart) %> |
<%= link_to 'Back', carts_path %>

):
1:    <article>
2:    <% if notice %>
3:    <aside id="notice"><%= notice %></aside>
4:    <% end %>
5:    <h2>Your Cart</h2>
6:    <table>
7:    <%= render @cart%>
8:    <tr>
9:    <td class="quantity"><%= line_item.quantity %></td>
10:    <td><%= line_item.product.title %></td>
11:    <td class="price"><%= number_to_currency(line_item.total_price) %></td>
12:    </tr>
13:    <% end %>
14:    <tfoot>
15:    <tr>
16:    <th colspan="2">Total:</th>
17:    <td class="price"><%= number_to_currency(cart.total_price) %></td>
18:    </tr>
19:    </tfoot>
20:    </table>
21:    <%= button_to 'Empty cart', cart,
22:    method: :delete,
23:    data: { confirm: 'Are you sure?' } %>
24:    </article>
25:    
26:    <%= link_to 'Edit', edit_cart_path(@cart) %> |
27:    <%= link_to 'Back', carts_path %>
  
app/views/carts/_cart.html.erb:30: syntax error, unexpected `end', expecting end-of-input
app/views/carts/_cart.html.erb:30: syntax error, unexpected `end', expecting end-of-input
app/views/carts/_cart.html.erb:30: syntax error, unexpected `end', expecting end-of-input
app/views/carts/_cart.html.erb:30: syntax error, unexpected `end', expecting end-of-input
app/views/carts/_cart.html.erb:30: syntax error, unexpected `end', expecting end-of-input
app/views/carts/_cart.html.erb:30: syntax error, unexpected `end', expecting end-of-input
app/views/layouts/application.html.erb:14
Started GET "/" for ::1 at 2020-07-08 15:04:15 +0700
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 29], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 7.8ms | Allocations: 3476)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 500 Internal Server Error in 33ms (ActiveRecord: 0.4ms | Allocations: 9908)


  
ActionView::Template::Error (Missing partial carts/_cart with {:locale=>[:en], :formats=>[:html], :variants=>[], :handlers=>[:raw, :erb, :html, :builder, :ruby, :jbuilder]}. Searched in:
  * "/home/khanh/Desktop/depot/app/views"
  * "/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/actiontext-6.0.3.2/app/views"
  * "/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/actionmailbox-6.0.3.2/app/views"
):
    11:         <section class="content">
    12:             <nav class="side_nav">
    13:               <div id="cart" class="carts">
    14:                 <%= render @cart %>
    15:               </div>   
    16:                 <ul>
    17:                     <li>
  
app/views/layouts/application.html.erb:14
Started GET "/" for ::1 at 2020-07-08 15:08:26 +0700
  [1m[35m (1.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (18.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by StoreController#index as HTML
  [1m[36mCart Load (7.5ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 29], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (18.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 597.3ms | Allocations: 21561)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 500 Internal Server Error in 851ms (ActiveRecord: 29.0ms | Allocations: 34452)


  
ActionView::Template::Error (Missing partial carts/_cart with {:locale=>[:en], :formats=>[:html], :variants=>[], :handlers=>[:raw, :erb, :html, :builder, :ruby, :jbuilder]}. Searched in:
  * "/home/khanh/Desktop/depot/app/views"
  * "/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/actiontext-6.0.3.2/app/views"
  * "/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/actionmailbox-6.0.3.2/app/views"
):
    11:         <section class="content">
    12:             <nav class="side_nav">
    13:               <div id="cart" class="carts">
    14:                 <%= render @cart %>
    15:               </div>   
    16:                 <ul>
    17:                     <li>
  
app/views/layouts/application.html.erb:14
Started GET "/" for ::1 at 2020-07-08 15:10:36 +0700
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 29], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 31.5ms | Allocations: 3513)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 500 Internal Server Error in 69ms (ActiveRecord: 0.7ms | Allocations: 10070)


  
ActionView::Template::Error (Missing partial carts/_cart with {:locale=>[:en], :formats=>[:html], :variants=>[], :handlers=>[:raw, :erb, :html, :builder, :ruby, :jbuilder]}. Searched in:
  * "/home/khanh/Desktop/depot/app/views"
  * "/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/actiontext-6.0.3.2/app/views"
  * "/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/actionmailbox-6.0.3.2/app/views"
):
    13:               <% if @cart%>
    14: 
    15:               <div id="cart" class="carts">
    16:                 <%= render @cart %>
    17:               </div>
    18:             <%end%>     
    19:                 <ul>
  
app/views/layouts/application.html.erb:16
Started GET "/" for ::1 at 2020-07-08 15:10:38 +0700
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.7ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 29], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 14.3ms | Allocations: 3187)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 500 Internal Server Error in 38ms (ActiveRecord: 1.0ms | Allocations: 8389)


  
ActionView::Template::Error (Missing partial carts/_cart with {:locale=>[:en], :formats=>[:html], :variants=>[], :handlers=>[:raw, :erb, :html, :builder, :ruby, :jbuilder]}. Searched in:
  * "/home/khanh/Desktop/depot/app/views"
  * "/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/actiontext-6.0.3.2/app/views"
  * "/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/actionmailbox-6.0.3.2/app/views"
):
    13:               <% if @cart%>
    14: 
    15:               <div id="cart" class="carts">
    16:                 <%= render @cart %>
    17:               </div>
    18:             <%end%>     
    19:                 <ul>
  
app/views/layouts/application.html.erb:16
Started GET "/" for ::1 at 2020-07-08 15:11:27 +0700
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 29], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 21.0ms | Allocations: 3476)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 500 Internal Server Error in 49ms (ActiveRecord: 0.7ms | Allocations: 9965)


  
ActionView::Template::Error (Missing partial carts/_cart with {:locale=>[:en], :formats=>[:html], :variants=>[], :handlers=>[:raw, :erb, :html, :builder, :ruby, :jbuilder]}. Searched in:
  * "/home/khanh/Desktop/depot/app/views"
  * "/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/actiontext-6.0.3.2/app/views"
  * "/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/actionmailbox-6.0.3.2/app/views"
):
    13:               <% if @cart%>
    14: 
    15:               <div id="cart" class="carts">
    16:                 <%= render @cart %>
    17:               </div>
    18:             <% end %>     
    19:                 <ul>
  
app/views/layouts/application.html.erb:16
Started GET "/" for ::1 at 2020-07-08 15:13:56 +0700
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 29], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 11.3ms | Allocations: 3472)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 500 Internal Server Error in 33ms (ActiveRecord: 0.6ms | Allocations: 9941)


  
ActionView::Template::Error (Missing partial carts/_cart with {:locale=>[:en], :formats=>[:html], :variants=>[], :handlers=>[:raw, :erb, :html, :builder, :ruby, :jbuilder]}. Searched in:
  * "/home/khanh/Desktop/depot/app/views"
  * "/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/actiontext-6.0.3.2/app/views"
  * "/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/actionmailbox-6.0.3.2/app/views"
):
    13:               <% if @cart%>
    14: 
    15:               <div id="cart" class="carts">
    16:                 <%= render @cart %>
    17:               </div>
    18:             <% end %>     
    19:                 <ul>
  
app/views/layouts/application.html.erb:16
Started GET "/" for ::1 at 2020-07-08 15:16:03 +0700
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 29], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 41.8ms | Allocations: 6589)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 500 Internal Server Error in 95ms (ActiveRecord: 4.2ms | Allocations: 16241)


  
ActionView::Template::Error (Missing partial carts/_cart with {:locale=>[:en], :formats=>[:html], :variants=>[], :handlers=>[:raw, :erb, :html, :builder, :ruby, :jbuilder]}. Searched in:
  * "/home/khanh/Desktop/depot/app/views"
  * "/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/actiontext-6.0.3.2/app/views"
  * "/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/actionmailbox-6.0.3.2/app/views"
):
    13:               <% if @cart%>
    14: 
    15:               <div id="cart" class="carts">
    16:                 <%= render @cart %>
    17:               </div>
    18:             <% end %>     
    19:                 <ul>
  
app/views/layouts/application.html.erb:16
Started GET "/products" for ::1 at 2020-07-08 15:16:23 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:12
  Rendered products/index.html.erb within layouts/application (Duration: 62.1ms | Allocations: 3286)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 77ms (Views: 73.6ms | ActiveRecord: 0.6ms | Allocations: 7776)


Started GET "/products/new" for ::1 at 2020-07-08 15:16:31 +0700
Processing by ProductsController#new as HTML
  Rendering products/new.html.erb within layouts/application
  Rendered products/_form.html.erb (Duration: 133.1ms | Allocations: 2091)
  Rendered products/new.html.erb within layouts/application (Duration: 176.9ms | Allocations: 2420)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 196ms (Views: 192.2ms | ActiveRecord: 0.0ms | Allocations: 6528)


Started GET "/" for ::1 at 2020-07-08 15:16:37 +0700
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 29], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 18.5ms | Allocations: 3180)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 500 Internal Server Error in 41ms (ActiveRecord: 0.9ms | Allocations: 8386)


  
ActionView::Template::Error (Missing partial carts/_cart with {:locale=>[:en], :formats=>[:html], :variants=>[], :handlers=>[:raw, :erb, :html, :builder, :ruby, :jbuilder]}. Searched in:
  * "/home/khanh/Desktop/depot/app/views"
  * "/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/actiontext-6.0.3.2/app/views"
  * "/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/actionmailbox-6.0.3.2/app/views"
):
    13:               <% if @cart%>
    14: 
    15:               <div id="cart" class="carts">
    16:                 <%= render @cart %>
    17:               </div>
    18:             <% end %>     
    19:                 <ul>
  
app/views/layouts/application.html.erb:16
Started GET "/products" for ::1 at 2020-07-08 15:16:44 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:12
  Rendered products/index.html.erb within layouts/application (Duration: 21.4ms | Allocations: 2862)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 34ms (Views: 31.0ms | ActiveRecord: 0.4ms | Allocations: 6724)


Started GET "/products" for ::1 at 2020-07-08 15:16:46 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:12
  Rendered products/index.html.erb within layouts/application (Duration: 12.5ms | Allocations: 2849)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 25ms (Views: 21.7ms | ActiveRecord: 0.2ms | Allocations: 6699)


Started GET "/products" for ::1 at 2020-07-08 15:16:47 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:12
  Rendered products/index.html.erb within layouts/application (Duration: 19.1ms | Allocations: 2849)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 41ms (Views: 37.4ms | ActiveRecord: 0.4ms | Allocations: 6711)


Started GET "/products" for ::1 at 2020-07-08 15:16:47 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:12
  Rendered products/index.html.erb within layouts/application (Duration: 13.9ms | Allocations: 2849)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 32ms (Views: 31.2ms | ActiveRecord: 0.1ms | Allocations: 6695)


Started GET "/products" for ::1 at 2020-07-08 15:16:47 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:12
  Rendered products/index.html.erb within layouts/application (Duration: 14.1ms | Allocations: 2849)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 34ms (Views: 33.2ms | ActiveRecord: 0.2ms | Allocations: 6693)


Started GET "/products/4" for ::1 at 2020-07-08 15:16:49 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:67:in `set_product'
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (Duration: 25.3ms | Allocations: 305)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 52ms (Views: 43.9ms | ActiveRecord: 0.7ms | Allocations: 5068)


Started GET "/products/5/edit" for ::1 at 2020-07-08 15:16:55 +0700
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"5"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:67:in `set_product'
  Rendering products/edit.html.erb within layouts/application
  Rendered products/_form.html.erb (Duration: 4.5ms | Allocations: 1171)
  Rendered products/edit.html.erb within layouts/application (Duration: 40.4ms | Allocations: 1413)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 59ms (Views: 51.0ms | ActiveRecord: 0.4ms | Allocations: 6044)


Started GET "/" for ::1 at 2020-07-08 15:17:00 +0700
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 29], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 22.4ms | Allocations: 3182)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 500 Internal Server Error in 40ms (ActiveRecord: 0.9ms | Allocations: 8365)


  
ActionView::Template::Error (Missing partial carts/_cart with {:locale=>[:en], :formats=>[:html], :variants=>[], :handlers=>[:raw, :erb, :html, :builder, :ruby, :jbuilder]}. Searched in:
  * "/home/khanh/Desktop/depot/app/views"
  * "/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/actiontext-6.0.3.2/app/views"
  * "/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/actionmailbox-6.0.3.2/app/views"
):
    13:               <% if @cart%>
    14: 
    15:               <div id="cart" class="carts">
    16:                 <%= render @cart %>
    17:               </div>
    18:             <% end %>     
    19:                 <ul>
  
app/views/layouts/application.html.erb:16
Started GET "/" for ::1 at 2020-07-08 15:18:08 +0700
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 29], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 10.9ms | Allocations: 3179)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 500 Internal Server Error in 385ms (ActiveRecord: 0.7ms | Allocations: 18723)


  
ActionView::Template::Error (Missing partial carts/_cart with {:locale=>[:en], :formats=>[:html], :variants=>[], :handlers=>[:raw, :erb, :html, :builder, :ruby, :jbuilder]}. Searched in:
  * "/home/khanh/Desktop/depot/app/views"
  * "/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/actiontext-6.0.3.2/app/views"
  * "/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/actionmailbox-6.0.3.2/app/views"
):
    13:               <% if @cart%>
    14: 
    15:               <div id="cart" class="carts">
    16:                 <%= render @cart %>
    17:               </div>
    18:             <% end %>     
    19:                 <ul>
  
app/views/layouts/application.html.erb:16
Started GET "/" for ::1 at 2020-07-08 15:19:20 +0700
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 29], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.9ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 19.4ms | Allocations: 3472)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 41ms (Views: 33.9ms | ActiveRecord: 1.3ms | Allocations: 8860)


Started GET "/" for ::1 at 2020-07-08 15:19:27 +0700
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 29], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 15.1ms | Allocations: 3174)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 31ms (Views: 24.4ms | ActiveRecord: 0.6ms | Allocations: 7574)


Started GET "/" for ::1 at 2020-07-08 15:19:45 +0700
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 29], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 10.1ms | Allocations: 3170)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 18ms (Views: 15.1ms | ActiveRecord: 0.3ms | Allocations: 7567)


Started GET "/products" for ::1 at 2020-07-08 15:19:47 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:12
  Rendered products/index.html.erb within layouts/application (Duration: 10.1ms | Allocations: 3184)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 18ms (Views: 17.1ms | ActiveRecord: 0.1ms | Allocations: 7602)


Started GET "/" for ::1 at 2020-07-08 15:23:25 +0700
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 29], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 9.7ms | Allocations: 3466)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Load (21.8ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 29]]
  ↳ app/views/carts/_cart.html.erb:7
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:3
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 11.9ms | Allocations: 1762)
  Rendered carts/_cart.html.erb (Duration: 257.1ms | Allocations: 12147)
Completed 200 OK in 284ms (Views: 253.8ms | ActiveRecord: 25.2ms | Allocations: 21186)


Started GET "/" for ::1 at 2020-07-08 15:23:59 +0700
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.8ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 29], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 17.7ms | Allocations: 3172)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 29]]
  ↳ app/views/carts/_cart.html.erb:7
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:3
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 4.1ms | Allocations: 890)
  Rendered carts/_cart.html.erb (Duration: 13.6ms | Allocations: 2064)
Completed 200 OK in 178ms (Views: 171.8ms | ActiveRecord: 1.6ms | Allocations: 19513)


Started GET "/" for ::1 at 2020-07-08 15:24:00 +0700
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 29], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 15.7ms | Allocations: 3176)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 29]]
  ↳ app/views/carts/_cart.html.erb:7
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:3
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 3.4ms | Allocations: 890)
  Rendered carts/_cart.html.erb (Duration: 9.9ms | Allocations: 2064)
Completed 200 OK in 45ms (Views: 39.3ms | ActiveRecord: 0.9ms | Allocations: 9696)


Started GET "/" for ::1 at 2020-07-08 15:24:00 +0700
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 29], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 18.6ms | Allocations: 3180)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 29]]
  ↳ app/views/carts/_cart.html.erb:7
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:3
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 6.7ms | Allocations: 890)
  Rendered carts/_cart.html.erb (Duration: 15.2ms | Allocations: 2064)
Completed 200 OK in 56ms (Views: 48.6ms | ActiveRecord: 1.4ms | Allocations: 9729)


Started GET "/" for ::1 at 2020-07-08 15:24:15 +0700
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 29], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 13.5ms | Allocations: 3170)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 29]]
  ↳ app/views/carts/_cart.html.erb:7
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:3
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 4.9ms | Allocations: 890)
  Rendered carts/_cart.html.erb (Duration: 11.4ms | Allocations: 2064)
Completed 200 OK in 285ms (Views: 274.4ms | ActiveRecord: 1.3ms | Allocations: 19525)


Started GET "/" for ::1 at 2020-07-08 15:24:26 +0700
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 29], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 15.0ms | Allocations: 3171)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 29]]
  ↳ app/views/carts/_cart.html.erb:7
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:3
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 3.9ms | Allocations: 890)
  Rendered carts/_cart.html.erb (Duration: 12.3ms | Allocations: 2064)
Completed 200 OK in 40ms (Views: 37.0ms | ActiveRecord: 0.8ms | Allocations: 9691)


Started GET "/" for ::1 at 2020-07-08 15:24:47 +0700
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.6ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 29], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 45.9ms | Allocations: 3171)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 29]]
  ↳ app/views/carts/_cart.html.erb:7
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:3
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 8.1ms | Allocations: 890)
  Rendered carts/_cart.html.erb (Duration: 15.8ms | Allocations: 2064)
Completed 200 OK in 117ms (Views: 105.3ms | ActiveRecord: 1.8ms | Allocations: 9686)


Started GET "/" for ::1 at 2020-07-08 15:27:11 +0700
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 29], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 14.3ms | Allocations: 3171)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 29]]
  ↳ app/views/carts/_cart.html.erb:7
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:3
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 3.9ms | Allocations: 890)
  Rendered carts/_cart.html.erb (Duration: 18.2ms | Allocations: 2064)
Completed 200 OK in 430ms (Views: 427.7ms | ActiveRecord: 0.8ms | Allocations: 18680)


Started GET "/" for ::1 at 2020-07-08 15:27:26 +0700
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 29], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 14.5ms | Allocations: 3177)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 29]]
  ↳ app/views/carts/_cart.html.erb:7
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:3
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 5.9ms | Allocations: 890)
  Rendered carts/_cart.html.erb (Duration: 12.5ms | Allocations: 2064)
Completed 200 OK in 42ms (Views: 37.3ms | ActiveRecord: 1.1ms | Allocations: 9750)


Started GET "/" for ::1 at 2020-07-08 15:27:40 +0700
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 29], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 16.7ms | Allocations: 3170)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 29]]
  ↳ app/views/carts/_cart.html.erb:7
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:3
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 3.5ms | Allocations: 890)
  Rendered carts/_cart.html.erb (Duration: 8.0ms | Allocations: 2064)
Completed 200 OK in 40ms (Views: 37.0ms | ActiveRecord: 0.7ms | Allocations: 9696)


Started GET "/" for ::1 at 2020-07-08 15:28:41 +0700
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.6ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 29], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 16.5ms | Allocations: 3170)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 29]]
  ↳ app/views/carts/_cart.html.erb:7
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:3
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 4.1ms | Allocations: 890)
  Rendered carts/_cart.html.erb (Duration: 7.7ms | Allocations: 2064)
Completed 200 OK in 696ms (Views: 687.0ms | ActiveRecord: 1.3ms | Allocations: 20391)


Started GET "/products" for ::1 at 2020-07-08 15:33:26 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:12
  Rendered products/index.html.erb within layouts/application (Duration: 135.6ms | Allocations: 3180)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 500 Internal Server Error in 215ms (ActiveRecord: 0.4ms | Allocations: 8311)


  
ActionView::Template::Error ('nil' is not an ActiveModel-compatible object. It must implement :to_partial_path.):
    11:         <section class="content">
    12:             <nav class="side_nav">
    13:               <div id="cart" class ="carts">
    14:                 <%= render @cart%>
    15:               </div>  
    16:                 <ul>
    17:                     <li>
  
app/views/layouts/application.html.erb:14
Started GET "/products" for ::1 at 2020-07-08 15:34:41 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:12
  Rendered products/index.html.erb within layouts/application (Duration: 15.9ms | Allocations: 2857)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 500 Internal Server Error in 31ms (ActiveRecord: 0.3ms | Allocations: 7427)


  
ActionView::Template::Error ('nil' is not an ActiveModel-compatible object. It must implement :to_partial_path.):
    11:         <section class="content">
    12:             <nav class="side_nav">
    13:               <div id="cart" class ="carts">
    14:                 <%= render @cart%>
    15:               </div>  
    16:                 <ul>
    17:                     <li>
  
app/views/layouts/application.html.erb:14
Started GET "/" for ::1 at 2020-07-08 15:34:46 +0700
Processing by StoreController#index as HTML
  [1m[36mCart Load (36.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 29], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (1.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 57.7ms | Allocations: 3185)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 29]]
  ↳ app/views/carts/_cart.html.erb:7
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:3
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 4.5ms | Allocations: 890)
  Rendered carts/_cart.html.erb (Duration: 10.9ms | Allocations: 2068)
Completed 200 OK in 125ms (Views: 83.0ms | ActiveRecord: 38.1ms | Allocations: 9722)


Started GET "/products" for ::1 at 2020-07-08 15:34:54 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:12
  Rendered products/index.html.erb within layouts/application (Duration: 10.1ms | Allocations: 2849)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 500 Internal Server Error in 23ms (ActiveRecord: 0.2ms | Allocations: 7414)


  
ActionView::Template::Error ('nil' is not an ActiveModel-compatible object. It must implement :to_partial_path.):
    11:         <section class="content">
    12:             <nav class="side_nav">
    13:               <div id="cart" class ="carts">
    14:                 <%= render @cart%>
    15:               </div>  
    16:                 <ul>
    17:                     <li>
  
app/views/layouts/application.html.erb:14
Started GET "/products" for ::1 at 2020-07-08 15:38:10 +0700
  [1m[35m (0.4ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (26.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (63.8ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:12
  Rendered products/index.html.erb within layouts/application (Duration: 931.0ms | Allocations: 19528)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 1141ms (Views: 962.3ms | ActiveRecord: 64.6ms | Allocations: 26705)


Started GET "/" for ::1 at 2020-07-08 15:38:14 +0700
Processing by StoreController#index as HTML
  [1m[36mCart Load (15.0ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 29], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 99.7ms | Allocations: 5244)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Load (1.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 29]]
  ↳ app/views/carts/_cart.html.erb:7
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:3
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 21.1ms | Allocations: 1780)
  Rendered carts/_cart.html.erb (Duration: 123.4ms | Allocations: 10493)
Completed 200 OK in 460ms (Views: 239.8ms | ActiveRecord: 20.0ms | Allocations: 23708)


Started GET "/" for ::1 at 2020-07-08 15:46:58 +0700
  [1m[35m (0.4ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.9ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 29], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 21.7ms | Allocations: 3484)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 29]]
  ↳ app/views/carts/_cart.html.erb:7
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:3
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 5.7ms | Allocations: 1030)
  Rendered carts/_cart.html.erb (Duration: 18.9ms | Allocations: 2545)
Completed 200 OK in 75ms (Views: 63.8ms | ActiveRecord: 1.9ms | Allocations: 11634)


Started DELETE "/carts/29" for ::1 at 2020-07-08 15:49:51 +0700
Processing by CartsController#destroy as HTML
  Parameters: {"authenticity_token"=>"rbNEg59iKCuoOZSbJTGyO677wu3JZwafsJJlpWdJDIW65YXhJvOh9l0NxfZGsFkvTsEw5AbSt/kxWOGMObuwNw==", "id"=>"29"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 29], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:68:in `set_cart'
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/carts_controller.rb:57:in `destroy'
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 29]]
  ↳ app/controllers/carts_controller.rb:57:in `destroy'
  [1m[36mLineItem Destroy (230.9ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 41]]
  ↳ app/controllers/carts_controller.rb:57:in `destroy'
  [1m[36mCart Destroy (0.7ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 29]]
  ↳ app/controllers/carts_controller.rb:57:in `destroy'
  [1m[35m (83.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/carts_controller.rb:57:in `destroy'
Redirected to http://localhost:3000/
Completed 302 Found in 363ms (ActiveRecord: 315.8ms | Allocations: 6052)


Started GET "/" for ::1 at 2020-07-08 15:49:51 +0700
Processing by StoreController#index as HTML
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[36mCart Create (38.8ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2020-07-08 08:49:51.791433"], ["updated_at", "2020-07-08 08:49:51.791433"]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[35m (306.6ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 21.3ms | Allocations: 3190)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 30]]
  ↳ app/views/carts/_cart.html.erb:7
  Rendered collection of templates [0 times] (Duration: 0.1ms | Allocations: 3)
  Rendered carts/_cart.html.erb (Duration: 8.9ms | Allocations: 1108)
Completed 200 OK in 424ms (Views: 63.2ms | ActiveRecord: 346.3ms | Allocations: 11957)


Started POST "/line_items?product_id=4" for ::1 at 2020-07-08 15:49:54 +0700
Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"7byPy3gbviYJF7MQKlP+JvbV/LhMlOycT51i2/Z3weL66k6pwYo3+/wj4n1J0hUyFu8OsYMhXfrOV+byqIV9UA==", "product_id"=>"4"}
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 30], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 30], ["product_id", 4], ["LIMIT", 1]]
  ↳ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mProduct Load (0.8ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mLineItem Create (0.6ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 4], ["cart_id", 30], ["created_at", "2020-07-08 08:49:55.092863"], ["updated_at", "2020-07-08 08:49:55.092863"]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[35m (68.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
Redirected to http://localhost:3000/
Completed 302 Found in 109ms (ActiveRecord: 71.1ms | Allocations: 7030)


Started GET "/" for ::1 at 2020-07-08 15:49:55 +0700
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 30], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 19.0ms | Allocations: 3173)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 30]]
  ↳ app/views/carts/_cart.html.erb:7
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:3
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 4.6ms | Allocations: 890)
  Rendered carts/_cart.html.erb (Duration: 8.6ms | Allocations: 2064)
Completed 200 OK in 43ms (Views: 40.6ms | ActiveRecord: 0.5ms | Allocations: 9847)


Started POST "/line_items?product_id=5" for ::1 at 2020-07-08 15:49:57 +0700
Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"9FJdWAykdhE/CfIg+rAY985ixknzd/oumspVvGR6ATXjBJw6tTX/zMo9o02ZMfPjLlg0QDzCS0gbANGVOoi9hw==", "product_id"=>"5"}
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 30], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 30], ["product_id", 5], ["LIMIT", 1]]
  ↳ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mProduct Load (0.9ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mLineItem Create (1.2ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 5], ["cart_id", 30], ["created_at", "2020-07-08 08:49:57.620147"], ["updated_at", "2020-07-08 08:49:57.620147"]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[35m (107.7ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
Redirected to http://localhost:3000/
Completed 302 Found in 149ms (ActiveRecord: 111.4ms | Allocations: 6820)


Started GET "/" for ::1 at 2020-07-08 15:49:57 +0700
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 30], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 28.9ms | Allocations: 3172)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 30]]
  ↳ app/views/carts/_cart.html.erb:7
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:3
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:3
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 8.0ms | Allocations: 1779)
  Rendered carts/_cart.html.erb (Duration: 14.8ms | Allocations: 2976)
Completed 200 OK in 77ms (Views: 68.0ms | ActiveRecord: 1.9ms | Allocations: 10607)


Started POST "/line_items?product_id=4" for ::1 at 2020-07-08 15:50:00 +0700
Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"3+RVOAOTPe1bB71ty5U3WPYsJ0bn5YibBMP9+rSP/BDIspRaugK0MK4z7ACoFNxMFhbVTyhQOf2FCXnT6n1Aog==", "product_id"=>"4"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 30], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 30], ["product_id", 4], ["LIMIT", 1]]
  ↳ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mLineItem Update (0.5ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 2], ["updated_at", "2020-07-08 08:50:00.893276"], ["id", 42]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[35m (76.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
Redirected to http://localhost:3000/
Completed 302 Found in 107ms (ActiveRecord: 78.1ms | Allocations: 6678)


Started GET "/" for ::1 at 2020-07-08 15:50:00 +0700
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 30], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 14.8ms | Allocations: 3172)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Load (0.7ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 30]]
  ↳ app/views/carts/_cart.html.erb:7
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:3
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 7.5ms | Allocations: 1779)
  Rendered carts/_cart.html.erb (Duration: 16.2ms | Allocations: 2976)
Completed 200 OK in 52ms (Views: 44.8ms | ActiveRecord: 1.9ms | Allocations: 10763)


Started GET "/" for ::1 at 2020-07-08 15:52:51 +0700
  [1m[35m (1.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (15.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 30], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 3644.2ms | Allocations: 26459)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 30]]
  ↳ app/views/carts/_cart.html.erb:7
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:3
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:3
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 15.7ms | Allocations: 2670)
  Rendered carts/_cart.html.erb (Duration: 114.7ms | Allocations: 11411)
Completed 200 OK in 4022ms (Views: 3899.6ms | ActiveRecord: 7.0ms | Allocations: 55106)


Started GET "/" for ::1 at 2020-07-08 15:53:47 +0700
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 30], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 14.7ms | Allocations: 3466)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 30]]
  ↳ app/views/carts/_cart.html.erb:7
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:3
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 5.5ms | Allocations: 1901)
  Rendered carts/_cart.html.erb (Duration: 15.6ms | Allocations: 3422)
Completed 200 OK in 43ms (Views: 38.3ms | ActiveRecord: 1.2ms | Allocations: 12498)


Started POST "/line_items?product_id=6" for ::1 at 2020-07-08 15:57:58 +0700
Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"UetJt5gJLU9kT1+o8CAUZRLaT1mjUakn93Gxm9FUX0dGvYjVIZikkpF7DsWTof9x8uC9UGzkGEF2uzWyj6bj9Q==", "product_id"=>"6"}
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 30], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 30], ["product_id", 6], ["LIMIT", 1]]
  ↳ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mLineItem Create (0.5ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 6], ["cart_id", 30], ["created_at", "2020-07-08 08:57:59.007744"], ["updated_at", "2020-07-08 08:57:59.007744"]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[35m (234.7ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
Redirected to http://localhost:3000/
Completed 302 Found in 284ms (ActiveRecord: 237.0ms | Allocations: 7297)


Started GET "/" for ::1 at 2020-07-08 15:57:59 +0700
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 30], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 26.8ms | Allocations: 3184)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 30]]
  ↳ app/views/carts/_cart.html.erb:7
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:3
  [1m[36mProduct Load (0.8ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:3
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:3
  Rendered collection of line_items/_line_item.html.erb [3 times] (Duration: 16.1ms | Allocations: 2668)
  Rendered carts/_cart.html.erb (Duration: 20.5ms | Allocations: 3887)
Completed 200 OK in 67ms (Views: 59.8ms | ActiveRecord: 2.0ms | Allocations: 11548)


Started POST "/line_items?product_id=4" for ::1 at 2020-07-08 15:58:01 +0700
Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"miANChhpCzhd80mhGcPbKrJNydMMW5KQaP3n/1zTOWWNdsxoofiC5ajHGMx6QjA+Unc72sPuI/bpN2PWAiGF1w==", "product_id"=>"4"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 30], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 30], ["product_id", 4], ["LIMIT", 1]]
  ↳ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mLineItem Update (0.4ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 3], ["updated_at", "2020-07-08 08:58:01.426554"], ["id", 42]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[35m (159.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
Redirected to http://localhost:3000/
Completed 302 Found in 195ms (ActiveRecord: 161.0ms | Allocations: 6785)


Started GET "/" for ::1 at 2020-07-08 15:58:01 +0700
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 30], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 16.3ms | Allocations: 3173)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 30]]
  ↳ app/views/carts/_cart.html.erb:7
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:3
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:3
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:3
  Rendered collection of line_items/_line_item.html.erb [3 times] (Duration: 16.5ms | Allocations: 2668)
  Rendered carts/_cart.html.erb (Duration: 21.0ms | Allocations: 3887)
Completed 200 OK in 56ms (Views: 47.0ms | ActiveRecord: 1.9ms | Allocations: 11523)


Started POST "/line_items?product_id=4" for ::1 at 2020-07-08 15:58:02 +0700
Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"+Ok3GmyOvrP98ajeORNq7srnly4ojxnS1Njr5WvYvzfvv/Z41R83bgjF+bNakoH6Kt1lJ+c6qLRVEm/MNSoDhQ==", "product_id"=>"4"}
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 30], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 30], ["product_id", 4], ["LIMIT", 1]]
  ↳ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mProduct Load (0.8ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mLineItem Update (1.4ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 4], ["updated_at", "2020-07-08 08:58:02.640800"], ["id", 42]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[35m (108.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
Redirected to http://localhost:3000/
Completed 302 Found in 149ms (ActiveRecord: 111.8ms | Allocations: 6722)


Started GET "/" for ::1 at 2020-07-08 15:58:02 +0700
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 30], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.8ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 14.8ms | Allocations: 3174)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 30]]
  ↳ app/views/carts/_cart.html.erb:7
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:3
  [1m[36mProduct Load (0.8ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:3
  Rendered collection of line_items/_line_item.html.erb [3 times] (Duration: 13.7ms | Allocations: 2668)
  Rendered carts/_cart.html.erb (Duration: 17.8ms | Allocations: 3887)
Completed 200 OK in 49ms (Views: 43.4ms | ActiveRecord: 2.2ms | Allocations: 11542)


Started POST "/line_items?product_id=4" for ::1 at 2020-07-08 15:58:03 +0700
Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"nQJJI79LshBVO5fn0UtHu0KsCNv+EspNAunrr5auRc6KVIhBBto7zaAPxoqyyqyvopb60jGneyuDI2+GyFz5fA==", "product_id"=>"4"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 30], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 30], ["product_id", 4], ["LIMIT", 1]]
  ↳ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.6ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mLineItem Update (0.7ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 5], ["updated_at", "2020-07-08 08:58:03.443816"], ["id", 42]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[35m (309.8ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
Redirected to http://localhost:3000/
Completed 302 Found in 341ms (ActiveRecord: 312.3ms | Allocations: 6725)


Started GET "/" for ::1 at 2020-07-08 15:58:03 +0700
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 30], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 29.2ms | Allocations: 3172)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 30]]
  ↳ app/views/carts/_cart.html.erb:7
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:3
  [1m[36mProduct Load (1.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:3
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:3
  Rendered collection of line_items/_line_item.html.erb [3 times] (Duration: 18.7ms | Allocations: 2668)
  Rendered carts/_cart.html.erb (Duration: 22.5ms | Allocations: 3887)
Completed 200 OK in 72ms (Views: 64.2ms | ActiveRecord: 2.8ms | Allocations: 11521)


Started DELETE "/carts/30" for ::1 at 2020-07-08 15:58:09 +0700
Processing by CartsController#destroy as HTML
  Parameters: {"authenticity_token"=>"VBo7QjhzAuoKZu0WlfBGYKRb3XtGC9Gxl1UeDVHmLYxDTPoggeKLN/9SvHv2ca10RGEvcom+YNcWn5okDxSRPg==", "id"=>"30"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 30], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:68:in `set_cart'
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/carts_controller.rb:57:in `destroy'
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 30]]
  ↳ app/controllers/carts_controller.rb:57:in `destroy'
  [1m[36mLineItem Destroy (0.5ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 42]]
  ↳ app/controllers/carts_controller.rb:57:in `destroy'
  [1m[36mLineItem Destroy (0.4ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 43]]
  ↳ app/controllers/carts_controller.rb:57:in `destroy'
  [1m[36mLineItem Destroy (0.3ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 44]]
  ↳ app/controllers/carts_controller.rb:57:in `destroy'
  [1m[36mCart Destroy (0.7ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 30]]
  ↳ app/controllers/carts_controller.rb:57:in `destroy'
  [1m[35m (105.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/carts_controller.rb:57:in `destroy'
Redirected to http://localhost:3000/
Completed 302 Found in 147ms (ActiveRecord: 108.2ms | Allocations: 7800)


Started GET "/" for ::1 at 2020-07-08 15:58:09 +0700
Processing by StoreController#index as HTML
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[36mCart Create (1.0ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2020-07-08 08:58:09.491164"], ["updated_at", "2020-07-08 08:58:09.491164"]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[35m (435.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 15.4ms | Allocations: 3184)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 31]]
  ↳ app/views/carts/_cart.html.erb:7
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered carts/_cart.html.erb (Duration: 5.1ms | Allocations: 1108)
Completed 200 OK in 485ms (Views: 25.5ms | ActiveRecord: 437.0ms | Allocations: 11982)


Started POST "/line_items?product_id=4" for ::1 at 2020-07-08 15:58:54 +0700
Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"6bZPshg0/FJ27oMXOyUELwqLb5b8ifxJOyiv/tQxZlj+4I7QoaV1j4Pa0npYpO876rGdnzM8TS+64ivXisPa6g==", "product_id"=>"4"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 31], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 31], ["product_id", 4], ["LIMIT", 1]]
  ↳ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mLineItem Create (1.5ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 4], ["cart_id", 31], ["created_at", "2020-07-08 08:58:54.795221"], ["updated_at", "2020-07-08 08:58:54.795221"]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[35m (251.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
Redirected to http://localhost:3000/
Completed 302 Found in 277ms (ActiveRecord: 253.6ms | Allocations: 6809)


Started GET "/" for ::1 at 2020-07-08 15:58:55 +0700
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 31], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 15.1ms | Allocations: 3179)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 31]]
  ↳ app/views/carts/_cart.html.erb:7
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:3
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 2.1ms | Allocations: 890)
  Rendered carts/_cart.html.erb (Duration: 5.8ms | Allocations: 2064)
Completed 200 OK in 62ms (Views: 55.6ms | ActiveRecord: 1.1ms | Allocations: 9723)


Started DELETE "/carts/31" for ::1 at 2020-07-08 15:59:00 +0700
Processing by CartsController#destroy as HTML
  Parameters: {"authenticity_token"=>"x3NNPT4MfC2Hcqh4Tmi7ro00p5roj0FtXkGQtKRiI4TQJYxfh5318HJG+RUt6VC6bQ5Vkyc68AvfixSd+pCfNg==", "id"=>"31"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 31], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:68:in `set_cart'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/carts_controller.rb:57:in `destroy'
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 31]]
  ↳ app/controllers/carts_controller.rb:57:in `destroy'
  [1m[36mLineItem Destroy (0.4ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 45]]
  ↳ app/controllers/carts_controller.rb:57:in `destroy'
  [1m[36mCart Destroy (0.3ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 31]]
  ↳ app/controllers/carts_controller.rb:57:in `destroy'
  [1m[35m (114.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/carts_controller.rb:57:in `destroy'
Redirected to http://localhost:3000/
Completed 302 Found in 140ms (ActiveRecord: 116.5ms | Allocations: 5823)


Started GET "/" for ::1 at 2020-07-08 15:59:00 +0700
Processing by StoreController#index as HTML
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[36mCart Create (0.9ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2020-07-08 08:59:00.484184"], ["updated_at", "2020-07-08 08:59:00.484184"]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[35m (73.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.8ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 28.7ms | Allocations: 3179)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 32]]
  ↳ app/views/carts/_cart.html.erb:7
  Rendered collection of templates [0 times] (Duration: 0.1ms | Allocations: 3)
  Rendered carts/_cart.html.erb (Duration: 9.0ms | Allocations: 1108)
Completed 200 OK in 159ms (Views: 64.4ms | ActiveRecord: 76.1ms | Allocations: 12002)


Started GET "/" for ::1 at 2020-07-08 16:00:04 +0700
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.7ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 32], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 14.0ms | Allocations: 3170)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 32]]
  ↳ app/views/carts/_cart.html.erb:7
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered carts/_cart.html.erb (Duration: 2.4ms | Allocations: 1104)
Completed 200 OK in 593ms (Views: 585.5ms | ActiveRecord: 1.1ms | Allocations: 20628)


Started GET "/" for ::1 at 2020-07-08 16:00:35 +0700
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 32], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 9.0ms | Allocations: 3176)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 32]]
  ↳ app/views/carts/_cart.html.erb:7
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered carts/_cart.html.erb (Duration: 6.6ms | Allocations: 1104)
Completed 200 OK in 101ms (Views: 95.2ms | ActiveRecord: 0.5ms | Allocations: 21367)


Started GET "/" for ::1 at 2020-07-08 16:00:36 +0700
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 32], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 17.8ms | Allocations: 3178)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 32]]
  ↳ app/views/carts/_cart.html.erb:7
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered carts/_cart.html.erb (Duration: 4.0ms | Allocations: 1104)
Completed 200 OK in 43ms (Views: 37.2ms | ActiveRecord: 0.8ms | Allocations: 8766)


Started DELETE "/carts/32" for ::1 at 2020-07-08 16:00:39 +0700
Processing by CartsController#destroy as HTML
  Parameters: {"authenticity_token"=>"GJkRbiHKKPjuqDImxMUPX5aozReXajU/0pFLVdFRQRcPz9AMmFuhJRucY0unRORLdpI/HljfhFlTW898j6P9pQ==", "id"=>"32"}
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 32], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:68:in `set_cart'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/carts_controller.rb:57:in `destroy'
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 32]]
  ↳ app/controllers/carts_controller.rb:57:in `destroy'
  [1m[36mCart Destroy (0.4ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 32]]
  ↳ app/controllers/carts_controller.rb:57:in `destroy'
  [1m[35m (75.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/carts_controller.rb:57:in `destroy'
Redirected to http://localhost:3000/
Completed 302 Found in 96ms (ActiveRecord: 76.8ms | Allocations: 4772)


Started GET "/" for ::1 at 2020-07-08 16:00:39 +0700
Processing by StoreController#index as HTML
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[36mCart Create (0.7ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2020-07-08 09:00:39.515327"], ["updated_at", "2020-07-08 09:00:39.515327"]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[35m (107.8ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 18.8ms | Allocations: 3185)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 33]]
  ↳ app/views/carts/_cart.html.erb:7
  Rendered collection of templates [0 times] (Duration: 0.1ms | Allocations: 3)
  Rendered carts/_cart.html.erb (Duration: 5.5ms | Allocations: 1108)
Completed 200 OK in 171ms (Views: 39.7ms | ActiveRecord: 109.2ms | Allocations: 11988)


Started POST "/line_items?product_id=4" for ::1 at 2020-07-08 16:00:41 +0700
Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"xIIsynh/H+Y0g2MegZYZh+IfN0tqum9Gbdjm9F2RTG7T1O2owe6WO8G3MnPiF/KTAiXFQqUP3iDsEmLdA2Pw3A==", "product_id"=>"4"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 33], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 33], ["product_id", 4], ["LIMIT", 1]]
  ↳ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mLineItem Create (0.6ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 4], ["cart_id", 33], ["created_at", "2020-07-08 09:00:41.065856"], ["updated_at", "2020-07-08 09:00:41.065856"]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[35m (83.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
Redirected to http://localhost:3000/
Completed 302 Found in 121ms (ActiveRecord: 85.4ms | Allocations: 6728)


Started GET "/" for ::1 at 2020-07-08 16:00:41 +0700
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 33], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 15.2ms | Allocations: 3170)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 33]]
  ↳ app/views/carts/_cart.html.erb:7
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:3
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 4.3ms | Allocations: 890)
  Rendered carts/_cart.html.erb (Duration: 11.5ms | Allocations: 2065)
Completed 200 OK in 49ms (Views: 43.6ms | ActiveRecord: 1.0ms | Allocations: 9705)


Started POST "/line_items?product_id=5" for ::1 at 2020-07-08 16:00:45 +0700
Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"pbL66DN4rYh4o3dA/+47JAckIp7Th3mND33dP9Uj/KGy5DuKiukkVY2XJi2cb9Aw5x7QlxwyyOuOt1kWi9FAEw==", "product_id"=>"5"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 33], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 33], ["product_id", 5], ["LIMIT", 1]]
  ↳ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mLineItem Create (2.5ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 5], ["cart_id", 33], ["created_at", "2020-07-08 09:00:45.234075"], ["updated_at", "2020-07-08 09:00:45.234075"]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[35m (595.7ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
Redirected to http://localhost:3000/
Completed 302 Found in 634ms (ActiveRecord: 599.6ms | Allocations: 6809)


Started GET "/" for ::1 at 2020-07-08 16:00:45 +0700
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 33], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 7.6ms | Allocations: 3173)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 33]]
  ↳ app/views/carts/_cart.html.erb:7
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:3
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:3
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 3.3ms | Allocations: 1779)
  Rendered carts/_cart.html.erb (Duration: 5.8ms | Allocations: 2976)
Completed 200 OK in 24ms (Views: 18.8ms | ActiveRecord: 0.8ms | Allocations: 10607)


Started POST "/line_items?product_id=5" for ::1 at 2020-07-08 16:00:48 +0700
Processing by LineItemsController#create as HTML
  Parameters: {"authenticity_token"=>"AE3d3eQH3n05wTpAhwDJnvXIGoE52YGKoJu79RYcvGIXGxy/XZZXoMz1ay3kgSKKFfLoiPZsMOwhUT/cSO4A0A==", "product_id"=>"5"}
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 33], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 33], ["product_id", 5], ["LIMIT", 1]]
  ↳ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mLineItem Update (0.3ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 2], ["updated_at", "2020-07-08 09:00:48.180221"], ["id", 47]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[35m (1527.6ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
Redirected to http://localhost:3000/
Completed 302 Found in 1566ms (ActiveRecord: 1529.8ms | Allocations: 6717)


Started GET "/" for ::1 at 2020-07-08 16:00:49 +0700
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 33], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 18.6ms | Allocations: 3177)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 33]]
  ↳ app/views/carts/_cart.html.erb:7
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:3
  [1m[36mProduct Load (1.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:3
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 11.2ms | Allocations: 1779)
  Rendered carts/_cart.html.erb (Duration: 15.8ms | Allocations: 2976)
Completed 200 OK in 50ms (Views: 45.4ms | ActiveRecord: 1.8ms | Allocations: 10632)


Started DELETE "/carts/33" for ::1 at 2020-07-08 16:00:56 +0700
Processing by CartsController#destroy as HTML
  Parameters: {"authenticity_token"=>"c7R0D3YI/aTuZ0CSvksxzUX7ta40CUNt7Y9E1JnDtB1k4rVtz5l0eRtTEf/dytrZpcFHp/u88gtsRcD9xzEIrw==", "id"=>"33"}
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 33], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:68:in `set_cart'
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/carts_controller.rb:57:in `destroy'
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 33]]
  ↳ app/controllers/carts_controller.rb:57:in `destroy'
  [1m[36mLineItem Destroy (1.3ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 46]]
  ↳ app/controllers/carts_controller.rb:57:in `destroy'
  [1m[36mLineItem Destroy (0.6ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 47]]
  ↳ app/controllers/carts_controller.rb:57:in `destroy'
  [1m[36mCart Destroy (0.9ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 33]]
  ↳ app/controllers/carts_controller.rb:57:in `destroy'
  [1m[35m (568.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/carts_controller.rb:57:in `destroy'
Redirected to http://localhost:3000/
Completed 302 Found in 644ms (ActiveRecord: 572.1ms | Allocations: 6753)


Started GET "/" for ::1 at 2020-07-08 16:00:57 +0700
Processing by StoreController#index as HTML
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[36mCart Create (0.8ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2020-07-08 09:00:57.281330"], ["updated_at", "2020-07-08 09:00:57.281330"]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[35m (690.8ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 29.3ms | Allocations: 3186)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 34]]
  ↳ app/views/carts/_cart.html.erb:7
  Rendered collection of templates [0 times] (Duration: 0.1ms | Allocations: 3)
  Rendered carts/_cart.html.erb (Duration: 11.3ms | Allocations: 1108)
Completed 200 OK in 784ms (Views: 70.3ms | ActiveRecord: 692.8ms | Allocations: 11906)


Started GET "/" for ::1 at 2020-07-08 16:04:36 +0700
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 34], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 26.7ms | Allocations: 3170)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 34]]
  ↳ app/views/carts/_cart.html.erb:7
  Rendered collection of templates [0 times] (Duration: 0.1ms | Allocations: 3)
  Rendered carts/_cart.html.erb (Duration: 15.8ms | Allocations: 1104)
Completed 200 OK in 79ms (Views: 73.1ms | ActiveRecord: 1.2ms | Allocations: 8739)


Started GET "/products" for ::1 at 2020-07-08 16:04:38 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:12
  Rendered products/index.html.erb within layouts/application (Duration: 42.7ms | Allocations: 3281)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 56ms (Views: 51.6ms | ActiveRecord: 0.6ms | Allocations: 7738)


Started GET "/" for ::1 at 2020-07-08 16:04:44 +0700
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 34], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 7.6ms | Allocations: 3176)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 34]]
  ↳ app/views/carts/_cart.html.erb:7
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered carts/_cart.html.erb (Duration: 3.0ms | Allocations: 1108)
Completed 200 OK in 20ms (Views: 17.8ms | ActiveRecord: 0.3ms | Allocations: 8747)


Started GET "/" for ::1 at 2020-07-08 16:05:13 +0700
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.6ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 34], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 41.6ms | Allocations: 3170)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 34]]
  ↳ app/views/carts/_cart.html.erb:7
  Rendered collection of templates [0 times] (Duration: 0.1ms | Allocations: 3)
  Rendered carts/_cart.html.erb (Duration: 8.3ms | Allocations: 1104)
Completed 200 OK in 85ms (Views: 74.3ms | ActiveRecord: 1.9ms | Allocations: 8738)


Started GET "/" for ::1 at 2020-07-08 16:28:39 +0700
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by StoreController#index as HTML
  [1m[36mCart Load (16.6ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 34], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (9.4ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 224.9ms | Allocations: 6769)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Load (0.8ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 34]]
  ↳ app/views/carts/_cart.html.erb:7
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered carts/_cart.html.erb (Duration: 41.1ms | Allocations: 2703)
Completed 200 OK in 581ms (Views: 456.4ms | ActiveRecord: 26.8ms | Allocations: 18714)


Started POST "/line_items?product_id=4" for ::1 at 2020-07-08 16:28:44 +0700
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"ot6T6SRd9snDng1YaM0OMVFHJBJWH99Fw6Hi2twqmdW1iFKLncx/FDaqXDULTOUlsX3WG5mqbiNCa2bzgtglZw==", "product_id"=>"4"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 34], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 34], ["product_id", 4], ["LIMIT", 1]]
  ↳ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mLineItem Create (57.9ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 4], ["cart_id", 34], ["created_at", "2020-07-08 09:28:44.278082"], ["updated_at", "2020-07-08 09:28:44.278082"]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[35m (84.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 34]]
  ↳ app/views/carts/_cart.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 23.2ms | Allocations: 403)
  Rendered carts/_cart.html.erb (Duration: 27.8ms | Allocations: 1755)
  Rendered line_items/create.js.erb (Duration: 29.6ms | Allocations: 2105)
Completed 200 OK in 249ms (Views: 31.7ms | ActiveRecord: 144.3ms | Allocations: 14327)


Started POST "/line_items?product_id=5" for ::1 at 2020-07-08 16:28:46 +0700
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"ot6T6SRd9snDng1YaM0OMVFHJBJWH99Fw6Hi2twqmdW1iFKLncx/FDaqXDULTOUlsX3WG5mqbiNCa2bzgtglZw==", "product_id"=>"5"}
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 34], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 34], ["product_id", 5], ["LIMIT", 1]]
  ↳ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mLineItem Create (1.1ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 5], ["cart_id", 34], ["created_at", "2020-07-08 09:28:46.287148"], ["updated_at", "2020-07-08 09:28:46.287148"]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[35m (66.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 34]]
  ↳ app/views/carts/_cart.html.erb:7
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:3
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 2.8ms | Allocations: 1027)
  Rendered carts/_cart.html.erb (Duration: 9.8ms | Allocations: 2220)
  Rendered line_items/create.js.erb (Duration: 10.2ms | Allocations: 2376)
Completed 200 OK in 130ms (Views: 10.6ms | ActiveRecord: 70.0ms | Allocations: 9284)


Started POST "/line_items?product_id=6" for ::1 at 2020-07-08 16:28:47 +0700
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"ot6T6SRd9snDng1YaM0OMVFHJBJWH99Fw6Hi2twqmdW1iFKLncx/FDaqXDULTOUlsX3WG5mqbiNCa2bzgtglZw==", "product_id"=>"6"}
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 34], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 34], ["product_id", 6], ["LIMIT", 1]]
  ↳ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mLineItem Create (0.7ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 6], ["cart_id", 34], ["created_at", "2020-07-08 09:28:47.931442"], ["updated_at", "2020-07-08 09:28:47.931442"]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[35m (105.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 34]]
  ↳ app/views/carts/_cart.html.erb:7
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:3
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:3
  Rendered collection of line_items/_line_item.html.erb [3 times] (Duration: 12.1ms | Allocations: 1923)
  Rendered carts/_cart.html.erb (Duration: 21.4ms | Allocations: 3138)
  Rendered line_items/create.js.erb (Duration: 22.4ms | Allocations: 3307)
Completed 200 OK in 161ms (Views: 22.8ms | ActiveRecord: 109.1ms | Allocations: 10216)


Started POST "/line_items?product_id=5" for ::1 at 2020-07-08 16:28:49 +0700
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"ot6T6SRd9snDng1YaM0OMVFHJBJWH99Fw6Hi2twqmdW1iFKLncx/FDaqXDULTOUlsX3WG5mqbiNCa2bzgtglZw==", "product_id"=>"5"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 34], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 34], ["product_id", 5], ["LIMIT", 1]]
  ↳ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mLineItem Update (0.6ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 2], ["updated_at", "2020-07-08 09:28:49.413654"], ["id", 49]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[35m (163.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 34]]
  ↳ app/views/carts/_cart.html.erb:7
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:3
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:3
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:3
  Rendered collection of line_items/_line_item.html.erb [3 times] (Duration: 25.2ms | Allocations: 2689)
  Rendered carts/_cart.html.erb (Duration: 37.6ms | Allocations: 3836)
  Rendered line_items/create.js.erb (Duration: 38.9ms | Allocations: 4005)
Completed 200 OK in 240ms (Views: 38.8ms | ActiveRecord: 167.7ms | Allocations: 10917)


Started POST "/line_items?product_id=6" for ::1 at 2020-07-08 16:28:50 +0700
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"ot6T6SRd9snDng1YaM0OMVFHJBJWH99Fw6Hi2twqmdW1iFKLncx/FDaqXDULTOUlsX3WG5mqbiNCa2bzgtglZw==", "product_id"=>"6"}
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 34], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 34], ["product_id", 6], ["LIMIT", 1]]
  ↳ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mProduct Load (0.9ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mLineItem Update (1.0ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 2], ["updated_at", "2020-07-08 09:28:50.510325"], ["id", 50]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[35m (66.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 34]]
  ↳ app/views/carts/_cart.html.erb:7
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:3
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:3
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:3
  Rendered collection of line_items/_line_item.html.erb [3 times] (Duration: 22.0ms | Allocations: 2836)
  Rendered carts/_cart.html.erb (Duration: 27.5ms | Allocations: 3983)
  Rendered line_items/create.js.erb (Duration: 28.3ms | Allocations: 4152)
Completed 200 OK in 149ms (Views: 35.5ms | ActiveRecord: 70.8ms | Allocations: 10963)


Started POST "/line_items?product_id=4" for ::1 at 2020-07-08 16:28:51 +0700
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"ot6T6SRd9snDng1YaM0OMVFHJBJWH99Fw6Hi2twqmdW1iFKLncx/FDaqXDULTOUlsX3WG5mqbiNCa2bzgtglZw==", "product_id"=>"4"}
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 34], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 34], ["product_id", 4], ["LIMIT", 1]]
  ↳ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mLineItem Update (1.0ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 2], ["updated_at", "2020-07-08 09:28:51.566793"], ["id", 48]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[35m (101.8ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 34]]
  ↳ app/views/carts/_cart.html.erb:7
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:3
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:3
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:3
  Rendered collection of line_items/_line_item.html.erb [3 times] (Duration: 20.4ms | Allocations: 2689)
  Rendered carts/_cart.html.erb (Duration: 29.7ms | Allocations: 3836)
  Rendered line_items/create.js.erb (Duration: 31.1ms | Allocations: 4005)
Completed 200 OK in 186ms (Views: 31.3ms | ActiveRecord: 106.5ms | Allocations: 10907)


Started DELETE "/carts/34" for ::1 at 2020-07-08 16:28:54 +0700
Processing by CartsController#destroy as HTML
  Parameters: {"authenticity_token"=>"AdWL41fN5XAQmlFZQDtKpNLHDsLZut7IF8t9aT3Pjd2rRmGUiTUw2Yot3fI/smsdUlDx2CaQgU51VOo/rMWzOg==", "id"=>"34"}
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 34], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:68:in `set_cart'
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/carts_controller.rb:57:in `destroy'
  [1m[36mLineItem Load (1.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 34]]
  ↳ app/controllers/carts_controller.rb:57:in `destroy'
  [1m[36mLineItem Destroy (0.8ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 48]]
  ↳ app/controllers/carts_controller.rb:57:in `destroy'
  [1m[36mLineItem Destroy (0.6ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 49]]
  ↳ app/controllers/carts_controller.rb:57:in `destroy'
  [1m[36mLineItem Destroy (1.0ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 50]]
  ↳ app/controllers/carts_controller.rb:57:in `destroy'
  [1m[36mCart Destroy (0.4ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 34]]
  ↳ app/controllers/carts_controller.rb:57:in `destroy'
  [1m[35m (155.8ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/carts_controller.rb:57:in `destroy'
Redirected to http://localhost:3000/
Completed 302 Found in 222ms (ActiveRecord: 160.6ms | Allocations: 7819)


Started GET "/" for ::1 at 2020-07-08 16:28:54 +0700
Processing by StoreController#index as HTML
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[36mCart Create (0.6ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2020-07-08 09:28:54.587916"], ["updated_at", "2020-07-08 09:28:54.587916"]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[35m (64.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 30.9ms | Allocations: 3281)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 35]]
  ↳ app/views/carts/_cart.html.erb:7
  Rendered collection of templates [0 times] (Duration: 0.1ms | Allocations: 3)
  Rendered carts/_cart.html.erb (Duration: 11.0ms | Allocations: 1112)
Completed 200 OK in 149ms (Views: 66.4ms | ActiveRecord: 65.8ms | Allocations: 12145)


Started GET "/" for ::1 at 2020-07-08 16:32:41 +0700
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 35], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 30.9ms | Allocations: 3191)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 35]]
  ↳ app/views/carts/_cart.html.erb:7
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered carts/_cart.html.erb (Duration: 2.9ms | Allocations: 1104)
Completed 200 OK in 2886ms (Views: 2717.9ms | ActiveRecord: 1.1ms | Allocations: 21191)


Started POST "/line_items?product_id=4" for ::1 at 2020-07-08 16:32:55 +0700
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"4UYlk41J2pok6E+qsteAEaX7Xyw5lRqZlqnCktz3Erf2EOTxNNhTR9HcHsfRVmsFRcGtJfYgq/8XY0a7ggWuBQ==", "product_id"=>"4"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 35], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 35], ["product_id", 4], ["LIMIT", 1]]
  ↳ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mLineItem Create (0.4ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 4], ["cart_id", 35], ["created_at", "2020-07-08 09:32:55.737825"], ["updated_at", "2020-07-08 09:32:55.737825"]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[35m (105.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 35]]
  ↳ app/views/carts/_cart.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 0.6ms | Allocations: 134)
  Rendered carts/_cart.html.erb (Duration: 4.7ms | Allocations: 1302)
  Rendered line_items/create.js.erb (Duration: 5.2ms | Allocations: 1445)
Completed 200 OK in 130ms (Views: 5.8ms | ActiveRecord: 107.4ms | Allocations: 8421)


Started POST "/line_items?product_id=5" for ::1 at 2020-07-08 16:32:57 +0700
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"4UYlk41J2pok6E+qsteAEaX7Xyw5lRqZlqnCktz3Erf2EOTxNNhTR9HcHsfRVmsFRcGtJfYgq/8XY0a7ggWuBQ==", "product_id"=>"5"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 35], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 35], ["product_id", 5], ["LIMIT", 1]]
  ↳ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mLineItem Create (0.7ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 5], ["cart_id", 35], ["created_at", "2020-07-08 09:32:57.580781"], ["updated_at", "2020-07-08 09:32:57.580781"]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[35m (153.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 35]]
  ↳ app/views/carts/_cart.html.erb:7
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:3
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 15.9ms | Allocations: 1027)
  Rendered carts/_cart.html.erb (Duration: 23.1ms | Allocations: 2219)
  Rendered line_items/create.js.erb (Duration: 23.9ms | Allocations: 2375)
Completed 200 OK in 212ms (Views: 24.6ms | ActiveRecord: 155.9ms | Allocations: 9364)


Started POST "/line_items?product_id=6" for ::1 at 2020-07-08 16:32:58 +0700
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"4UYlk41J2pok6E+qsteAEaX7Xyw5lRqZlqnCktz3Erf2EOTxNNhTR9HcHsfRVmsFRcGtJfYgq/8XY0a7ggWuBQ==", "product_id"=>"6"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 35], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 35], ["product_id", 6], ["LIMIT", 1]]
  ↳ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mLineItem Create (0.6ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 6], ["cart_id", 35], ["created_at", "2020-07-08 09:32:58.971990"], ["updated_at", "2020-07-08 09:32:58.971990"]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[35m (107.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 35]]
  ↳ app/views/carts/_cart.html.erb:7
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:3
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:3
  Rendered collection of line_items/_line_item.html.erb [3 times] (Duration: 13.2ms | Allocations: 1923)
  Rendered carts/_cart.html.erb (Duration: 21.5ms | Allocations: 3138)
  Rendered line_items/create.js.erb (Duration: 22.9ms | Allocations: 3307)
Completed 200 OK in 162ms (Views: 23.6ms | ActiveRecord: 110.4ms | Allocations: 10302)


Started DELETE "/carts/35" for ::1 at 2020-07-08 16:33:02 +0700
Processing by CartsController#destroy as HTML
  Parameters: {"authenticity_token"=>"Rt9ppSJ2yv/GXWYjRQ562mJLSwUdr+peTkzv+vLHqwpsraGkzX2nP3+mWSygHNQCStu5SrmOj9yDRLG6TjRVXg==", "id"=>"35"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 35], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:68:in `set_cart'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/carts_controller.rb:57:in `destroy'
  [1m[36mLineItem Load (0.7ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 35]]
  ↳ app/controllers/carts_controller.rb:57:in `destroy'
  [1m[36mLineItem Destroy (0.6ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 51]]
  ↳ app/controllers/carts_controller.rb:57:in `destroy'
  [1m[36mLineItem Destroy (1.2ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 52]]
  ↳ app/controllers/carts_controller.rb:57:in `destroy'
  [1m[36mLineItem Destroy (0.3ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 53]]
  ↳ app/controllers/carts_controller.rb:57:in `destroy'
  [1m[36mCart Destroy (0.4ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 35]]
  ↳ app/controllers/carts_controller.rb:57:in `destroy'
  [1m[35m (207.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/carts_controller.rb:57:in `destroy'
Redirected to http://localhost:3000/
Completed 302 Found in 248ms (ActiveRecord: 210.7ms | Allocations: 7748)


Started GET "/" for ::1 at 2020-07-08 16:33:02 +0700
Processing by StoreController#index as HTML
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[36mCart Create (0.9ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2020-07-08 09:33:02.311898"], ["updated_at", "2020-07-08 09:33:02.311898"]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[35m (70.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 22.0ms | Allocations: 3207)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 36]]
  ↳ app/views/carts/_cart.html.erb:7
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered carts/_cart.html.erb (Duration: 4.1ms | Allocations: 1108)
Completed 200 OK in 132ms (Views: 38.7ms | ActiveRecord: 71.9ms | Allocations: 11910)


Started GET "/" for ::1 at 2020-07-08 16:33:05 +0700
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 36], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 11.0ms | Allocations: 3197)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 36]]
  ↳ app/views/carts/_cart.html.erb:7
  Rendered collection of templates [0 times] (Duration: 0.1ms | Allocations: 3)
  Rendered carts/_cart.html.erb (Duration: 7.5ms | Allocations: 1104)
Completed 200 OK in 35ms (Views: 29.9ms | ActiveRecord: 0.6ms | Allocations: 8774)


Started GET "/" for ::1 at 2020-07-08 16:44:27 +0700
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by StoreController#index as HTML
  [1m[36mCart Load (25.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 36], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (40.6ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 226.8ms | Allocations: 6769)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Load (22.6ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 36]]
  ↳ app/views/carts/_cart.html.erb:7
  Rendered collection of templates [0 times] (Duration: 0.2ms | Allocations: 3)
  Rendered carts/_cart.html.erb (Duration: 99.3ms | Allocations: 2703)
Completed 200 OK in 519ms (Views: 342.6ms | ActiveRecord: 88.4ms | Allocations: 18712)


Started DELETE "/carts/36" for ::1 at 2020-07-08 16:44:31 +0700
Processing by CartsController#destroy as HTML
  Parameters: {"authenticity_token"=>"RikqciYbCBz56NWpt9xS1gAYecRGpTt1vHvzHyv15YFRf+sQn4qBwQzchMTUXbnC4CKLzYkQihM9sXc2dQdZMw==", "id"=>"36"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 36], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:68:in `set_cart'
  [1m[35m (0.4ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/carts_controller.rb:57:in `destroy'
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 36]]
  ↳ app/controllers/carts_controller.rb:57:in `destroy'
  [1m[36mCart Destroy (1.3ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 36]]
  ↳ app/controllers/carts_controller.rb:57:in `destroy'
  [1m[35m (72.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/carts_controller.rb:57:in `destroy'
Redirected to http://localhost:3000/
Completed 302 Found in 98ms (ActiveRecord: 74.8ms | Allocations: 4834)


Started GET "/" for ::1 at 2020-07-08 16:44:31 +0700
Processing by StoreController#index as HTML
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[36mCart Create (10.3ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2020-07-08 09:44:31.456622"], ["updated_at", "2020-07-08 09:44:31.456622"]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[35m (66.6ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 13.2ms | Allocations: 3208)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 37]]
  ↳ app/views/carts/_cart.html.erb:7
  Rendered collection of templates [0 times] (Duration: 0.1ms | Allocations: 3)
  Rendered carts/_cart.html.erb (Duration: 7.0ms | Allocations: 1108)
Completed 200 OK in 135ms (Views: 38.6ms | ActiveRecord: 77.8ms | Allocations: 12137)


Started POST "/line_items?product_id=4" for ::1 at 2020-07-08 16:44:33 +0700
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"v1Zxh+headY8lUhLLuUwaQyde+9bis+iLDb8Iwdsxz6oALDlUc/gC8mhGSZNZNt97KeJ5pQ/fsSt/HgKWZ57jA==", "product_id"=>"4"}
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 37], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.7ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 37], ["product_id", 4], ["LIMIT", 1]]
  ↳ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mLineItem Create (6.6ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 4], ["cart_id", 37], ["created_at", "2020-07-08 09:44:33.412063"], ["updated_at", "2020-07-08 09:44:33.412063"]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[35m (71.6ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 37]]
  ↳ app/views/carts/_cart.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 121.9ms | Allocations: 1770)
  Rendered carts/_cart.html.erb (Duration: 130.9ms | Allocations: 2845)
  Rendered line_items/create.js.erb (Duration: 139.2ms | Allocations: 3117)
Completed 500 Internal Server Error in 274ms (ActiveRecord: 81.0ms | Allocations: 15337)


  
ActionView::SyntaxErrorInTemplate (Encountered a syntax error while rendering template: check <% ifline_item == @current_item %>
<tr class="line-item-hightlight">
<% else %>
<tr>
<% end %>
<td class="quantity"><%= line_item.quantity %></td>
<td><%= line_item.product.title %></td>
<td class="price"><%= number_to_currency(line_item.total_price) %></td>
</tr>
):
1:    <% ifline_item == @current_item %>
2:    <tr class="line-item-hightlight">
3:    <% else %>
4:    <tr>
5:    <% end %>
6:    <td class="quantity"><%= line_item.quantity %></td>
7:    <td><%= line_item.product.title %></td>
8:    <td class="price"><%= number_to_currency(line_item.total_price) %></td>
9:    </tr>
  
app/views/line_items/_line_item.html.erb:3: else without rescue is useless
app/views/line_items/_line_item.html.erb:11: syntax error, unexpected `end', expecting end-of-input
app/views/line_items/_line_item.html.erb:3: else without rescue is useless
app/views/line_items/_line_item.html.erb:11: syntax error, unexpected `end', expecting end-of-input
app/views/line_items/_line_item.html.erb:3: else without rescue is useless
app/views/line_items/_line_item.html.erb:11: syntax error, unexpected `end', expecting end-of-input
app/views/line_items/_line_item.html.erb:3: else without rescue is useless
app/views/line_items/_line_item.html.erb:11: syntax error, unexpected `end', expecting end-of-input
app/views/line_items/_line_item.html.erb:3: else without rescue is useless
app/views/line_items/_line_item.html.erb:11: syntax error, unexpected `end', expecting end-of-input
app/views/line_items/_line_item.html.erb:3: else without rescue is useless
app/views/line_items/_line_item.html.erb:11: syntax error, unexpected `end', expecting end-of-input
app/views/carts/_cart.html.erb:7
app/views/line_items/create.js.erb:2
Started POST "/line_items?product_id=4" for ::1 at 2020-07-08 16:44:36 +0700
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"v1Zxh+headY8lUhLLuUwaQyde+9bis+iLDb8Iwdsxz6oALDlUc/gC8mhGSZNZNt97KeJ5pQ/fsSt/HgKWZ57jA==", "product_id"=>"4"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 37], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 37], ["product_id", 4], ["LIMIT", 1]]
  ↳ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mLineItem Update (0.4ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 2], ["updated_at", "2020-07-08 09:44:36.848866"], ["id", 54]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[35m (190.7ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 37]]
  ↳ app/views/carts/_cart.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 2.8ms | Allocations: 1398)
  Rendered carts/_cart.html.erb (Duration: 7.5ms | Allocations: 2218)
  Rendered line_items/create.js.erb (Duration: 8.5ms | Allocations: 2294)
Completed 500 Internal Server Error in 234ms (ActiveRecord: 192.9ms | Allocations: 9285)


  
ActionView::SyntaxErrorInTemplate (Encountered a syntax error while rendering template: check <% ifline_item == @current_item %>
<tr class="line-item-hightlight">
<% else %>
<tr>
<% end %>
<td class="quantity"><%= line_item.quantity %></td>
<td><%= line_item.product.title %></td>
<td class="price"><%= number_to_currency(line_item.total_price) %></td>
</tr>
):
1:    <% ifline_item == @current_item %>
2:    <tr class="line-item-hightlight">
3:    <% else %>
4:    <tr>
5:    <% end %>
6:    <td class="quantity"><%= line_item.quantity %></td>
7:    <td><%= line_item.product.title %></td>
8:    <td class="price"><%= number_to_currency(line_item.total_price) %></td>
9:    </tr>
  
app/views/line_items/_line_item.html.erb:3: else without rescue is useless
app/views/line_items/_line_item.html.erb:11: syntax error, unexpected `end', expecting end-of-input
app/views/line_items/_line_item.html.erb:3: else without rescue is useless
app/views/line_items/_line_item.html.erb:11: syntax error, unexpected `end', expecting end-of-input
app/views/line_items/_line_item.html.erb:3: else without rescue is useless
app/views/line_items/_line_item.html.erb:11: syntax error, unexpected `end', expecting end-of-input
app/views/line_items/_line_item.html.erb:3: else without rescue is useless
app/views/line_items/_line_item.html.erb:11: syntax error, unexpected `end', expecting end-of-input
app/views/line_items/_line_item.html.erb:3: else without rescue is useless
app/views/line_items/_line_item.html.erb:11: syntax error, unexpected `end', expecting end-of-input
app/views/line_items/_line_item.html.erb:3: else without rescue is useless
app/views/line_items/_line_item.html.erb:11: syntax error, unexpected `end', expecting end-of-input
app/views/carts/_cart.html.erb:7
app/views/line_items/create.js.erb:2
Started POST "/line_items?product_id=4" for ::1 at 2020-07-08 16:44:38 +0700
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"v1Zxh+headY8lUhLLuUwaQyde+9bis+iLDb8Iwdsxz6oALDlUc/gC8mhGSZNZNt97KeJ5pQ/fsSt/HgKWZ57jA==", "product_id"=>"4"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 37], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 37], ["product_id", 4], ["LIMIT", 1]]
  ↳ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mLineItem Update (0.6ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 3], ["updated_at", "2020-07-08 09:44:38.088112"], ["id", 54]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[35m (70.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 37]]
  ↳ app/views/carts/_cart.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 2.6ms | Allocations: 1397)
  Rendered carts/_cart.html.erb (Duration: 6.7ms | Allocations: 2217)
  Rendered line_items/create.js.erb (Duration: 7.4ms | Allocations: 2291)
Completed 500 Internal Server Error in 112ms (ActiveRecord: 72.8ms | Allocations: 9122)


  
ActionView::SyntaxErrorInTemplate (Encountered a syntax error while rendering template: check <% ifline_item == @current_item %>
<tr class="line-item-hightlight">
<% else %>
<tr>
<% end %>
<td class="quantity"><%= line_item.quantity %></td>
<td><%= line_item.product.title %></td>
<td class="price"><%= number_to_currency(line_item.total_price) %></td>
</tr>
):
1:    <% ifline_item == @current_item %>
2:    <tr class="line-item-hightlight">
3:    <% else %>
4:    <tr>
5:    <% end %>
6:    <td class="quantity"><%= line_item.quantity %></td>
7:    <td><%= line_item.product.title %></td>
8:    <td class="price"><%= number_to_currency(line_item.total_price) %></td>
9:    </tr>
  
app/views/line_items/_line_item.html.erb:3: else without rescue is useless
app/views/line_items/_line_item.html.erb:11: syntax error, unexpected `end', expecting end-of-input
app/views/line_items/_line_item.html.erb:3: else without rescue is useless
app/views/line_items/_line_item.html.erb:11: syntax error, unexpected `end', expecting end-of-input
app/views/line_items/_line_item.html.erb:3: else without rescue is useless
app/views/line_items/_line_item.html.erb:11: syntax error, unexpected `end', expecting end-of-input
app/views/line_items/_line_item.html.erb:3: else without rescue is useless
app/views/line_items/_line_item.html.erb:11: syntax error, unexpected `end', expecting end-of-input
app/views/line_items/_line_item.html.erb:3: else without rescue is useless
app/views/line_items/_line_item.html.erb:11: syntax error, unexpected `end', expecting end-of-input
app/views/line_items/_line_item.html.erb:3: else without rescue is useless
app/views/line_items/_line_item.html.erb:11: syntax error, unexpected `end', expecting end-of-input
app/views/carts/_cart.html.erb:7
app/views/line_items/create.js.erb:2
Started POST "/line_items?product_id=4" for ::1 at 2020-07-08 16:44:38 +0700
Started POST "/line_items?product_id=4" for ::1 at 2020-07-08 16:44:38 +0700
Started POST "/line_items?product_id=4" for ::1 at 2020-07-08 16:44:38 +0700
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"v1Zxh+headY8lUhLLuUwaQyde+9bis+iLDb8Iwdsxz6oALDlUc/gC8mhGSZNZNt97KeJ5pQ/fsSt/HgKWZ57jA==", "product_id"=>"4"}
Processing by LineItemsController#create as JS
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[36mCart Load (0.9ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 37], ["LIMIT", 1]]
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"v1Zxh+headY8lUhLLuUwaQyde+9bis+iLDb8Iwdsxz6oALDlUc/gC8mhGSZNZNt97KeJ5pQ/fsSt/HgKWZ57jA==", "product_id"=>"4"}
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 37], ["product_id", 4], ["LIMIT", 1]]
  ↳ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mLineItem Update (0.2ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 4], ["updated_at", "2020-07-08 09:44:38.860872"], ["id", 54]]
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 37], ["LIMIT", 1]]
  Parameters: {"authenticity_token"=>"v1Zxh+headY8lUhLLuUwaQyde+9bis+iLDb8Iwdsxz6oALDlUc/gC8mhGSZNZNt97KeJ5pQ/fsSt/HgKWZ57jA==", "product_id"=>"4"}
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  [1m[35m (774.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 37], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:29:in `create'
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 37], ["product_id", 4], ["LIMIT", 1]]
  ↳ app/models/cart.rb:5:in `add_product'
  ↳ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 37], ["product_id", 4], ["LIMIT", 1]]
  ↳ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 37]]
  ↳ app/views/carts/_cart.html.erb:7
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 1.4ms | Allocations: 1568)
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mLineItem Update (0.3ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 5], ["updated_at", "2020-07-08 09:44:39.673675"], ["id", 54]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mLineItem Update (0.7ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 5], ["updated_at", "2020-07-08 09:44:39.676298"], ["id", 54]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  Rendered carts/_cart.html.erb (Duration: 13.7ms | Allocations: 8179)
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  Rendered line_items/create.js.erb (Duration: 24.5ms | Allocations: 14133)
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
Completed 500 Internal Server Error in 1043ms (ActiveRecord: 1.8ms | Allocations: 29194)


Completed 500 Internal Server Error in 1047ms (ActiveRecord: 776.0ms | Allocations: 30614)


  [1m[35m (209.3ms)[0m  [1m[36mcommit transaction[0m
Started POST "/line_items?product_id=5" for ::1 at 2020-07-08 16:44:39 +0700
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  
ActionView::SyntaxErrorInTemplate (Encountered a syntax error while rendering template: check <% ifline_item == @current_item %>
<tr class="line-item-hightlight">
<% else %>
<tr>
<% end %>
<td class="quantity"><%= line_item.quantity %></td>
<td><%= line_item.product.title %></td>
<td class="price"><%= number_to_currency(line_item.total_price) %></td>
</tr>
):
1:    <% ifline_item == @current_item %>
2:    <tr class="line-item-hightlight">
3:    <% else %>
4:    <tr>
5:    <% end %>
6:    <td class="quantity"><%= line_item.quantity %></td>
7:    <td><%= line_item.product.title %></td>
8:    <td class="price"><%= number_to_currency(line_item.total_price) %></td>
9:    </tr>
  
app/views/line_items/_line_item.html.erb:3: else without rescue is useless
app/views/line_items/_line_item.html.erb:11: syntax error, unexpected `end', expecting end-of-input
app/views/line_items/_line_item.html.erb:3: else without rescue is useless
app/views/line_items/_line_item.html.erb:11: syntax error, unexpected `end', expecting end-of-input
app/views/line_items/_line_item.html.erb:3: else without rescue is useless
app/views/line_items/_line_item.html.erb:11: syntax error, unexpected `end', expecting end-of-input
app/views/line_items/_line_item.html.erb:3: else without rescue is useless
app/views/line_items/_line_item.html.erb:11: syntax error, unexpected `end', expecting end-of-input
app/views/line_items/_line_item.html.erb:3: else without rescue is useless
app/views/line_items/_line_item.html.erb:11: syntax error, unexpected `end', expecting end-of-input
app/views/line_items/_line_item.html.erb:3: else without rescue is useless
app/views/line_items/_line_item.html.erb:11: syntax error, unexpected `end', expecting end-of-input
app/views/carts/_cart.html.erb:7
app/views/line_items/create.js.erb:2
  
ActiveRecord::StatementInvalid (SQLite3::BusyException: database is locked):
  
app/controllers/line_items_controller.rb:35:in `block in create'
app/controllers/line_items_controller.rb:34:in `create'
  Rendering line_items/create.js.erb
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 37]]
  ↳ app/views/carts/_cart.html.erb:7
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"v1Zxh+headY8lUhLLuUwaQyde+9bis+iLDb8Iwdsxz6oALDlUc/gC8mhGSZNZNt97KeJ5pQ/fsSt/HgKWZ57jA==", "product_id"=>"5"}
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 0.9ms | Allocations: 1402)
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 37], ["LIMIT", 1]]
  Rendered carts/_cart.html.erb (Duration: 605.9ms | Allocations: 613813)
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  Rendered line_items/create.js.erb (Duration: 607.9ms | Allocations: 614881)
  ↳ app/controllers/line_items_controller.rb:29:in `create'
Completed 500 Internal Server Error in 2244ms (ActiveRecord: 210.8ms | Allocations: 1261807)


  
ActionView::SyntaxErrorInTemplate (Encountered a syntax error while rendering template: check <% ifline_item == @current_item %>
<tr class="line-item-hightlight">
<% else %>
<tr>
<% end %>
<td class="quantity"><%= line_item.quantity %></td>
<td><%= line_item.product.title %></td>
<td class="price"><%= number_to_currency(line_item.total_price) %></td>
</tr>
):
1:    <% ifline_item == @current_item %>
2:    <tr class="line-item-hightlight">
3:    <% else %>
4:    <tr>
5:    <% end %>
6:    <td class="quantity"><%= line_item.quantity %></td>
7:    <td><%= line_item.product.title %></td>
8:    <td class="price"><%= number_to_currency(line_item.total_price) %></td>
9:    </tr>
  
app/views/line_items/_line_item.html.erb:3: else without rescue is useless
app/views/line_items/_line_item.html.erb:11: syntax error, unexpected `end', expecting end-of-input
app/views/line_items/_line_item.html.erb:3: else without rescue is useless
app/views/line_items/_line_item.html.erb:11: syntax error, unexpected `end', expecting end-of-input
app/views/line_items/_line_item.html.erb:3: else without rescue is useless
app/views/line_items/_line_item.html.erb:11: syntax error, unexpected `end', expecting end-of-input
app/views/line_items/_line_item.html.erb:3: else without rescue is useless
app/views/line_items/_line_item.html.erb:11: syntax error, unexpected `end', expecting end-of-input
app/views/line_items/_line_item.html.erb:3: else without rescue is useless
app/views/line_items/_line_item.html.erb:11: syntax error, unexpected `end', expecting end-of-input
app/views/line_items/_line_item.html.erb:3: else without rescue is useless
app/views/line_items/_line_item.html.erb:11: syntax error, unexpected `end', expecting end-of-input
app/views/carts/_cart.html.erb:7
app/views/line_items/create.js.erb:2
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 37], ["product_id", 5], ["LIMIT", 1]]
  ↳ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mLineItem Create (0.2ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 5], ["cart_id", 37], ["created_at", "2020-07-08 09:44:41.854513"], ["updated_at", "2020-07-08 09:44:41.854513"]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[35m (115.7ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 37]]
  ↳ app/views/carts/_cart.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 5.1ms | Allocations: 2560)
  Rendered carts/_cart.html.erb (Duration: 23.2ms | Allocations: 8142)
  Rendered line_items/create.js.erb (Duration: 24.8ms | Allocations: 9504)
Completed 500 Internal Server Error in 909ms (ActiveRecord: 117.4ms | Allocations: 866888)


  
ActionView::SyntaxErrorInTemplate (Encountered a syntax error while rendering template: check <% ifline_item == @current_item %>
<tr class="line-item-hightlight">
<% else %>
<tr>
<% end %>
<td class="quantity"><%= line_item.quantity %></td>
<td><%= line_item.product.title %></td>
<td class="price"><%= number_to_currency(line_item.total_price) %></td>
</tr>
):
1:    <% ifline_item == @current_item %>
2:    <tr class="line-item-hightlight">
3:    <% else %>
4:    <tr>
5:    <% end %>
6:    <td class="quantity"><%= line_item.quantity %></td>
7:    <td><%= line_item.product.title %></td>
8:    <td class="price"><%= number_to_currency(line_item.total_price) %></td>
9:    </tr>
  
app/views/line_items/_line_item.html.erb:3: else without rescue is useless
app/views/line_items/_line_item.html.erb:11: syntax error, unexpected `end', expecting end-of-input
app/views/line_items/_line_item.html.erb:3: else without rescue is useless
app/views/line_items/_line_item.html.erb:11: syntax error, unexpected `end', expecting end-of-input
app/views/line_items/_line_item.html.erb:3: else without rescue is useless
app/views/line_items/_line_item.html.erb:11: syntax error, unexpected `end', expecting end-of-input
app/views/line_items/_line_item.html.erb:3: else without rescue is useless
app/views/line_items/_line_item.html.erb:11: syntax error, unexpected `end', expecting end-of-input
app/views/line_items/_line_item.html.erb:3: else without rescue is useless
app/views/line_items/_line_item.html.erb:11: syntax error, unexpected `end', expecting end-of-input
app/views/line_items/_line_item.html.erb:3: else without rescue is useless
app/views/line_items/_line_item.html.erb:11: syntax error, unexpected `end', expecting end-of-input
app/views/carts/_cart.html.erb:7
app/views/line_items/create.js.erb:2
Started POST "/line_items?product_id=5" for ::1 at 2020-07-08 16:44:42 +0700
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"v1Zxh+headY8lUhLLuUwaQyde+9bis+iLDb8Iwdsxz6oALDlUc/gC8mhGSZNZNt97KeJ5pQ/fsSt/HgKWZ57jA==", "product_id"=>"5"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 37], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 37], ["product_id", 5], ["LIMIT", 1]]
  ↳ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mLineItem Update (0.2ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 2], ["updated_at", "2020-07-08 09:44:42.721461"], ["id", 55]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[35m (91.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 37]]
  ↳ app/views/carts/_cart.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 6.4ms | Allocations: 3030)
  Rendered carts/_cart.html.erb (Duration: 14.3ms | Allocations: 4887)
  Rendered line_items/create.js.erb (Duration: 16.0ms | Allocations: 5130)
Completed 500 Internal Server Error in 146ms (ActiveRecord: 93.3ms | Allocations: 23303)


  
ActionView::SyntaxErrorInTemplate (Encountered a syntax error while rendering template: check <% ifline_item == @current_item %>
<tr class="line-item-hightlight">
<% else %>
<tr>
<% end %>
<td class="quantity"><%= line_item.quantity %></td>
<td><%= line_item.product.title %></td>
<td class="price"><%= number_to_currency(line_item.total_price) %></td>
</tr>
):
1:    <% ifline_item == @current_item %>
2:    <tr class="line-item-hightlight">
3:    <% else %>
4:    <tr>
5:    <% end %>
6:    <td class="quantity"><%= line_item.quantity %></td>
7:    <td><%= line_item.product.title %></td>
8:    <td class="price"><%= number_to_currency(line_item.total_price) %></td>
9:    </tr>
  
app/views/line_items/_line_item.html.erb:3: else without rescue is useless
app/views/line_items/_line_item.html.erb:11: syntax error, unexpected `end', expecting end-of-input
app/views/line_items/_line_item.html.erb:3: else without rescue is useless
app/views/line_items/_line_item.html.erb:11: syntax error, unexpected `end', expecting end-of-input
app/views/line_items/_line_item.html.erb:3: else without rescue is useless
app/views/line_items/_line_item.html.erb:11: syntax error, unexpected `end', expecting end-of-input
app/views/line_items/_line_item.html.erb:3: else without rescue is useless
app/views/line_items/_line_item.html.erb:11: syntax error, unexpected `end', expecting end-of-input
app/views/line_items/_line_item.html.erb:3: else without rescue is useless
app/views/line_items/_line_item.html.erb:11: syntax error, unexpected `end', expecting end-of-input
app/views/line_items/_line_item.html.erb:3: else without rescue is useless
app/views/line_items/_line_item.html.erb:11: syntax error, unexpected `end', expecting end-of-input
app/views/carts/_cart.html.erb:7
app/views/line_items/create.js.erb:2
Started POST "/line_items?product_id=5" for ::1 at 2020-07-08 16:44:43 +0700
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"v1Zxh+headY8lUhLLuUwaQyde+9bis+iLDb8Iwdsxz6oALDlUc/gC8mhGSZNZNt97KeJ5pQ/fsSt/HgKWZ57jA==", "product_id"=>"5"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 37], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 37], ["product_id", 5], ["LIMIT", 1]]
  ↳ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mLineItem Update (0.2ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 3], ["updated_at", "2020-07-08 09:44:43.556299"], ["id", 55]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[35m (109.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 37]]
Started POST "/line_items?product_id=5" for ::1 at 2020-07-08 16:44:43 +0700
  ↳ app/views/carts/_cart.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 6.8ms | Allocations: 1937)
  Rendered carts/_cart.html.erb (Duration: 18.5ms | Allocations: 3593)
  Rendered line_items/create.js.erb (Duration: 22.3ms | Allocations: 3947)
Processing by LineItemsController#create as JS
Completed 500 Internal Server Error in 199ms (ActiveRecord: 110.6ms | Allocations: 29956)


  Parameters: {"authenticity_token"=>"v1Zxh+headY8lUhLLuUwaQyde+9bis+iLDb8Iwdsxz6oALDlUc/gC8mhGSZNZNt97KeJ5pQ/fsSt/HgKWZ57jA==", "product_id"=>"5"}
  
ActionView::SyntaxErrorInTemplate (Encountered a syntax error while rendering template: check <% ifline_item == @current_item %>
<tr class="line-item-hightlight">
<% else %>
<tr>
<% end %>
<td class="quantity"><%= line_item.quantity %></td>
<td><%= line_item.product.title %></td>
<td class="price"><%= number_to_currency(line_item.total_price) %></td>
</tr>
):
1:    <% ifline_item == @current_item %>
2:    <tr class="line-item-hightlight">
3:    <% else %>
4:    <tr>
5:    <% end %>
6:    <td class="quantity"><%= line_item.quantity %></td>
7:    <td><%= line_item.product.title %></td>
8:    <td class="price"><%= number_to_currency(line_item.total_price) %></td>
9:    </tr>
  
app/views/line_items/_line_item.html.erb:3: else without rescue is useless
app/views/line_items/_line_item.html.erb:11: syntax error, unexpected `end', expecting end-of-input
app/views/line_items/_line_item.html.erb:3: else without rescue is useless
app/views/line_items/_line_item.html.erb:11: syntax error, unexpected `end', expecting end-of-input
app/views/line_items/_line_item.html.erb:3: else without rescue is useless
app/views/line_items/_line_item.html.erb:11: syntax error, unexpected `end', expecting end-of-input
app/views/line_items/_line_item.html.erb:3: else without rescue is useless
app/views/line_items/_line_item.html.erb:11: syntax error, unexpected `end', expecting end-of-input
app/views/line_items/_line_item.html.erb:3: else without rescue is useless
app/views/line_items/_line_item.html.erb:11: syntax error, unexpected `end', expecting end-of-input
app/views/line_items/_line_item.html.erb:3: else without rescue is useless
app/views/line_items/_line_item.html.erb:11: syntax error, unexpected `end', expecting end-of-input
app/views/carts/_cart.html.erb:7
app/views/line_items/create.js.erb:2
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 37], ["LIMIT", 1]]
Started POST "/line_items?product_id=5" for ::1 at 2020-07-08 16:44:43 +0700
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 37], ["product_id", 5], ["LIMIT", 1]]
  ↳ app/models/cart.rb:5:in `add_product'
Processing by LineItemsController#create as JS
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  Parameters: {"authenticity_token"=>"v1Zxh+headY8lUhLLuUwaQyde+9bis+iLDb8Iwdsxz6oALDlUc/gC8mhGSZNZNt97KeJ5pQ/fsSt/HgKWZ57jA==", "product_id"=>"5"}
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 37], ["LIMIT", 1]]
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mLineItem Update (0.2ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 4], ["updated_at", "2020-07-08 09:44:44.449934"], ["id", 55]]
  ↳ app/controllers/line_items_controller.rb:29:in `create'
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 37], ["product_id", 5], ["LIMIT", 1]]
  [1m[35m (193.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/models/cart.rb:5:in `add_product'
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
Started POST "/line_items?product_id=5" for ::1 at 2020-07-08 16:44:44 +0700
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  Rendering line_items/create.js.erb
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 37]]
  [1m[36mLineItem Update (1.1ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 4], ["updated_at", "2020-07-08 09:44:44.677363"], ["id", 55]]
  ↳ app/views/carts/_cart.html.erb:7
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 88.2ms | Allocations: 1941)
  Rendered carts/_cart.html.erb (Duration: 100.4ms | Allocations: 6954)
  [1m[35m (89.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"v1Zxh+headY8lUhLLuUwaQyde+9bis+iLDb8Iwdsxz6oALDlUc/gC8mhGSZNZNt97KeJ5pQ/fsSt/HgKWZ57jA==", "product_id"=>"5"}
  Rendering line_items/create.js.erb
  Rendered line_items/create.js.erb (Duration: 102.9ms | Allocations: 7439)
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 37]]
  ↳ app/views/carts/_cart.html.erb:7
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 37], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
Completed 500 Internal Server Error in 1056ms (ActiveRecord: 194.3ms | Allocations: 874794)


  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 6.7ms | Allocations: 2847)
  ↳ app/controllers/line_items_controller.rb:29:in `create'
  
ActionView::SyntaxErrorInTemplate (Encountered a syntax error while rendering template: check <% ifline_item == @current_item %>
<tr class="line-item-hightlight">
<% else %>
<tr>
<% end %>
<td class="quantity"><%= line_item.quantity %></td>
<td><%= line_item.product.title %></td>
<td class="price"><%= number_to_currency(line_item.total_price) %></td>
</tr>
):
1:    <% ifline_item == @current_item %>
2:    <tr class="line-item-hightlight">
3:    <% else %>
4:    <tr>
5:    <% end %>
6:    <td class="quantity"><%= line_item.quantity %></td>
7:    <td><%= line_item.product.title %></td>
8:    <td class="price"><%= number_to_currency(line_item.total_price) %></td>
9:    </tr>
  
app/views/line_items/_line_item.html.erb:3: else without rescue is useless
app/views/line_items/_line_item.html.erb:11: syntax error, unexpected `end', expecting end-of-input
app/views/line_items/_line_item.html.erb:3: else without rescue is useless
app/views/line_items/_line_item.html.erb:11: syntax error, unexpected `end', expecting end-of-input
app/views/line_items/_line_item.html.erb:3: else without rescue is useless
app/views/line_items/_line_item.html.erb:11: syntax error, unexpected `end', expecting end-of-input
app/views/line_items/_line_item.html.erb:3: else without rescue is useless
app/views/line_items/_line_item.html.erb:11: syntax error, unexpected `end', expecting end-of-input
app/views/line_items/_line_item.html.erb:3: else without rescue is useless
app/views/line_items/_line_item.html.erb:11: syntax error, unexpected `end', expecting end-of-input
app/views/line_items/_line_item.html.erb:3: else without rescue is useless
app/views/line_items/_line_item.html.erb:11: syntax error, unexpected `end', expecting end-of-input
app/views/carts/_cart.html.erb:7
app/views/line_items/create.js.erb:2
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 37], ["product_id", 5], ["LIMIT", 1]]
  Rendered carts/_cart.html.erb (Duration: 23.3ms | Allocations: 7546)
  ↳ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mLineItem Update (0.4ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 5], ["updated_at", "2020-07-08 09:44:45.807609"], ["id", 55]]
  Rendered line_items/create.js.erb (Duration: 416.4ms | Allocations: 389409)
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
Completed 500 Internal Server Error in 1406ms (ActiveRecord: 91.6ms | Allocations: 877260)


  [1m[35m (917.7ms)[0m  [1m[36mcommit transaction[0m
  
ActionView::SyntaxErrorInTemplate (Encountered a syntax error while rendering template: check <% ifline_item == @current_item %>
<tr class="line-item-hightlight">
<% else %>
<tr>
<% end %>
<td class="quantity"><%= line_item.quantity %></td>
<td><%= line_item.product.title %></td>
<td class="price"><%= number_to_currency(line_item.total_price) %></td>
</tr>
):
1:    <% ifline_item == @current_item %>
2:    <tr class="line-item-hightlight">
3:    <% else %>
4:    <tr>
5:    <% end %>
6:    <td class="quantity"><%= line_item.quantity %></td>
7:    <td><%= line_item.product.title %></td>
8:    <td class="price"><%= number_to_currency(line_item.total_price) %></td>
9:    </tr>
  
app/views/line_items/_line_item.html.erb:3: else without rescue is useless
app/views/line_items/_line_item.html.erb:11: syntax error, unexpected `end', expecting end-of-input
app/views/line_items/_line_item.html.erb:3: else without rescue is useless
app/views/line_items/_line_item.html.erb:11: syntax error, unexpected `end', expecting end-of-input
app/views/line_items/_line_item.html.erb:3: else without rescue is useless
app/views/line_items/_line_item.html.erb:11: syntax error, unexpected `end', expecting end-of-input
app/views/line_items/_line_item.html.erb:3: else without rescue is useless
app/views/line_items/_line_item.html.erb:11: syntax error, unexpected `end', expecting end-of-input
app/views/line_items/_line_item.html.erb:3: else without rescue is useless
app/views/line_items/_line_item.html.erb:11: syntax error, unexpected `end', expecting end-of-input
app/views/line_items/_line_item.html.erb:3: else without rescue is useless
app/views/line_items/_line_item.html.erb:11: syntax error, unexpected `end', expecting end-of-input
app/views/carts/_cart.html.erb:7
app/views/line_items/create.js.erb:2
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 37]]
  ↳ app/views/carts/_cart.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 0.9ms | Allocations: 1399)
  Rendered carts/_cart.html.erb (Duration: 201.3ms | Allocations: 196588)
  Rendered line_items/create.js.erb (Duration: 300.6ms | Allocations: 288690)
Completed 500 Internal Server Error in 2822ms (ActiveRecord: 919.3ms | Allocations: 1691993)


  
ActionView::SyntaxErrorInTemplate (Encountered a syntax error while rendering template: check <% ifline_item == @current_item %>
<tr class="line-item-hightlight">
<% else %>
<tr>
<% end %>
<td class="quantity"><%= line_item.quantity %></td>
<td><%= line_item.product.title %></td>
<td class="price"><%= number_to_currency(line_item.total_price) %></td>
</tr>
):
1:    <% ifline_item == @current_item %>
2:    <tr class="line-item-hightlight">
3:    <% else %>
4:    <tr>
5:    <% end %>
6:    <td class="quantity"><%= line_item.quantity %></td>
7:    <td><%= line_item.product.title %></td>
8:    <td class="price"><%= number_to_currency(line_item.total_price) %></td>
9:    </tr>
  
app/views/line_items/_line_item.html.erb:3: else without rescue is useless
app/views/line_items/_line_item.html.erb:11: syntax error, unexpected `end', expecting end-of-input
app/views/line_items/_line_item.html.erb:3: else without rescue is useless
app/views/line_items/_line_item.html.erb:11: syntax error, unexpected `end', expecting end-of-input
app/views/line_items/_line_item.html.erb:3: else without rescue is useless
app/views/line_items/_line_item.html.erb:11: syntax error, unexpected `end', expecting end-of-input
app/views/line_items/_line_item.html.erb:3: else without rescue is useless
app/views/line_items/_line_item.html.erb:11: syntax error, unexpected `end', expecting end-of-input
app/views/line_items/_line_item.html.erb:3: else without rescue is useless
app/views/line_items/_line_item.html.erb:11: syntax error, unexpected `end', expecting end-of-input
app/views/line_items/_line_item.html.erb:3: else without rescue is useless
app/views/line_items/_line_item.html.erb:11: syntax error, unexpected `end', expecting end-of-input
app/views/carts/_cart.html.erb:7
app/views/line_items/create.js.erb:2
Started POST "/line_items?product_id=5" for ::1 at 2020-07-08 16:44:48 +0700
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"v1Zxh+headY8lUhLLuUwaQyde+9bis+iLDb8Iwdsxz6oALDlUc/gC8mhGSZNZNt97KeJ5pQ/fsSt/HgKWZ57jA==", "product_id"=>"5"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 37], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 37], ["product_id", 5], ["LIMIT", 1]]
  ↳ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mLineItem Update (0.2ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 6], ["updated_at", "2020-07-08 09:44:48.439236"], ["id", 55]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[35m (679.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 37]]
  ↳ app/views/carts/_cart.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 0.9ms | Allocations: 1395)
  Rendered carts/_cart.html.erb (Duration: 2.6ms | Allocations: 2231)
  Rendered line_items/create.js.erb (Duration: 4.0ms | Allocations: 3149)
Completed 500 Internal Server Error in 710ms (ActiveRecord: 680.0ms | Allocations: 32250)


  
ActionView::SyntaxErrorInTemplate (Encountered a syntax error while rendering template: check <% ifline_item == @current_item %>
<tr class="line-item-hightlight">
<% else %>
<tr>
<% end %>
<td class="quantity"><%= line_item.quantity %></td>
<td><%= line_item.product.title %></td>
<td class="price"><%= number_to_currency(line_item.total_price) %></td>
</tr>
):
1:    <% ifline_item == @current_item %>
2:    <tr class="line-item-hightlight">
3:    <% else %>
4:    <tr>
5:    <% end %>
6:    <td class="quantity"><%= line_item.quantity %></td>
7:    <td><%= line_item.product.title %></td>
8:    <td class="price"><%= number_to_currency(line_item.total_price) %></td>
9:    </tr>
  
app/views/line_items/_line_item.html.erb:3: else without rescue is useless
app/views/line_items/_line_item.html.erb:11: syntax error, unexpected `end', expecting end-of-input
app/views/line_items/_line_item.html.erb:3: else without rescue is useless
app/views/line_items/_line_item.html.erb:11: syntax error, unexpected `end', expecting end-of-input
app/views/line_items/_line_item.html.erb:3: else without rescue is useless
app/views/line_items/_line_item.html.erb:11: syntax error, unexpected `end', expecting end-of-input
app/views/line_items/_line_item.html.erb:3: else without rescue is useless
app/views/line_items/_line_item.html.erb:11: syntax error, unexpected `end', expecting end-of-input
app/views/line_items/_line_item.html.erb:3: else without rescue is useless
app/views/line_items/_line_item.html.erb:11: syntax error, unexpected `end', expecting end-of-input
app/views/line_items/_line_item.html.erb:3: else without rescue is useless
app/views/line_items/_line_item.html.erb:11: syntax error, unexpected `end', expecting end-of-input
app/views/carts/_cart.html.erb:7
app/views/line_items/create.js.erb:2
Started POST "/line_items?product_id=5" for ::1 at 2020-07-08 16:44:50 +0700
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"v1Zxh+headY8lUhLLuUwaQyde+9bis+iLDb8Iwdsxz6oALDlUc/gC8mhGSZNZNt97KeJ5pQ/fsSt/HgKWZ57jA==", "product_id"=>"5"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 37], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 37], ["product_id", 5], ["LIMIT", 1]]
  ↳ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mLineItem Update (0.3ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 7], ["updated_at", "2020-07-08 09:44:50.286307"], ["id", 55]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[35m (866.8ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 37]]
  ↳ app/views/carts/_cart.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 10.7ms | Allocations: 1852)
  Rendered carts/_cart.html.erb (Duration: 23.4ms | Allocations: 4776)
  Rendered line_items/create.js.erb (Duration: 24.1ms | Allocations: 4854)
Completed 500 Internal Server Error in 941ms (ActiveRecord: 868.3ms | Allocations: 27804)


  
ActionView::SyntaxErrorInTemplate (Encountered a syntax error while rendering template: check <% ifline_item == @current_item %>
<tr class="line-item-hightlight">
<% else %>
<tr>
<% end %>
<td class="quantity"><%= line_item.quantity %></td>
<td><%= line_item.product.title %></td>
<td class="price"><%= number_to_currency(line_item.total_price) %></td>
</tr>
):
1:    <% ifline_item == @current_item %>
2:    <tr class="line-item-hightlight">
3:    <% else %>
4:    <tr>
5:    <% end %>
6:    <td class="quantity"><%= line_item.quantity %></td>
7:    <td><%= line_item.product.title %></td>
8:    <td class="price"><%= number_to_currency(line_item.total_price) %></td>
9:    </tr>
  
app/views/line_items/_line_item.html.erb:3: else without rescue is useless
app/views/line_items/_line_item.html.erb:11: syntax error, unexpected `end', expecting end-of-input
app/views/line_items/_line_item.html.erb:3: else without rescue is useless
app/views/line_items/_line_item.html.erb:11: syntax error, unexpected `end', expecting end-of-input
app/views/line_items/_line_item.html.erb:3: else without rescue is useless
app/views/line_items/_line_item.html.erb:11: syntax error, unexpected `end', expecting end-of-input
app/views/line_items/_line_item.html.erb:3: else without rescue is useless
app/views/line_items/_line_item.html.erb:11: syntax error, unexpected `end', expecting end-of-input
app/views/line_items/_line_item.html.erb:3: else without rescue is useless
app/views/line_items/_line_item.html.erb:11: syntax error, unexpected `end', expecting end-of-input
app/views/line_items/_line_item.html.erb:3: else without rescue is useless
app/views/line_items/_line_item.html.erb:11: syntax error, unexpected `end', expecting end-of-input
app/views/carts/_cart.html.erb:7
app/views/line_items/create.js.erb:2
Started POST "/line_items?product_id=5" for ::1 at 2020-07-08 16:44:52 +0700
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"v1Zxh+headY8lUhLLuUwaQyde+9bis+iLDb8Iwdsxz6oALDlUc/gC8mhGSZNZNt97KeJ5pQ/fsSt/HgKWZ57jA==", "product_id"=>"5"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 37], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 37], ["product_id", 5], ["LIMIT", 1]]
  ↳ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mLineItem Update (0.3ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 8], ["updated_at", "2020-07-08 09:44:52.031285"], ["id", 55]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[35m (672.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 37]]
  ↳ app/views/carts/_cart.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 1.5ms | Allocations: 1580)
  Rendered carts/_cart.html.erb (Duration: 5.4ms | Allocations: 3207)
  Rendered line_items/create.js.erb (Duration: 6.3ms | Allocations: 3722)
Completed 500 Internal Server Error in 698ms (ActiveRecord: 673.0ms | Allocations: 17180)


  
ActionView::SyntaxErrorInTemplate (Encountered a syntax error while rendering template: check <% ifline_item == @current_item %>
<tr class="line-item-hightlight">
<% else %>
<tr>
<% end %>
<td class="quantity"><%= line_item.quantity %></td>
<td><%= line_item.product.title %></td>
<td class="price"><%= number_to_currency(line_item.total_price) %></td>
</tr>
):
1:    <% ifline_item == @current_item %>
2:    <tr class="line-item-hightlight">
3:    <% else %>
4:    <tr>
5:    <% end %>
6:    <td class="quantity"><%= line_item.quantity %></td>
7:    <td><%= line_item.product.title %></td>
8:    <td class="price"><%= number_to_currency(line_item.total_price) %></td>
9:    </tr>
  
app/views/line_items/_line_item.html.erb:3: else without rescue is useless
app/views/line_items/_line_item.html.erb:11: syntax error, unexpected `end', expecting end-of-input
app/views/line_items/_line_item.html.erb:3: else without rescue is useless
app/views/line_items/_line_item.html.erb:11: syntax error, unexpected `end', expecting end-of-input
app/views/line_items/_line_item.html.erb:3: else without rescue is useless
app/views/line_items/_line_item.html.erb:11: syntax error, unexpected `end', expecting end-of-input
app/views/line_items/_line_item.html.erb:3: else without rescue is useless
app/views/line_items/_line_item.html.erb:11: syntax error, unexpected `end', expecting end-of-input
app/views/line_items/_line_item.html.erb:3: else without rescue is useless
app/views/line_items/_line_item.html.erb:11: syntax error, unexpected `end', expecting end-of-input
app/views/line_items/_line_item.html.erb:3: else without rescue is useless
app/views/line_items/_line_item.html.erb:11: syntax error, unexpected `end', expecting end-of-input
app/views/carts/_cart.html.erb:7
app/views/line_items/create.js.erb:2
Started POST "/line_items?product_id=5" for ::1 at 2020-07-08 16:44:53 +0700
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"v1Zxh+headY8lUhLLuUwaQyde+9bis+iLDb8Iwdsxz6oALDlUc/gC8mhGSZNZNt97KeJ5pQ/fsSt/HgKWZ57jA==", "product_id"=>"5"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 37], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 37], ["product_id", 5], ["LIMIT", 1]]
  ↳ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mLineItem Update (0.3ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 9], ["updated_at", "2020-07-08 09:44:53.464149"], ["id", 55]]
Started POST "/line_items?product_id=5" for ::1 at 2020-07-08 16:44:53 +0700
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[35m (206.8ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  Rendering line_items/create.js.erb
Processing by LineItemsController#create as JS
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 37]]
  Parameters: {"authenticity_token"=>"v1Zxh+headY8lUhLLuUwaQyde+9bis+iLDb8Iwdsxz6oALDlUc/gC8mhGSZNZNt97KeJ5pQ/fsSt/HgKWZ57jA==", "product_id"=>"5"}
  ↳ app/views/carts/_cart.html.erb:7
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 37], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 4.3ms | Allocations: 3211)
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:29:in `create'
  Rendered carts/_cart.html.erb (Duration: 26.5ms | Allocations: 10617)
  Rendered line_items/create.js.erb (Duration: 31.7ms | Allocations: 15159)
Completed 500 Internal Server Error in 285ms (ActiveRecord: 208.2ms | Allocations: 45756)


  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 37], ["product_id", 5], ["LIMIT", 1]]
  
ActionView::SyntaxErrorInTemplate (Encountered a syntax error while rendering template: check <% ifline_item == @current_item %>
<tr class="line-item-hightlight">
<% else %>
<tr>
<% end %>
<td class="quantity"><%= line_item.quantity %></td>
<td><%= line_item.product.title %></td>
<td class="price"><%= number_to_currency(line_item.total_price) %></td>
</tr>
):
1:    <% ifline_item == @current_item %>
2:    <tr class="line-item-hightlight">
3:    <% else %>
4:    <tr>
5:    <% end %>
6:    <td class="quantity"><%= line_item.quantity %></td>
7:    <td><%= line_item.product.title %></td>
8:    <td class="price"><%= number_to_currency(line_item.total_price) %></td>
9:    </tr>
  
app/views/line_items/_line_item.html.erb:3: else without rescue is useless
app/views/line_items/_line_item.html.erb:11: syntax error, unexpected `end', expecting end-of-input
app/views/line_items/_line_item.html.erb:3: else without rescue is useless
app/views/line_items/_line_item.html.erb:11: syntax error, unexpected `end', expecting end-of-input
app/views/line_items/_line_item.html.erb:3: else without rescue is useless
app/views/line_items/_line_item.html.erb:11: syntax error, unexpected `end', expecting end-of-input
app/views/line_items/_line_item.html.erb:3: else without rescue is useless
app/views/line_items/_line_item.html.erb:11: syntax error, unexpected `end', expecting end-of-input
app/views/line_items/_line_item.html.erb:3: else without rescue is useless
app/views/line_items/_line_item.html.erb:11: syntax error, unexpected `end', expecting end-of-input
app/views/line_items/_line_item.html.erb:3: else without rescue is useless
app/views/line_items/_line_item.html.erb:11: syntax error, unexpected `end', expecting end-of-input
app/views/carts/_cart.html.erb:7
app/views/line_items/create.js.erb:2
  ↳ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mLineItem Update (0.3ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 10], ["updated_at", "2020-07-08 09:44:54.600392"], ["id", 55]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[35m (77.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 37]]
  ↳ app/views/carts/_cart.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 0.9ms | Allocations: 1397)
  Rendered carts/_cart.html.erb (Duration: 3.9ms | Allocations: 3587)
  Rendered line_items/create.js.erb (Duration: 4.7ms | Allocations: 4435)
Completed 500 Internal Server Error in 984ms (ActiveRecord: 78.3ms | Allocations: 866761)


  
ActionView::SyntaxErrorInTemplate (Encountered a syntax error while rendering template: check <% ifline_item == @current_item %>
<tr class="line-item-hightlight">
<% else %>
<tr>
<% end %>
<td class="quantity"><%= line_item.quantity %></td>
<td><%= line_item.product.title %></td>
<td class="price"><%= number_to_currency(line_item.total_price) %></td>
</tr>
):
1:    <% ifline_item == @current_item %>
2:    <tr class="line-item-hightlight">
3:    <% else %>
4:    <tr>
5:    <% end %>
6:    <td class="quantity"><%= line_item.quantity %></td>
7:    <td><%= line_item.product.title %></td>
8:    <td class="price"><%= number_to_currency(line_item.total_price) %></td>
9:    </tr>
  
app/views/line_items/_line_item.html.erb:3: else without rescue is useless
app/views/line_items/_line_item.html.erb:11: syntax error, unexpected `end', expecting end-of-input
app/views/line_items/_line_item.html.erb:3: else without rescue is useless
app/views/line_items/_line_item.html.erb:11: syntax error, unexpected `end', expecting end-of-input
app/views/line_items/_line_item.html.erb:3: else without rescue is useless
app/views/line_items/_line_item.html.erb:11: syntax error, unexpected `end', expecting end-of-input
app/views/line_items/_line_item.html.erb:3: else without rescue is useless
app/views/line_items/_line_item.html.erb:11: syntax error, unexpected `end', expecting end-of-input
app/views/line_items/_line_item.html.erb:3: else without rescue is useless
app/views/line_items/_line_item.html.erb:11: syntax error, unexpected `end', expecting end-of-input
app/views/line_items/_line_item.html.erb:3: else without rescue is useless
app/views/line_items/_line_item.html.erb:11: syntax error, unexpected `end', expecting end-of-input
app/views/carts/_cart.html.erb:7
app/views/line_items/create.js.erb:2
Started POST "/line_items?product_id=5" for ::1 at 2020-07-08 16:44:55 +0700
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"v1Zxh+headY8lUhLLuUwaQyde+9bis+iLDb8Iwdsxz6oALDlUc/gC8mhGSZNZNt97KeJ5pQ/fsSt/HgKWZ57jA==", "product_id"=>"5"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 37], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 37], ["product_id", 5], ["LIMIT", 1]]
  ↳ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mLineItem Update (1.1ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 11], ["updated_at", "2020-07-08 09:44:55.542566"], ["id", 55]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[35m (65.6ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 37]]
  ↳ app/views/carts/_cart.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 1.4ms | Allocations: 1396)
  Rendered carts/_cart.html.erb (Duration: 5.9ms | Allocations: 2857)
  Rendered line_items/create.js.erb (Duration: 6.9ms | Allocations: 3291)
Completed 500 Internal Server Error in 123ms (ActiveRecord: 67.6ms | Allocations: 29368)


  
ActionView::SyntaxErrorInTemplate (Encountered a syntax error while rendering template: check <% ifline_item == @current_item %>
<tr class="line-item-hightlight">
<% else %>
<tr>
<% end %>
<td class="quantity"><%= line_item.quantity %></td>
<td><%= line_item.product.title %></td>
<td class="price"><%= number_to_currency(line_item.total_price) %></td>
</tr>
):
1:    <% ifline_item == @current_item %>
2:    <tr class="line-item-hightlight">
3:    <% else %>
4:    <tr>
5:    <% end %>
6:    <td class="quantity"><%= line_item.quantity %></td>
7:    <td><%= line_item.product.title %></td>
8:    <td class="price"><%= number_to_currency(line_item.total_price) %></td>
9:    </tr>
  
app/views/line_items/_line_item.html.erb:3: else without rescue is useless
app/views/line_items/_line_item.html.erb:11: syntax error, unexpected `end', expecting end-of-input
app/views/line_items/_line_item.html.erb:3: else without rescue is useless
app/views/line_items/_line_item.html.erb:11: syntax error, unexpected `end', expecting end-of-input
app/views/line_items/_line_item.html.erb:3: else without rescue is useless
app/views/line_items/_line_item.html.erb:11: syntax error, unexpected `end', expecting end-of-input
app/views/line_items/_line_item.html.erb:3: else without rescue is useless
app/views/line_items/_line_item.html.erb:11: syntax error, unexpected `end', expecting end-of-input
app/views/line_items/_line_item.html.erb:3: else without rescue is useless
app/views/line_items/_line_item.html.erb:11: syntax error, unexpected `end', expecting end-of-input
app/views/line_items/_line_item.html.erb:3: else without rescue is useless
app/views/line_items/_line_item.html.erb:11: syntax error, unexpected `end', expecting end-of-input
app/views/carts/_cart.html.erb:7
app/views/line_items/create.js.erb:2
Started POST "/line_items?product_id=5" for ::1 at 2020-07-08 16:44:56 +0700
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"v1Zxh+headY8lUhLLuUwaQyde+9bis+iLDb8Iwdsxz6oALDlUc/gC8mhGSZNZNt97KeJ5pQ/fsSt/HgKWZ57jA==", "product_id"=>"5"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 37], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 37], ["product_id", 5], ["LIMIT", 1]]
  ↳ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mLineItem Update (0.6ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 12], ["updated_at", "2020-07-08 09:44:56.376519"], ["id", 55]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[35m (432.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 37]]
  ↳ app/views/carts/_cart.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 19.1ms | Allocations: 2788)
  Rendered carts/_cart.html.erb (Duration: 37.0ms | Allocations: 6012)
  Rendered line_items/create.js.erb (Duration: 40.0ms | Allocations: 6676)
Completed 500 Internal Server Error in 531ms (ActiveRecord: 433.7ms | Allocations: 24996)


  
ActionView::SyntaxErrorInTemplate (Encountered a syntax error while rendering template: check <% ifline_item == @current_item %>
<tr class="line-item-hightlight">
<% else %>
<tr>
<% end %>
<td class="quantity"><%= line_item.quantity %></td>
<td><%= line_item.product.title %></td>
<td class="price"><%= number_to_currency(line_item.total_price) %></td>
</tr>
):
1:    <% ifline_item == @current_item %>
2:    <tr class="line-item-hightlight">
3:    <% else %>
4:    <tr>
5:    <% end %>
6:    <td class="quantity"><%= line_item.quantity %></td>
7:    <td><%= line_item.product.title %></td>
8:    <td class="price"><%= number_to_currency(line_item.total_price) %></td>
9:    </tr>
  
app/views/line_items/_line_item.html.erb:3: else without rescue is useless
app/views/line_items/_line_item.html.erb:11: syntax error, unexpected `end', expecting end-of-input
app/views/line_items/_line_item.html.erb:3: else without rescue is useless
app/views/line_items/_line_item.html.erb:11: syntax error, unexpected `end', expecting end-of-input
app/views/line_items/_line_item.html.erb:3: else without rescue is useless
app/views/line_items/_line_item.html.erb:11: syntax error, unexpected `end', expecting end-of-input
app/views/line_items/_line_item.html.erb:3: else without rescue is useless
app/views/line_items/_line_item.html.erb:11: syntax error, unexpected `end', expecting end-of-input
app/views/line_items/_line_item.html.erb:3: else without rescue is useless
app/views/line_items/_line_item.html.erb:11: syntax error, unexpected `end', expecting end-of-input
app/views/line_items/_line_item.html.erb:3: else without rescue is useless
app/views/line_items/_line_item.html.erb:11: syntax error, unexpected `end', expecting end-of-input
app/views/carts/_cart.html.erb:7
app/views/line_items/create.js.erb:2
Started POST "/line_items?product_id=5" for ::1 at 2020-07-08 16:44:57 +0700
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"v1Zxh+headY8lUhLLuUwaQyde+9bis+iLDb8Iwdsxz6oALDlUc/gC8mhGSZNZNt97KeJ5pQ/fsSt/HgKWZ57jA==", "product_id"=>"5"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 37], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 37], ["product_id", 5], ["LIMIT", 1]]
  ↳ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mLineItem Update (0.4ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 13], ["updated_at", "2020-07-08 09:44:57.734298"], ["id", 55]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[35m (71.8ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 37]]
  ↳ app/views/carts/_cart.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 1.9ms | Allocations: 1396)
  Rendered carts/_cart.html.erb (Duration: 14.8ms | Allocations: 6449)
  Rendered line_items/create.js.erb (Duration: 18.5ms | Allocations: 7512)
Completed 500 Internal Server Error in 130ms (ActiveRecord: 73.2ms | Allocations: 28697)


  
ActionView::SyntaxErrorInTemplate (Encountered a syntax error while rendering template: check <% ifline_item == @current_item %>
<tr class="line-item-hightlight">
<% else %>
<tr>
<% end %>
<td class="quantity"><%= line_item.quantity %></td>
<td><%= line_item.product.title %></td>
<td class="price"><%= number_to_currency(line_item.total_price) %></td>
</tr>
):
1:    <% ifline_item == @current_item %>
2:    <tr class="line-item-hightlight">
3:    <% else %>
4:    <tr>
5:    <% end %>
6:    <td class="quantity"><%= line_item.quantity %></td>
7:    <td><%= line_item.product.title %></td>
8:    <td class="price"><%= number_to_currency(line_item.total_price) %></td>
9:    </tr>
  
app/views/line_items/_line_item.html.erb:3: else without rescue is useless
app/views/line_items/_line_item.html.erb:11: syntax error, unexpected `end', expecting end-of-input
app/views/line_items/_line_item.html.erb:3: else without rescue is useless
app/views/line_items/_line_item.html.erb:11: syntax error, unexpected `end', expecting end-of-input
app/views/line_items/_line_item.html.erb:3: else without rescue is useless
app/views/line_items/_line_item.html.erb:11: syntax error, unexpected `end', expecting end-of-input
app/views/line_items/_line_item.html.erb:3: else without rescue is useless
app/views/line_items/_line_item.html.erb:11: syntax error, unexpected `end', expecting end-of-input
app/views/line_items/_line_item.html.erb:3: else without rescue is useless
app/views/line_items/_line_item.html.erb:11: syntax error, unexpected `end', expecting end-of-input
app/views/line_items/_line_item.html.erb:3: else without rescue is useless
app/views/line_items/_line_item.html.erb:11: syntax error, unexpected `end', expecting end-of-input
app/views/carts/_cart.html.erb:7
app/views/line_items/create.js.erb:2
Started POST "/line_items?product_id=5" for ::1 at 2020-07-08 16:44:58 +0700
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"v1Zxh+headY8lUhLLuUwaQyde+9bis+iLDb8Iwdsxz6oALDlUc/gC8mhGSZNZNt97KeJ5pQ/fsSt/HgKWZ57jA==", "product_id"=>"5"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 37], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
Started POST "/line_items?product_id=5" for ::1 at 2020-07-08 16:44:58 +0700
  ↳ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 37], ["product_id", 5], ["LIMIT", 1]]
  ↳ app/models/cart.rb:5:in `add_product'
Processing by LineItemsController#create as JS
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  Parameters: {"authenticity_token"=>"v1Zxh+headY8lUhLLuUwaQyde+9bis+iLDb8Iwdsxz6oALDlUc/gC8mhGSZNZNt97KeJ5pQ/fsSt/HgKWZ57jA==", "product_id"=>"5"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 37], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
Started POST "/line_items?product_id=5" for ::1 at 2020-07-08 16:44:58 +0700
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  ↳ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Update (0.5ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 14], ["updated_at", "2020-07-08 09:44:58.735024"], ["id", 55]]
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 37], ["product_id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  ↳ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (72.2ms)[0m  [1m[36mcommit transaction[0m
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"v1Zxh+headY8lUhLLuUwaQyde+9bis+iLDb8Iwdsxz6oALDlUc/gC8mhGSZNZNt97KeJ5pQ/fsSt/HgKWZ57jA==", "product_id"=>"5"}
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  Rendering line_items/create.js.erb
  [1m[36mProduct Load (1.0ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mLineItem Update (0.4ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 14], ["updated_at", "2020-07-08 09:44:58.847974"], ["id", 55]]
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 37]]
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 37], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  ↳ app/views/carts/_cart.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 2.9ms | Allocations: 1397)
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendered carts/_cart.html.erb (Duration: 97.8ms | Allocations: 8142)
  Rendered line_items/create.js.erb (Duration: 102.0ms | Allocations: 9560)
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[35m (82.2ms)[0m  [1m[36mcommit transaction[0m
Completed 500 Internal Server Error in 256ms (ActiveRecord: 73.8ms | Allocations: 44991)


  ↳ app/controllers/line_items_controller.rb:29:in `create'
  
ActionView::SyntaxErrorInTemplate (Encountered a syntax error while rendering template: check <% ifline_item == @current_item %>
<tr class="line-item-hightlight">
<% else %>
<tr>
<% end %>
<td class="quantity"><%= line_item.quantity %></td>
<td><%= line_item.product.title %></td>
<td class="price"><%= number_to_currency(line_item.total_price) %></td>
</tr>
):
1:    <% ifline_item == @current_item %>
2:    <tr class="line-item-hightlight">
3:    <% else %>
4:    <tr>
5:    <% end %>
6:    <td class="quantity"><%= line_item.quantity %></td>
7:    <td><%= line_item.product.title %></td>
8:    <td class="price"><%= number_to_currency(line_item.total_price) %></td>
9:    </tr>
  
app/views/line_items/_line_item.html.erb:3: else without rescue is useless
app/views/line_items/_line_item.html.erb:11: syntax error, unexpected `end', expecting end-of-input
app/views/line_items/_line_item.html.erb:3: else without rescue is useless
app/views/line_items/_line_item.html.erb:11: syntax error, unexpected `end', expecting end-of-input
app/views/line_items/_line_item.html.erb:3: else without rescue is useless
app/views/line_items/_line_item.html.erb:11: syntax error, unexpected `end', expecting end-of-input
app/views/line_items/_line_item.html.erb:3: else without rescue is useless
app/views/line_items/_line_item.html.erb:11: syntax error, unexpected `end', expecting end-of-input
app/views/line_items/_line_item.html.erb:3: else without rescue is useless
app/views/line_items/_line_item.html.erb:11: syntax error, unexpected `end', expecting end-of-input
app/views/line_items/_line_item.html.erb:3: else without rescue is useless
app/views/line_items/_line_item.html.erb:11: syntax error, unexpected `end', expecting end-of-input
app/views/carts/_cart.html.erb:7
app/views/line_items/create.js.erb:2
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 37], ["product_id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  Rendering line_items/create.js.erb
  ↳ app/models/cart.rb:5:in `add_product'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 37]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/views/carts/_cart.html.erb:7
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 0.9ms | Allocations: 1399)
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  Rendered carts/_cart.html.erb (Duration: 477.6ms | Allocations: 462490)
  Rendered line_items/create.js.erb (Duration: 479.4ms | Allocations: 463831)
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
Completed 500 Internal Server Error in 1189ms (ActiveRecord: 84.4ms | Allocations: 884156)


  [1m[36mLineItem Update (0.3ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 15], ["updated_at", "2020-07-08 09:44:59.908162"], ["id", 55]]
  
ActionView::SyntaxErrorInTemplate (Encountered a syntax error while rendering template: check <% ifline_item == @current_item %>
<tr class="line-item-hightlight">
<% else %>
<tr>
<% end %>
<td class="quantity"><%= line_item.quantity %></td>
<td><%= line_item.product.title %></td>
<td class="price"><%= number_to_currency(line_item.total_price) %></td>
</tr>
):
1:    <% ifline_item == @current_item %>
2:    <tr class="line-item-hightlight">
3:    <% else %>
4:    <tr>
5:    <% end %>
6:    <td class="quantity"><%= line_item.quantity %></td>
7:    <td><%= line_item.product.title %></td>
8:    <td class="price"><%= number_to_currency(line_item.total_price) %></td>
9:    </tr>
  
app/views/line_items/_line_item.html.erb:3: else without rescue is useless
app/views/line_items/_line_item.html.erb:11: syntax error, unexpected `end', expecting end-of-input
app/views/line_items/_line_item.html.erb:3: else without rescue is useless
app/views/line_items/_line_item.html.erb:11: syntax error, unexpected `end', expecting end-of-input
app/views/line_items/_line_item.html.erb:3: else without rescue is useless
app/views/line_items/_line_item.html.erb:11: syntax error, unexpected `end', expecting end-of-input
app/views/line_items/_line_item.html.erb:3: else without rescue is useless
app/views/line_items/_line_item.html.erb:11: syntax error, unexpected `end', expecting end-of-input
app/views/line_items/_line_item.html.erb:3: else without rescue is useless
app/views/line_items/_line_item.html.erb:11: syntax error, unexpected `end', expecting end-of-input
app/views/line_items/_line_item.html.erb:3: else without rescue is useless
app/views/line_items/_line_item.html.erb:11: syntax error, unexpected `end', expecting end-of-input
app/views/carts/_cart.html.erb:7
app/views/line_items/create.js.erb:2
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[35m (401.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 37]]
  ↳ app/views/carts/_cart.html.erb:7
Started POST "/line_items?product_id=5" for ::1 at 2020-07-08 16:45:01 +0700
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 5.2ms | Allocations: 1933)
  Rendered carts/_cart.html.erb (Duration: 171.8ms | Allocations: 184173)
Processing by LineItemsController#create as JS
  Rendered line_items/create.js.erb (Duration: 274.0ms | Allocations: 301791)
  Parameters: {"authenticity_token"=>"v1Zxh+headY8lUhLLuUwaQyde+9bis+iLDb8Iwdsxz6oALDlUc/gC8mhGSZNZNt97KeJ5pQ/fsSt/HgKWZ57jA==", "product_id"=>"5"}
Completed 500 Internal Server Error in 2276ms (ActiveRecord: 403.4ms | Allocations: 1715823)


  
ActionView::SyntaxErrorInTemplate (Encountered a syntax error while rendering template: check <% ifline_item == @current_item %>
<tr class="line-item-hightlight">
<% else %>
<tr>
<% end %>
<td class="quantity"><%= line_item.quantity %></td>
<td><%= line_item.product.title %></td>
<td class="price"><%= number_to_currency(line_item.total_price) %></td>
</tr>
):
1:    <% ifline_item == @current_item %>
2:    <tr class="line-item-hightlight">
3:    <% else %>
4:    <tr>
5:    <% end %>
6:    <td class="quantity"><%= line_item.quantity %></td>
7:    <td><%= line_item.product.title %></td>
8:    <td class="price"><%= number_to_currency(line_item.total_price) %></td>
9:    </tr>
  
app/views/line_items/_line_item.html.erb:3: else without rescue is useless
app/views/line_items/_line_item.html.erb:11: syntax error, unexpected `end', expecting end-of-input
app/views/line_items/_line_item.html.erb:3: else without rescue is useless
app/views/line_items/_line_item.html.erb:11: syntax error, unexpected `end', expecting end-of-input
app/views/line_items/_line_item.html.erb:3: else without rescue is useless
app/views/line_items/_line_item.html.erb:11: syntax error, unexpected `end', expecting end-of-input
app/views/line_items/_line_item.html.erb:3: else without rescue is useless
app/views/line_items/_line_item.html.erb:11: syntax error, unexpected `end', expecting end-of-input
app/views/line_items/_line_item.html.erb:3: else without rescue is useless
app/views/line_items/_line_item.html.erb:11: syntax error, unexpected `end', expecting end-of-input
app/views/line_items/_line_item.html.erb:3: else without rescue is useless
app/views/line_items/_line_item.html.erb:11: syntax error, unexpected `end', expecting end-of-input
app/views/carts/_cart.html.erb:7
app/views/line_items/create.js.erb:2
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 37], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 37], ["product_id", 5], ["LIMIT", 1]]
  ↳ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mLineItem Update (0.5ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 16], ["updated_at", "2020-07-08 09:45:01.899992"], ["id", 55]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[35m (69.6ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 37]]
  ↳ app/views/carts/_cart.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 2.1ms | Allocations: 2479)
  Rendered carts/_cart.html.erb (Duration: 9.1ms | Allocations: 4775)
  Rendered line_items/create.js.erb (Duration: 10.0ms | Allocations: 4960)
Completed 500 Internal Server Error in 884ms (ActiveRecord: 70.8ms | Allocations: 856793)


  
ActionView::SyntaxErrorInTemplate (Encountered a syntax error while rendering template: check <% ifline_item == @current_item %>
<tr class="line-item-hightlight">
<% else %>
<tr>
<% end %>
<td class="quantity"><%= line_item.quantity %></td>
<td><%= line_item.product.title %></td>
<td class="price"><%= number_to_currency(line_item.total_price) %></td>
</tr>
):
1:    <% ifline_item == @current_item %>
2:    <tr class="line-item-hightlight">
3:    <% else %>
4:    <tr>
5:    <% end %>
6:    <td class="quantity"><%= line_item.quantity %></td>
7:    <td><%= line_item.product.title %></td>
8:    <td class="price"><%= number_to_currency(line_item.total_price) %></td>
9:    </tr>
  
app/views/line_items/_line_item.html.erb:3: else without rescue is useless
app/views/line_items/_line_item.html.erb:11: syntax error, unexpected `end', expecting end-of-input
app/views/line_items/_line_item.html.erb:3: else without rescue is useless
app/views/line_items/_line_item.html.erb:11: syntax error, unexpected `end', expecting end-of-input
app/views/line_items/_line_item.html.erb:3: else without rescue is useless
app/views/line_items/_line_item.html.erb:11: syntax error, unexpected `end', expecting end-of-input
app/views/line_items/_line_item.html.erb:3: else without rescue is useless
app/views/line_items/_line_item.html.erb:11: syntax error, unexpected `end', expecting end-of-input
app/views/line_items/_line_item.html.erb:3: else without rescue is useless
app/views/line_items/_line_item.html.erb:11: syntax error, unexpected `end', expecting end-of-input
app/views/line_items/_line_item.html.erb:3: else without rescue is useless
app/views/line_items/_line_item.html.erb:11: syntax error, unexpected `end', expecting end-of-input
app/views/carts/_cart.html.erb:7
app/views/line_items/create.js.erb:2
Started POST "/line_items?product_id=5" for ::1 at 2020-07-08 16:45:03 +0700
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"v1Zxh+headY8lUhLLuUwaQyde+9bis+iLDb8Iwdsxz6oALDlUc/gC8mhGSZNZNt97KeJ5pQ/fsSt/HgKWZ57jA==", "product_id"=>"5"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 37], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 37], ["product_id", 5], ["LIMIT", 1]]
  ↳ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mLineItem Update (0.3ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 17], ["updated_at", "2020-07-08 09:45:03.171338"], ["id", 55]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[35m (67.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 37]]
  ↳ app/views/carts/_cart.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 3.0ms | Allocations: 1396)
  Rendered carts/_cart.html.erb (Duration: 16.5ms | Allocations: 5509)
  Rendered line_items/create.js.erb (Duration: 20.3ms | Allocations: 5876)
Completed 500 Internal Server Error in 130ms (ActiveRecord: 68.5ms | Allocations: 25540)


  
ActionView::SyntaxErrorInTemplate (Encountered a syntax error while rendering template: check <% ifline_item == @current_item %>
<tr class="line-item-hightlight">
<% else %>
<tr>
<% end %>
<td class="quantity"><%= line_item.quantity %></td>
<td><%= line_item.product.title %></td>
<td class="price"><%= number_to_currency(line_item.total_price) %></td>
</tr>
):
1:    <% ifline_item == @current_item %>
2:    <tr class="line-item-hightlight">
3:    <% else %>
4:    <tr>
5:    <% end %>
6:    <td class="quantity"><%= line_item.quantity %></td>
7:    <td><%= line_item.product.title %></td>
8:    <td class="price"><%= number_to_currency(line_item.total_price) %></td>
9:    </tr>
  
app/views/line_items/_line_item.html.erb:3: else without rescue is useless
app/views/line_items/_line_item.html.erb:11: syntax error, unexpected `end', expecting end-of-input
app/views/line_items/_line_item.html.erb:3: else without rescue is useless
app/views/line_items/_line_item.html.erb:11: syntax error, unexpected `end', expecting end-of-input
app/views/line_items/_line_item.html.erb:3: else without rescue is useless
app/views/line_items/_line_item.html.erb:11: syntax error, unexpected `end', expecting end-of-input
app/views/line_items/_line_item.html.erb:3: else without rescue is useless
app/views/line_items/_line_item.html.erb:11: syntax error, unexpected `end', expecting end-of-input
app/views/line_items/_line_item.html.erb:3: else without rescue is useless
app/views/line_items/_line_item.html.erb:11: syntax error, unexpected `end', expecting end-of-input
app/views/line_items/_line_item.html.erb:3: else without rescue is useless
app/views/line_items/_line_item.html.erb:11: syntax error, unexpected `end', expecting end-of-input
app/views/carts/_cart.html.erb:7
app/views/line_items/create.js.erb:2
Started POST "/line_items?product_id=5" for ::1 at 2020-07-08 16:45:04 +0700
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"v1Zxh+headY8lUhLLuUwaQyde+9bis+iLDb8Iwdsxz6oALDlUc/gC8mhGSZNZNt97KeJ5pQ/fsSt/HgKWZ57jA==", "product_id"=>"5"}
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 37], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 37], ["product_id", 5], ["LIMIT", 1]]
  ↳ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mLineItem Update (0.4ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 18], ["updated_at", "2020-07-08 09:45:04.436791"], ["id", 55]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[35m (101.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 37]]
  ↳ app/views/carts/_cart.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 2.3ms | Allocations: 1397)
  Rendered carts/_cart.html.erb (Duration: 9.2ms | Allocations: 2233)
  Rendered line_items/create.js.erb (Duration: 10.9ms | Allocations: 2307)
Completed 500 Internal Server Error in 142ms (ActiveRecord: 103.3ms | Allocations: 9261)


  
ActionView::SyntaxErrorInTemplate (Encountered a syntax error while rendering template: check <% ifline_item == @current_item %>
<tr class="line-item-hightlight">
<% else %>
<tr>
<% end %>
<td class="quantity"><%= line_item.quantity %></td>
<td><%= line_item.product.title %></td>
<td class="price"><%= number_to_currency(line_item.total_price) %></td>
</tr>
):
1:    <% ifline_item == @current_item %>
2:    <tr class="line-item-hightlight">
3:    <% else %>
4:    <tr>
5:    <% end %>
6:    <td class="quantity"><%= line_item.quantity %></td>
7:    <td><%= line_item.product.title %></td>
8:    <td class="price"><%= number_to_currency(line_item.total_price) %></td>
9:    </tr>
  
app/views/line_items/_line_item.html.erb:3: else without rescue is useless
app/views/line_items/_line_item.html.erb:11: syntax error, unexpected `end', expecting end-of-input
app/views/line_items/_line_item.html.erb:3: else without rescue is useless
app/views/line_items/_line_item.html.erb:11: syntax error, unexpected `end', expecting end-of-input
app/views/line_items/_line_item.html.erb:3: else without rescue is useless
app/views/line_items/_line_item.html.erb:11: syntax error, unexpected `end', expecting end-of-input
app/views/line_items/_line_item.html.erb:3: else without rescue is useless
app/views/line_items/_line_item.html.erb:11: syntax error, unexpected `end', expecting end-of-input
app/views/line_items/_line_item.html.erb:3: else without rescue is useless
app/views/line_items/_line_item.html.erb:11: syntax error, unexpected `end', expecting end-of-input
app/views/line_items/_line_item.html.erb:3: else without rescue is useless
app/views/line_items/_line_item.html.erb:11: syntax error, unexpected `end', expecting end-of-input
app/views/carts/_cart.html.erb:7
app/views/line_items/create.js.erb:2
Started GET "/" for ::1 at 2020-07-08 16:45:59 +0700
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 37], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 12.6ms | Allocations: 3261)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 37]]
  ↳ app/views/carts/_cart.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 3.5ms | Allocations: 1232)
  Rendered carts/_cart.html.erb (Duration: 13.3ms | Allocations: 2257)
Completed 500 Internal Server Error in 49ms (ActiveRecord: 0.7ms | Allocations: 9990)


  
ActionView::SyntaxErrorInTemplate (Encountered a syntax error while rendering template: check <% ifline_item == @current_item %>
<tr class="line-item-hightlight">
<% else %>
<tr>
<% end %>
<td class="quantity"><%= line_item.quantity %></td>
<td><%= line_item.product.title %></td>
<td class="price"><%= number_to_currency(line_item.total_price) %></td>
</tr>
):
1:    <% ifline_item == @current_item %>
2:    <tr class="line-item-hightlight">
3:    <% else %>
4:    <tr>
5:    <% end %>
6:    <td class="quantity"><%= line_item.quantity %></td>
7:    <td><%= line_item.product.title %></td>
8:    <td class="price"><%= number_to_currency(line_item.total_price) %></td>
9:    </tr>
  
app/views/line_items/_line_item.html.erb:3: else without rescue is useless
app/views/line_items/_line_item.html.erb:11: syntax error, unexpected `end', expecting end-of-input
app/views/line_items/_line_item.html.erb:3: else without rescue is useless
app/views/line_items/_line_item.html.erb:11: syntax error, unexpected `end', expecting end-of-input
app/views/line_items/_line_item.html.erb:3: else without rescue is useless
app/views/line_items/_line_item.html.erb:11: syntax error, unexpected `end', expecting end-of-input
app/views/line_items/_line_item.html.erb:3: else without rescue is useless
app/views/line_items/_line_item.html.erb:11: syntax error, unexpected `end', expecting end-of-input
app/views/line_items/_line_item.html.erb:3: else without rescue is useless
app/views/line_items/_line_item.html.erb:11: syntax error, unexpected `end', expecting end-of-input
app/views/line_items/_line_item.html.erb:3: else without rescue is useless
app/views/line_items/_line_item.html.erb:11: syntax error, unexpected `end', expecting end-of-input
app/views/carts/_cart.html.erb:7
app/views/layouts/application.html.erb:16
Started GET "/" for ::1 at 2020-07-08 16:46:51 +0700
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 37], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 18.2ms | Allocations: 3492)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Load (0.7ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 37]]
  ↳ app/views/carts/_cart.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 5.4ms | Allocations: 1243)
  Rendered carts/_cart.html.erb (Duration: 14.1ms | Allocations: 2474)
Completed 500 Internal Server Error in 61ms (ActiveRecord: 1.4ms | Allocations: 11571)


  
ActionView::SyntaxErrorInTemplate (Encountered a syntax error while rendering template: check <% ifline_item == @current_item %>
<tr class="line-item-hightlight">
<% else %>
<tr>
<% end %>
<tr>
<td class="quantity"><%= line_item.quantity %></td>
<td><%= line_item.product.title %></td>
<td class="price"><%= number_to_currency(line_item.total_price) %></td>
</tr>
):
1:    <% ifline_item == @current_item %>
2:    <tr class="line-item-hightlight">
3:    <% else %>
4:    <tr>
5:    <% end %>
6:    <tr>
7:    <td class="quantity"><%= line_item.quantity %></td>
8:    <td><%= line_item.product.title %></td>
9:    <td class="price"><%= number_to_currency(line_item.total_price) %></td>
10:    </tr>
  
app/views/line_items/_line_item.html.erb:3: else without rescue is useless
app/views/line_items/_line_item.html.erb:12: syntax error, unexpected `end', expecting end-of-input
app/views/line_items/_line_item.html.erb:3: else without rescue is useless
app/views/line_items/_line_item.html.erb:12: syntax error, unexpected `end', expecting end-of-input
app/views/line_items/_line_item.html.erb:3: else without rescue is useless
app/views/line_items/_line_item.html.erb:12: syntax error, unexpected `end', expecting end-of-input
app/views/line_items/_line_item.html.erb:3: else without rescue is useless
app/views/line_items/_line_item.html.erb:12: syntax error, unexpected `end', expecting end-of-input
app/views/line_items/_line_item.html.erb:3: else without rescue is useless
app/views/line_items/_line_item.html.erb:12: syntax error, unexpected `end', expecting end-of-input
app/views/line_items/_line_item.html.erb:3: else without rescue is useless
app/views/line_items/_line_item.html.erb:12: syntax error, unexpected `end', expecting end-of-input
app/views/carts/_cart.html.erb:7
app/views/layouts/application.html.erb:16
Started GET "/" for ::1 at 2020-07-08 16:47:21 +0700
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 37], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (5.7ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 30.2ms | Allocations: 3492)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 37]]
  ↳ app/views/carts/_cart.html.erb:7
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:8
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:8
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 17.3ms | Allocations: 1946)
  Rendered carts/_cart.html.erb (Duration: 28.4ms | Allocations: 3470)
Completed 200 OK in 86ms (Views: 71.9ms | ActiveRecord: 7.4ms | Allocations: 12591)


Started DELETE "/carts/37" for ::1 at 2020-07-08 16:47:27 +0700
Processing by CartsController#destroy as HTML
  Parameters: {"authenticity_token"=>"EiUtWUONIDSWJmDtpUEsz1Vr9bcbH2tbdkAv00KzODUFc+w7+hyp6WMSMYDGwMfbtVEHvtSq2j33iqv6HEGEhw==", "id"=>"37"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 37], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:68:in `set_cart'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/carts_controller.rb:57:in `destroy'
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 37]]
  ↳ app/controllers/carts_controller.rb:57:in `destroy'
  [1m[36mLineItem Destroy (0.5ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 54]]
  ↳ app/controllers/carts_controller.rb:57:in `destroy'
  [1m[36mLineItem Destroy (0.5ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 55]]
  ↳ app/controllers/carts_controller.rb:57:in `destroy'
  [1m[36mCart Destroy (0.9ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 37]]
  ↳ app/controllers/carts_controller.rb:57:in `destroy'
  [1m[35m (62.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/carts_controller.rb:57:in `destroy'
Redirected to http://localhost:3000/
Completed 302 Found in 95ms (ActiveRecord: 64.8ms | Allocations: 6692)


Started GET "/" for ::1 at 2020-07-08 16:47:27 +0700
Processing by StoreController#index as HTML
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[36mCart Create (1.9ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2020-07-08 09:47:27.268058"], ["updated_at", "2020-07-08 09:47:27.268058"]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[35m (70.6ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 18.3ms | Allocations: 3199)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 38]]
  ↳ app/views/carts/_cart.html.erb:7
  Rendered collection of templates [0 times] (Duration: 0.1ms | Allocations: 3)
  Rendered carts/_cart.html.erb (Duration: 8.8ms | Allocations: 1108)
Completed 200 OK in 133ms (Views: 39.5ms | ActiveRecord: 73.4ms | Allocations: 12058)


Started POST "/line_items?product_id=4" for ::1 at 2020-07-08 16:47:28 +0700
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"Y9PhRYj6ni3aOqs7/5BiQTkNu/ftLBzWaOal84134XZ0hSAnMWsX8C8O+lacEYlV2TdJ/iKZrbDpLCHa04VdxA==", "product_id"=>"4"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 38], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 38], ["product_id", 4], ["LIMIT", 1]]
  ↳ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mLineItem Create (0.5ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 4], ["cart_id", 38], ["created_at", "2020-07-08 09:47:28.672014"], ["updated_at", "2020-07-08 09:47:28.672014"]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[35m (933.6ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 38]]
  ↳ app/views/carts/_cart.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 1.7ms | Allocations: 134)
  Rendered carts/_cart.html.erb (Duration: 9.9ms | Allocations: 1425)
  Rendered line_items/create.js.erb (Duration: 13.3ms | Allocations: 1769)
Completed 200 OK in 984ms (Views: 19.0ms | ActiveRecord: 935.7ms | Allocations: 9914)


Started POST "/line_items?product_id=4" for ::1 at 2020-07-08 16:47:30 +0700
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"Y9PhRYj6ni3aOqs7/5BiQTkNu/ftLBzWaOal84134XZ0hSAnMWsX8C8O+lacEYlV2TdJ/iKZrbDpLCHa04VdxA==", "product_id"=>"4"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 38], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 38], ["product_id", 4], ["LIMIT", 1]]
  ↳ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mLineItem Update (0.7ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 2], ["updated_at", "2020-07-08 09:47:30.604600"], ["id", 56]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[35m (583.8ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 38]]
  ↳ app/views/carts/_cart.html.erb:7
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:8
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 6.0ms | Allocations: 898)
  Rendered carts/_cart.html.erb (Duration: 11.7ms | Allocations: 2000)
  Rendered line_items/create.js.erb (Duration: 13.2ms | Allocations: 2146)
Completed 200 OK in 632ms (Views: 14.0ms | ActiveRecord: 586.7ms | Allocations: 9064)


Started POST "/line_items?product_id=5" for ::1 at 2020-07-08 16:47:32 +0700
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"Y9PhRYj6ni3aOqs7/5BiQTkNu/ftLBzWaOal84134XZ0hSAnMWsX8C8O+lacEYlV2TdJ/iKZrbDpLCHa04VdxA==", "product_id"=>"5"}
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 38], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 38], ["product_id", 5], ["LIMIT", 1]]
  ↳ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mLineItem Create (0.6ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 5], ["cart_id", 38], ["created_at", "2020-07-08 09:47:32.123644"], ["updated_at", "2020-07-08 09:47:32.123644"]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[35m (774.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 38]]
  ↳ app/views/carts/_cart.html.erb:7
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:8
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 5.4ms | Allocations: 1027)
  Rendered carts/_cart.html.erb (Duration: 12.3ms | Allocations: 2219)
  Rendered line_items/create.js.erb (Duration: 14.0ms | Allocations: 2379)
Completed 200 OK in 821ms (Views: 15.4ms | ActiveRecord: 777.1ms | Allocations: 9373)


Started POST "/line_items?product_id=6" for ::1 at 2020-07-08 16:47:34 +0700
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"Y9PhRYj6ni3aOqs7/5BiQTkNu/ftLBzWaOal84134XZ0hSAnMWsX8C8O+lacEYlV2TdJ/iKZrbDpLCHa04VdxA==", "product_id"=>"6"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 38], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 38], ["product_id", 6], ["LIMIT", 1]]
  ↳ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mLineItem Create (0.8ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 6], ["cart_id", 38], ["created_at", "2020-07-08 09:47:34.700570"], ["updated_at", "2020-07-08 09:47:34.700570"]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[35m (69.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 38]]
  ↳ app/views/carts/_cart.html.erb:7
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:8
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:8
  Rendered collection of line_items/_line_item.html.erb [3 times] (Duration: 14.1ms | Allocations: 1923)
  Rendered carts/_cart.html.erb (Duration: 23.7ms | Allocations: 3138)
  Rendered line_items/create.js.erb (Duration: 25.4ms | Allocations: 3459)
Completed 200 OK in 132ms (Views: 26.1ms | ActiveRecord: 72.8ms | Allocations: 10379)


Started DELETE "/carts/38" for ::1 at 2020-07-08 16:47:43 +0700
Processing by CartsController#destroy as HTML
  Parameters: {"authenticity_token"=>"oKsP72ov4inhc9A9E8FvmiFnmzwE5YLlImLH7PEh7mZ2QdW0YgmCx45srcfaU8BhKt2wgHUbulMHFHHWedtMeA==", "id"=>"38"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 38], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:68:in `set_cart'
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/carts_controller.rb:57:in `destroy'
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 38]]
  ↳ app/controllers/carts_controller.rb:57:in `destroy'
  [1m[36mLineItem Destroy (1.5ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 56]]
  ↳ app/controllers/carts_controller.rb:57:in `destroy'
  [1m[36mLineItem Destroy (0.7ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 57]]
  ↳ app/controllers/carts_controller.rb:57:in `destroy'
  [1m[36mLineItem Destroy (0.2ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 58]]
  ↳ app/controllers/carts_controller.rb:57:in `destroy'
  [1m[36mCart Destroy (0.9ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 38]]
  ↳ app/controllers/carts_controller.rb:57:in `destroy'
  [1m[35m (226.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/carts_controller.rb:57:in `destroy'
Redirected to http://localhost:3000/
Completed 302 Found in 266ms (ActiveRecord: 230.3ms | Allocations: 7738)


Started GET "/" for ::1 at 2020-07-08 16:47:44 +0700
Processing by StoreController#index as HTML
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[36mCart Create (0.7ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2020-07-08 09:47:44.143974"], ["updated_at", "2020-07-08 09:47:44.143974"]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[35m (98.7ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 23.8ms | Allocations: 3203)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 39]]
  ↳ app/views/carts/_cart.html.erb:7
  Rendered collection of templates [0 times] (Duration: 0.1ms | Allocations: 3)
  Rendered carts/_cart.html.erb (Duration: 8.7ms | Allocations: 1112)
Completed 200 OK in 174ms (Views: 53.8ms | ActiveRecord: 100.5ms | Allocations: 11907)


Started GET "/" for ::1 at 2020-07-08 16:53:05 +0700
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 39], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 23.8ms | Allocations: 3212)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 39]]
  ↳ app/views/carts/_cart.html.erb:7
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered carts/_cart.html.erb (Duration: 6.9ms | Allocations: 1121)
Completed 200 OK in 56ms (Views: 47.4ms | ActiveRecord: 1.5ms | Allocations: 8814)


Started POST "/line_items?product_id=4" for ::1 at 2020-07-08 16:53:06 +0700
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"ad5RA0s+YQHfygEYgYIhlT+NT9N7MDS7moweZyfxQBV+iJBh8q/o3Cr+UHXiA8qB37e92rSFhd0bRppOeQP8pw==", "product_id"=>"4"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 39], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 39], ["product_id", 4], ["LIMIT", 1]]
  ↳ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mLineItem Create (0.5ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 4], ["cart_id", 39], ["created_at", "2020-07-08 09:53:06.645312"], ["updated_at", "2020-07-08 09:53:06.645312"]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[35m (100.8ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 39]]
  ↳ app/views/carts/_cart.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 1.2ms | Allocations: 134)
  Rendered carts/_cart.html.erb (Duration: 7.6ms | Allocations: 1302)
  Rendered line_items/create.js.erb (Duration: 8.6ms | Allocations: 1448)
Completed 200 OK in 138ms (Views: 9.7ms | ActiveRecord: 103.4ms | Allocations: 8544)


Started GET "/" for ::1 at 2020-07-08 16:59:02 +0700
  [1m[35m (0.4ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.8ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 39], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 20.8ms | Allocations: 3518)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 39], ["LIMIT", 1]]
  ↳ app/views/carts/_cart.html.erb:5
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 39]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:8
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 8.1ms | Allocations: 1069)
  Rendered carts/_cart.html.erb (Duration: 27.9ms | Allocations: 3382)
Completed 200 OK in 205ms (Views: 192.6ms | ActiveRecord: 2.7ms | Allocations: 12528)


Started DELETE "/carts/39" for ::1 at 2020-07-08 16:59:06 +0700
Processing by CartsController#destroy as HTML
  Parameters: {"authenticity_token"=>"6HevZkmbhubUyfDoxqpE3UWUwM5MaToEWGncsIhCAYz/IW4E8AoPOyH9oYWlK6/Jpa4yx4Pci2LZo1iZ1rC9Pg==", "id"=>"39"}
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 39], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:68:in `set_cart'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/carts_controller.rb:57:in `destroy'
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 39]]
  ↳ app/controllers/carts_controller.rb:57:in `destroy'
  [1m[36mLineItem Destroy (0.5ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 59]]
  ↳ app/controllers/carts_controller.rb:57:in `destroy'
  [1m[36mCart Destroy (0.9ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 39]]
  ↳ app/controllers/carts_controller.rb:57:in `destroy'
  [1m[35m (161.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/carts_controller.rb:57:in `destroy'
Redirected to http://localhost:3000/
Completed 302 Found in 198ms (ActiveRecord: 163.2ms | Allocations: 5792)


Started GET "/" for ::1 at 2020-07-08 16:59:06 +0700
Processing by StoreController#index as HTML
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[36mCart Create (1.5ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2020-07-08 09:59:06.771418"], ["updated_at", "2020-07-08 09:59:06.771418"]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[35m (1790.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.9ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 28.2ms | Allocations: 3199)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 40], ["LIMIT", 1]]
  ↳ app/views/carts/_cart.html.erb:5
  Rendered carts/_cart.html.erb (Duration: 5.2ms | Allocations: 797)
Completed 200 OK in 1877ms (Views: 61.6ms | ActiveRecord: 1793.5ms | Allocations: 11598)


Started GET "/" for ::1 at 2020-07-08 16:59:10 +0700
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 40], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 52.0ms | Allocations: 3191)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 40], ["LIMIT", 1]]
  ↳ app/views/carts/_cart.html.erb:5
  Rendered carts/_cart.html.erb (Duration: 6.9ms | Allocations: 792)
Completed 200 OK in 101ms (Views: 91.7ms | ActiveRecord: 1.7ms | Allocations: 8467)


Started GET "/" for ::1 at 2020-07-08 16:59:12 +0700
Processing by StoreController#index as HTML
  [1m[36mCart Load (1.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 40], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 36.2ms | Allocations: 3191)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 40], ["LIMIT", 1]]
  ↳ app/views/carts/_cart.html.erb:5
  Rendered carts/_cart.html.erb (Duration: 6.2ms | Allocations: 792)
Completed 200 OK in 73ms (Views: 65.3ms | ActiveRecord: 1.9ms | Allocations: 8453)


Started GET "/" for ::1 at 2020-07-08 17:04:41 +0700
  [1m[35m (0.8ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (7.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 40], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 1664.9ms | Allocations: 23659)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 40], ["LIMIT", 1]]
  ↳ app/views/carts/_cart.html.erb:5
  Rendered carts/_cart.html.erb (Duration: 59.2ms | Allocations: 4193)
Completed 200 OK in 1882ms (Views: 1777.0ms | ActiveRecord: 5.6ms | Allocations: 39715)


Started POST "/line_items?product_id=4" for ::1 at 2020-07-08 17:04:45 +0700
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"F11ng+L4idzxmkNQ9GczvZN6aPzuxy7tNq3sHx3dSrMAC6bhW2kAAQSuEj2X5tipc0Ca9SFyn4u3Z2g2Qy/2AQ==", "product_id"=>"4"}
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 40], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.8ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 40], ["product_id", 4], ["LIMIT", 1]]
  ↳ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mLineItem Create (0.8ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 4], ["cart_id", 40], ["created_at", "2020-07-08 10:04:45.497134"], ["updated_at", "2020-07-08 10:04:45.497134"]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[35m (84.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 40]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 1.5ms | Allocations: 304)
  Rendered carts/_cart.html.erb (Duration: 14.0ms | Allocations: 1905)
  Rendered line_items/create.js.erb (Duration: 16.8ms | Allocations: 2258)
Completed 200 OK in 166ms (Views: 25.1ms | ActiveRecord: 87.9ms | Allocations: 15180)


Started POST "/line_items?product_id=5" for ::1 at 2020-07-08 17:04:47 +0700
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"F11ng+L4idzxmkNQ9GczvZN6aPzuxy7tNq3sHx3dSrMAC6bhW2kAAQSuEj2X5tipc0Ca9SFyn4u3Z2g2Qy/2AQ==", "product_id"=>"5"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 40], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 40], ["product_id", 5], ["LIMIT", 1]]
  ↳ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mLineItem Create (1.8ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 5], ["cart_id", 40], ["created_at", "2020-07-08 10:04:47.070979"], ["updated_at", "2020-07-08 10:04:47.070979"]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[35m (899.7ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 40]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:8
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 7.8ms | Allocations: 1027)
  Rendered carts/_cart.html.erb (Duration: 14.8ms | Allocations: 2221)
  Rendered line_items/create.js.erb (Duration: 16.3ms | Allocations: 2382)
Completed 200 OK in 949ms (Views: 17.9ms | ActiveRecord: 903.4ms | Allocations: 9401)


Started POST "/line_items?product_id=4" for ::1 at 2020-07-08 17:04:49 +0700
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"F11ng+L4idzxmkNQ9GczvZN6aPzuxy7tNq3sHx3dSrMAC6bhW2kAAQSuEj2X5tipc0Ca9SFyn4u3Z2g2Qy/2AQ==", "product_id"=>"4"}
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 40], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 40], ["product_id", 4], ["LIMIT", 1]]
  ↳ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mLineItem Update (0.3ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 2], ["updated_at", "2020-07-08 10:04:49.398989"], ["id", 60]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[35m (609.7ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  Rendering line_items/create.js.erb
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 40], ["LIMIT", 1]]
  ↳ app/views/carts/_cart.html.erb:5
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 40]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:8
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:8
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 4.3ms | Allocations: 1795)
  Rendered carts/_cart.html.erb (Duration: 20.7ms | Allocations: 3621)
  Rendered line_items/create.js.erb (Duration: 21.2ms | Allocations: 3782)
Completed 200 OK in 655ms (Views: 21.2ms | ActiveRecord: 612.1ms | Allocations: 10744)


Started DELETE "/carts/40" for ::1 at 2020-07-08 17:04:52 +0700
Processing by CartsController#destroy as HTML
  Parameters: {"authenticity_token"=>"OAiq/ayv/qruAcpIDuxThnFkFuaatkpS6vprlaBLhuZIkBnHOzzKJit9ObvDaTuauwdGBDidjClbJbrG9u3TIA==", "id"=>"40"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 40], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:68:in `set_cart'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/carts_controller.rb:57:in `destroy'
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 40]]
  ↳ app/controllers/carts_controller.rb:57:in `destroy'
  [1m[36mLineItem Destroy (1.0ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 60]]
  ↳ app/controllers/carts_controller.rb:57:in `destroy'
  [1m[36mLineItem Destroy (0.6ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 61]]
  ↳ app/controllers/carts_controller.rb:57:in `destroy'
  [1m[36mCart Destroy (0.4ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 40]]
  ↳ app/controllers/carts_controller.rb:57:in `destroy'
  [1m[35m (153.6ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/carts_controller.rb:57:in `destroy'
Redirected to http://localhost:3000/
Completed 302 Found in 184ms (ActiveRecord: 156.0ms | Allocations: 6884)


Started GET "/" for ::1 at 2020-07-08 17:04:53 +0700
Processing by StoreController#index as HTML
  [1m[35m (0.4ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[36mCart Create (1.1ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2020-07-08 10:04:53.020373"], ["updated_at", "2020-07-08 10:04:53.020373"]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[35m (68.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.8ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 23.2ms | Allocations: 3212)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 41], ["LIMIT", 1]]
  ↳ app/views/carts/_cart.html.erb:5
  Rendered carts/_cart.html.erb (Duration: 6.4ms | Allocations: 796)
Completed 200 OK in 151ms (Views: 54.5ms | ActiveRecord: 71.0ms | Allocations: 11713)


Started GET "/" for ::1 at 2020-07-08 17:05:16 +0700
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 41], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 18.4ms | Allocations: 3193)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 41], ["LIMIT", 1]]
  ↳ app/views/carts/_cart.html.erb:5
  Rendered carts/_cart.html.erb (Duration: 3.5ms | Allocations: 792)
Completed 200 OK in 35ms (Views: 29.0ms | ActiveRecord: 0.9ms | Allocations: 8462)


Started GET "/products" for ::1 at 2020-07-08 17:06:31 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:12
  Rendered products/index.html.erb within layouts/application (Duration: 42.1ms | Allocations: 3292)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 70ms (Views: 67.2ms | ActiveRecord: 0.3ms | Allocations: 7757)


Started GET "/products/4/edit" for ::1 at 2020-07-08 17:06:35 +0700
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"4"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:67:in `set_product'
  Rendering products/edit.html.erb within layouts/application
  Rendered products/_form.html.erb (Duration: 242.4ms | Allocations: 2154)
  Rendered products/edit.html.erb within layouts/application (Duration: 343.9ms | Allocations: 2536)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 361ms (Views: 358.6ms | ActiveRecord: 0.1ms | Allocations: 7176)


Started PATCH "/products/4" for ::1 at 2020-07-08 17:06:50 +0700
Processing by ProductsController#update as HTML
  Parameters: {"authenticity_token"=>"5TkAZTTvLQAALRqyoIiDhh9mv7JUULnYMne4DFp/rVuehV1fRA0XubBW75aDXMTlyBBU0Ve/HWNNLMk4I7XiJA==", "product"=>{"title"=>"Điện Thoại Samsung Galaxy Note 10 Lite (128GB/8GB)", "description"=>"Chính hãng, nguyên seal, mới 100%, chưa Active\r\nMàn hình: AMOLED, 6.39\", Full HD+\r\nHệ điều hành: Android 9.0 (Pie)\r\nCamera sau: Chính 48 MP & Phụ 8 MP, 2 MP\r\nCamera trước: 16 MP\r\nCPU: MediaTek Helio P60 8 nhân\r\nRAM: Tùy chọn 6GB/4GB\r\nBộ nhớ trong: 64 GB\r\nThẻ nhớ: MicroSD, hỗ trợ tối đa 256 GB\r\nThẻ SIM: 2 SIM Nano (SIM 2 chung khe thẻ nhớ), Hỗ trợ 4G\r\nDung lượng pin: 4020 mAh, có sạc nhanh", "image_url"=>"7apps.jpg", "price"=>"12999000.0"}, "commit"=>"Update Product", "id"=>"4"}
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:67:in `set_product'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/products_controller.rb:44:in `block in update'
  [1m[36mProduct Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "products" WHERE "products"."title" = ? AND "products"."id" != ? LIMIT ?[0m  [["title", "Điện Thoại Samsung Galaxy Note 10 Lite (128GB/8GB)"], ["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:44:in `block in update'
  [1m[36mProduct Update (0.8ms)[0m  [1m[33mUPDATE "products" SET "title" = ?, "updated_at" = ? WHERE "products"."id" = ?[0m  [["title", "Điện Thoại Samsung Galaxy Note 10 Lite (128GB/8GB)"], ["updated_at", "2020-07-08 10:06:50.895745"], ["id", 4]]
  ↳ app/controllers/products_controller.rb:44:in `block in update'
  [1m[35m (254.6ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/products_controller.rb:44:in `block in update'
Redirected to http://localhost:3000/products/4
Completed 302 Found in 273ms (ActiveRecord: 256.0ms | Allocations: 5971)


Started GET "/products/4" for ::1 at 2020-07-08 17:06:51 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mProduct Load (0.9ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:67:in `set_product'
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (Duration: 34.7ms | Allocations: 307)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 60ms (Views: 52.6ms | ActiveRecord: 0.9ms | Allocations: 4967)


Started GET "/products" for ::1 at 2020-07-08 17:06:52 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products"[0m
  ↳ app/views/products/index.html.erb:12
  Rendered products/index.html.erb within layouts/application (Duration: 19.0ms | Allocations: 2856)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 38ms (Views: 35.8ms | ActiveRecord: 0.3ms | Allocations: 6708)


Started GET "/" for ::1 at 2020-07-08 17:06:56 +0700
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 41], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 21.0ms | Allocations: 3197)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 41], ["LIMIT", 1]]
  ↳ app/views/carts/_cart.html.erb:5
  Rendered carts/_cart.html.erb (Duration: 3.1ms | Allocations: 792)
Completed 200 OK in 49ms (Views: 42.8ms | ActiveRecord: 1.0ms | Allocations: 8455)


Started POST "/line_items?product_id=5" for ::1 at 2020-07-08 17:07:03 +0700
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"BGdxe5KILZ+mr2O3GLEIgewV2xPb3O1wUMl/X9U1V2drZ6//PN/L57z7DeNgOkOFCS4S7eAXn8M9+OMIGINFYQ==", "product_id"=>"5"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 41], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 41], ["product_id", 5], ["LIMIT", 1]]
  ↳ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mLineItem Create (0.4ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 5], ["cart_id", 41], ["created_at", "2020-07-08 10:07:03.596974"], ["updated_at", "2020-07-08 10:07:03.596974"]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[35m (175.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 41]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 0.9ms | Allocations: 134)
  Rendered carts/_cart.html.erb (Duration: 7.6ms | Allocations: 1312)
  Rendered line_items/create.js.erb (Duration: 8.9ms | Allocations: 1458)
Completed 200 OK in 230ms (Views: 10.6ms | ActiveRecord: 177.1ms | Allocations: 8479)


Started POST "/line_items?product_id=4" for ::1 at 2020-07-08 17:07:06 +0700
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"PEXrCsJJwgaP3qyjKCAcMZme+98dgL5Tfp3T4J24DjpTRTWObB4kfpWKwvdQq1c1fKUyISZLzOATrE+3UA4cPA==", "product_id"=>"4"}
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 41], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 41], ["product_id", 4], ["LIMIT", 1]]
  ↳ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mLineItem Create (0.4ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 4], ["cart_id", 41], ["created_at", "2020-07-08 10:07:06.435851"], ["updated_at", "2020-07-08 10:07:06.435851"]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[35m (1325.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 41]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:8
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 6.4ms | Allocations: 1027)
  Rendered carts/_cart.html.erb (Duration: 14.5ms | Allocations: 2220)
  Rendered line_items/create.js.erb (Duration: 15.6ms | Allocations: 2380)
Completed 200 OK in 1373ms (Views: 16.3ms | ActiveRecord: 1328.0ms | Allocations: 9402)


Started GET "/" for ::1 at 2020-07-08 17:07:10 +0700
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 41], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 12.3ms | Allocations: 3205)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 41], ["LIMIT", 1]]
  ↳ app/views/carts/_cart.html.erb:5
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 41]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:8
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:8
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 16.7ms | Allocations: 1779)
  Rendered carts/_cart.html.erb (Duration: 32.4ms | Allocations: 3785)
Completed 200 OK in 64ms (Views: 58.0ms | ActiveRecord: 2.4ms | Allocations: 11472)


Started DELETE "/carts/41" for ::1 at 2020-07-08 17:07:12 +0700
Processing by CartsController#destroy as HTML
  Parameters: {"authenticity_token"=>"rq71LulDyc6xwtabmFmgWnvkO7iYBlfFk3aANPKZ/Da5+DRMUNJAE0T2h/b72EtOm97JsVez5qMSvAQdrGtAhA==", "id"=>"41"}
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 41], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:68:in `set_cart'
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/carts_controller.rb:57:in `destroy'
  [1m[36mLineItem Load (1.0ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 41]]
  ↳ app/controllers/carts_controller.rb:57:in `destroy'
  [1m[36mLineItem Destroy (1.0ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 62]]
  ↳ app/controllers/carts_controller.rb:57:in `destroy'
  [1m[36mLineItem Destroy (0.8ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 63]]
  ↳ app/controllers/carts_controller.rb:57:in `destroy'
  [1m[36mCart Destroy (1.1ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 41]]
  ↳ app/controllers/carts_controller.rb:57:in `destroy'
  [1m[35m (1333.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/carts_controller.rb:57:in `destroy'
Redirected to http://localhost:3000/
Completed 302 Found in 1374ms (ActiveRecord: 1338.4ms | Allocations: 6753)


Started GET "/" for ::1 at 2020-07-08 17:07:14 +0700
Processing by StoreController#index as HTML
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[36mCart Create (0.4ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2020-07-08 10:07:14.301228"], ["updated_at", "2020-07-08 10:07:14.301228"]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[35m (637.7ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 25.1ms | Allocations: 3203)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 42], ["LIMIT", 1]]
  ↳ app/views/carts/_cart.html.erb:5
  Rendered carts/_cart.html.erb (Duration: 4.3ms | Allocations: 796)
Completed 200 OK in 701ms (Views: 49.1ms | ActiveRecord: 639.0ms | Allocations: 11606)


Started GET "/" for ::1 at 2020-07-08 17:18:34 +0700
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 42], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (1.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 85.2ms | Allocations: 6785)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 42], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:16
Completed 200 OK in 148ms (Views: 118.5ms | ActiveRecord: 2.2ms | Allocations: 17737)


Started POST "/line_items?product_id=5" for ::1 at 2020-07-08 17:18:38 +0700
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"k4LWDQFEwFKMVr10AnbuqQUXdIki/v/jDsPxKXtt1byE1BdvuNVJj3li7Blh9wW95S2GgO1LToWPCXUAJZ9pDg==", "product_id"=>"5"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 42], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 42], ["product_id", 5], ["LIMIT", 1]]
  ↳ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mLineItem Create (1.2ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 5], ["cart_id", 42], ["created_at", "2020-07-08 10:18:38.426504"], ["updated_at", "2020-07-08 10:18:38.426504"]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[35m (70.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.7ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 42]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 2.8ms | Allocations: 295)
  Rendered carts/_cart.html.erb (Duration: 17.6ms | Allocations: 2070)
  Rendered line_items/create.js.erb (Duration: 22.0ms | Allocations: 2604)
Completed 200 OK in 170ms (Views: 27.3ms | ActiveRecord: 74.8ms | Allocations: 14816)


Started DELETE "/carts/42" for ::1 at 2020-07-08 17:18:46 +0700
Processing by CartsController#destroy as HTML
  Parameters: {"authenticity_token"=>"dvEetTP+KzOlxMEtnaLQd9szku3iwCxJli+DxqbShTFS6WjN3GW+enDij34WhF3KGDnIGSIoSxOqtl7B2f/+9A==", "id"=>"42"}
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 42], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:68:in `set_cart'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/carts_controller.rb:57:in `destroy'
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 42]]
  ↳ app/controllers/carts_controller.rb:57:in `destroy'
  [1m[36mLineItem Destroy (0.6ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 64]]
  ↳ app/controllers/carts_controller.rb:57:in `destroy'
  [1m[36mCart Destroy (1.0ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 42]]
  ↳ app/controllers/carts_controller.rb:57:in `destroy'
  [1m[35m (230.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/carts_controller.rb:57:in `destroy'
Redirected to http://localhost:3000/
Completed 302 Found in 265ms (ActiveRecord: 232.9ms | Allocations: 5907)


Started GET "/" for ::1 at 2020-07-08 17:18:46 +0700
Processing by StoreController#index as HTML
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[36mCart Create (2.2ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2020-07-08 10:18:46.628872"], ["updated_at", "2020-07-08 10:18:46.628872"]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[35m (64.7ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 25.5ms | Allocations: 3212)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 43], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:16
Completed 200 OK in 146ms (Views: 53.5ms | ActiveRecord: 68.2ms | Allocations: 11595)


Started GET "/" for ::1 at 2020-07-08 17:24:39 +0700
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 43], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 20.8ms | Allocations: 3191)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 43], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:16
Completed 200 OK in 54ms (Views: 46.2ms | ActiveRecord: 1.5ms | Allocations: 8371)


Started POST "/line_items?product_id=5" for ::1 at 2020-07-08 17:24:41 +0700
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"LmiM1EaO6bxayt1vBKGPBP3ROU3M3XFQ8MCxnBeQRHk5Pk22/x9gYa/+jAJnIGQQHevLRANowDZxCjW1SWL4yw==", "product_id"=>"5"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 43], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 43], ["product_id", 5], ["LIMIT", 1]]
  ↳ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mLineItem Create (0.8ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 5], ["cart_id", 43], ["created_at", "2020-07-08 10:24:41.796603"], ["updated_at", "2020-07-08 10:24:41.796603"]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[35m (192.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 43]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 1.0ms | Allocations: 134)
  Rendered carts/_cart.html.erb (Duration: 7.5ms | Allocations: 1304)
  Rendered line_items/create.js.erb (Duration: 8.6ms | Allocations: 1450)
Completed 200 OK in 235ms (Views: 9.8ms | ActiveRecord: 194.6ms | Allocations: 8445)


Started POST "/line_items?product_id=6" for ::1 at 2020-07-08 17:24:47 +0700
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"LmiM1EaO6bxayt1vBKGPBP3ROU3M3XFQ8MCxnBeQRHk5Pk22/x9gYa/+jAJnIGQQHevLRANowDZxCjW1SWL4yw==", "product_id"=>"6"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 43], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 43], ["product_id", 6], ["LIMIT", 1]]
  ↳ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mLineItem Create (1.1ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 6], ["cart_id", 43], ["created_at", "2020-07-08 10:24:47.165715"], ["updated_at", "2020-07-08 10:24:47.165715"]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[35m (71.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 43]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:8
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 6.1ms | Allocations: 1027)
  Rendered carts/_cart.html.erb (Duration: 12.9ms | Allocations: 2220)
  Rendered line_items/create.js.erb (Duration: 13.9ms | Allocations: 2380)
Completed 200 OK in 120ms (Views: 14.7ms | ActiveRecord: 74.3ms | Allocations: 9296)


Started GET "/" for ::1 at 2020-07-09 13:53:32 +0700
Started GET "/" for ::1 at 2020-07-09 13:53:32 +0700
  [1m[35m (25.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by StoreController#index as HTML
Processing by StoreController#index as HTML
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[36mCart Create (128.4ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2020-07-09 06:53:32.925059"], ["updated_at", "2020-07-09 06:53:32.925059"]]
  [1m[36mCart Create (5018.1ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2020-07-09 06:53:32.928951"], ["updated_at", "2020-07-09 06:53:32.928951"]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[35m (167.6ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.4ms)[0m  [1m[31mrollback transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
Completed 500 Internal Server Error in 5379ms (ActiveRecord: 5018.6ms | Allocations: 8215)


  
ActiveRecord::StatementInvalid (SQLite3::BusyException: database is locked):
  
app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
app/controllers/concerns/current_cart.rb:3:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (30.8ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 1586.9ms | Allocations: 38423)
[Webpacker] Compiling...
[Webpacker] Compiled all packs in /home/khanh/Desktop/depot/public/packs
[Webpacker] Hash: ae85fbe0b2c55d650b62
Version: webpack 4.43.0
Time: 6089ms
Built at: 07/09/2020 1:54:02 PM
                                     Asset       Size       Chunks                         Chunk Names
    js/application-905c52a249d94cf131d6.js    146 KiB  application  [emitted] [immutable]  application
js/application-905c52a249d94cf131d6.js.map    164 KiB  application  [emitted] [dev]        application
                             manifest.json  364 bytes               [emitted]              
Entrypoint application = js/application-905c52a249d94cf131d6.js js/application-905c52a249d94cf131d6.js.map
[./app/javascript/channels sync recursive _channel\.js$] ./app/javascript/channels sync _channel\.js$ 186 bytes {application} [built]
[./app/javascript/channels/consumer.js] 265 bytes {application} [built]
[./app/javascript/channels/index.js] 211 bytes {application} [built]
[./app/javascript/channels/products_channel.js] 416 bytes {application} [optional] [built]
[./app/javascript/packs/application.js] 749 bytes {application} [built]
[./node_modules/webpack/buildin/module.js] (webpack)/buildin/module.js 552 bytes {application} [built]
    + 4 hidden modules

  [1m[36mLineItem Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 44], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:16
Completed 200 OK in 29930ms (Views: 24297.3ms | ActiveRecord: 332.9ms | Allocations: 535654)


Started GET "/cable" for ::1 at 2020-07-09 13:54:03 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-09 13:54:04 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/" for ::1 at 2020-07-09 14:03:57 +0700
  [1m[35m (0.4ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by StoreController#index as HTML
  [1m[36mCart Load (25.0ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 44], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (12.7ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 422.3ms | Allocations: 6487)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (24.1ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 44], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:16
Completed 200 OK in 825ms (Views: 600.3ms | ActiveRecord: 61.8ms | Allocations: 16643)


Started GET "/cable" for ::1 at 2020-07-09 14:04:00 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-09 14:04:01 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started POST "/line_items?product_id=4" for ::1 at 2020-07-09 14:04:04 +0700
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"gQ+ZNI7vR3d3h63PlIOVwzsO4TxTvcZiDpphl7JbOIKGrlNpuNaJ9mE8vJTZttVZd8YqaFQ7I7fWVGCWf32SIA==", "product_id"=>"4"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 44], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 44], ["product_id", 4], ["LIMIT", 1]]
  ↳ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mLineItem Create (141.0ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 4], ["cart_id", 44], ["created_at", "2020-07-09 07:04:04.598677"], ["updated_at", "2020-07-09 07:04:04.598677"]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[35m (74.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 44]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 13.1ms | Allocations: 304)
  Rendered carts/_cart.html.erb (Duration: 39.4ms | Allocations: 2110)
  Rendered line_items/create.js.erb (Duration: 64.9ms | Allocations: 2658)
Completed 200 OK in 455ms (Views: 71.2ms | ActiveRecord: 218.9ms | Allocations: 15445)


Started POST "/line_items?product_id=5" for ::1 at 2020-07-09 14:04:07 +0700
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"gQ+ZNI7vR3d3h63PlIOVwzsO4TxTvcZiDpphl7JbOIKGrlNpuNaJ9mE8vJTZttVZd8YqaFQ7I7fWVGCWf32SIA==", "product_id"=>"5"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 44], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 44], ["product_id", 5], ["LIMIT", 1]]
  ↳ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mLineItem Create (0.5ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 5], ["cart_id", 44], ["created_at", "2020-07-09 07:04:07.564059"], ["updated_at", "2020-07-09 07:04:07.564059"]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[35m (69.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 44]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:8
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 5.4ms | Allocations: 1027)
  Rendered carts/_cart.html.erb (Duration: 12.7ms | Allocations: 2221)
  Rendered line_items/create.js.erb (Duration: 13.7ms | Allocations: 2381)
Completed 200 OK in 115ms (Views: 14.9ms | ActiveRecord: 71.6ms | Allocations: 9293)


Started POST "/line_items?product_id=6" for ::1 at 2020-07-09 14:04:09 +0700
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"gQ+ZNI7vR3d3h63PlIOVwzsO4TxTvcZiDpphl7JbOIKGrlNpuNaJ9mE8vJTZttVZd8YqaFQ7I7fWVGCWf32SIA==", "product_id"=>"6"}
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 44], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 44], ["product_id", 6], ["LIMIT", 1]]
  ↳ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mLineItem Create (0.4ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 6], ["cart_id", 44], ["created_at", "2020-07-09 07:04:09.520532"], ["updated_at", "2020-07-09 07:04:09.520532"]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[35m (197.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 44]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:8
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:8
  Rendered collection of line_items/_line_item.html.erb [3 times] (Duration: 9.4ms | Allocations: 1923)
  Rendered carts/_cart.html.erb (Duration: 15.7ms | Allocations: 3139)
  Rendered line_items/create.js.erb (Duration: 16.5ms | Allocations: 3314)
Completed 200 OK in 239ms (Views: 16.9ms | ActiveRecord: 199.8ms | Allocations: 10321)


Started POST "/line_items?product_id=4" for ::1 at 2020-07-09 14:04:11 +0700
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"gQ+ZNI7vR3d3h63PlIOVwzsO4TxTvcZiDpphl7JbOIKGrlNpuNaJ9mE8vJTZttVZd8YqaFQ7I7fWVGCWf32SIA==", "product_id"=>"4"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 44], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 44], ["product_id", 4], ["LIMIT", 1]]
  ↳ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mLineItem Update (0.6ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 2], ["updated_at", "2020-07-09 07:04:11.394815"], ["id", 67]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[35m (106.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  Rendering line_items/create.js.erb
  [1m[36mLineItem Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 44], ["LIMIT", 1]]
  ↳ app/views/carts/_cart.html.erb:5
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 44]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:8
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:8
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:8
  Rendered collection of line_items/_line_item.html.erb [3 times] (Duration: 13.0ms | Allocations: 2692)
  Rendered carts/_cart.html.erb (Duration: 22.2ms | Allocations: 4540)
  Rendered line_items/create.js.erb (Duration: 22.9ms | Allocations: 4715)
Completed 200 OK in 162ms (Views: 22.5ms | ActiveRecord: 109.8ms | Allocations: 11690)


Started DELETE "/carts/44" for ::1 at 2020-07-09 14:04:48 +0700
Processing by CartsController#destroy as HTML
  Parameters: {"authenticity_token"=>"2fG/MQlRQ93xchl1QwOVf3Gr6Q2R9eV3TaJzIUWbPy9Wor7sOXDt4fuTw2PdIPOAJ8aDW5sF7qP7vUkS8gifyg==", "id"=>"44"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 44], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:68:in `set_cart'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/carts_controller.rb:57:in `destroy'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 44]]
  ↳ app/controllers/carts_controller.rb:57:in `destroy'
  [1m[36mLineItem Destroy (0.3ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 67]]
  ↳ app/controllers/carts_controller.rb:57:in `destroy'
  [1m[36mLineItem Destroy (0.1ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 68]]
  ↳ app/controllers/carts_controller.rb:57:in `destroy'
  [1m[36mLineItem Destroy (0.1ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 69]]
  ↳ app/controllers/carts_controller.rb:57:in `destroy'
  [1m[36mCart Destroy (0.2ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 44]]
  ↳ app/controllers/carts_controller.rb:57:in `destroy'
  [1m[35m (210.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/carts_controller.rb:57:in `destroy'
Redirected to http://localhost:3000/
Completed 302 Found in 229ms (ActiveRecord: 211.4ms | Allocations: 7849)


Started GET "/" for ::1 at 2020-07-09 14:04:48 +0700
Processing by StoreController#index as HTML
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[36mCart Create (0.7ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2020-07-09 07:04:48.809734"], ["updated_at", "2020-07-09 07:04:48.809734"]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[35m (102.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 24.1ms | Allocations: 3215)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 45], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:16
Completed 200 OK in 166ms (Views: 45.4ms | ActiveRecord: 103.8ms | Allocations: 11640)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-09 14:04:48 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-09 14:04:49 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-09 14:04:49 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for ::1 at 2020-07-09 14:07:30 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-09 14:07:34 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-09 14:07:35 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/" for ::1 at 2020-07-09 14:26:53 +0700
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by StoreController#index as HTML
  [1m[36mCart Load (20.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 45], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (27.6ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 275.5ms | Allocations: 3225)
[Webpacker] Compiling...
[Webpacker] Compiled all packs in /home/khanh/Desktop/depot/public/packs
[Webpacker] Hash: f669c5f3f2811b638f7e
Version: webpack 4.43.0
Time: 7543ms
Built at: 07/09/2020 2:27:15 PM
                                     Asset       Size       Chunks                         Chunk Names
    js/application-d687b46ae54878e1a078.js    146 KiB  application  [emitted] [immutable]  application
js/application-d687b46ae54878e1a078.js.map    164 KiB  application  [emitted] [dev]        application
                             manifest.json  364 bytes               [emitted]              
Entrypoint application = js/application-d687b46ae54878e1a078.js js/application-d687b46ae54878e1a078.js.map
[./app/javascript/channels sync recursive _channel\.js$] ./app/javascript/channels sync _channel\.js$ 186 bytes {application} [built]
[./app/javascript/channels/consumer.js] 265 bytes {application} [built]
[./app/javascript/channels/index.js] 211 bytes {application} [built]
[./app/javascript/channels/products_channel.js] 555 bytes {application} [optional] [built]
[./app/javascript/packs/application.js] 749 bytes {application} [built]
[./node_modules/webpack/buildin/module.js] (webpack)/buildin/module.js 552 bytes {application} [built]
    + 4 hidden modules

  [1m[36mLineItem Exists? (23.3ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 45], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:16
Completed 200 OK in 21521ms (Views: 21388.1ms | ActiveRecord: 71.1ms | Allocations: 11244)


Started GET "/" for ::1 at 2020-07-09 14:27:15 +0700
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.8ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 45], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 58.6ms | Allocations: 3191)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 45], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:16
Completed 200 OK in 110ms (Views: 102.3ms | ActiveRecord: 1.8ms | Allocations: 8371)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-09 14:27:15 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-09 14:27:16 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-09 14:27:16 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/products" for ::1 at 2020-07-09 14:27:28 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/products/index.html.erb:12
  Rendered products/index.html.erb within layouts/application (Duration: 365.4ms | Allocations: 3263)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 418ms (Views: 411.5ms | ActiveRecord: 0.5ms | Allocations: 7760)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-09 14:27:30 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-09 14:27:30 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-09 14:27:30 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/products/6/edit" for ::1 at 2020-07-09 14:27:38 +0700
Processing by ProductsController#edit as HTML
  Parameters: {"id"=>"6"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:71:in `set_product'
  Rendering products/edit.html.erb within layouts/application
  Rendered products/_form.html.erb (Duration: 251.0ms | Allocations: 2154)
  Rendered products/edit.html.erb within layouts/application (Duration: 1302.8ms | Allocations: 2586)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 1329ms (Views: 1326.0ms | ActiveRecord: 0.4ms | Allocations: 7431)


Started GET "/" for ::1 at 2020-07-09 14:27:45 +0700
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 45], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 17.4ms | Allocations: 3206)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 45], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:16
Completed 200 OK in 35ms (Views: 28.6ms | ActiveRecord: 1.1ms | Allocations: 8398)


Started GET "/cable" for ::1 at 2020-07-09 14:32:41 +0700
  [1m[35m (1.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (9.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/" for ::1 at 2020-07-09 14:32:41 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-09 14:32:41 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by StoreController#index as HTML
ProductsChannel is transmitting the subscription confirmation
  [1m[36mCart Load (7.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 45], ["LIMIT", 1]]
ProductsChannel is streaming from products
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (9.5ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 1048.4ms | Allocations: 12639)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (13.6ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 45], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:16
Completed 200 OK in 1624ms (Views: 1319.3ms | ActiveRecord: 36.4ms | Allocations: 28435)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-09 14:32:43 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-09 14:32:43 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-09 14:32:43 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/" for ::1 at 2020-07-09 14:32:48 +0700
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 45], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 18.1ms | Allocations: 3199)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 45], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:16
Completed 200 OK in 37ms (Views: 32.4ms | ActiveRecord: 0.7ms | Allocations: 8402)


Started POST "/line_items?product_id=4" for ::1 at 2020-07-09 14:32:50 +0700
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"E4CbOwIZ6WoQbrNXnzgoNVlqrwJmypuG4i2CeBGUpvO4L2RYIqZ9WqeGFx7jYeufPOczsyD4zc1rcKCH5AI/DA==", "product_id"=>"4"}
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 45], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 45], ["product_id", 4], ["LIMIT", 1]]
  ↳ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mLineItem Create (21.4ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 4], ["cart_id", 45], ["created_at", "2020-07-09 07:32:50.560550"], ["updated_at", "2020-07-09 07:32:50.560550"]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[35m (231.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 45]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 16.9ms | Allocations: 304)
  Rendered carts/_cart.html.erb (Duration: 48.1ms | Allocations: 2111)
  Rendered line_items/create.js.erb (Duration: 82.8ms | Allocations: 2517)
Completed 200 OK in 396ms (Views: 86.4ms | ActiveRecord: 255.9ms | Allocations: 15642)


Started GET "/products" for ::1 at 2020-07-09 14:32:54 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/products/index.html.erb:12
  Rendered products/index.html.erb within layouts/application (Duration: 38.4ms | Allocations: 3268)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 63ms (Views: 60.9ms | ActiveRecord: 0.4ms | Allocations: 7796)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-09 14:32:57 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-09 14:32:57 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-09 14:32:57 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/" for ::1 at 2020-07-09 14:33:00 +0700
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 45], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 19.2ms | Allocations: 3208)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 45], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:16
  [1m[36mCACHE LineItem Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 45], ["LIMIT", 1]]
  ↳ app/views/carts/_cart.html.erb:5
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 45]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:8
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 3.5ms | Allocations: 891)
  Rendered carts/_cart.html.erb (Duration: 14.6ms | Allocations: 2729)
Completed 200 OK in 53ms (Views: 44.5ms | ActiveRecord: 1.8ms | Allocations: 11314)


Started GET "/" for ::1 at 2020-07-09 14:34:21 +0700
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 45], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 29.3ms | Allocations: 3191)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 45], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:16
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 45], ["LIMIT", 1]]
  ↳ app/views/carts/_cart.html.erb:5
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 45]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:8
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 3.3ms | Allocations: 891)
  Rendered carts/_cart.html.erb (Duration: 8.3ms | Allocations: 2609)
Completed 200 OK in 1876ms (Views: 1869.7ms | ActiveRecord: 1.9ms | Allocations: 29376)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-09 14:34:23 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-09 14:34:23 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-09 14:34:23 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started DELETE "/carts/45" for ::1 at 2020-07-09 14:34:35 +0700
Processing by CartsController#destroy as HTML
  Parameters: {"authenticity_token"=>"Rp/G6tSUibCZTErqiusRQtRQNiC9ahtqpd2lxsfSX7xBPgy34q1HMY/3W7HH3lHYmJj9dLrs/r99E6THCvT1Hg==", "id"=>"45"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 45], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:68:in `set_cart'
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/carts_controller.rb:57:in `destroy'
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 45]]
  ↳ app/controllers/carts_controller.rb:57:in `destroy'
  [1m[36mLineItem Destroy (1.3ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 70]]
  ↳ app/controllers/carts_controller.rb:57:in `destroy'
  [1m[36mCart Destroy (0.4ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 45]]
  ↳ app/controllers/carts_controller.rb:57:in `destroy'
  [1m[35m (119.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/carts_controller.rb:57:in `destroy'
Redirected to http://localhost:3000/
Completed 302 Found in 162ms (ActiveRecord: 121.7ms | Allocations: 5909)


Started GET "/" for ::1 at 2020-07-09 14:34:35 +0700
Processing by StoreController#index as HTML
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[36mCart Create (0.9ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2020-07-09 07:34:35.450185"], ["updated_at", "2020-07-09 07:34:35.450185"]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[35m (606.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 12.3ms | Allocations: 3206)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 46], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:16
Completed 200 OK in 650ms (Views: 26.8ms | ActiveRecord: 607.8ms | Allocations: 11814)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-09 14:34:36 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-09 14:34:36 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-09 14:34:36 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started POST "/line_items?product_id=4" for ::1 at 2020-07-09 14:34:42 +0700
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"qhs4LAu4k7UPtIxzjmzmaAe/YgFzoZcHhGoW56kc7lKtuvJxPYFdNBkPnSjDWabyS3epVXQnctJcpBfmZDpE8A==", "product_id"=>"4"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 46], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 46], ["product_id", 4], ["LIMIT", 1]]
  ↳ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mLineItem Create (0.4ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 4], ["cart_id", 46], ["created_at", "2020-07-09 07:34:42.041634"], ["updated_at", "2020-07-09 07:34:42.041634"]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[35m (128.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 46]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 0.3ms | Allocations: 134)
  Rendered carts/_cart.html.erb (Duration: 7.0ms | Allocations: 1312)
  Rendered line_items/create.js.erb (Duration: 7.5ms | Allocations: 1458)
Completed 200 OK in 149ms (Views: 7.9ms | ActiveRecord: 129.2ms | Allocations: 8615)


  [1m[35m (8.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateOrders (20200709075033)
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (1.3ms)[0m  [1m[35mCREATE TABLE "orders" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "address" text, "email" varchar, "pay_type" integer, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mprimary::SchemaMigration Create (19.7ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20200709075033"]]
  [1m[35m (280.1ms)[0m  [1m[36mcommit transaction[0m
Migrating to AddOrderToLineItem (20200709075054)
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to AddOrderToLineItem (20200709075054)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.5ms)[0m  [1m[35mALTER TABLE "line_items" ADD "order_id" integer[0m
  [1m[35m (21.2ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_order_id" ON "line_items" ("order_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.2ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aline_items" ("id" integer NOT NULL PRIMARY KEY, "product_id" integer NOT NULL, "cart_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "quantity" integer DEFAULT 1, "order_id" integer DEFAULT NULL)[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE  INDEX "tindex_aline_items_on_order_id" ON "aline_items" ("order_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE  INDEX "tindex_aline_items_on_cart_id" ON "aline_items" ("cart_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE  INDEX "tindex_aline_items_on_product_id" ON "aline_items" ("product_id")[0m
  [1m[35m (0.2ms)[0m  [1m[32mINSERT INTO "aline_items" ("id","product_id","cart_id","created_at","updated_at","quantity","order_id")
                     SELECT "id","product_id","cart_id","created_at","updated_at","quantity","order_id" FROM "line_items"[0m
  [1m[35m (42.1ms)[0m  [1m[35mDROP TABLE "line_items"[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE TABLE "line_items" ("id" integer NOT NULL PRIMARY KEY, "product_id" integer NOT NULL, "cart_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "quantity" integer DEFAULT 1, "order_id" integer DEFAULT NULL, CONSTRAINT "fk_rails_af645e8e5f"
FOREIGN KEY ("cart_id")
  REFERENCES "carts" ("id")
, CONSTRAINT "fk_rails_11e15d5c6b"
FOREIGN KEY ("product_id")
  REFERENCES "products" ("id")
, CONSTRAINT "fk_rails_2dc2e5c22c"
FOREIGN KEY ("order_id")
  REFERENCES "orders" ("id")
)[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_product_id" ON "line_items" ("product_id")[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_cart_id" ON "line_items" ("cart_id")[0m
  [1m[35m (0.3ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_order_id" ON "line_items" ("order_id")[0m
  [1m[35m (0.3ms)[0m  [1m[32mINSERT INTO "line_items" ("id","product_id","cart_id","created_at","updated_at","quantity","order_id")
                     SELECT "id","product_id","cart_id","created_at","updated_at","quantity","order_id" FROM "aline_items"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE "aline_items"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = ON[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = OFF[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE TEMPORARY TABLE "aline_items" ("id" integer NOT NULL PRIMARY KEY, "product_id" integer NOT NULL, "cart_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "quantity" integer DEFAULT 1, "order_id" integer DEFAULT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE  INDEX "tindex_aline_items_on_order_id" ON "aline_items" ("order_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE  INDEX "tindex_aline_items_on_cart_id" ON "aline_items" ("cart_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE  INDEX "tindex_aline_items_on_product_id" ON "aline_items" ("product_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "aline_items" ("id","product_id","cart_id","created_at","updated_at","quantity","order_id")
                     SELECT "id","product_id","cart_id","created_at","updated_at","quantity","order_id" FROM "line_items"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE "line_items"[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "line_items" ("id" integer NOT NULL PRIMARY KEY, "product_id" integer NOT NULL, "cart_id" integer DEFAULT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, "quantity" integer DEFAULT 1, "order_id" integer DEFAULT NULL, CONSTRAINT "fk_rails_2dc2e5c22c"
FOREIGN KEY ("order_id")
  REFERENCES "orders" ("id")
, CONSTRAINT "fk_rails_11e15d5c6b"
FOREIGN KEY ("product_id")
  REFERENCES "products" ("id")
, CONSTRAINT "fk_rails_af645e8e5f"
FOREIGN KEY ("cart_id")
  REFERENCES "carts" ("id")
)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_product_id" ON "line_items" ("product_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_cart_id" ON "line_items" ("cart_id")[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_line_items_on_order_id" ON "line_items" ("order_id")[0m
  [1m[35m (0.1ms)[0m  [1m[32mINSERT INTO "line_items" ("id","product_id","cart_id","created_at","updated_at","quantity","order_id")
                     SELECT "id","product_id","cart_id","created_at","updated_at","quantity","order_id" FROM "aline_items"[0m
  [1m[35m (0.2ms)[0m  [1m[35mDROP TABLE "aline_items"[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA defer_foreign_keys = 0[0m
  [1m[35m (0.1ms)[0m  [1m[35mPRAGMA foreign_keys = 1[0m
  [1m[36mprimary::SchemaMigration Create (0.2ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20200709075054"]]
  [1m[35m (88.9ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/" for ::1 at 2020-07-09 16:26:28 +0700
  [1m[35m (0.8ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by StoreController#index as HTML
  [1m[36mCart Load (14.0ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 46], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (1.5ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 1783.6ms | Allocations: 29443)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (14.0ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 46], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:16
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 46], ["LIMIT", 1]]
  ↳ app/views/carts/_cart.html.erb:5
  [1m[36mLineItem Load (1.8ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 46]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:8
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 38.7ms | Allocations: 1828)
  Rendered carts/_cart.html.erb (Duration: 116.0ms | Allocations: 8652)
Completed 200 OK in 2309ms (Views: 2182.7ms | ActiveRecord: 36.1ms | Allocations: 58687)


Started GET "/cable" for ::1 at 2020-07-09 16:26:31 +0700
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-09 16:26:31 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/orders/new" for ::1 at 2020-07-09 16:27:26 +0700
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 46], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 46], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:9:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 129.6ms | Allocations: 2174)
  Rendered orders/new.html.erb within layouts/application (Duration: 131.4ms | Allocations: 2507)
Completed 500 Internal Server Error in 138ms (ActiveRecord: 0.4ms | Allocations: 4847)


  
ActionView::Template::Error (undefined method `errors' for nil:NilClass):
    1: <%= form_with(model: order, local: true) do |form| %>
    2:   <% if order.errors.any? %>
    3:     <div id="error_explanation">
    4:       <h2><%= pluralize(order.errors.count, "error") %> prohibited this order from being saved:</h2>
    5: 
  
app/views/orders/_form.html.erb:2
app/views/orders/_form.html.erb:1
app/views/orders/new.html.erb:3
Finished "/cable/" [WebSocket] for ::1 at 2020-07-09 16:27:27 +0700
ProductsChannel stopped streaming from products
Started GET "/orders/new" for ::1 at 2020-07-09 16:37:54 +0700
  [1m[35m (0.4ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 46], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 46], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:9:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 4.1ms | Allocations: 1545)
  Rendered orders/new.html.erb within layouts/application (Duration: 4.6ms | Allocations: 1609)
Completed 500 Internal Server Error in 12ms (ActiveRecord: 0.5ms | Allocations: 3393)


  
ActionView::Template::Error (undefined method `errors' for nil:NilClass):
    1: <%= form_with(model: order, local: true) do |form| %>
    2:   <% if order.errors.any? %>
    3:     <div id="error_explanation">
    4:       <h2><%= pluralize(order.errors.count, "error") %> prohibited this order from being saved:</h2>
    5: 
  
app/views/orders/_form.html.erb:2
app/views/orders/_form.html.erb:1
app/views/orders/new.html.erb:3
Started GET "/orders/new" for ::1 at 2020-07-09 16:38:23 +0700
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 46], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 46], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:9:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 7.2ms | Allocations: 1916)
  Rendered orders/new.html.erb within layouts/application (Duration: 9.2ms | Allocations: 2246)
Completed 500 Internal Server Error in 21ms (ActiveRecord: 0.5ms | Allocations: 4677)


  
ActionView::Template::Error (undefined method `errors' for nil:NilClass):
    1: <%= form_with(model: order, local: true) do |form| %>
    2:   <% if order.errors.any? %>
    3:     <div id="error_explanation">
    4:       <h2><%= pluralize(order.errors.count, "error") %> prohibited this order from being saved:</h2>
    5: 
  
app/views/orders/_form.html.erb:2
app/views/orders/_form.html.erb:1
app/views/orders/new.html.erb:3
Started GET "/orders/new" for ::1 at 2020-07-09 16:39:01 +0700
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 46], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 46], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:9:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/new.html.erb within layouts/application (Duration: 1.0ms | Allocations: 1029)
Completed 500 Internal Server Error in 13ms (ActiveRecord: 0.7ms | Allocations: 3462)


  
ActionView::SyntaxErrorInTemplate (Encountered a syntax error while rendering template: check <section class="depot_form">
<h1>Please Enter Your Details</h1>
<%= render 'form', order: @order %>
</section>

<%= #render 'form', order: @order %>

<%=# link_to 'Back', orders_path %>

):
1:    <section class="depot_form">
2:    <h1>Please Enter Your Details</h1>
3:    <%= render 'form', order: @order %>
4:    </section>
5:    
6:    <%= #render 'form', order: @order %>
7:    
8:    <%=# link_to 'Back', orders_path %>
  
app/views/orders/new.html.erb:8: syntax error, unexpected constant, expecting ')'
app/views/orders/new.html.erb:11: unterminated string meets end of file
app/views/orders/new.html.erb:11: syntax error, unexpected end-of-input, expecting ')'
app/views/orders/new.html.erb:8: syntax error, unexpected constant, expecting ')'
app/views/orders/new.html.erb:11: unterminated string meets end of file
app/views/orders/new.html.erb:11: syntax error, unexpected end-of-input, expecting ')'
app/views/orders/new.html.erb:8: syntax error, unexpected constant, expecting ')'
app/views/orders/new.html.erb:11: unterminated string meets end of file
app/views/orders/new.html.erb:11: syntax error, unexpected end-of-input, expecting ')'
app/views/orders/new.html.erb:8: syntax error, unexpected constant, expecting ')'
app/views/orders/new.html.erb:11: unterminated string meets end of file
app/views/orders/new.html.erb:11: syntax error, unexpected end-of-input, expecting ')'
app/views/orders/new.html.erb:8: syntax error, unexpected constant, expecting ')'
app/views/orders/new.html.erb:11: unterminated string meets end of file
app/views/orders/new.html.erb:11: syntax error, unexpected end-of-input, expecting ')'
app/views/orders/new.html.erb:8: syntax error, unexpected constant, expecting ')'
app/views/orders/new.html.erb:11: unterminated string meets end of file
app/views/orders/new.html.erb:11: syntax error, unexpected end-of-input, expecting ')'
Started GET "/orders/new" for ::1 at 2020-07-09 16:39:09 +0700
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 46], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 46], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:9:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 6.2ms | Allocations: 1915)
  Rendered orders/new.html.erb within layouts/application (Duration: 9.0ms | Allocations: 2241)
Completed 500 Internal Server Error in 22ms (ActiveRecord: 0.5ms | Allocations: 4656)


  
ActionView::Template::Error (undefined method `errors' for nil:NilClass):
    1: <%= form_with(model: order, local: true) do |form| %>
    2:   <% if order.errors.any? %>
    3:     <div id="error_explanation">
    4:       <h2><%= pluralize(order.errors.count, "error") %> prohibited this order from being saved:</h2>
    5: 
  
app/views/orders/_form.html.erb:2
app/views/orders/_form.html.erb:1
app/views/orders/new.html.erb:3
Started POST "/__web_console/repl_sessions/aa2549de25822cdb028a7a6d8c999345/trace" for ::1 at 2020-07-09 16:41:20 +0700
Started POST "/__web_console/repl_sessions/aa2549de25822cdb028a7a6d8c999345/trace" for ::1 at 2020-07-09 16:41:21 +0700
Started POST "/__web_console/repl_sessions/aa2549de25822cdb028a7a6d8c999345/trace" for ::1 at 2020-07-09 16:41:21 +0700
Started POST "/__web_console/repl_sessions/aa2549de25822cdb028a7a6d8c999345/trace" for ::1 at 2020-07-09 16:41:22 +0700
Started GET "/orders/new" for ::1 at 2020-07-09 16:42:17 +0700
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 46], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 46], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:9:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 16.8ms | Allocations: 1915)
  Rendered orders/new.html.erb within layouts/application (Duration: 20.6ms | Allocations: 2241)
Completed 500 Internal Server Error in 41ms (ActiveRecord: 1.3ms | Allocations: 4657)


  
ActionView::Template::Error (undefined method `errors' for nil:NilClass):
    1: <%= form_with(model: order, local: true) do |form| %>
    2:   <% if order.errors.any? %>
    3:     <div id="error_explanation">
    4:       <h2><%= pluralize(order.errors.count, "error") %> prohibited this order from being saved:</h2>
    5: 
  
app/views/orders/_form.html.erb:2
app/views/orders/_form.html.erb:1
app/views/orders/new.html.erb:3
Started GET "/orders/new" for ::1 at 2020-07-09 16:43:14 +0700
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 46], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 46], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:9:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 5.0ms | Allocations: 1918)
  Rendered orders/new.html.erb within layouts/application (Duration: 7.2ms | Allocations: 2244)
Completed 500 Internal Server Error in 21ms (ActiveRecord: 0.8ms | Allocations: 4659)


  
ActionView::Template::Error (undefined method `error' for nil:NilClass):
    1: <%= form_with(model: order, local: true) do |form| %>
    2:   <% if order.error.any? %>
    3:     <div id="error_explanation">
    4:       <h2><%= pluralize(order.errors.count, "error") %> prohibited this order from being saved:</h2>
    5: 
  
app/views/orders/_form.html.erb:2
app/views/orders/_form.html.erb:1
app/views/orders/new.html.erb:3
Started GET "/orders/new" for ::1 at 2020-07-09 16:43:20 +0700
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 46], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 46], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:9:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 4.5ms | Allocations: 1915)
  Rendered orders/new.html.erb within layouts/application (Duration: 6.2ms | Allocations: 2241)
Completed 500 Internal Server Error in 19ms (ActiveRecord: 0.6ms | Allocations: 4656)


  
ActionView::Template::Error (undefined method `errors' for nil:NilClass):
    1: <%= form_with(model: order, local: true) do |form| %>
    2:   <% if order.errors.any? %>
    3:     <div id="error_explanation">
    4:       <h2><%= pluralize(order.errors.count, "error") %> prohibited this order from being saved:</h2>
    5: 
  
app/views/orders/_form.html.erb:2
app/views/orders/_form.html.erb:1
app/views/orders/new.html.erb:3
Started GET "/orders/new" for ::1 at 2020-07-09 16:45:28 +0700
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 46], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 46], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:9:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 6.1ms | Allocations: 1915)
  Rendered orders/new.html.erb within layouts/application (Duration: 13.8ms | Allocations: 2209)
Completed 500 Internal Server Error in 34ms (ActiveRecord: 1.7ms | Allocations: 4624)


  
ActionView::Template::Error (undefined method `errors' for nil:NilClass):
    1: <%= form_with(model: order, local: true) do |form| %>
    2:   <% if order.errors.any? %>
    3:     <div id="error_explanation">
    4:       <h2><%= pluralize(order.errors.count, "error") %> prohibited this order from being saved:</h2>
    5: 
  
app/views/orders/_form.html.erb:2
app/views/orders/_form.html.erb:1
app/views/orders/new.html.erb:3
Started GET "/orders/new" for ::1 at 2020-07-09 16:45:46 +0700
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 46], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 46], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:9:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 12.1ms | Allocations: 1915)
  Rendered orders/new.html.erb within layouts/application (Duration: 16.0ms | Allocations: 2212)
Completed 500 Internal Server Error in 30ms (ActiveRecord: 0.5ms | Allocations: 4627)


  
ActionView::Template::Error (undefined method `errors' for nil:NilClass):
    1: <%= form_with(model: order, local: true) do |form| %>
    2:   <% if order.errors.any? %>
    3:     <div id="error_explanation">
    4:       <h2><%= pluralize(order.errors.count, "error") %> prohibited this order from being saved:</h2>
    5: 
  
app/views/orders/_form.html.erb:2
app/views/orders/_form.html.erb:1
app/views/orders/new.html.erb:3
Started GET "/orders/new" for ::1 at 2020-07-09 16:46:14 +0700
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 46], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 46], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:9:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 9.5ms | Allocations: 1915)
  Rendered orders/new.html.erb within layouts/application (Duration: 11.5ms | Allocations: 2224)
Completed 500 Internal Server Error in 31ms (ActiveRecord: 0.8ms | Allocations: 4639)


  
ActionView::Template::Error (undefined method `errors' for nil:NilClass):
    1: <%= form_with(model: order, local: true) do |form| %>
    2:   <% if order.errors.any? %>
    3:     <div id="error_explanation">
    4:       <h2><%= pluralize(order.errors.count, "error") %> prohibited this order from being saved:</h2>
    5: 
  
app/views/orders/_form.html.erb:2
app/views/orders/_form.html.erb:1
app/views/orders/new.html.erb:3
Started GET "/orders/new" for ::1 at 2020-07-09 16:47:13 +0700
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.9ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 46], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 46], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:9:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 8.6ms | Allocations: 1915)
  Rendered orders/new.html.erb within layouts/application (Duration: 11.8ms | Allocations: 2209)
Completed 500 Internal Server Error in 28ms (ActiveRecord: 1.9ms | Allocations: 4624)


  
ActionView::Template::Error (undefined method `errors' for nil:NilClass):
    1: <%= form_with(model: order, local: true) do |form| %>
    2:   <% if order.errors.any? %>
    3:     <div id="error_explanation">
    4:       <h2><%= pluralize(order.errors.count, "error") %> prohibited this order from being saved:</h2>
    5: 
  
app/views/orders/_form.html.erb:2
app/views/orders/_form.html.erb:1
app/views/orders/new.html.erb:3
Started GET "/orders/new" for ::1 at 2020-07-09 16:47:18 +0700
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 46], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 46], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:9:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 6.0ms | Allocations: 1916)
  Rendered orders/new.html.erb within layouts/application (Duration: 10.5ms | Allocations: 2226)
Completed 500 Internal Server Error in 23ms (ActiveRecord: 0.7ms | Allocations: 4657)


  
ActionView::Template::Error (undefined method `errors' for nil:NilClass):
    1: <%= form_with(model: order, local: true) do |form| %>
    2:   <% if order.errors.any? %>
    3:     <div id="error_explanation">
    4:       <h2><%= pluralize(order.errors.count, "error") %> prohibited this order from being saved:</h2>
    5: 
  
app/views/orders/_form.html.erb:2
app/views/orders/_form.html.erb:1
app/views/orders/new.html.erb:3
Started GET "/orders/new" for ::1 at 2020-07-09 16:48:44 +0700
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 46], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 46], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:9:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 2.6ms | Allocations: 1915)
  Rendered orders/new.html.erb within layouts/application (Duration: 4.1ms | Allocations: 2227)
Completed 500 Internal Server Error in 16ms (ActiveRecord: 0.7ms | Allocations: 4642)


  
ActionView::Template::Error (undefined method `errors' for nil:NilClass):
    1: <%= form_with(model: order, local: true) do |form| %>
    2:   <% if order.errors.any? %>
    3:     <div id="error_explanation">
    4:       <h2><%= pluralize(order.errors.count, "error") %> prohibited this order from being saved:</h2>
    5: 
  
app/views/orders/_form.html.erb:2
app/views/orders/_form.html.erb:1
app/views/orders/new.html.erb:3
Started GET "/cable" for ::1 at 2020-07-09 16:53:37 +0700
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-09 16:53:38 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/orders/new" for ::1 at 2020-07-09 16:53:41 +0700
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 46], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 46], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:10:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 4.1ms | Allocations: 1852)
  Rendered orders/new.html.erb within layouts/application (Duration: 5.5ms | Allocations: 2166)
Completed 500 Internal Server Error in 41ms (ActiveRecord: 3.3ms | Allocations: 8861)


  
ActionView::Template::Error (undefined method `errors' for nil:NilClass):
    1: <%= form_with(model: order, local: true) do |form| %>
    2:   <% if order.errors.any? %>
    3:     <div id="error_explanation">
    4:       <h2><%= pluralize(order.errors.count, "error") %> prohibited this order from being saved:</h2>
    5: 
  
app/views/orders/_form.html.erb:2
app/views/orders/_form.html.erb:1
app/views/orders/new.html.erb:3
Finished "/cable/" [WebSocket] for ::1 at 2020-07-09 16:53:42 +0700
ProductsChannel stopped streaming from products
Started GET "/orders/new" for ::1 at 2020-07-09 16:54:08 +0700
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 46], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 46], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:10:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 2.1ms | Allocations: 1915)
  Rendered orders/new.html.erb within layouts/application (Duration: 3.3ms | Allocations: 2225)
Completed 500 Internal Server Error in 12ms (ActiveRecord: 0.4ms | Allocations: 4641)


  
ActionView::Template::Error (undefined method `errors' for nil:NilClass):
    1: <%= form_with(model: order, local: true) do |form| %>
    2:   <% if order.errors.any? %>
    3:     <div id="error_explanation">
    4:       <h2><%= pluralize(order.errors.count, "error") %> prohibited this order from being saved:</h2>
    5: 
  
app/views/orders/_form.html.erb:2
app/views/orders/_form.html.erb:1
app/views/orders/new.html.erb:3
Started GET "/orders/new" for ::1 at 2020-07-09 16:55:54 +0700
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 46], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 46], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:10:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 6.7ms | Allocations: 1917)
  Rendered orders/new.html.erb within layouts/application (Duration: 8.2ms | Allocations: 2222)
Completed 500 Internal Server Error in 25ms (ActiveRecord: 1.2ms | Allocations: 4637)


  
ActionView::Template::Error (undefined method `errors' for nil:NilClass):
    1: <%= form_with(model: order, local: true) do |form| %>
    2:   <% if order.errors.any? %>
    3:     <div id="error_explanation">
    4:       <h2><%= pluralize(order.errors.count, "error") %> prohibited this order from being saved:</h2>
    5: 
  
app/views/orders/_form.html.erb:2
app/views/orders/_form.html.erb:1
app/views/orders/new.html.erb:3
Started GET "/orders/new" for ::1 at 2020-07-09 16:56:14 +0700
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 46], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 46], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:10:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 5.4ms | Allocations: 1915)
  Rendered orders/new.html.erb within layouts/application (Duration: 8.9ms | Allocations: 2217)
Completed 500 Internal Server Error in 28ms (ActiveRecord: 1.2ms | Allocations: 4632)


  
ActionView::Template::Error (undefined method `errors' for nil:NilClass):
    1: <%= form_with(model: order, local: false) do |form| %>
    2:   <% if order.errors.any? %>
    3:     <div id="error_explanation">
    4:       <h2><%= pluralize(order.errors.count, "error") %> prohibited this order from being saved:</h2>
    5: 
  
app/views/orders/_form.html.erb:2
app/views/orders/_form.html.erb:1
app/views/orders/new.html.erb:3
Started GET "/orders/new" for ::1 at 2020-07-09 16:56:58 +0700
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 46], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 46], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:10:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 59.0ms | Allocations: 6883)
  Rendered orders/new.html.erb within layouts/application (Duration: 61.7ms | Allocations: 7186)
Completed 500 Internal Server Error in 75ms (ActiveRecord: 2.2ms | Allocations: 9601)


  
ActionView::Template::Error (undefined method `errors' for #<Class:0x0000559dad3dec80>):
    1: <%= form_with(model: order, local: true) do |form| %>
    2:   <% if Order.errors.any? %>
    3:     <div id="error_explanation">
    4:       <h2><%= pluralize(order.errors.count, "error") %> prohibited this order from being saved:</h2>
    5: 
  
app/views/orders/_form.html.erb:2
app/views/orders/_form.html.erb:1
app/views/orders/new.html.erb:3
Started GET "/orders/new" for ::1 at 2020-07-09 16:57:04 +0700
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 46], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 46], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:10:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 2.8ms | Allocations: 1915)
  Rendered orders/new.html.erb within layouts/application (Duration: 5.9ms | Allocations: 2217)
Completed 500 Internal Server Error in 18ms (ActiveRecord: 0.6ms | Allocations: 4632)


  
ActionView::Template::Error (undefined method `errors' for nil:NilClass):
    1: <%= form_with(model: order, local: true) do |form| %>
    2:   <% if order.errors.any? %>
    3:     <div id="error_explanation">
    4:       <h2><%= pluralize(order.errors.count, "error") %> prohibited this order from being saved:</h2>
    5: 
  
app/views/orders/_form.html.erb:2
app/views/orders/_form.html.erb:1
app/views/orders/new.html.erb:3
Started GET "/orders/new" for ::1 at 2020-07-09 17:00:53 +0700
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 46], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 46], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:10:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 5.9ms | Allocations: 1477)
  Rendered orders/new.html.erb within layouts/application (Duration: 7.4ms | Allocations: 1540)
Completed 500 Internal Server Error in 45ms (ActiveRecord: 4.1ms | Allocations: 7569)


  
ActionView::Template::Error (undefined method `errors' for nil:NilClass):
    1: <%= form_with(model: order, local: true) do |form| %>
    2:   <% if order.errors.any? %>
    3:     <div id="error_explanation">
    4:       <h2><%= pluralize(order.errors.count, "error") %> prohibited this order from being saved:</h2>
    5: 
  
app/views/orders/_form.html.erb:2
app/views/orders/_form.html.erb:1
app/views/orders/new.html.erb:3
Started GET "/orders/new" for ::1 at 2020-07-09 17:01:23 +0700
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by OrdersController#new as HTML
  [1m[36mCart Load (1.0ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 46], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 46], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:10:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 6.0ms | Allocations: 1477)
  Rendered orders/new.html.erb within layouts/application (Duration: 7.2ms | Allocations: 1540)
Completed 500 Internal Server Error in 52ms (ActiveRecord: 5.8ms | Allocations: 7568)


  
ActionView::Template::Error (undefined method `errors' for nil:NilClass):
    1: <%= form_with(model: order, local: true) do |form| %>
    2:   <% if order.errors.any? %>
    3:     <div id="error_explanation">
    4:       <h2><%= pluralize(order.errors.count, "error") %> prohibited this order from being saved:</h2>
    5: 
  
app/views/orders/_form.html.erb:2
app/views/orders/_form.html.erb:1
app/views/orders/new.html.erb:3
Started GET "/orders/new" for ::1 at 2020-07-09 17:02:04 +0700
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 46], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 46], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:10:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 2.7ms | Allocations: 1915)
  Rendered orders/new.html.erb within layouts/application (Duration: 3.9ms | Allocations: 2217)
Completed 500 Internal Server Error in 17ms (ActiveRecord: 0.5ms | Allocations: 4633)


  
ActionView::Template::Error (undefined method `errors' for nil:NilClass):
    1: <%= form_with(model: order, local: true) do |form| %>
    2:   <% if @order.errors.any? %>
    3:     <div id="error_explanation">
    4:       <h2><%= pluralize(order.errors.count, "error") %> prohibited this order from being saved:</h2>
    5: 
  
app/views/orders/_form.html.erb:2
app/views/orders/_form.html.erb:1
app/views/orders/new.html.erb:3
Started GET "/orders/new" for ::1 at 2020-07-09 17:06:11 +0700
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 46], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 46], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:10:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 6.5ms | Allocations: 1915)
  Rendered orders/new.html.erb within layouts/application (Duration: 10.1ms | Allocations: 2217)
Completed 500 Internal Server Error in 23ms (ActiveRecord: 0.7ms | Allocations: 4632)


  
ActionView::Template::Error (undefined method `errors' for nil:NilClass):
    1: <%= form_with(model: order, local: true) do |form| %>
    2:   <% if order.errors.any? %>
    3:     <div id="error_explanation">
    4:       <h2><%= pluralize(order.errors.count, "error") %> prohibited this order from being saved:</h2>
    5: 
  
app/views/orders/_form.html.erb:2
app/views/orders/_form.html.erb:1
app/views/orders/new.html.erb:3
Started GET "/orders/new" for ::1 at 2020-07-09 17:07:28 +0700
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 46], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 46], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:10:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 5.7ms | Allocations: 1402)
  Rendered orders/new.html.erb within layouts/application (Duration: 7.7ms | Allocations: 1704)
Completed 500 Internal Server Error in 17ms (ActiveRecord: 0.6ms | Allocations: 4120)


  
ActionView::SyntaxErrorInTemplate (Encountered a syntax error while rendering template: check <%= form_with(model: order, local: true) do |form| %>
  <%= if order.errors.any? %>
    <div id="error_explanation">
      <h2><%= pluralize(order.errors.count, "error") %> prohibited this order from being saved:</h2>

      <ul>
        <% order.errors.full_messages.each do |message| %>
          <li><%= message %></li>
        <% end %>
      </ul>
    </div>
  <% end %>

  <div class="field">
    <%= form.label :name %>
    <%= form.text_field :name, size: 40 %>
  </div>

  <div class="field">
    <%= form.label :address %>
    <%= form.text_area :address, rows: 3, cols:40 %>
  </div>

  <div class="field">
    <%= form.label :email %>
    <%= form.text_field :email, size: 40 %>
  </div>

  <div class="field">
    <%= form.label :pay_type %>
    <%= form.select :pay_type, Order.pay_types.keys,
                        prompt: 'Select a payment method' %>
  </div>

  <div class="actions">
    <%= form.submit 'Place Order'%>
  </div>
<% end %>

):
1:    <%= form_with(model: order, local: true) do |form| %>
2:      <%= if order.errors.any? %>
3:        <div id="error_explanation">
4:          <h2><%= pluralize(order.errors.count, "error") %> prohibited this order from being saved:</h2>
5:    
6:          <ul>
7:            <% order.errors.full_messages.each do |message| %>
8:              <li><%= message %></li>
9:            <% end %>
10:          </ul>
11:        </div>
12:      <% end %>
13:    
14:      <div class="field">
15:        <%= form.label :name %>
16:        <%= form.text_field :name, size: 40 %>
17:      </div>
18:    
19:      <div class="field">
20:        <%= form.label :address %>
21:        <%= form.text_area :address, rows: 3, cols:40 %>
22:      </div>
23:    
24:      <div class="field">
25:        <%= form.label :email %>
26:        <%= form.text_field :email, size: 40 %>
27:      </div>
28:    
29:      <div class="field">
30:        <%= form.label :pay_type %>
31:        <%= form.select :pay_type, Order.pay_types.keys,
32:                            prompt: 'Select a payment method' %>
33:      </div>
34:    
35:      <div class="actions">
36:        <%= form.submit 'Place Order'%>
37:      </div>
38:    <% end %>
  
app/views/orders/_form.html.erb:2: syntax error, unexpected ')', expecting `then' or ';' or '\n'
app/views/orders/_form.html.erb:12: syntax error, unexpected `end', expecting ')'
app/views/orders/_form.html.erb:38: syntax error, unexpected `end', expecting ')'
app/views/orders/_form.html.erb:40: syntax error, unexpected `end', expecting ')'
app/views/orders/_form.html.erb:2: syntax error, unexpected ')', expecting `then' or ';' or '\n'
app/views/orders/_form.html.erb:12: syntax error, unexpected `end', expecting ')'
app/views/orders/_form.html.erb:38: syntax error, unexpected `end', expecting ')'
app/views/orders/_form.html.erb:40: syntax error, unexpected `end', expecting ')'
app/views/orders/_form.html.erb:2: syntax error, unexpected ')', expecting `then' or ';' or '\n'
app/views/orders/_form.html.erb:12: syntax error, unexpected `end', expecting ')'
app/views/orders/_form.html.erb:38: syntax error, unexpected `end', expecting ')'
app/views/orders/_form.html.erb:40: syntax error, unexpected `end', expecting ')'
app/views/orders/_form.html.erb:2: syntax error, unexpected ')', expecting `then' or ';' or '\n'
app/views/orders/_form.html.erb:12: syntax error, unexpected `end', expecting ')'
app/views/orders/_form.html.erb:38: syntax error, unexpected `end', expecting ')'
app/views/orders/_form.html.erb:40: syntax error, unexpected `end', expecting ')'
app/views/orders/_form.html.erb:2: syntax error, unexpected ')', expecting `then' or ';' or '\n'
app/views/orders/_form.html.erb:12: syntax error, unexpected `end', expecting ')'
app/views/orders/_form.html.erb:38: syntax error, unexpected `end', expecting ')'
app/views/orders/_form.html.erb:40: syntax error, unexpected `end', expecting ')'
app/views/orders/_form.html.erb:2: syntax error, unexpected ')', expecting `then' or ';' or '\n'
app/views/orders/_form.html.erb:12: syntax error, unexpected `end', expecting ')'
app/views/orders/_form.html.erb:38: syntax error, unexpected `end', expecting ')'
app/views/orders/_form.html.erb:40: syntax error, unexpected `end', expecting ')'
app/views/orders/new.html.erb:3
Started GET "/orders/new" for ::1 at 2020-07-09 17:07:38 +0700
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 46], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 46], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:10:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 7.8ms | Allocations: 1915)
  Rendered orders/new.html.erb within layouts/application (Duration: 10.7ms | Allocations: 2217)
Completed 500 Internal Server Error in 28ms (ActiveRecord: 1.1ms | Allocations: 4632)


  
ActionView::Template::Error (undefined method `errors' for nil:NilClass):
    1: <%= form_with(model: order, local: true) do |form| %>
    2:   <% if order.errors.any? %>
    3:     <div id="error_explanation">
    4:       <h2><%= pluralize(order.errors.count, "error") %> prohibited this order from being saved:</h2>
    5: 
  
app/views/orders/_form.html.erb:2
app/views/orders/_form.html.erb:1
app/views/orders/new.html.erb:3
Started GET "/orders/new" for ::1 at 2020-07-09 17:08:07 +0700
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 46], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 46], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:10:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 2.4ms | Allocations: 1915)
  Rendered orders/new.html.erb within layouts/application (Duration: 4.6ms | Allocations: 2217)
Completed 500 Internal Server Error in 18ms (ActiveRecord: 0.7ms | Allocations: 4632)


  
ActionView::Template::Error (undefined method `errors' for nil:NilClass):
    1: <%= form_with(model: order, local: true) do |form| %>
    2:   <% if order.errors.any? %>
    3:     <div id="error_explanation">
    4:       <h2><%= pluralize(order.errors.count, "error") %> prohibited this order from being saved:</h2>
    5: 
  
app/views/orders/_form.html.erb:2
app/views/orders/_form.html.erb:1
app/views/orders/new.html.erb:3
Started GET "/orders/new" for ::1 at 2020-07-09 17:10:15 +0700
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 46], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 46], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:10:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 7.1ms | Allocations: 1915)
  Rendered orders/new.html.erb within layouts/application (Duration: 11.7ms | Allocations: 2217)
Completed 500 Internal Server Error in 21ms (ActiveRecord: 0.5ms | Allocations: 4632)


  
ActionView::Template::Error (undefined method `errors' for nil:NilClass):
    1: <%= form_with(model: order, local: true) do |form| %>
    2:   <% if order.errors.any? %>
    3:     <div id="error_explanation">
    4:       <h2><%= pluralize(order.errors.count, "error") %> prohibited this order from being saved:</h2>
    5: 
  
app/views/orders/_form.html.erb:2
app/views/orders/_form.html.erb:1
app/views/orders/new.html.erb:3
Started GET "/orders/new" for ::1 at 2020-07-09 17:13:28 +0700
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.8ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 46], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 46], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:10:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 5.3ms | Allocations: 1915)
  Rendered orders/new.html.erb within layouts/application (Duration: 9.3ms | Allocations: 2217)
Completed 500 Internal Server Error in 29ms (ActiveRecord: 1.3ms | Allocations: 4632)


  
ActionView::Template::Error (undefined method `errors' for nil:NilClass):
    1: <%= form_with(model: order, local: true) do |form| %>
    2:   <% if order.errors.any? %>
    3:     <div id="error_explanation">
    4:       <h2><%= pluralize(order.errors.count, "error") %> prohibited this order from being saved:</h2>
    5: 
  
app/views/orders/_form.html.erb:2
app/views/orders/_form.html.erb:1
app/views/orders/new.html.erb:3
Started GET "/cable" for ::1 at 2020-07-09 17:13:30 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-09 17:13:30 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started POST "/line_items?product_id=4" for ::1 at 2020-07-09 17:13:34 +0700
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"adTwnr+1hp2gGktQjJyFb0LDo1IEFtGHdzbRjr1OXlNudTrDiYxIHLahWgvBqcX1DgtoBgOQNFKv+NCPcGj08Q==", "product_id"=>"4"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 46], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 46], ["product_id", 4], ["LIMIT", 1]]
  ↳ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mLineItem Update (0.3ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 2], ["updated_at", "2020-07-09 10:13:34.373075"], ["id", 71]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[35m (437.6ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  Rendering line_items/create.js.erb
  [1m[36mLineItem Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 46], ["LIMIT", 1]]
  ↳ app/views/carts/_cart.html.erb:5
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 46]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:8
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 3.3ms | Allocations: 1075)
  Rendered carts/_cart.html.erb (Duration: 17.8ms | Allocations: 3567)
  Rendered line_items/create.js.erb (Duration: 49.8ms | Allocations: 3983)
Completed 200 OK in 533ms (Views: 54.0ms | ActiveRecord: 440.9ms | Allocations: 21745)


Started POST "/line_items?product_id=5" for ::1 at 2020-07-09 17:13:37 +0700
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"adTwnr+1hp2gGktQjJyFb0LDo1IEFtGHdzbRjr1OXlNudTrDiYxIHLahWgvBqcX1DgtoBgOQNFKv+NCPcGj08Q==", "product_id"=>"5"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 46], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 46], ["product_id", 5], ["LIMIT", 1]]
  ↳ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mLineItem Create (115.7ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 5], ["cart_id", 46], ["created_at", "2020-07-09 10:13:37.963766"], ["updated_at", "2020-07-09 10:13:37.963766"]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[35m (161.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 46]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:8
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 5.5ms | Allocations: 1027)
  Rendered carts/_cart.html.erb (Duration: 12.1ms | Allocations: 2283)
  Rendered line_items/create.js.erb (Duration: 13.2ms | Allocations: 2462)
Completed 200 OK in 333ms (Views: 14.1ms | ActiveRecord: 279.3ms | Allocations: 9522)


Started GET "/orders/new" for ::1 at 2020-07-09 17:13:39 +0700
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 46], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 46], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:10:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 3.5ms | Allocations: 1540)
  Rendered orders/new.html.erb within layouts/application (Duration: 4.4ms | Allocations: 1603)
Completed 500 Internal Server Error in 17ms (ActiveRecord: 0.8ms | Allocations: 3314)


  
ActionView::Template::Error (undefined method `errors' for nil:NilClass):
    1: <%= form_with(model: order, local: true) do |form| %>
    2:   <% if order.errors.any? %>
    3:     <div id="error_explanation">
    4:       <h2><%= pluralize(order.errors.count, "error") %> prohibited this order from being saved:</h2>
    5: 
  
app/views/orders/_form.html.erb:2
app/views/orders/_form.html.erb:1
app/views/orders/new.html.erb:3
Finished "/cable/" [WebSocket] for ::1 at 2020-07-09 17:13:40 +0700
ProductsChannel stopped streaming from products
Started GET "/orders/new" for ::1 at 2020-07-09 17:13:43 +0700
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 46], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 46], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:10:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 1.8ms | Allocations: 1540)
  Rendered orders/new.html.erb within layouts/application (Duration: 2.2ms | Allocations: 1603)
Completed 500 Internal Server Error in 7ms (ActiveRecord: 0.5ms | Allocations: 3312)


  
ActionView::Template::Error (undefined method `errors' for nil:NilClass):
    1: <%= form_with(model: order, local: true) do |form| %>
    2:   <% if order.errors.any? %>
    3:     <div id="error_explanation">
    4:       <h2><%= pluralize(order.errors.count, "error") %> prohibited this order from being saved:</h2>
    5: 
  
app/views/orders/_form.html.erb:2
app/views/orders/_form.html.erb:1
app/views/orders/new.html.erb:3
Started GET "/orders/new" for ::1 at 2020-07-09 17:14:37 +0700
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 46], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 46], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:10:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 4.6ms | Allocations: 1477)
  Rendered orders/new.html.erb within layouts/application (Duration: 5.6ms | Allocations: 1540)
Completed 500 Internal Server Error in 51ms (ActiveRecord: 4.8ms | Allocations: 7555)


  
ActionView::Template::Error (undefined method `errors' for nil:NilClass):
    1: <%= form_with(model: order, local: true) do |form| %>
    2:   <% if order.errors.any? %>
    3:     <div id="error_explanation">
    4:       <h2><%= pluralize(order.errors.count, "error") %> prohibited this order from being saved:</h2>
    5: 
  
app/views/orders/_form.html.erb:2
app/views/orders/_form.html.erb:1
app/views/orders/new.html.erb:3
Started GET "/orders/new" for ::1 at 2020-07-09 17:14:47 +0700
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.9ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 46], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 46], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:10:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 3.9ms | Allocations: 1477)
  Rendered orders/new.html.erb within layouts/application (Duration: 5.4ms | Allocations: 1540)
Completed 500 Internal Server Error in 47ms (ActiveRecord: 3.9ms | Allocations: 7660)


  
ActionView::Template::Error (undefined method `errors' for nil:NilClass):
    1: <%= form_with(model: order, local: true) do |form| %>
    2:   <% if order.errors.any? %>
    3:     <div id="error_explanation">
    4:       <h2><%= pluralize(order.errors.count, "error") %> prohibited this order from being saved:</h2>
    5: 
  
app/views/orders/_form.html.erb:2
app/views/orders/_form.html.erb:1
app/views/orders/new.html.erb:3
Started GET "/orders/new" for ::1 at 2020-07-09 17:15:44 +0700
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 46], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 46], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:10:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 4.1ms | Allocations: 1477)
  Rendered orders/new.html.erb within layouts/application (Duration: 5.4ms | Allocations: 1540)
Completed 500 Internal Server Error in 45ms (ActiveRecord: 3.4ms | Allocations: 7554)


  
ActionView::Template::Error (undefined method `errors' for nil:NilClass):
    1: <%= form_with(model: order, local: true) do |form| %>
    2:   <% if order.errors.any? %>
    3:     <div id="error_explanation">
    4:       <h2><%= pluralize(order.errors.count, "error") %> prohibited this order from being saved:</h2>
    5: 
  
app/views/orders/_form.html.erb:2
app/views/orders/_form.html.erb:1
app/views/orders/new.html.erb:3
Started GET "/orders/new" for ::1 at 2020-07-09 17:16:20 +0700
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 46], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 46], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:10:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 4.0ms | Allocations: 1477)
  Rendered orders/new.html.erb within layouts/application (Duration: 5.3ms | Allocations: 1540)
Completed 500 Internal Server Error in 37ms (ActiveRecord: 1.7ms | Allocations: 7554)


  
ActionView::Template::Error (undefined method `errors' for nil:NilClass):
    1: <%= form_with(model: order, local: true) do |form| %>
    2:   <% if order.errors.any? %>
    3:     <div id="error_explanation">
    4:       <h2><%= pluralize(order.errors.count, "error") %> prohibited this order from being saved:</h2>
    5: 
  
app/views/orders/_form.html.erb:2
app/views/orders/_form.html.erb:1
app/views/orders/new.html.erb:3
Started GET "/orders/new" for ::1 at 2020-07-09 17:16:26 +0700
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 46], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 46], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:10:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 1.4ms | Allocations: 1477)
  Rendered orders/new.html.erb within layouts/application (Duration: 1.7ms | Allocations: 1540)
Completed 500 Internal Server Error in 21ms (ActiveRecord: 1.6ms | Allocations: 7604)


  
ActionView::Template::Error (undefined method `errors' for nil:NilClass):
    1: <%= form_with(model: order, local: true) do |form| %>
    2:   <% if order.errors.any? %>
    3:     <div id="error_explanation">
    4:       <h2><%= pluralize(order.errors.count, "error") %> prohibited this order from being saved:</h2>
    5: 
  
app/views/orders/_form.html.erb:2
app/views/orders/_form.html.erb:1
app/views/orders/new.html.erb:3
Started GET "/orders/new" for ::1 at 2020-07-09 17:17:56 +0700
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 46], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 46], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:10:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 4.6ms | Allocations: 1329)
  Rendered orders/new.html.erb within layouts/application (Duration: 7.3ms | Allocations: 1631)
Completed 500 Internal Server Error in 48ms (ActiveRecord: 3.1ms | Allocations: 8197)


  
ActionView::SyntaxErrorInTemplate (Encountered a syntax error while rendering template: check <%= form_with(model: order, local: true) do |form| %>
  <% if order.errors.any? %>
    <div id="error_explanation">
      <h2><%=# pluralize(order.errors.count, "error") %> prohibited this order from being saved:</h2>

      <ul>
        <% order.errors.full_messages.each do |message| %>
          <li><%= message %></li>
        <% end %>
      </ul>
    </div>
  <% end %>

  <div class="field">
    <%= form.label :name %>
    <%= form.text_field :name, size: 40 %>
  </div>

  <div class="field">
    <%= form.label :address %>
    <%= form.text_area :address, rows: 3, cols:40 %>
  </div>

  <div class="field">
    <%= form.label :email %>
    <%= form.text_field :email, size: 40 %>
  </div>

  <div class="field">
    <%= form.label :pay_type %>
    <%= form.select :pay_type, Order.pay_types.keys,
                        prompt: 'Select a payment method' %>
  </div>

  <div class="actions">
    <%= form.submit 'Place Order'%>
  </div>
<% end %>

):
1:    <%= form_with(model: order, local: true) do |form| %>
2:      <% if order.errors.any? %>
3:        <div id="error_explanation">
4:          <h2><%=# pluralize(order.errors.count, "error") %> prohibited this order from being saved:</h2>
5:    
6:          <ul>
7:            <% order.errors.full_messages.each do |message| %>
8:              <li><%= message %></li>
9:            <% end %>
10:          </ul>
11:        </div>
12:      <% end %>
13:    
14:      <div class="field">
15:        <%= form.label :name %>
16:        <%= form.text_field :name, size: 40 %>
17:      </div>
18:    
19:      <div class="field">
20:        <%= form.label :address %>
21:        <%= form.text_area :address, rows: 3, cols:40 %>
22:      </div>
23:    
24:      <div class="field">
25:        <%= form.label :email %>
26:        <%= form.text_field :email, size: 40 %>
27:      </div>
28:    
29:      <div class="field">
30:        <%= form.label :pay_type %>
31:        <%= form.select :pay_type, Order.pay_types.keys,
32:                            prompt: 'Select a payment method' %>
33:      </div>
34:    
35:      <div class="actions">
36:        <%= form.submit 'Place Order'%>
37:      </div>
38:    <% end %>
  
app/views/orders/_form.html.erb:6: syntax error, unexpected '<'
app/views/orders/_form.html.erb:10: unknown regexp option - l
app/views/orders/_form.html.erb:11: syntax error, unexpected '<'
app/views/orders/_form.html.erb:17: unknown regexp options - dv
app/views/orders/_form.html.erb:19: syntax error, unexpected '<'
app/views/orders/_form.html.erb:22: syntax error, unexpected '<', expecting ')'
app/views/orders/_form.html.erb:27: unknown regexp options - dv
app/views/orders/_form.html.erb:29: syntax error, unexpected '<'
app/views/orders/_form.html.erb:32: syntax error, unexpected constant, expecting ')'
app/views/orders/_form.html.erb:33: syntax error, unexpected '<', expecting ')'
app/views/orders/_form.html.erb:37: unknown regexp options - dv
app/views/orders/_form.html.erb:40: unterminated string meets end of file
app/views/orders/_form.html.erb:40: syntax error, unexpected end-of-input, expecting ')'
app/views/orders/_form.html.erb:6: syntax error, unexpected '<'
app/views/orders/_form.html.erb:10: unknown regexp option - l
app/views/orders/_form.html.erb:11: syntax error, unexpected '<'
app/views/orders/_form.html.erb:17: unknown regexp options - dv
app/views/orders/_form.html.erb:19: syntax error, unexpected '<'
app/views/orders/_form.html.erb:22: syntax error, unexpected '<', expecting ')'
app/views/orders/_form.html.erb:27: unknown regexp options - dv
app/views/orders/_form.html.erb:29: syntax error, unexpected '<'
app/views/orders/_form.html.erb:32: syntax error, unexpected constant, expecting ')'
app/views/orders/_form.html.erb:33: syntax error, unexpected '<', expecting ')'
app/views/orders/_form.html.erb:37: unknown regexp options - dv
app/views/orders/_form.html.erb:40: unterminated string meets end of file
app/views/orders/_form.html.erb:40: syntax error, unexpected end-of-input, expecting ')'
app/views/orders/_form.html.erb:6: syntax error, unexpected '<'
app/views/orders/_form.html.erb:10: unknown regexp option - l
app/views/orders/_form.html.erb:11: syntax error, unexpected '<'
app/views/orders/_form.html.erb:17: unknown regexp options - dv
app/views/orders/_form.html.erb:19: syntax error, unexpected '<'
app/views/orders/_form.html.erb:22: syntax error, unexpected '<', expecting ')'
app/views/orders/_form.html.erb:27: unknown regexp options - dv
app/views/orders/_form.html.erb:29: syntax error, unexpected '<'
app/views/orders/_form.html.erb:32: syntax error, unexpected constant, expecting ')'
app/views/orders/_form.html.erb:33: syntax error, unexpected '<', expecting ')'
app/views/orders/_form.html.erb:37: unknown regexp options - dv
app/views/orders/_form.html.erb:40: unterminated string meets end of file
app/views/orders/_form.html.erb:40: syntax error, unexpected end-of-input, expecting ')'
app/views/orders/_form.html.erb:6: syntax error, unexpected '<'
app/views/orders/_form.html.erb:10: unknown regexp option - l
app/views/orders/_form.html.erb:11: syntax error, unexpected '<'
app/views/orders/_form.html.erb:17: unknown regexp options - dv
app/views/orders/_form.html.erb:19: syntax error, unexpected '<'
app/views/orders/_form.html.erb:22: syntax error, unexpected '<', expecting ')'
app/views/orders/_form.html.erb:27: unknown regexp options - dv
app/views/orders/_form.html.erb:29: syntax error, unexpected '<'
app/views/orders/_form.html.erb:32: syntax error, unexpected constant, expecting ')'
app/views/orders/_form.html.erb:33: syntax error, unexpected '<', expecting ')'
app/views/orders/_form.html.erb:37: unknown regexp options - dv
app/views/orders/_form.html.erb:40: unterminated string meets end of file
app/views/orders/_form.html.erb:40: syntax error, unexpected end-of-input, expecting ')'
app/views/orders/_form.html.erb:6: syntax error, unexpected '<'
app/views/orders/_form.html.erb:10: unknown regexp option - l
app/views/orders/_form.html.erb:11: syntax error, unexpected '<'
app/views/orders/_form.html.erb:17: unknown regexp options - dv
app/views/orders/_form.html.erb:19: syntax error, unexpected '<'
app/views/orders/_form.html.erb:22: syntax error, unexpected '<', expecting ')'
app/views/orders/_form.html.erb:27: unknown regexp options - dv
app/views/orders/_form.html.erb:29: syntax error, unexpected '<'
app/views/orders/_form.html.erb:32: syntax error, unexpected constant, expecting ')'
app/views/orders/_form.html.erb:33: syntax error, unexpected '<', expecting ')'
app/views/orders/_form.html.erb:37: unknown regexp options - dv
app/views/orders/_form.html.erb:40: unterminated string meets end of file
app/views/orders/_form.html.erb:40: syntax error, unexpected end-of-input, expecting ')'
app/views/orders/_form.html.erb:6: syntax error, unexpected '<'
app/views/orders/_form.html.erb:10: unknown regexp option - l
app/views/orders/_form.html.erb:11: syntax error, unexpected '<'
app/views/orders/_form.html.erb:17: unknown regexp options - dv
app/views/orders/_form.html.erb:19: syntax error, unexpected '<'
app/views/orders/_form.html.erb:22: syntax error, unexpected '<', expecting ')'
app/views/orders/_form.html.erb:27: unknown regexp options - dv
app/views/orders/_form.html.erb:29: syntax error, unexpected '<'
app/views/orders/_form.html.erb:32: syntax error, unexpected constant, expecting ')'
app/views/orders/_form.html.erb:33: syntax error, unexpected '<', expecting ')'
app/views/orders/_form.html.erb:37: unknown regexp options - dv
app/views/orders/_form.html.erb:40: unterminated string meets end of file
app/views/orders/_form.html.erb:40: syntax error, unexpected end-of-input, expecting ')'
app/views/orders/new.html.erb:3
Started GET "/orders/new" for ::1 at 2020-07-09 17:18:08 +0700
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 46], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 46], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:10:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 6.0ms | Allocations: 1915)
  Rendered orders/new.html.erb within layouts/application (Duration: 7.8ms | Allocations: 2217)
Completed 500 Internal Server Error in 15ms (ActiveRecord: 0.3ms | Allocations: 4635)


  
ActionView::Template::Error (undefined method `errors' for nil:NilClass):
    1: <%= form_with(model: order, local: true) do |form| %>
    2:   <% if order.errors.any? %>
    3:     <div id="error_explanation">
    4:       <h2><%= pluralize(order.errors.count, "error") %> prohibited this order from being saved:</h2>
    5: 
  
app/views/orders/_form.html.erb:2
app/views/orders/_form.html.erb:1
app/views/orders/new.html.erb:3
Started GET "/orders/new" for ::1 at 2020-07-09 17:18:30 +0700
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.6ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 46], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 46], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:10:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 2.0ms | Allocations: 1915)
  Rendered orders/new.html.erb within layouts/application (Duration: 3.1ms | Allocations: 2217)
Completed 500 Internal Server Error in 11ms (ActiveRecord: 0.8ms | Allocations: 4634)


  
ActionView::Template::Error (undefined method `errors' for nil:NilClass):
    1: <%= form_with(model: order, local: true) do |form| %>
    2:   <% if order.errors.any? %>
    3:     <div id="error_explanation">
    4:       <h2><%= pluralize(order.errors.count, "error") %> prohibited this order from being saved:</h2>
    5: 
  
app/views/orders/_form.html.erb:2
app/views/orders/_form.html.erb:1
app/views/orders/new.html.erb:3
Started GET "/orders/new" for ::1 at 2020-07-09 17:19:03 +0700
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 46], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 46], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:10:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 3.8ms | Allocations: 1477)
  Rendered orders/new.html.erb within layouts/application (Duration: 5.6ms | Allocations: 1540)
Completed 500 Internal Server Error in 44ms (ActiveRecord: 3.3ms | Allocations: 7571)


  
ActionView::Template::Error (undefined method `errors' for nil:NilClass):
    1: <%= form_with(model: order, local: true) do |form| %>
    2:   <% if order.errors.any? %>
    3:     <div id="error_explanation">
    4:       <h2><%= pluralize(order.errors.count, "error") %> prohibited this order from being saved:</h2>
    5: 
  
app/views/orders/_form.html.erb:2
app/views/orders/_form.html.erb:1
app/views/orders/new.html.erb:3
Started GET "/orders/new" for ::1 at 2020-07-09 17:21:10 +0700
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  
SyntaxError (/home/khanh/Desktop/depot/app/controllers/orders_controller.rb:31: syntax error, unexpected local variable or method, expecting `end'
    @order = 0rder.find(id)
              ^~~~
):
  
app/controllers/orders_controller.rb:31: syntax error, unexpected local variable or method, expecting `end'
app/controllers/orders_controller.rb:31: syntax error, unexpected local variable or method, expecting `end'
app/controllers/orders_controller.rb:31: syntax error, unexpected local variable or method, expecting `end'
Started GET "/orders/new" for ::1 at 2020-07-09 17:21:21 +0700
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.6ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 46], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 46], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:10:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 3.6ms | Allocations: 1325)
  Rendered orders/new.html.erb within layouts/application (Duration: 7.7ms | Allocations: 1630)
Completed 500 Internal Server Error in 50ms (ActiveRecord: 5.0ms | Allocations: 8242)


  
ActionView::SyntaxErrorInTemplate (Encountered a syntax error while rendering template: check <%= form_with(model: order, local: true) do |form| %>
  <% if order.errors.any? %>
    <div id="error_explanation">
      <h2><%=# pluralize(order.errors.count, "error") %> prohibited this order from being saved:</h2>

      <ul>
        <% order.errors.full_messages.each do |message| %>
          <li><%= message %></li>
        <% end %>
      </ul>
    </div>
  <% end %>

  <div class="field">
    <%= form.label :name %>
    <%= form.text_field :name, size: 40 %>
  </div>

  <div class="field">
    <%= form.label :address %>
    <%= form.text_area :address, rows: 3, cols:40 %>
  </div>

  <div class="field">
    <%= form.label :email %>
    <%= form.text_field :email, size: 40 %>
  </div>

  <div class="field">
    <%= form.label :pay_type %>
    <%= form.select :pay_type, Order.pay_types.keys,
                        prompt: 'Select a payment method' %>
  </div>

  <div class="actions">
    <%= form.submit 'Place Order'%>
  </div>
<% end %>

):
1:    <%= form_with(model: order, local: true) do |form| %>
2:      <% if order.errors.any? %>
3:        <div id="error_explanation">
4:          <h2><%=# pluralize(order.errors.count, "error") %> prohibited this order from being saved:</h2>
5:    
6:          <ul>
7:            <% order.errors.full_messages.each do |message| %>
8:              <li><%= message %></li>
9:            <% end %>
10:          </ul>
11:        </div>
12:      <% end %>
13:    
14:      <div class="field">
15:        <%= form.label :name %>
16:        <%= form.text_field :name, size: 40 %>
17:      </div>
18:    
19:      <div class="field">
20:        <%= form.label :address %>
21:        <%= form.text_area :address, rows: 3, cols:40 %>
22:      </div>
23:    
24:      <div class="field">
25:        <%= form.label :email %>
26:        <%= form.text_field :email, size: 40 %>
27:      </div>
28:    
29:      <div class="field">
30:        <%= form.label :pay_type %>
31:        <%= form.select :pay_type, Order.pay_types.keys,
32:                            prompt: 'Select a payment method' %>
33:      </div>
34:    
35:      <div class="actions">
36:        <%= form.submit 'Place Order'%>
37:      </div>
38:    <% end %>
  
app/views/orders/_form.html.erb:6: syntax error, unexpected '<'
app/views/orders/_form.html.erb:10: unknown regexp option - l
app/views/orders/_form.html.erb:11: syntax error, unexpected '<'
app/views/orders/_form.html.erb:17: unknown regexp options - dv
app/views/orders/_form.html.erb:19: syntax error, unexpected '<'
app/views/orders/_form.html.erb:22: syntax error, unexpected '<', expecting ')'
app/views/orders/_form.html.erb:27: unknown regexp options - dv
app/views/orders/_form.html.erb:29: syntax error, unexpected '<'
app/views/orders/_form.html.erb:32: syntax error, unexpected constant, expecting ')'
app/views/orders/_form.html.erb:33: syntax error, unexpected '<', expecting ')'
app/views/orders/_form.html.erb:37: unknown regexp options - dv
app/views/orders/_form.html.erb:40: unterminated string meets end of file
app/views/orders/_form.html.erb:40: syntax error, unexpected end-of-input, expecting ')'
app/views/orders/_form.html.erb:6: syntax error, unexpected '<'
app/views/orders/_form.html.erb:10: unknown regexp option - l
app/views/orders/_form.html.erb:11: syntax error, unexpected '<'
app/views/orders/_form.html.erb:17: unknown regexp options - dv
app/views/orders/_form.html.erb:19: syntax error, unexpected '<'
app/views/orders/_form.html.erb:22: syntax error, unexpected '<', expecting ')'
app/views/orders/_form.html.erb:27: unknown regexp options - dv
app/views/orders/_form.html.erb:29: syntax error, unexpected '<'
app/views/orders/_form.html.erb:32: syntax error, unexpected constant, expecting ')'
app/views/orders/_form.html.erb:33: syntax error, unexpected '<', expecting ')'
app/views/orders/_form.html.erb:37: unknown regexp options - dv
app/views/orders/_form.html.erb:40: unterminated string meets end of file
app/views/orders/_form.html.erb:40: syntax error, unexpected end-of-input, expecting ')'
app/views/orders/_form.html.erb:6: syntax error, unexpected '<'
app/views/orders/_form.html.erb:10: unknown regexp option - l
app/views/orders/_form.html.erb:11: syntax error, unexpected '<'
app/views/orders/_form.html.erb:17: unknown regexp options - dv
app/views/orders/_form.html.erb:19: syntax error, unexpected '<'
app/views/orders/_form.html.erb:22: syntax error, unexpected '<', expecting ')'
app/views/orders/_form.html.erb:27: unknown regexp options - dv
app/views/orders/_form.html.erb:29: syntax error, unexpected '<'
app/views/orders/_form.html.erb:32: syntax error, unexpected constant, expecting ')'
app/views/orders/_form.html.erb:33: syntax error, unexpected '<', expecting ')'
app/views/orders/_form.html.erb:37: unknown regexp options - dv
app/views/orders/_form.html.erb:40: unterminated string meets end of file
app/views/orders/_form.html.erb:40: syntax error, unexpected end-of-input, expecting ')'
app/views/orders/_form.html.erb:6: syntax error, unexpected '<'
app/views/orders/_form.html.erb:10: unknown regexp option - l
app/views/orders/_form.html.erb:11: syntax error, unexpected '<'
app/views/orders/_form.html.erb:17: unknown regexp options - dv
app/views/orders/_form.html.erb:19: syntax error, unexpected '<'
app/views/orders/_form.html.erb:22: syntax error, unexpected '<', expecting ')'
app/views/orders/_form.html.erb:27: unknown regexp options - dv
app/views/orders/_form.html.erb:29: syntax error, unexpected '<'
app/views/orders/_form.html.erb:32: syntax error, unexpected constant, expecting ')'
app/views/orders/_form.html.erb:33: syntax error, unexpected '<', expecting ')'
app/views/orders/_form.html.erb:37: unknown regexp options - dv
app/views/orders/_form.html.erb:40: unterminated string meets end of file
app/views/orders/_form.html.erb:40: syntax error, unexpected end-of-input, expecting ')'
app/views/orders/_form.html.erb:6: syntax error, unexpected '<'
app/views/orders/_form.html.erb:10: unknown regexp option - l
app/views/orders/_form.html.erb:11: syntax error, unexpected '<'
app/views/orders/_form.html.erb:17: unknown regexp options - dv
app/views/orders/_form.html.erb:19: syntax error, unexpected '<'
app/views/orders/_form.html.erb:22: syntax error, unexpected '<', expecting ')'
app/views/orders/_form.html.erb:27: unknown regexp options - dv
app/views/orders/_form.html.erb:29: syntax error, unexpected '<'
app/views/orders/_form.html.erb:32: syntax error, unexpected constant, expecting ')'
app/views/orders/_form.html.erb:33: syntax error, unexpected '<', expecting ')'
app/views/orders/_form.html.erb:37: unknown regexp options - dv
app/views/orders/_form.html.erb:40: unterminated string meets end of file
app/views/orders/_form.html.erb:40: syntax error, unexpected end-of-input, expecting ')'
app/views/orders/_form.html.erb:6: syntax error, unexpected '<'
app/views/orders/_form.html.erb:10: unknown regexp option - l
app/views/orders/_form.html.erb:11: syntax error, unexpected '<'
app/views/orders/_form.html.erb:17: unknown regexp options - dv
app/views/orders/_form.html.erb:19: syntax error, unexpected '<'
app/views/orders/_form.html.erb:22: syntax error, unexpected '<', expecting ')'
app/views/orders/_form.html.erb:27: unknown regexp options - dv
app/views/orders/_form.html.erb:29: syntax error, unexpected '<'
app/views/orders/_form.html.erb:32: syntax error, unexpected constant, expecting ')'
app/views/orders/_form.html.erb:33: syntax error, unexpected '<', expecting ')'
app/views/orders/_form.html.erb:37: unknown regexp options - dv
app/views/orders/_form.html.erb:40: unterminated string meets end of file
app/views/orders/_form.html.erb:40: syntax error, unexpected end-of-input, expecting ')'
app/views/orders/new.html.erb:3
Started GET "/orders/new" for ::1 at 2020-07-09 17:21:51 +0700
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 46], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 46], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:10:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 2.2ms | Allocations: 1901)
  Rendered orders/new.html.erb within layouts/application (Duration: 3.4ms | Allocations: 2203)
Completed 500 Internal Server Error in 8ms (ActiveRecord: 0.3ms | Allocations: 4621)


  
ActionView::Template::Error (undefined method `errors' for nil:NilClass):
    1: <%= form_with(model: order, local: true) do |form| %>
    2:   <% if order.errors.any? %>
    3:     <div id="error_explanation">
    4:       
    5: 
  
app/views/orders/_form.html.erb:2
app/views/orders/_form.html.erb:1
app/views/orders/new.html.erb:3
Started GET "/orders/new" for ::1 at 2020-07-09 17:22:16 +0700
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  
SyntaxError (/home/khanh/Desktop/depot/app/controllers/orders_controller.rb:31: unexpected ...):
  
app/controllers/orders_controller.rb:31: unexpected ...
app/controllers/orders_controller.rb:31: unexpected ...
app/controllers/orders_controller.rb:31: unexpected ...
Started GET "/orders/new" for ::1 at 2020-07-09 17:22:23 +0700
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.6ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 46], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 46], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:10:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 7.8ms | Allocations: 1852)
  Rendered orders/new.html.erb within layouts/application (Duration: 13.3ms | Allocations: 2154)
Completed 500 Internal Server Error in 60ms (ActiveRecord: 5.7ms | Allocations: 8765)


  
ActionView::Template::Error (undefined method `errors' for nil:NilClass):
    1: <%= form_with(model: order, local: true) do |form| %>
    2:   <% if order.errors.any? %>
    3:     <div id="error_explanation">
    4:       <h2><%= pluralize(order.errors.count, "error") %> prohibited this order from being saved:</h2>
    5: 
  
app/views/orders/_form.html.erb:2
app/views/orders/_form.html.erb:1
app/views/orders/new.html.erb:3
Started GET "/orders/new" for ::1 at 2020-07-09 17:22:49 +0700
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 46], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 46], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:10:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 3.3ms | Allocations: 1477)
  Rendered orders/new.html.erb within layouts/application (Duration: 4.3ms | Allocations: 1540)
Completed 500 Internal Server Error in 49ms (ActiveRecord: 5.7ms | Allocations: 7553)


  
ActionView::Template::Error (undefined method `errors' for nil:NilClass):
    1: <%= form_with(model: order, local: true) do |form| %>
    2:   <% if order.errors.any? %>
    3:     <div id="error_explanation">
    4:       <h2><%= pluralize(order.errors.count, "error") %> prohibited this order from being saved:</h2>
    5: 
  
app/views/orders/_form.html.erb:2
app/views/orders/_form.html.erb:1
app/views/orders/new.html.erb:3
Started GET "/orders/new" for ::1 at 2020-07-09 17:23:14 +0700
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 46], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 46], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:10:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 340.2ms | Allocations: 125939)
  Rendered orders/new.html.erb within layouts/application (Duration: 346.9ms | Allocations: 126244)
Completed 500 Internal Server Error in 372ms (ActiveRecord: 1.5ms | Allocations: 132874)


  
ActionView::Template::Error (undefined local variable or method `orders' for #<#<Class:0x00007f897d5c62b0>:0x00007f897d5c48c0>
Did you mean?  order):
    1: <%= form_with(model: order, local: true) do |form| %>
    2:   <% if orders.errors.any? %>
    3:     <div id="error_explanation">
    4:       <h2><%= pluralize(order.errors.count, "error") %> prohibited this order from being saved:</h2>
    5: 
  
app/views/orders/_form.html.erb:2
app/views/orders/_form.html.erb:1
app/views/orders/new.html.erb:3
Started GET "/orders/new" for ::1 at 2020-07-09 17:23:50 +0700
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 46], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 46], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:10:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 7.9ms | Allocations: 1915)
  Rendered orders/new.html.erb within layouts/application (Duration: 11.6ms | Allocations: 2217)
Completed 500 Internal Server Error in 26ms (ActiveRecord: 0.6ms | Allocations: 4635)


  
ActionView::Template::Error (undefined method `errors' for nil:NilClass):
    1: <%= form_with(model: order, local: true) do |form| %>
    2:   <% if order.errors.any? %>
    3:     <div id="error_explanation">
    4:       <h2><%= pluralize(order.errors.count, "error") %> prohibited this order from being saved:</h2>
    5: 
  
app/views/orders/_form.html.erb:2
app/views/orders/_form.html.erb:1
app/views/orders/new.html.erb:3
Started GET "/orders/new" for ::1 at 2020-07-09 17:24:39 +0700
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 46], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 46], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:10:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 5.6ms | Allocations: 1477)
  Rendered orders/new.html.erb within layouts/application (Duration: 6.6ms | Allocations: 1541)
Completed 500 Internal Server Error in 29ms (ActiveRecord: 1.4ms | Allocations: 7722)


  
ActionView::Template::Error (undefined method `errors' for nil:NilClass):
    1: <%= form_with(model: order, local: true) do |form| %>
    2:   <% if order.errors.any? %>
    3:     <div id="error_explanation">
    4:       <h2><%= pluralize(order.errors.count, "error") %> prohibited this order from being saved:</h2>
    5: 
  
app/views/orders/_form.html.erb:2
app/views/orders/_form.html.erb:1
app/views/orders/new.html.erb:3
Started GET "/orders/new" for ::1 at 2020-07-09 17:25:10 +0700
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 46], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 46], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:10:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 3.9ms | Allocations: 1886)
  Rendered orders/new.html.erb within layouts/application (Duration: 5.4ms | Allocations: 2188)
Completed 500 Internal Server Error in 11ms (ActiveRecord: 0.3ms | Allocations: 4606)


  
ActionView::Template::Error (undefined method `errors' for nil:NilClass):
    1: <%= form_with(model: order, local: true) do |form| %>
    2:   
    3:     <div id="error_explanation">
    4:       <h2><%= pluralize(order.errors.count, "error") %> prohibited this order from being saved:</h2>
    5: 
    6:       <ul>
    7:         <% order.errors.full_messages.each do |message| %>
  
app/views/orders/_form.html.erb:4
app/views/orders/_form.html.erb:1
app/views/orders/new.html.erb:3
Started GET "/orders/new" for ::1 at 2020-07-09 17:25:42 +0700
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 46], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 46], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:10:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 279.4ms | Allocations: 7567)
  Rendered orders/new.html.erb within layouts/application (Duration: 280.8ms | Allocations: 7894)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 46], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:16
  [1m[36mCACHE LineItem Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 46], ["LIMIT", 1]]
  ↳ app/views/carts/_cart.html.erb:5
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 46]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:8
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:8
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 34.1ms | Allocations: 7395)
  Rendered carts/_cart.html.erb (Duration: 76.0ms | Allocations: 13846)
Completed 200 OK in 392ms (Views: 376.9ms | ActiveRecord: 4.1ms | Allocations: 28813)


Started GET "/cable" for ::1 at 2020-07-09 17:25:42 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-09 17:25:42 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/orders/new" for ::1 at 2020-07-09 17:25:45 +0700
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 46], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 46], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:10:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 5.2ms | Allocations: 4144)
  Rendered orders/new.html.erb within layouts/application (Duration: 5.7ms | Allocations: 4227)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 46], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:16
  [1m[36mCACHE LineItem Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 46], ["LIMIT", 1]]
  ↳ app/views/carts/_cart.html.erb:5
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 46]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:8
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:8
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 7.1ms | Allocations: 1777)
  Rendered carts/_cart.html.erb (Duration: 17.4ms | Allocations: 3582)
Completed 200 OK in 39ms (Views: 33.6ms | ActiveRecord: 1.0ms | Allocations: 13690)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-09 17:25:45 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-09 17:25:45 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-09 17:25:45 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/orders/new" for ::1 at 2020-07-09 17:25:46 +0700
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 46], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 46], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:10:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 12.3ms | Allocations: 4141)
  Rendered orders/new.html.erb within layouts/application (Duration: 13.4ms | Allocations: 4223)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 46], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:16
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 46], ["LIMIT", 1]]
  ↳ app/views/carts/_cart.html.erb:5
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 46]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:8
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:8
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 4.2ms | Allocations: 1777)
  Rendered carts/_cart.html.erb (Duration: 9.2ms | Allocations: 3581)
Completed 200 OK in 50ms (Views: 36.4ms | ActiveRecord: 1.5ms | Allocations: 13692)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-09 17:25:46 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-09 17:25:46 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-09 17:25:46 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/orders/new" for ::1 at 2020-07-09 17:25:46 +0700
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 46], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 46], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:10:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 7.3ms | Allocations: 4138)
  Rendered orders/new.html.erb within layouts/application (Duration: 8.6ms | Allocations: 4220)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 46], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:16
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 46], ["LIMIT", 1]]
  ↳ app/views/carts/_cart.html.erb:5
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 46]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:8
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:8
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 9.6ms | Allocations: 1777)
  Rendered carts/_cart.html.erb (Duration: 18.1ms | Allocations: 3581)
Completed 200 OK in 49ms (Views: 43.3ms | ActiveRecord: 1.2ms | Allocations: 13695)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-09 17:25:47 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-09 17:25:47 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-09 17:25:47 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/orders/new" for ::1 at 2020-07-09 17:25:52 +0700
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 46], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 46], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:10:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 4.2ms | Allocations: 4140)
  Rendered orders/new.html.erb within layouts/application (Duration: 4.8ms | Allocations: 4222)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 46], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:16
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 46], ["LIMIT", 1]]
  ↳ app/views/carts/_cart.html.erb:5
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 46]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:8
  [1m[36mProduct Load (0.8ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:8
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 7.4ms | Allocations: 1777)
  Rendered carts/_cart.html.erb (Duration: 14.9ms | Allocations: 3581)
Completed 200 OK in 39ms (Views: 31.9ms | ActiveRecord: 1.7ms | Allocations: 13689)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-09 17:25:52 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-09 17:25:52 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-09 17:25:52 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/orders/new" for ::1 at 2020-07-09 17:26:11 +0700
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.6ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 46], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 46], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:10:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 5.8ms | Allocations: 4928)
  Rendered orders/new.html.erb within layouts/application (Duration: 9.0ms | Allocations: 5012)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mCACHE LineItem Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 46], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:16
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 46], ["LIMIT", 1]]
  ↳ app/views/carts/_cart.html.erb:5
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 46]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:8
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:8
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 38.6ms | Allocations: 7233)
  Rendered carts/_cart.html.erb (Duration: 58.2ms | Allocations: 13281)
Completed 200 OK in 118ms (Views: 85.3ms | ActiveRecord: 9.6ms | Allocations: 28673)


Started GET "/cable" for ::1 at 2020-07-09 17:26:11 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-09 17:26:11 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/orders/new" for ::1 at 2020-07-09 17:26:12 +0700
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 46], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 46], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:10:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 4.4ms | Allocations: 4140)
  Rendered orders/new.html.erb within layouts/application (Duration: 4.9ms | Allocations: 4222)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mCACHE LineItem Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 46], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:16
  [1m[36mCACHE LineItem Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 46], ["LIMIT", 1]]
  ↳ app/views/carts/_cart.html.erb:5
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 46]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:8
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:8
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 10.0ms | Allocations: 1777)
  Rendered carts/_cart.html.erb (Duration: 22.8ms | Allocations: 3581)
Completed 200 OK in 56ms (Views: 45.5ms | ActiveRecord: 2.0ms | Allocations: 13681)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-09 17:26:12 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-09 17:26:12 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-09 17:26:12 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/orders/new" for ::1 at 2020-07-09 17:26:51 +0700
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 46], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 46], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:10:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 5.3ms | Allocations: 4413)
  Rendered orders/new.html.erb within layouts/application (Duration: 7.8ms | Allocations: 4750)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mCACHE LineItem Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 46], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:16
  [1m[36mCACHE LineItem Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 46], ["LIMIT", 1]]
  ↳ app/views/carts/_cart.html.erb:5
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 46]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:8
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:8
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 6.5ms | Allocations: 1940)
  Rendered carts/_cart.html.erb (Duration: 28.8ms | Allocations: 4115)
Completed 200 OK in 61ms (Views: 56.7ms | ActiveRecord: 0.9ms | Allocations: 15872)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-09 17:26:51 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-09 17:26:51 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-09 17:26:51 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for ::1 at 2020-07-09 17:26:56 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-09 17:26:56 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-09 17:26:56 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/orders/" for ::1 at 2020-07-09 17:27:51 +0700
Processing by OrdersController#index as HTML
  Rendering orders/index.html.erb within layouts/application
  Rendered orders/index.html.erb within layouts/application (Duration: 2.6ms | Allocations: 1650)
Completed 500 Internal Server Error in 8ms (ActiveRecord: 0.0ms | Allocations: 2795)


  
ActionView::Template::Error (undefined method `each' for nil:NilClass):
    14:   </thead>
    15: 
    16:   <tbody>
    17:     <% @orders.each do |order| %>
    18:       <tr>
    19:         <td><%= order.name %></td>
    20:         <td><%= order.address %></td>
  
app/views/orders/index.html.erb:17
Finished "/cable/" [WebSocket] for ::1 at 2020-07-09 17:27:52 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-09 17:27:56 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-09 17:27:56 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/orders/new" for ::1 at 2020-07-09 17:28:22 +0700
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  
ActionController::RoutingError (No route matches [GET] "/orders/new"):
  
actionpack (6.0.3.2) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
web-console (4.0.3) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.3) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.3) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.3) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.3.2) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.3.2) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.3.2) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.3.2) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.3.2) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.3.2) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.3) lib/rack/method_override.rb:24:in `call'
rack (2.2.3) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.3.2) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.3) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
webpacker (4.2.2) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.3.2) lib/rails/engine.rb:527:in `call'
puma (4.3.5) lib/puma/configuration.rb:228:in `call'
puma (4.3.5) lib/puma/server.rb:713:in `handle_request'
puma (4.3.5) lib/puma/server.rb:472:in `process_client'
puma (4.3.5) lib/puma/server.rb:328:in `block in run'
puma (4.3.5) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/orders/new" for ::1 at 2020-07-09 17:28:23 +0700
  
ActionController::RoutingError (No route matches [GET] "/orders/new"):
  
actionpack (6.0.3.2) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
web-console (4.0.3) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.3) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.3) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.3) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.3.2) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.3.2) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.3.2) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.3.2) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.3.2) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.3.2) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.3) lib/rack/method_override.rb:24:in `call'
rack (2.2.3) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.3.2) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.3) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
webpacker (4.2.2) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.3.2) lib/rails/engine.rb:527:in `call'
puma (4.3.5) lib/puma/configuration.rb:228:in `call'
puma (4.3.5) lib/puma/server.rb:713:in `handle_request'
puma (4.3.5) lib/puma/server.rb:472:in `process_client'
puma (4.3.5) lib/puma/server.rb:328:in `block in run'
puma (4.3.5) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/orders/new" for ::1 at 2020-07-09 17:28:31 +0700
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.9ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 46], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 46], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:10:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 13.2ms | Allocations: 5193)
  Rendered orders/new.html.erb within layouts/application (Duration: 15.0ms | Allocations: 5517)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 46], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:16
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 46], ["LIMIT", 1]]
  ↳ app/views/carts/_cart.html.erb:5
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 46]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:8
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:8
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 34.3ms | Allocations: 7396)
  Rendered carts/_cart.html.erb (Duration: 71.3ms | Allocations: 13828)
Completed 200 OK in 140ms (Views: 101.9ms | ActiveRecord: 8.2ms | Allocations: 30204)


Started GET "/cable" for ::1 at 2020-07-09 17:28:32 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-09 17:28:32 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/cable" for ::1 at 2020-07-09 17:30:17 +0700
  [1m[35m (6.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Started GET "/orders/new" for ::1 at 2020-07-09 17:30:17 +0700
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-09 17:30:17 +0700
Processing by OrdersController#new as HTML
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 46], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 46], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:10:in `ensure_cart_isnt_empty'
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 23.5ms | Allocations: 6843)
  Rendered orders/new.html.erb within layouts/application (Duration: 28.6ms | Allocations: 7291)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mCACHE LineItem Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 46], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:16
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 46], ["LIMIT", 1]]
  ↳ app/views/carts/_cart.html.erb:5
  [1m[36mLineItem Load (1.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 46]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:8
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:8
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 41.7ms | Allocations: 8312)
  Rendered carts/_cart.html.erb (Duration: 81.0ms | Allocations: 15160)
Completed 200 OK in 254ms (Views: 172.2ms | ActiveRecord: 10.2ms | Allocations: 43211)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-09 17:30:18 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-09 17:30:18 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-09 17:30:18 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/orders/new" for ::1 at 2020-07-09 17:30:19 +0700
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 46], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 46], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:10:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 3.1ms | Allocations: 4146)
  Rendered orders/new.html.erb within layouts/application (Duration: 3.6ms | Allocations: 4230)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mCACHE LineItem Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 46], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:16
  [1m[36mCACHE LineItem Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 46], ["LIMIT", 1]]
  ↳ app/views/carts/_cart.html.erb:5
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 46]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:8
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:8
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 11.1ms | Allocations: 1777)
  Rendered carts/_cart.html.erb (Duration: 26.5ms | Allocations: 3582)
Completed 200 OK in 53ms (Views: 46.3ms | ActiveRecord: 1.9ms | Allocations: 13720)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-09 17:30:19 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-09 17:30:19 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-09 17:30:19 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/orders/new" for ::1 at 2020-07-09 17:32:20 +0700
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 46], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 46], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:10:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 12.2ms | Allocations: 4936)
  Rendered orders/new.html.erb within layouts/application (Duration: 14.7ms | Allocations: 5131)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 46], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:16
  [1m[36mCACHE LineItem Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 46], ["LIMIT", 1]]
  ↳ app/views/carts/_cart.html.erb:5
  [1m[36mLineItem Load (0.7ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 46]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:8
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:8
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 34.3ms | Allocations: 7234)
  Rendered carts/_cart.html.erb (Duration: 64.7ms | Allocations: 13282)
Completed 200 OK in 123ms (Views: 95.0ms | ActiveRecord: 7.2ms | Allocations: 28703)


Started GET "/cable" for ::1 at 2020-07-09 17:32:21 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-09 17:32:21 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/orders/new" for ::1 at 2020-07-09 17:32:33 +0700
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 46], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 46], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:10:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 11.5ms | Allocations: 4932)
  Rendered orders/new.html.erb within layouts/application (Duration: 12.3ms | Allocations: 5016)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 46], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:16
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 46], ["LIMIT", 1]]
  ↳ app/views/carts/_cart.html.erb:5
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 46]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (1.0ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:8
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:8
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 33.6ms | Allocations: 7250)
  Rendered carts/_cart.html.erb (Duration: 52.0ms | Allocations: 13299)
Completed 200 OK in 102ms (Views: 79.9ms | ActiveRecord: 3.8ms | Allocations: 28697)


Started GET "/cable" for ::1 at 2020-07-09 17:32:33 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-09 17:32:33 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/orders/new" for ::1 at 2020-07-09 17:32:34 +0700
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 46], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 46], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:10:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 8.4ms | Allocations: 4141)
  Rendered orders/new.html.erb within layouts/application (Duration: 9.4ms | Allocations: 4223)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mCACHE LineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 46], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:16
  [1m[36mCACHE LineItem Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 46], ["LIMIT", 1]]
  ↳ app/views/carts/_cart.html.erb:5
  [1m[36mLineItem Load (0.8ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 46]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:8
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:8
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 7.0ms | Allocations: 1777)
  Rendered carts/_cart.html.erb (Duration: 21.2ms | Allocations: 3581)
Completed 200 OK in 65ms (Views: 51.3ms | ActiveRecord: 3.0ms | Allocations: 13707)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-09 17:32:34 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-09 17:32:34 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-09 17:32:34 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/" for ::1 at 2020-07-09 22:30:57 +0700
  [1m[35m (3.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.7ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by StoreController#index as HTML
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[36mCart Create (13.7ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2020-07-09 15:30:57.215842"], ["updated_at", "2020-07-09 15:30:57.215842"]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[35m (88.8ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (1.7ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 434.9ms | Allocations: 12953)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 47], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:16
Completed 200 OK in 820ms (Views: 612.5ms | ActiveRecord: 107.9ms | Allocations: 31255)


Started GET "/cable" for ::1 at 2020-07-09 22:30:58 +0700
  [1m[35m (0.6ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-09 22:30:58 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started POST "/line_items?product_id=4" for ::1 at 2020-07-09 22:32:07 +0700
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"nyWwNnfFf8V9BUwsNp9MIQ9X7ApNEBmgIJyZUjULTY8xVl1XNHvZa6KGjFrE8EYQPInPtKS1xe3fuymWK54dgg==", "product_id"=>"4"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 47], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 47], ["product_id", 4], ["LIMIT", 1]]
  ↳ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mLineItem Create (9.6ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 4], ["cart_id", 47], ["created_at", "2020-07-09 15:32:07.391234"], ["updated_at", "2020-07-09 15:32:07.391234"]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[35m (98.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 47]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 11.5ms | Allocations: 304)
  Rendered carts/_cart.html.erb (Duration: 28.8ms | Allocations: 2201)
  Rendered line_items/create.js.erb (Duration: 59.8ms | Allocations: 2626)
Completed 200 OK in 196ms (Views: 64.1ms | ActiveRecord: 109.8ms | Allocations: 16161)


Started GET "/orders/new" for ::1 at 2020-07-09 22:32:09 +0700
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.6ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 47], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 47], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:10:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 14.3ms | Allocations: 2222)
  Rendered orders/new.html.erb within layouts/application (Duration: 21.0ms | Allocations: 2528)
Completed 500 Internal Server Error in 38ms (ActiveRecord: 1.1ms | Allocations: 4868)


  
ActionView::Template::Error (undefined method `errors' for nil:NilClass):
    1: <%= form_with(model: order, local: true) do |form| %>
    2:   <% if order.errors.any? %>
    3:     <div id="error_explanation">
    4:       <h2><%= pluralize(order.errors.count, "error") %> prohibited this order from being saved:</h2>
    5: 
  
app/views/orders/_form.html.erb:2
app/views/orders/_form.html.erb:1
app/views/orders/new.html.erb:3
Finished "/cable/" [WebSocket] for ::1 at 2020-07-09 22:32:10 +0700
ProductsChannel stopped streaming from products
Started GET "/orders/new" for ::1 at 2020-07-09 22:56:09 +0700
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by OrdersController#new as HTML
  [1m[36mCart Load (23.7ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 47], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Exists? (27.0ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 47], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:10:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 7.8ms | Allocations: 1856)
  Rendered orders/new.html.erb within layouts/application (Duration: 10.8ms | Allocations: 2164)
Completed 500 Internal Server Error in 163ms (ActiveRecord: 50.8ms | Allocations: 8277)


  
ActionView::Template::Error (undefined method `errors' for nil:NilClass):
    1: <%= form_with(model: order, local: true) do |form| %>
    2:   <% if order.errors.any? %>
    3:     <div id="error_explanation">
    4:       <h2><%= pluralize(order.errors.count, "error") %> prohibited this order from being saved:</h2>
    5: 
  
app/views/orders/_form.html.erb:2
app/views/orders/_form.html.erb:1
app/views/orders/new.html.erb:3
Started GET "/orders/new" for ::1 at 2020-07-09 22:56:25 +0700
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 47], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 47], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:10:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 2.7ms | Allocations: 1919)
  Rendered orders/new.html.erb within layouts/application (Duration: 4.6ms | Allocations: 2222)
Completed 500 Internal Server Error in 20ms (ActiveRecord: 1.2ms | Allocations: 4648)


  
ActionView::Template::Error (undefined method `errors' for nil:NilClass):
    1: <%= form_with(model: order, local: true) do |form| %>
    2:   # <% if order.errors.any? %>
    3:   #   <div id="error_explanation">
    4:   #     <h2><%= pluralize(order.errors.count, "error") %> prohibited this order from being saved:</h2>
    5: 
  
app/views/orders/_form.html.erb:2
app/views/orders/_form.html.erb:1
app/views/orders/new.html.erb:3
Started GET "/orders/new" for ::1 at 2020-07-09 22:56:48 +0700
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 47], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 47], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:10:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 513.4ms | Allocations: 7563)
  Rendered orders/new.html.erb within layouts/application (Duration: 515.2ms | Allocations: 7887)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mCACHE LineItem Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 47], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:16
  [1m[36mLineItem Load (9.8ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 47]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (12.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:8
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 90.4ms | Allocations: 6158)
  Rendered carts/_cart.html.erb (Duration: 154.9ms | Allocations: 11799)
Completed 200 OK in 995ms (Views: 963.0ms | ActiveRecord: 22.9ms | Allocations: 26769)


Started GET "/cable" for ::1 at 2020-07-09 22:56:50 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-09 22:56:50 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/orders/new" for ::1 at 2020-07-09 22:56:54 +0700
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 47], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 47], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:10:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 4.4ms | Allocations: 4145)
  Rendered orders/new.html.erb within layouts/application (Duration: 5.0ms | Allocations: 4228)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 47], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:16
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 47]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:8
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 2.2ms | Allocations: 889)
  Rendered carts/_cart.html.erb (Duration: 5.1ms | Allocations: 2035)
Completed 200 OK in 27ms (Views: 22.2ms | ActiveRecord: 0.5ms | Allocations: 12162)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-09 22:56:54 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-09 22:56:54 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-09 22:56:54 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/orders" for ::1 at 2020-07-09 22:57:11 +0700
Processing by OrdersController#index as HTML
  Rendering orders/index.html.erb within layouts/application
  Rendered orders/index.html.erb within layouts/application (Duration: 107.0ms | Allocations: 1837)
Completed 500 Internal Server Error in 111ms (ActiveRecord: 0.0ms | Allocations: 2388)


  
ActionView::Template::Error (undefined method `each' for nil:NilClass):
    14:   </thead>
    15: 
    16:   <tbody>
    17:     <% @orders.each do |order| %>
    18:       <tr>
    19:         <td><%= order.name %></td>
    20:         <td><%= order.address %></td>
  
app/views/orders/index.html.erb:17
Started GET "/orders" for ::1 at 2020-07-09 22:57:26 +0700
Processing by OrdersController#index as HTML
  Rendering orders/index.html.erb within layouts/application
  Rendered orders/index.html.erb within layouts/application (Duration: 3.9ms | Allocations: 1643)
Completed 500 Internal Server Error in 10ms (ActiveRecord: 0.0ms | Allocations: 2794)


  
ActionView::Template::Error (undefined method `each' for nil:NilClass):
    14:   </thead>
    15: 
    16:   <tbody>
    17:     <% @orders.each do |order| %>
    18:       <tr>
    19:         <td><%= order.name %></td>
    20:         <td><%= order.address %></td>
  
app/views/orders/index.html.erb:17
Finished "/cable/" [WebSocket] for ::1 at 2020-07-09 22:57:27 +0700
ProductsChannel stopped streaming from products
Started GET "/orders/new" for ::1 at 2020-07-09 22:57:31 +0700
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 47], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 47], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:10:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 2.3ms | Allocations: 1915)
  Rendered orders/new.html.erb within layouts/application (Duration: 3.1ms | Allocations: 2217)
Completed 500 Internal Server Error in 12ms (ActiveRecord: 0.8ms | Allocations: 4043)


  
ActionView::Template::Error (undefined method `errors' for nil:NilClass):
    1: <%= form_with(model: order, local: true) do |form| %>
    2:   <% if order.errors.any? %>
    3:     <div id="error_explanation">
    4:       <h2><%= pluralize(order.errors.count, "error") %> prohibited this order from being saved:</h2>
    5: 
  
app/views/orders/_form.html.erb:2
app/views/orders/_form.html.erb:1
app/views/orders/new.html.erb:3
  [1m[35m (1.7ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[36mActiveRecord::InternalMetadata Load (31.8ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/orders/new" for ::1 at 2020-07-09 23:03:37 +0700
  [1m[35m (1.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 47], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 47], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:10:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 5.0ms | Allocations: 2232)
  Rendered orders/new.html.erb within layouts/application (Duration: 7.2ms | Allocations: 2971)
Completed 500 Internal Server Error in 117ms (ActiveRecord: 3.0ms | Allocations: 13407)


  
ActionView::Template::Error (undefined method `errors' for nil:NilClass):
    1: <%= form_with(model: order, local: true) do |form| %>
    2:   <% if order.errors.any? %>
    3:     <div id="error_explanation">
    4:       <h2><%= pluralize(order.errors.count, "error") %> prohibited this order from being saved:</h2>
    5: 
  
app/views/orders/_form.html.erb:2
app/views/orders/_form.html.erb:1
app/views/orders/new.html.erb:3
Started GET "/orders/new" for ::1 at 2020-07-09 23:06:18 +0700
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 47], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 47], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:10:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 5.4ms | Allocations: 1920)
  Rendered orders/new.html.erb within layouts/application (Duration: 7.6ms | Allocations: 2223)
Completed 500 Internal Server Error in 23ms (ActiveRecord: 0.9ms | Allocations: 4729)


  
ActionView::Template::Error (undefined method `errors' for nil:NilClass):
    1: <%= form_with(model: order, local: true) do |form| %>
    2:   <% if order.errors.any? %>
    3:     <div id="error_explanation">
    4:       <h2><%= pluralize(order.errors.count, "error") %> prohibited this order from being saved:</h2>
    5: 
  
app/views/orders/_form.html.erb:2
app/views/orders/_form.html.erb:1
app/views/orders/new.html.erb:3
Started GET "/orders/new" for ::1 at 2020-07-09 23:10:03 +0700
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 47], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 47], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:10:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 3.5ms | Allocations: 1478)
  Rendered orders/new.html.erb within layouts/application (Duration: 4.1ms | Allocations: 1542)
Completed 500 Internal Server Error in 24ms (ActiveRecord: 1.8ms | Allocations: 7793)


  
ActionView::Template::Error (undefined method `errors' for nil:NilClass):
    1: <%= form_with(model: order, local: true) do |form| %>
    2:   <% if order.errors.any? %>
    3:     <div id="error_explanation">
    4:       <h2><%= pluralize(order.errors.count, "error") %> prohibited this order from being saved:</h2>
    5: 
  
app/views/orders/_form.html.erb:2
app/views/orders/_form.html.erb:1
app/views/orders/new.html.erb:3
Started GET "/orders/new" for ::1 at 2020-07-09 23:10:06 +0700
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 47], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 47], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:10:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 4.2ms | Allocations: 1542)
  Rendered orders/new.html.erb within layouts/application (Duration: 5.3ms | Allocations: 1606)
Completed 500 Internal Server Error in 11ms (ActiveRecord: 0.4ms | Allocations: 3339)


  
ActionView::Template::Error (undefined method `errors' for nil:NilClass):
    1: <%= form_with(model: order, local: true) do |form| %>
    2:   <% if order.errors.any? %>
    3:     <div id="error_explanation">
    4:       <h2><%= pluralize(order.errors.count, "error") %> prohibited this order from being saved:</h2>
    5: 
  
app/views/orders/_form.html.erb:2
app/views/orders/_form.html.erb:1
app/views/orders/new.html.erb:3
Started GET "/orders/new" for ::1 at 2020-07-09 23:10:28 +0700
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 47], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 47], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:10:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 16.9ms | Allocations: 1478)
  Rendered orders/new.html.erb within layouts/application (Duration: 18.4ms | Allocations: 1542)
Completed 500 Internal Server Error in 51ms (ActiveRecord: 4.6ms | Allocations: 7622)


  
ActionView::Template::Error (undefined method `errors' for nil:NilClass):
    1: <%= form_with(model: order, local: true) do |form| %>
    2:   <% if order.errors.any? %>
    3:     <div id="error_explanation">
    4:       <h2><%= pluralize(order.errors.count, "error") %> prohibited this order from being saved:</h2>
    5: 
  
app/views/orders/_form.html.erb:2
app/views/orders/_form.html.erb:1
app/views/orders/new.html.erb:3
Started GET "/orders/new" for ::1 at 2020-07-09 23:10:54 +0700
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.7ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 47], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 47], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:10:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 3.1ms | Allocations: 1477)
  Rendered orders/new.html.erb within layouts/application (Duration: 4.5ms | Allocations: 1608)
Completed 500 Internal Server Error in 27ms (ActiveRecord: 2.8ms | Allocations: 7714)


  
ActionView::Template::Error (undefined method `errors' for nil:NilClass):
    1: <%= form_with(model: order, local: true) do |form| %>
    2:   <% if order.errors.any? %>
    3:     <div id="error_explanation">
    4:       <h2><%= pluralize(order.errors.count, "error") %> prohibited this order from being saved:</h2>
    5: 
  
app/views/orders/_form.html.erb:2
app/views/orders/_form.html.erb:1
app/views/orders/new.html.erb:3
Started GET "/orders/new" for ::1 at 2020-07-09 23:11:03 +0700
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 47], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 47], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:10:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 435.0ms | Allocations: 123522)
  Rendered orders/new.html.erb within layouts/application (Duration: 436.5ms | Allocations: 123826)
Completed 500 Internal Server Error in 449ms (ActiveRecord: 0.7ms | Allocations: 126252)


  
ActionView::Template::Error (undefined local variable or method `orders' for #<#<Class:0x00005605fd4915e8>:0x00005605fd44d550>
Did you mean?  order):
    1: <%= form_with(model: orders, local: true) do |form| %>
    2:   <% if order.errors.any? %>
    3:     <div id="error_explanation">
    4:       <h2><%= pluralize(order.errors.count, "error") %> prohibited this order from being saved:</h2>
  
app/views/orders/_form.html.erb:1
app/views/orders/new.html.erb:3
Started GET "/orders/new" for ::1 at 2020-07-09 23:11:10 +0700
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 47], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 47], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:10:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 2.6ms | Allocations: 1915)
  Rendered orders/new.html.erb within layouts/application (Duration: 4.3ms | Allocations: 2217)
Completed 500 Internal Server Error in 20ms (ActiveRecord: 1.3ms | Allocations: 4642)


  
ActionView::Template::Error (undefined method `errors' for nil:NilClass):
    1: <%= form_with(model: order, local: true) do |form| %>
    2:   <% if order.errors.any? %>
    3:     <div id="error_explanation">
    4:       <h2><%= pluralize(order.errors.count, "error") %> prohibited this order from being saved:</h2>
    5: 
  
app/views/orders/_form.html.erb:2
app/views/orders/_form.html.erb:1
app/views/orders/new.html.erb:3
Started GET "/orders/new" for ::1 at 2020-07-09 23:11:16 +0700
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 47], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 47], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:10:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 267.9ms | Allocations: 123544)
  Rendered orders/new.html.erb within layouts/application (Duration: 269.5ms | Allocations: 123849)
Completed 500 Internal Server Error in 281ms (ActiveRecord: 0.6ms | Allocations: 126274)


  
ActionView::Template::Error (undefined local variable or method `orders' for #<#<Class:0x00007f4664e99e48>:0x00007f4664e98138>
Did you mean?  order):
    1: <%= form_with(model: order, local: true) do |form| %>
    2:   <% if orders.errors.any? %>
    3:     <div id="error_explanation">
    4:       <h2><%= pluralize(order.errors.count, "error") %> prohibited this order from being saved:</h2>
    5: 
  
app/views/orders/_form.html.erb:2
app/views/orders/_form.html.erb:1
app/views/orders/new.html.erb:3
Started GET "/orders/new" for ::1 at 2020-07-09 23:11:31 +0700
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 47], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 47], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:10:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 1.8ms | Allocations: 1402)
  Rendered orders/new.html.erb within layouts/application (Duration: 3.8ms | Allocations: 1704)
Completed 500 Internal Server Error in 16ms (ActiveRecord: 0.6ms | Allocations: 4130)


  
ActionView::SyntaxErrorInTemplate (Encountered a syntax error while rendering template: check <%= form_with(model: order, local: true) do |form| %>
  <%= if order.errors.any? %>
    <div id="error_explanation">
      <h2><%= pluralize(order.errors.count, "error") %> prohibited this order from being saved:</h2>

      <ul>
        <% order.errors.full_messages.each do |message| %>
          <li><%= message %></li>
        <% end %>
      </ul>
    </div>
  <% end %>

  <div class="field">
    <%= form.label :name %>
    <%= form.text_field :name, size: 40 %>
  </div>

  <div class="field">
    <%= form.label :address %>
    <%= form.text_area :address, rows: 3, cols:40 %>
  </div>

  <div class="field">
    <%= form.label :email %>
    <%= form.text_field :email, size: 40 %>
  </div>

  <div class="field">
    <%= form.label :pay_type %>
    <%= form.select :pay_type, Order.pay_types.keys,
                        prompt: 'Select a payment method' %>
  </div>

  <div class="actions">
    <%= form.submit 'Place Order'%>
  </div>
<% end %>

):
1:    <%= form_with(model: order, local: true) do |form| %>
2:      <%= if order.errors.any? %>
3:        <div id="error_explanation">
4:          <h2><%= pluralize(order.errors.count, "error") %> prohibited this order from being saved:</h2>
5:    
6:          <ul>
7:            <% order.errors.full_messages.each do |message| %>
8:              <li><%= message %></li>
9:            <% end %>
10:          </ul>
11:        </div>
12:      <% end %>
13:    
14:      <div class="field">
15:        <%= form.label :name %>
16:        <%= form.text_field :name, size: 40 %>
17:      </div>
18:    
19:      <div class="field">
20:        <%= form.label :address %>
21:        <%= form.text_area :address, rows: 3, cols:40 %>
22:      </div>
23:    
24:      <div class="field">
25:        <%= form.label :email %>
26:        <%= form.text_field :email, size: 40 %>
27:      </div>
28:    
29:      <div class="field">
30:        <%= form.label :pay_type %>
31:        <%= form.select :pay_type, Order.pay_types.keys,
32:                            prompt: 'Select a payment method' %>
33:      </div>
34:    
35:      <div class="actions">
36:        <%= form.submit 'Place Order'%>
37:      </div>
38:    <% end %>
  
app/views/orders/_form.html.erb:2: syntax error, unexpected ')', expecting `then' or ';' or '\n'
app/views/orders/_form.html.erb:12: syntax error, unexpected `end', expecting ')'
app/views/orders/_form.html.erb:38: syntax error, unexpected `end', expecting ')'
app/views/orders/_form.html.erb:40: syntax error, unexpected `end', expecting ')'
app/views/orders/_form.html.erb:2: syntax error, unexpected ')', expecting `then' or ';' or '\n'
app/views/orders/_form.html.erb:12: syntax error, unexpected `end', expecting ')'
app/views/orders/_form.html.erb:38: syntax error, unexpected `end', expecting ')'
app/views/orders/_form.html.erb:40: syntax error, unexpected `end', expecting ')'
app/views/orders/_form.html.erb:2: syntax error, unexpected ')', expecting `then' or ';' or '\n'
app/views/orders/_form.html.erb:12: syntax error, unexpected `end', expecting ')'
app/views/orders/_form.html.erb:38: syntax error, unexpected `end', expecting ')'
app/views/orders/_form.html.erb:40: syntax error, unexpected `end', expecting ')'
app/views/orders/_form.html.erb:2: syntax error, unexpected ')', expecting `then' or ';' or '\n'
app/views/orders/_form.html.erb:12: syntax error, unexpected `end', expecting ')'
app/views/orders/_form.html.erb:38: syntax error, unexpected `end', expecting ')'
app/views/orders/_form.html.erb:40: syntax error, unexpected `end', expecting ')'
app/views/orders/_form.html.erb:2: syntax error, unexpected ')', expecting `then' or ';' or '\n'
app/views/orders/_form.html.erb:12: syntax error, unexpected `end', expecting ')'
app/views/orders/_form.html.erb:38: syntax error, unexpected `end', expecting ')'
app/views/orders/_form.html.erb:40: syntax error, unexpected `end', expecting ')'
app/views/orders/_form.html.erb:2: syntax error, unexpected ')', expecting `then' or ';' or '\n'
app/views/orders/_form.html.erb:12: syntax error, unexpected `end', expecting ')'
app/views/orders/_form.html.erb:38: syntax error, unexpected `end', expecting ')'
app/views/orders/_form.html.erb:40: syntax error, unexpected `end', expecting ')'
app/views/orders/new.html.erb:3
Started GET "/orders/new" for ::1 at 2020-07-09 23:12:48 +0700
  [1m[35m (0.4ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  
Zeitwerk::NameError (expected file /home/khanh/Desktop/depot/app/controllers/orders_controller.rb to define constant OrdersController, but didn't):
  
zeitwerk (2.3.1) lib/zeitwerk/loader/callbacks.rb:17:in `on_file_autoloaded'
zeitwerk (2.3.1) lib/zeitwerk/kernel.rb:28:in `block in require'
zeitwerk (2.3.1) lib/zeitwerk/kernel.rb:27:in `tap'
zeitwerk (2.3.1) lib/zeitwerk/kernel.rb:27:in `require'
activesupport (6.0.3.2) lib/active_support/inflector/methods.rb:282:in `const_get'
activesupport (6.0.3.2) lib/active_support/inflector/methods.rb:282:in `block in constantize'
activesupport (6.0.3.2) lib/active_support/inflector/methods.rb:280:in `each'
activesupport (6.0.3.2) lib/active_support/inflector/methods.rb:280:in `inject'
activesupport (6.0.3.2) lib/active_support/inflector/methods.rb:280:in `constantize'
activesupport (6.0.3.2) lib/active_support/dependencies/zeitwerk_integration.rb:19:in `constantize'
actionpack (6.0.3.2) lib/action_dispatch/http/request.rb:89:in `controller_class_for'
actionpack (6.0.3.2) lib/action_dispatch/http/parameters.rb:100:in `binary_params_for?'
actionpack (6.0.3.2) lib/action_dispatch/http/parameters.rb:91:in `set_binary_encoding'
actionpack (6.0.3.2) lib/action_dispatch/http/parameters.rb:69:in `path_parameters='
actionpack (6.0.3.2) lib/action_dispatch/journey/router.rb:47:in `block in serve'
actionpack (6.0.3.2) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (6.0.3.2) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (6.0.3.2) lib/action_dispatch/routing/route_set.rb:834:in `call'
rack (2.2.3) lib/rack/tempfile_reaper.rb:15:in `call'
rack (2.2.3) lib/rack/etag.rb:27:in `call'
rack (2.2.3) lib/rack/conditional_get.rb:27:in `call'
rack (2.2.3) lib/rack/head.rb:12:in `call'
actionpack (6.0.3.2) lib/action_dispatch/http/content_security_policy.rb:18:in `call'
rack (2.2.3) lib/rack/session/abstract/id.rb:266:in `context'
rack (2.2.3) lib/rack/session/abstract/id.rb:260:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/cookies.rb:648:in `call'
activerecord (6.0.3.2) lib/active_record/migration.rb:567:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.0.3.2) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (6.0.3.2) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
web-console (4.0.3) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.3) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.3) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.3) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.3.2) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.3.2) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.3.2) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.3.2) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.3.2) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.3.2) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.3) lib/rack/method_override.rb:24:in `call'
rack (2.2.3) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.3.2) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.3) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
webpacker (4.2.2) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.3.2) lib/rails/engine.rb:527:in `call'
puma (4.3.5) lib/puma/configuration.rb:228:in `call'
puma (4.3.5) lib/puma/server.rb:713:in `handle_request'
puma (4.3.5) lib/puma/server.rb:472:in `process_client'
puma (4.3.5) lib/puma/server.rb:328:in `block in run'
puma (4.3.5) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/orders/new" for ::1 at 2020-07-09 23:13:08 +0700
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 47], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 47], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:10:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 5.0ms | Allocations: 1852)
  Rendered orders/new.html.erb within layouts/application (Duration: 8.3ms | Allocations: 2155)
Completed 500 Internal Server Error in 30ms (ActiveRecord: 1.7ms | Allocations: 8945)


  
ActionView::Template::Error (undefined method `errors' for nil:NilClass):
    1: <%= form_with(model: order, local: true) do |form| %>
    2:   <% if order.errors.any? %>
    3:     <div id="error_explanation">
    4:       <h2><%= pluralize(order.errors.count, "error") %> prohibited this order from being saved:</h2>
    5: 
  
app/views/orders/_form.html.erb:2
app/views/orders/_form.html.erb:1
app/views/orders/new.html.erb:3
Started GET "/orders/new" for ::1 at 2020-07-09 23:13:17 +0700
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 47], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 47], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:10:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 1.3ms | Allocations: 1477)
  Rendered orders/new.html.erb within layouts/application (Duration: 1.5ms | Allocations: 1540)
Completed 500 Internal Server Error in 23ms (ActiveRecord: 1.6ms | Allocations: 7984)


  
ActionView::Template::Error (undefined method `errors' for nil:NilClass):
    1: <%= form_with(model: order, local: true) do |form| %>
    2:   <% if order.errors.any? %>
    3:     <div id="error_explanation">
    4:       <h2><%= pluralize(order.errors.count, "error") %> prohibited this order from being saved:</h2>
    5: 
  
app/views/orders/_form.html.erb:2
app/views/orders/_form.html.erb:1
app/views/orders/new.html.erb:3
Started GET "/orders/new" for ::1 at 2020-07-09 23:13:46 +0700
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 47], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 47], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:10:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 2.8ms | Allocations: 1477)
  Rendered orders/new.html.erb within layouts/application (Duration: 3.4ms | Allocations: 1540)
Completed 500 Internal Server Error in 27ms (ActiveRecord: 1.5ms | Allocations: 9094)


  
ActionView::Template::Error (undefined method `errors' for nil:NilClass):
    1: <%= form_with(model: order, local: true) do |form| %>
    2:   <% if order.errors.any? %>
    3:     <div id="error_explanation">
    4:       <h2><%= pluralize(order.errors.count, "error") %> prohibited this order from being saved:</h2>
    5: 
  
app/views/orders/_form.html.erb:2
app/views/orders/_form.html.erb:1
app/views/orders/new.html.erb:3
Started GET "/orders/new" for ::1 at 2020-07-09 23:16:24 +0700
  [1m[35m (345.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by OrdersController#new as HTML
  [1m[36mCart Load (1.0ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 47], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 47], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:10:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 7.2ms | Allocations: 1540)
  Rendered orders/new.html.erb within layouts/application (Duration: 8.8ms | Allocations: 1603)
Completed 500 Internal Server Error in 26ms (ActiveRecord: 1.3ms | Allocations: 3321)


  
ActionView::Template::Error (undefined method `errors' for nil:NilClass):
    1: <%= form_with(model: order, local: true) do |form| %>
    2:   <% if order.errors.any? %>
    3:     <div id="error_explanation">
    4:       <h2><%= pluralize(order.errors.count, "error") %> prohibited this order from being saved:</h2>
    5: 
  
app/views/orders/_form.html.erb:2
app/views/orders/_form.html.erb:1
app/views/orders/new.html.erb:3
Started GET "/orders/new" for ::1 at 2020-07-09 23:18:38 +0700
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 47], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 47], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:10:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 4.6ms | Allocations: 1540)
  Rendered orders/new.html.erb within layouts/application (Duration: 5.1ms | Allocations: 1603)
Completed 500 Internal Server Error in 13ms (ActiveRecord: 0.5ms | Allocations: 3320)


  
ActionView::Template::Error (undefined method `errors' for nil:NilClass):
    1: <%= form_with(model: order, local: true) do |form| %>
    2:   <% if order.errors.any? %>
    3:     <div id="error_explanation">
    4:       <h2><%= pluralize(order.errors.count, "error") %> prohibited this order from being saved:</h2>
    5: 
  
app/views/orders/_form.html.erb:2
app/views/orders/_form.html.erb:1
app/views/orders/new.html.erb:3
Started GET "/orders/new" for ::1 at 2020-07-09 23:20:58 +0700
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 47], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 47], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:10:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 6.0ms | Allocations: 1915)
  Rendered orders/new.html.erb within layouts/application (Duration: 8.2ms | Allocations: 2217)
Completed 500 Internal Server Error in 48ms (ActiveRecord: 0.9ms | Allocations: 4642)


  
ActionView::Template::Error (undefined method `errors' for nil:NilClass):
    1: <%= form_with(model: order, local: true) do |form| %>
    2:   <% if order.errors.any? %>
    3:     <div id="error_explanation">
    4:       <h2><%= pluralize(@order.errors.count, "error") %> prohibited this order from being saved:</h2>
    5: 
  
app/views/orders/_form.html.erb:2
app/views/orders/_form.html.erb:1
app/views/orders/new.html.erb:3
Started GET "/orders/new" for ::1 at 2020-07-09 23:21:09 +0700
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.6ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 47], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 47], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:10:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 1.9ms | Allocations: 1915)
  Rendered orders/new.html.erb within layouts/application (Duration: 2.8ms | Allocations: 2217)
Completed 500 Internal Server Error in 28ms (ActiveRecord: 0.9ms | Allocations: 4642)


  
ActionView::Template::Error (undefined method `errors' for nil:NilClass):
    1: <%= form_with(model: order, local: true) do |form| %>
    2:   <% if @order.errors.any? %>
    3:     <div id="error_explanation">
    4:       <h2><%= pluralize(@order.errors.count, "error") %> prohibited this order from being saved:</h2>
    5: 
  
app/views/orders/_form.html.erb:2
app/views/orders/_form.html.erb:1
app/views/orders/new.html.erb:3
Started GET "/orders/new" for ::1 at 2020-07-09 23:21:40 +0700
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 47], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 47], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:10:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 1.7ms | Allocations: 1915)
  Rendered orders/new.html.erb within layouts/application (Duration: 2.8ms | Allocations: 2217)
Completed 500 Internal Server Error in 8ms (ActiveRecord: 0.2ms | Allocations: 4642)


  
ActionView::Template::Error (undefined method `errors' for nil:NilClass):
    1: <%= form_with(model: order, local: true) do |form| %>
    2:   <% if order.errors.any? %>
    3:     <div id="error_explanation">
    4:       <h2><%= pluralize(order.errors.count, "error") %> prohibited this order from being saved:</h2>
    5: 
  
app/views/orders/_form.html.erb:2
app/views/orders/_form.html.erb:1
app/views/orders/new.html.erb:3
Started GET "/orders/new" for ::1 at 2020-07-09 23:23:44 +0700
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 47], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 47], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:10:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 7.3ms | Allocations: 1915)
  Rendered orders/new.html.erb within layouts/application (Duration: 9.7ms | Allocations: 2217)
Completed 500 Internal Server Error in 33ms (ActiveRecord: 0.6ms | Allocations: 4642)


  
ActionView::Template::Error (undefined method `errors' for nil:NilClass):
    1: <%= form_with(model:order, local: true) do |form| %>
    2:   <% if order.errors.any? %>
    3:     <div id="error_explanation">
    4:       <h2><%= pluralize(order.errors.count, "error") %> prohibited this order from being saved:</h2>
    5: 
  
app/views/orders/_form.html.erb:2
app/views/orders/_form.html.erb:1
app/views/orders/new.html.erb:3
Started GET "/orders/new" for ::1 at 2020-07-09 23:25:30 +0700
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 47], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 47], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:10:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 1573.7ms | Allocations: 8743)
  Rendered orders/new.html.erb within layouts/application (Duration: 1575.5ms | Allocations: 9071)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mCACHE LineItem Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 47], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:16
  [1m[36mLineItem Load (14.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 47]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (8.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:8
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 145.1ms | Allocations: 7406)
  Rendered carts/_cart.html.erb (Duration: 239.4ms | Allocations: 13627)
Completed 200 OK in 2786ms (Views: 2749.5ms | ActiveRecord: 27.7ms | Allocations: 33967)


Started GET "/cable" for ::1 at 2020-07-09 23:25:33 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-09 23:25:33 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/" for ::1 at 2020-07-09 23:25:40 +0700
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 47], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.8ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 675.5ms | Allocations: 3614)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 47], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:16
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 47]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:8
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 2.3ms | Allocations: 891)
  Rendered carts/_cart.html.erb (Duration: 7.6ms | Allocations: 2035)
Completed 200 OK in 714ms (Views: 705.6ms | ActiveRecord: 1.9ms | Allocations: 11562)


Started POST "/line_items?product_id=4" for ::1 at 2020-07-09 23:25:43 +0700
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"H67a1UKuNneiGXKNhqxfseGs3yAt6odcuc+RvjfJ6S/3YAT8SFLKboV4PhNd7wx5fSHbTmrlAbnnwk50BxjcNg==", "product_id"=>"4"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 47], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 47], ["product_id", 4], ["LIMIT", 1]]
  ↳ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mLineItem Update (31.4ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 2], ["updated_at", "2020-07-09 16:25:43.684541"], ["id", 73]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[35m (250.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 47]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:8
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 4.9ms | Allocations: 900)
  Rendered carts/_cart.html.erb (Duration: 11.9ms | Allocations: 2185)
  Rendered line_items/create.js.erb (Duration: 69.8ms | Allocations: 2559)
Completed 200 OK in 386ms (Views: 75.0ms | ActiveRecord: 283.6ms | Allocations: 11088)


Started POST "/line_items?product_id=5" for ::1 at 2020-07-09 23:25:45 +0700
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"eerTEyM57jdCLJqXUnJcYjHjZOJpv3Stq/JiltCoJi6RJA06KcUSLmVN1gmJMQ+qrW5gjC6w8kj1/71c4HkTNw==", "product_id"=>"5"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 47], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 47], ["product_id", 5], ["LIMIT", 1]]
  ↳ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mLineItem Create (42.8ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 5], ["cart_id", 47], ["created_at", "2020-07-09 16:25:45.251837"], ["updated_at", "2020-07-09 16:25:45.251837"]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[35m (80.8ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 47]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:8
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 5.6ms | Allocations: 1027)
  Rendered carts/_cart.html.erb (Duration: 12.7ms | Allocations: 2281)
  Rendered line_items/create.js.erb (Duration: 13.6ms | Allocations: 2461)
Completed 200 OK in 168ms (Views: 14.3ms | ActiveRecord: 125.7ms | Allocations: 9450)


Started GET "/orders/new" for ::1 at 2020-07-09 23:25:46 +0700
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 47], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 47], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:10:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 4.9ms | Allocations: 4151)
  Rendered orders/new.html.erb within layouts/application (Duration: 5.4ms | Allocations: 4235)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mCACHE LineItem Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 47], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:16
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 47]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:8
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:8
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 3.2ms | Allocations: 1777)
  Rendered carts/_cart.html.erb (Duration: 7.1ms | Allocations: 2948)
Completed 200 OK in 49ms (Views: 25.1ms | ActiveRecord: 1.2ms | Allocations: 13104)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-09 23:25:46 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-09 23:25:47 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-09 23:25:47 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/orders/new" for ::1 at 2020-07-09 23:38:40 +0700
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by OrdersController#new as HTML
  [1m[36mCart Load (103.8ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 47], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 47], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:10:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 5.1ms | Allocations: 1915)
  Rendered orders/new.html.erb within layouts/application (Duration: 6.2ms | Allocations: 2222)
Completed 500 Internal Server Error in 115ms (ActiveRecord: 103.9ms | Allocations: 4645)


  
ActionView::Template::Error (undefined method `errors' for nil:NilClass):
    1: <%= form_with(model: order, local: true) do |form| %>
    2:   <% if order.errors.any? %>
    3:     <div id="error_explanation">
    4:       <h2><%= pluralize(order.errors.count, "error") %> prohibited this order from being saved:</h2>
    5: 
  
app/views/orders/_form.html.erb:2
app/views/orders/_form.html.erb:1
app/views/orders/new.html.erb:3
Finished "/cable/" [WebSocket] for ::1 at 2020-07-09 23:38:40 +0700
ProductsChannel stopped streaming from products
Started GET "/" for ::1 at 2020-07-10 08:18:07 +0700
  [1m[35m (1.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by StoreController#index as HTML
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[36mCart Create (16.1ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2020-07-10 01:18:07.603687"], ["updated_at", "2020-07-10 01:18:07.603687"]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[35m (98.8ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (2.0ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 416.4ms | Allocations: 13133)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 48], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:16
Completed 200 OK in 824ms (Views: 598.6ms | ActiveRecord: 122.4ms | Allocations: 31368)


Started GET "/cable" for ::1 at 2020-07-10 08:18:08 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-10 08:18:09 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/" for ::1 at 2020-07-10 08:18:13 +0700
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 48], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 14.3ms | Allocations: 3482)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 48], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:16
Completed 200 OK in 30ms (Views: 24.3ms | ActiveRecord: 0.7ms | Allocations: 9858)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-10 08:18:13 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-10 08:18:13 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-10 08:18:13 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started POST "/line_items?product_id=4" for ::1 at 2020-07-10 08:18:14 +0700
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"vRfV+zTZKJcKS3+Cfr/LqqeTM/0gPFMFbc6Q/HCmM1KwOofO6we9lAYeskFo2M0Jykjm/kmY9cFP2v9myidh8w==", "product_id"=>"4"}
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 48], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 48], ["product_id", 4], ["LIMIT", 1]]
  ↳ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mLineItem Create (17.2ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 4], ["cart_id", 48], ["created_at", "2020-07-10 01:18:14.830741"], ["updated_at", "2020-07-10 01:18:14.830741"]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[35m (122.7ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 48]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 14.1ms | Allocations: 304)
  Rendered carts/_cart.html.erb (Duration: 41.0ms | Allocations: 2178)
  Rendered line_items/create.js.erb (Duration: 68.3ms | Allocations: 2604)
Completed 200 OK in 269ms (Views: 73.3ms | ActiveRecord: 142.8ms | Allocations: 16140)


Started GET "/orders/new" for ::1 at 2020-07-10 08:18:16 +0700
Processing by OrdersController#new as HTML
  [1m[36mCart Load (12.0ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 48], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 48], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:10:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 21.9ms | Allocations: 2224)
  Rendered orders/new.html.erb within layouts/application (Duration: 102.1ms | Allocations: 2537)
Completed 500 Internal Server Error in 119ms (ActiveRecord: 12.2ms | Allocations: 4889)


  
ActionView::Template::Error (undefined method `errors' for nil:NilClass):
    1: <%= form_with(model: order, local: true) do |form| %>
    2:   <% if order.errors.any? %>
    3:     <div id="error_explanation">
    4:       <h2><%= pluralize(order.errors.count, "error") %> prohibited this order from being saved:</h2>
    5: 
  
app/views/orders/_form.html.erb:2
app/views/orders/_form.html.erb:1
app/views/orders/new.html.erb:3
Finished "/cable/" [WebSocket] for ::1 at 2020-07-10 08:18:17 +0700
ProductsChannel stopped streaming from products
Started GET "/orders/new" for ::1 at 2020-07-10 08:18:24 +0700
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 48], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 48], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:10:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 96.1ms | Allocations: 7762)
  Rendered orders/new.html.erb within layouts/application (Duration: 99.0ms | Allocations: 8087)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 48], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:16
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 48]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:8
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 5.5ms | Allocations: 1055)
  Rendered carts/_cart.html.erb (Duration: 9.4ms | Allocations: 2554)
Completed 200 OK in 129ms (Views: 124.8ms | ActiveRecord: 0.7ms | Allocations: 17789)


Started GET "/cable" for ::1 at 2020-07-10 08:18:24 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-10 08:18:24 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/orders/new" for ::1 at 2020-07-10 08:18:50 +0700
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 48], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 48], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:10:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 2.5ms | Allocations: 4145)
  Rendered orders/new.html.erb within layouts/application (Duration: 2.8ms | Allocations: 4228)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 48], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:16
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 48]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:8
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 1.9ms | Allocations: 889)
  Rendered carts/_cart.html.erb (Duration: 4.6ms | Allocations: 2035)
Completed 200 OK in 28ms (Views: 22.3ms | ActiveRecord: 0.6ms | Allocations: 12179)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-10 08:18:50 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-10 08:18:50 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-10 08:18:50 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/orders/new" for ::1 at 2020-07-10 08:18:51 +0700
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 48], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 48], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:10:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 4.8ms | Allocations: 4928)
  Rendered orders/new.html.erb within layouts/application (Duration: 5.6ms | Allocations: 5080)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mCACHE LineItem Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 48], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:16
  [1m[36mLineItem Load (0.7ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 48]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:8
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 17.2ms | Allocations: 6348)
  Rendered carts/_cart.html.erb (Duration: 35.6ms | Allocations: 11737)
Completed 200 OK in 72ms (Views: 50.9ms | ActiveRecord: 4.6ms | Allocations: 27185)


Started GET "/cable" for ::1 at 2020-07-10 08:18:51 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-10 08:18:51 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/orders/new" for ::1 at 2020-07-10 08:18:52 +0700
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 48], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 48], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:10:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 3.9ms | Allocations: 4141)
  Rendered orders/new.html.erb within layouts/application (Duration: 5.5ms | Allocations: 4223)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 48], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:16
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 48]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:8
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 4.3ms | Allocations: 889)
  Rendered carts/_cart.html.erb (Duration: 10.5ms | Allocations: 2034)
Completed 200 OK in 36ms (Views: 30.6ms | ActiveRecord: 1.4ms | Allocations: 12151)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-10 08:18:52 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-10 08:18:52 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-10 08:18:52 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/orders/new" for ::1 at 2020-07-10 08:18:52 +0700
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 48], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 48], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:10:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 9.9ms | Allocations: 4140)
  Rendered orders/new.html.erb within layouts/application (Duration: 10.7ms | Allocations: 4222)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mCACHE LineItem Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 48], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:16
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 48]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:8
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 3.8ms | Allocations: 889)
  Rendered carts/_cart.html.erb (Duration: 8.3ms | Allocations: 2034)
Completed 200 OK in 40ms (Views: 30.9ms | ActiveRecord: 1.3ms | Allocations: 12165)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-10 08:18:52 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-10 08:18:52 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-10 08:18:52 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/orders/new" for ::1 at 2020-07-10 08:18:52 +0700
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 48], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 48], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:10:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 6.4ms | Allocations: 4138)
  Rendered orders/new.html.erb within layouts/application (Duration: 8.0ms | Allocations: 4220)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mCACHE LineItem Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 48], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:16
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 48]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:8
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 3.1ms | Allocations: 889)
  Rendered carts/_cart.html.erb (Duration: 8.3ms | Allocations: 2034)
Completed 200 OK in 33ms (Views: 29.4ms | ActiveRecord: 0.8ms | Allocations: 12166)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-10 08:18:52 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-10 08:18:52 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-10 08:18:52 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/orders/new" for ::1 at 2020-07-10 08:18:52 +0700
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 48], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 48], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:10:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 6.5ms | Allocations: 4138)
  Rendered orders/new.html.erb within layouts/application (Duration: 7.0ms | Allocations: 4220)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mCACHE LineItem Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 48], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:16
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 48]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:8
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 2.3ms | Allocations: 889)
  Rendered carts/_cart.html.erb (Duration: 6.5ms | Allocations: 2034)
Completed 200 OK in 35ms (Views: 28.2ms | ActiveRecord: 1.3ms | Allocations: 12144)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-10 08:18:52 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-10 08:18:52 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-10 08:18:52 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/orders/new" for ::1 at 2020-07-10 08:18:53 +0700
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 48], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 48], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:10:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 11.4ms | Allocations: 4138)
  Rendered orders/new.html.erb within layouts/application (Duration: 12.2ms | Allocations: 4220)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mCACHE LineItem Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 48], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:16
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 48]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:8
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 7.4ms | Allocations: 889)
  Rendered carts/_cart.html.erb (Duration: 15.9ms | Allocations: 2034)
Completed 200 OK in 65ms (Views: 54.0ms | ActiveRecord: 1.6ms | Allocations: 12146)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-10 08:18:53 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-10 08:18:53 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-10 08:18:53 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/orders/new" for ::1 at 2020-07-10 08:18:53 +0700
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 48], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 48], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:10:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 10.1ms | Allocations: 4141)
  Rendered orders/new.html.erb within layouts/application (Duration: 10.9ms | Allocations: 4223)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mCACHE LineItem Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 48], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:16
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 48]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:8
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 3.2ms | Allocations: 889)
  Rendered carts/_cart.html.erb (Duration: 10.3ms | Allocations: 2034)
Completed 200 OK in 49ms (Views: 38.8ms | ActiveRecord: 1.2ms | Allocations: 12143)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-10 08:18:53 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-10 08:18:53 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-10 08:18:53 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/orders/new" for ::1 at 2020-07-10 08:18:53 +0700
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 48], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 48], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:10:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 7.5ms | Allocations: 4139)
  Rendered orders/new.html.erb within layouts/application (Duration: 8.5ms | Allocations: 4221)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 48], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:16
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 48]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:8
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 4.2ms | Allocations: 889)
  Rendered carts/_cart.html.erb (Duration: 9.7ms | Allocations: 2034)
Completed 200 OK in 34ms (Views: 27.0ms | ActiveRecord: 1.3ms | Allocations: 12183)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-10 08:18:53 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-10 08:18:53 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-10 08:18:53 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/orders/new" for ::1 at 2020-07-10 08:18:53 +0700
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 48], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 48], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:10:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 6.0ms | Allocations: 4139)
  Rendered orders/new.html.erb within layouts/application (Duration: 6.6ms | Allocations: 4221)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 48], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:16
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 48]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:8
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 2.0ms | Allocations: 889)
  Rendered carts/_cart.html.erb (Duration: 6.1ms | Allocations: 2034)
Completed 200 OK in 33ms (Views: 27.3ms | ActiveRecord: 0.7ms | Allocations: 12155)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-10 08:18:53 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-10 08:18:53 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-10 08:18:53 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/orders/new" for ::1 at 2020-07-10 08:18:53 +0700
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 48], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 48], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:10:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 7.3ms | Allocations: 4138)
  Rendered orders/new.html.erb within layouts/application (Duration: 8.3ms | Allocations: 4220)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mCACHE LineItem Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 48], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:16
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 48]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:8
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 8.0ms | Allocations: 889)
  Rendered carts/_cart.html.erb (Duration: 15.8ms | Allocations: 2034)
Completed 200 OK in 67ms (Views: 52.5ms | ActiveRecord: 2.1ms | Allocations: 12158)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-10 08:18:53 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-10 08:18:53 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-10 08:18:53 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/orders/new" for ::1 at 2020-07-10 08:18:53 +0700
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 48], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 48], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:10:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 5.7ms | Allocations: 4138)
  Rendered orders/new.html.erb within layouts/application (Duration: 6.2ms | Allocations: 4220)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 48], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:16
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 48]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:8
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 2.6ms | Allocations: 889)
  Rendered carts/_cart.html.erb (Duration: 7.4ms | Allocations: 2034)
Completed 200 OK in 33ms (Views: 26.1ms | ActiveRecord: 1.1ms | Allocations: 12128)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-10 08:18:53 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-10 08:18:53 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-10 08:18:53 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/orders/new" for ::1 at 2020-07-10 08:18:54 +0700
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 48], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 48], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:10:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 10.6ms | Allocations: 4142)
  Rendered orders/new.html.erb within layouts/application (Duration: 11.9ms | Allocations: 4225)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mCACHE LineItem Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 48], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:16
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 48]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:8
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 7.1ms | Allocations: 889)
  Rendered carts/_cart.html.erb (Duration: 17.2ms | Allocations: 2034)
Completed 200 OK in 66ms (Views: 56.0ms | ActiveRecord: 1.6ms | Allocations: 12161)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-10 08:18:54 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-10 08:18:54 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-10 08:18:54 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/orders/new" for ::1 at 2020-07-10 08:18:54 +0700
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 48], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 48], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:10:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 18.8ms | Allocations: 4139)
  Rendered orders/new.html.erb within layouts/application (Duration: 20.0ms | Allocations: 4221)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 48], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:16
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 48]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:8
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 1.7ms | Allocations: 889)
  Rendered carts/_cart.html.erb (Duration: 4.3ms | Allocations: 2034)
Completed 200 OK in 53ms (Views: 41.6ms | ActiveRecord: 1.2ms | Allocations: 12173)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-10 08:18:54 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-10 08:18:54 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-10 08:18:54 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/orders/new" for ::1 at 2020-07-10 08:18:54 +0700
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 48], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 48], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:10:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 6.6ms | Allocations: 4139)
  Rendered orders/new.html.erb within layouts/application (Duration: 8.2ms | Allocations: 4221)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mCACHE LineItem Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 48], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:16
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 48]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:8
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 4.1ms | Allocations: 889)
  Rendered carts/_cart.html.erb (Duration: 12.8ms | Allocations: 2034)
Completed 200 OK in 57ms (Views: 45.3ms | ActiveRecord: 1.4ms | Allocations: 12170)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-10 08:18:54 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-10 08:18:54 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-10 08:18:54 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/orders/new" for ::1 at 2020-07-10 08:18:54 +0700
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 48], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 48], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:10:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 8.4ms | Allocations: 4139)
  Rendered orders/new.html.erb within layouts/application (Duration: 9.4ms | Allocations: 4221)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 48], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:16
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 48]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:8
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 2.9ms | Allocations: 889)
  Rendered carts/_cart.html.erb (Duration: 7.6ms | Allocations: 2034)
Completed 200 OK in 47ms (Views: 35.6ms | ActiveRecord: 1.2ms | Allocations: 12157)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-10 08:18:54 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-10 08:18:54 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-10 08:18:54 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/orders/new" for ::1 at 2020-07-10 08:18:54 +0700
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 48], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 48], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:10:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 14.5ms | Allocations: 4138)
  Rendered orders/new.html.erb within layouts/application (Duration: 15.3ms | Allocations: 4220)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 48], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:16
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 48]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:8
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 5.6ms | Allocations: 889)
  Rendered carts/_cart.html.erb (Duration: 16.8ms | Allocations: 2034)
Completed 200 OK in 67ms (Views: 56.1ms | ActiveRecord: 1.9ms | Allocations: 12160)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-10 08:18:54 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-10 08:18:54 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-10 08:18:54 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/orders/new" for ::1 at 2020-07-10 08:18:54 +0700
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 48], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 48], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:10:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 3.9ms | Allocations: 4140)
  Rendered orders/new.html.erb within layouts/application (Duration: 4.4ms | Allocations: 4222)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 48], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:16
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 48]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:8
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 5.4ms | Allocations: 889)
  Rendered carts/_cart.html.erb (Duration: 10.9ms | Allocations: 2034)
Completed 200 OK in 45ms (Views: 32.1ms | ActiveRecord: 1.2ms | Allocations: 12142)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-10 08:18:55 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-10 08:18:55 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-10 08:18:55 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/orders/new" for ::1 at 2020-07-10 08:19:01 +0700
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 48], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 48], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:10:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 7.4ms | Allocations: 4929)
  Rendered orders/new.html.erb within layouts/application (Duration: 8.3ms | Allocations: 5013)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mCACHE LineItem Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 48], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:16
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 48]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:8
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 18.9ms | Allocations: 6345)
  Rendered carts/_cart.html.erb (Duration: 37.5ms | Allocations: 11734)
Completed 200 OK in 80ms (Views: 56.8ms | ActiveRecord: 3.5ms | Allocations: 27150)


Started GET "/cable" for ::1 at 2020-07-10 08:19:01 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-10 08:19:01 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started POST "/orders/new" for ::1 at 2020-07-10 08:19:11 +0700
  
ActionController::RoutingError (No route matches [POST] "/orders/new"):
  
actionpack (6.0.3.2) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
web-console (4.0.3) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.3) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.3) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.3) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.3.2) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.3.2) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.3.2) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.3.2) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.3.2) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.3.2) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.3) lib/rack/method_override.rb:24:in `call'
rack (2.2.3) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.3.2) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.3) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
webpacker (4.2.2) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.3.2) lib/rails/engine.rb:527:in `call'
puma (4.3.5) lib/puma/configuration.rb:228:in `call'
puma (4.3.5) lib/puma/server.rb:713:in `handle_request'
puma (4.3.5) lib/puma/server.rb:472:in `process_client'
puma (4.3.5) lib/puma/server.rb:328:in `block in run'
puma (4.3.5) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Finished "/cable/" [WebSocket] for ::1 at 2020-07-10 08:19:11 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-10 08:19:14 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-10 08:19:14 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/orders/new" for ::1 at 2020-07-10 08:30:06 +0700
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 48], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 48], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:10:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 2.3ms | Allocations: 1854)
  Rendered orders/new.html.erb within layouts/application (Duration: 3.8ms | Allocations: 2161)
Completed 500 Internal Server Error in 23ms (ActiveRecord: 0.6ms | Allocations: 8239)


  
ActionView::Template::Error (undefined method `errors' for nil:NilClass):
    1: <%= form_with(model: order, local: true) do |form| %>
    2:   <% if order.errors.any? %>
    3:     <div id="error_explanation">
    4:       <h2><%= pluralize(order.errors.count, "error") %> prohibited this order from being saved:</h2>
    5: 
  
app/views/orders/_form.html.erb:2
app/views/orders/_form.html.erb:1
app/views/orders/new.html.erb:3
Started GET "/orders/new" for ::1 at 2020-07-10 08:30:21 +0700
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 48], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 48], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:10:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 2.6ms | Allocations: 1478)
  Rendered orders/new.html.erb within layouts/application (Duration: 3.4ms | Allocations: 1541)
Completed 500 Internal Server Error in 26ms (ActiveRecord: 2.0ms | Allocations: 7602)


  
ActionView::Template::Error (undefined method `errors' for nil:NilClass):
    1: <%= form_with(model: order, local: true) do |form| %>
    2:   <% if order.errors.any? %>
    3:     <div id="error_explanation">
    4:       <h2><%= pluralize(order.errors.count, "error") %> prohibited this order from being saved:</h2>
    5: 
  
app/views/orders/_form.html.erb:2
app/views/orders/_form.html.erb:1
app/views/orders/new.html.erb:3
Started GET "/orders/new" for ::1 at 2020-07-10 08:31:03 +0700
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 48], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 48], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:10:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 2.2ms | Allocations: 1915)
  Rendered orders/new.html.erb within layouts/application (Duration: 3.6ms | Allocations: 2217)
Completed 500 Internal Server Error in 12ms (ActiveRecord: 0.5ms | Allocations: 4635)


  
ActionView::Template::Error (undefined method `errors' for nil:NilClass):
    1: <%= form_with(model: order, local: true) do |form| %>
    2:   <% if order.errors.any %>
    3:     <div id="error_explanation">
    4:       <h2><%= pluralize(order.errors.count, "error") %> prohibited this order from being saved:</h2>
    5: 
  
app/views/orders/_form.html.erb:2
app/views/orders/_form.html.erb:1
app/views/orders/new.html.erb:3
Started GET "/orders/new" for ::1 at 2020-07-10 08:31:10 +0700
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 48], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 48], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:10:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 49.9ms | Allocations: 7055)
  Rendered orders/new.html.erb within layouts/application (Duration: 52.0ms | Allocations: 7378)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 48], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:16
  [1m[36mLineItem Load (0.7ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 48]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:8
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 20.8ms | Allocations: 6505)
  Rendered carts/_cart.html.erb (Duration: 39.1ms | Allocations: 12274)
Completed 200 OK in 113ms (Views: 102.1ms | ActiveRecord: 3.5ms | Allocations: 26703)


Started GET "/cable" for ::1 at 2020-07-10 08:31:11 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-10 08:31:11 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/orders/new" for ::1 at 2020-07-10 08:31:50 +0700
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 48], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 48], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:10:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 4.2ms | Allocations: 1915)
  Rendered orders/new.html.erb within layouts/application (Duration: 5.7ms | Allocations: 2216)
Completed 500 Internal Server Error in 16ms (ActiveRecord: 0.5ms | Allocations: 4631)


  
ActionView::Template::Error (undefined method `errors' for nil:NilClass):
    1: <%= form_with(model: order, local: true) do |form| %>
    2:   <% if order.errors.any? %>
    3:     <div id="error_explanation">
    4:       <h2><%= pluralize(order.errors.count, "error") %> prohibited this order from being saved:</h2>
    5: 
  
app/views/orders/_form.html.erb:2
app/views/orders/_form.html.erb:1
app/views/orders/new.html.erb:3
Finished "/cable/" [WebSocket] for ::1 at 2020-07-10 08:31:51 +0700
ProductsChannel stopped streaming from products
Started GET "/orders/new" for ::1 at 2020-07-10 08:36:49 +0700
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.6ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 48], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 48], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:95:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 6.6ms | Allocations: 1246)
  Rendered orders/new.html.erb within layouts/application (Duration: 7.4ms | Allocations: 1329)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 48], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:16
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 48]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:8
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 17.0ms | Allocations: 6440)
  Rendered carts/_cart.html.erb (Duration: 32.6ms | Allocations: 12207)
Completed 200 OK in 98ms (Views: 57.9ms | ActiveRecord: 7.5ms | Allocations: 28650)


Started GET "/cable" for ::1 at 2020-07-10 08:36:49 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-10 08:36:49 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started POST "/orders" for ::1 at 2020-07-10 08:37:04 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"UgbudQXp0w17toI63YZNpmtApl6YNGULqFwkBoCuuHpfK7xA2jdGDnfjT/nL4UsFBptzXfGQw8+KSEucOi/q2w==", "order"=>{"name"=>"dgdgdfgdfg", "address"=>"fdgf", "email"=>"gdfgd", "pay_type"=>"Credit cart"}, "commit"=>"Place Order"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 48], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
Completed 500 Internal Server Error in 16ms (ActiveRecord: 0.1ms | Allocations: 3261)


  
NoMethodError (undefined method `add_line_items_from_cart' for #<Order:0x00007f3b00c10740>):
  
app/controllers/orders_controller.rb:39:in `create'
Finished "/cable/" [WebSocket] for ::1 at 2020-07-10 08:37:04 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-10 08:37:12 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-10 08:37:12 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started POST "/orders" for ::1 at 2020-07-10 08:37:14 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"UgbudQXp0w17toI63YZNpmtApl6YNGULqFwkBoCuuHpfK7xA2jdGDnfjT/nL4UsFBptzXfGQw8+KSEucOi/q2w==", "order"=>{"name"=>"dgdgdfgdfg", "address"=>"fdgf", "email"=>"gdfgd", "pay_type"=>"Credit cart"}, "commit"=>"Place Order"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 48], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
Completed 500 Internal Server Error in 36ms (ActiveRecord: 0.3ms | Allocations: 3212)


  
NoMethodError (undefined method `add_line_items_from_cart' for #<Order:0x00007f3b00ab5a58>):
  
app/controllers/orders_controller.rb:39:in `create'
Finished "/cable/" [WebSocket] for ::1 at 2020-07-10 08:37:14 +0700
ProductsChannel stopped streaming from products
Started POST "/orders" for ::1 at 2020-07-10 08:38:27 +0700
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"UgbudQXp0w17toI63YZNpmtApl6YNGULqFwkBoCuuHpfK7xA2jdGDnfjT/nL4UsFBptzXfGQw8+KSEucOi/q2w==", "order"=>{"name"=>"dgdgdfgdfg", "address"=>"fdgf", "email"=>"gdfgd", "pay_type"=>"Credit cart"}, "commit"=>"Place Order"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 48], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
Completed 500 Internal Server Error in 24ms (ActiveRecord: 1.1ms | Allocations: 10142)


  
NoMethodError (undefined method `add_line_items_from_cart' for #<Order:0x00007f3afc14af08>):
  
app/controllers/orders_controller.rb:39:in `create'
Started GET "/cable" for ::1 at 2020-07-10 08:38:28 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-10 08:38:28 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/orders/new" for ::1 at 2020-07-10 08:38:29 +0700
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 48], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 48], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:95:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 6.3ms | Allocations: 1106)
  Rendered orders/new.html.erb within layouts/application (Duration: 7.2ms | Allocations: 1189)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 48], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:16
  [1m[36mLineItem Load (1.0ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 48]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:8
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 21.6ms | Allocations: 6280)
  Rendered carts/_cart.html.erb (Duration: 39.2ms | Allocations: 11710)
Completed 200 OK in 77ms (Views: 55.2ms | ActiveRecord: 5.2ms | Allocations: 20383)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-10 08:38:29 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-10 08:38:29 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-10 08:38:29 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for ::1 at 2020-07-10 08:39:44 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-10 08:39:44 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-10 08:39:44 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started POST "/line_items?product_id=4" for ::1 at 2020-07-10 08:39:46 +0700
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"vRfV+zTZKJcKS3+Cfr/LqqeTM/0gPFMFbc6Q/HCmM1KwOofO6we9lAYeskFo2M0Jykjm/kmY9cFP2v9myidh8w==", "product_id"=>"4"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 48], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 48], ["product_id", 4], ["LIMIT", 1]]
  ↳ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mLineItem Update (0.3ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 2], ["updated_at", "2020-07-10 01:39:46.071733"], ["id", 75]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[35m (200.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 48]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:8
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 5.0ms | Allocations: 898)
  Rendered carts/_cart.html.erb (Duration: 13.0ms | Allocations: 2182)
  Rendered line_items/create.js.erb (Duration: 16.7ms | Allocations: 2551)
Completed 200 OK in 244ms (Views: 21.6ms | ActiveRecord: 202.4ms | Allocations: 10919)


Started GET "/orders/new" for ::1 at 2020-07-10 08:39:47 +0700
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 48], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 48], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:95:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 6.5ms | Allocations: 1051)
  Rendered orders/new.html.erb within layouts/application (Duration: 7.4ms | Allocations: 1134)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 48], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:16
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 48]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:8
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 1.7ms | Allocations: 891)
  Rendered carts/_cart.html.erb (Duration: 5.0ms | Allocations: 2042)
Completed 200 OK in 40ms (Views: 29.6ms | ActiveRecord: 1.2ms | Allocations: 9215)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-10 08:39:47 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-10 08:39:47 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-10 08:39:47 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/" for ::1 at 2020-07-10 08:44:40 +0700
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 48], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 164.9ms | Allocations: 3517)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 48], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:16
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 48]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:8
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 3.5ms | Allocations: 891)
  Rendered carts/_cart.html.erb (Duration: 8.5ms | Allocations: 2035)
Completed 200 OK in 205ms (Views: 193.3ms | ActiveRecord: 1.8ms | Allocations: 11476)


Started GET "/" for ::1 at 2020-07-10 08:46:31 +0700
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.8ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 48], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 19.1ms | Allocations: 3202)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 48], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:16
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 48]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:8
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 2.1ms | Allocations: 891)
  Rendered carts/_cart.html.erb (Duration: 6.0ms | Allocations: 2029)
Completed 200 OK in 49ms (Views: 39.2ms | ActiveRecord: 2.1ms | Allocations: 10568)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-10 08:46:31 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-10 08:46:31 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-10 08:46:31 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/" for ::1 at 2020-07-10 09:42:18 +0700
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by StoreController#index as HTML
  [1m[36mCart Load (8.7ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 48], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (12.3ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 325.7ms | Allocations: 6486)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (1.3ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 48], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:16
  [1m[36mLineItem Load (1.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 48]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:8
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 2.7ms | Allocations: 1656)
  Rendered carts/_cart.html.erb (Duration: 23.9ms | Allocations: 6913)
Completed 200 OK in 850ms (Views: 694.2ms | ActiveRecord: 23.8ms | Allocations: 23821)


Started GET "/cable" for ::1 at 2020-07-10 09:42:21 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-10 09:42:21 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/orders/new" for ::1 at 2020-07-10 09:42:22 +0700
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.7ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 48], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 48], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:95:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 4.2ms | Allocations: 1109)
  Rendered orders/new.html.erb within layouts/application (Duration: 5.1ms | Allocations: 1192)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 48], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:16
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 48]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:8
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 3.0ms | Allocations: 891)
  Rendered carts/_cart.html.erb (Duration: 5.4ms | Allocations: 2042)
Completed 200 OK in 174ms (Views: 20.6ms | ActiveRecord: 1.5ms | Allocations: 13822)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-10 09:42:22 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-10 09:42:22 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-10 09:42:22 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started POST "/orders" for ::1 at 2020-07-10 09:42:24 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"cHV9fR/WXhQtKAqzbXCm7wV2nJoJghdKF5DE3GpW3F99WC9IwAjLFyF9x3B7F6BMaK1JmWAmsY41hKtG0NeO/g==", "order"=>{"name"=>"", "address"=>"", "email"=>"", "pay_type"=>""}, "commit"=>"Place Order"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 48], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
Completed 500 Internal Server Error in 37ms (ActiveRecord: 0.3ms | Allocations: 3347)


  
NoMethodError (undefined method `add_line_items_from_cart' for #<Order:0x00005584655aa1b0>):
  
app/controllers/orders_controller.rb:39:in `create'
Finished "/cable/" [WebSocket] for ::1 at 2020-07-10 09:42:25 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-10 09:43:44 +0700
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-10 09:43:44 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/orders/new" for ::1 at 2020-07-10 09:43:44 +0700
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 48], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 48], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:95:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 3.3ms | Allocations: 1109)
  Rendered orders/new.html.erb within layouts/application (Duration: 3.8ms | Allocations: 1192)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 48], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:16
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 48]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:8
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 16.3ms | Allocations: 6280)
  Rendered carts/_cart.html.erb (Duration: 34.4ms | Allocations: 11678)
Completed 200 OK in 86ms (Views: 49.8ms | ActiveRecord: 4.5ms | Allocations: 28104)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-10 09:43:45 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-10 09:43:45 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-10 09:43:45 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started POST "/orders" for ::1 at 2020-07-10 09:43:46 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"g1myt2AY9E1aEzsx7djCiU+e9QFpLO8SD0VVFPRaLTiOdOCCv8ZhTlZG9vL7v8QqIkUgAgCISdYtUTqOTtt/mQ==", "order"=>{"name"=>"", "address"=>"", "email"=>"", "pay_type"=>""}, "commit"=>"Place Order"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 48], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 48]]
  ↳ app/models/order.rb:13:in `add_line_items_from_cart'
  [1m[35m (0.4ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/orders_controller.rb:42:in `block in create'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:42:in `block in create'
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  ↳ app/controllers/orders_controller.rb:42:in `block in create'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 5.1ms | Allocations: 1614)
  Rendered orders/new.html.erb within layouts/application (Duration: 5.4ms | Allocations: 1696)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 0.3ms | Allocations: 135)
  Rendered carts/_cart.html.erb (Duration: 1.1ms | Allocations: 569)
Completed 200 OK in 44ms (Views: 14.1ms | ActiveRecord: 1.5ms | Allocations: 13493)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-10 09:43:46 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-10 09:43:46 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-10 09:43:46 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started POST "/orders" for ::1 at 2020-07-10 10:00:17 +0700
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"Qn9IMGOz6CFXpeNVsmRA6mO/p+pRiycwa4dg2wrtTtZPUhoFvG19IlvwLpakA0ZJDmRy6TgvgfRJkw9BsGwcdw==", "order"=>{"name"=>"HUỳnh Quốc Khánh", "address"=>"272, tổ 6, Ấp Tịnh HƯng, XÃ Tịnh THới, TP Cao Lãnh, Đồng THáp", "email"=>"01673khanh@gmail.com", "pay_type"=>"Check"}, "commit"=>"Place Order"}
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 48], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 48]]
  ↳ app/models/order.rb:13:in `add_line_items_from_cart'
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/orders_controller.rb:42:in `block in create'
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:42:in `block in create'
  [1m[36mOrder Create (219.4ms)[0m  [1m[32mINSERT INTO "orders" ("name", "address", "email", "pay_type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "HUỳnh Quốc Khánh"], ["address", "272, tổ 6, Ấp Tịnh HƯng, XÃ Tịnh THới, TP Cao Lãnh, Đồng THáp"], ["email", "01673khanh@gmail.com"], ["pay_type", 0], ["created_at", "2020-07-10 03:00:17.832411"], ["updated_at", "2020-07-10 03:00:17.832411"]]
  ↳ app/controllers/orders_controller.rb:42:in `block in create'
  [1m[36mLineItem Update (895.4ms)[0m  [1m[33mUPDATE "line_items" SET "cart_id" = ?, "order_id" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["cart_id", nil], ["order_id", 1], ["updated_at", "2020-07-10 03:00:18.061294"], ["id", 75]]
  ↳ app/controllers/orders_controller.rb:42:in `block in create'
  [1m[35m (85.7ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/orders_controller.rb:42:in `block in create'
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 48], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:43:in `block in create'
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/orders_controller.rb:43:in `block in create'
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 48]]
  ↳ app/controllers/orders_controller.rb:43:in `block in create'
  [1m[36mCart Destroy (0.5ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 48]]
  ↳ app/controllers/orders_controller.rb:43:in `block in create'
  [1m[35m (101.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/orders_controller.rb:43:in `block in create'
Redirected to http://localhost:3000/
Completed 302 Found in 1365ms (ActiveRecord: 1305.7ms | Allocations: 12994)


Started GET "/" for ::1 at 2020-07-10 10:00:19 +0700
Processing by StoreController#index as HTML
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[36mCart Create (0.5ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2020-07-10 03:00:19.224610"], ["updated_at", "2020-07-10 03:00:19.224610"]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[35m (71.8ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 19.9ms | Allocations: 3240)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 49], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:16
Completed 200 OK in 122ms (Views: 32.0ms | ActiveRecord: 73.3ms | Allocations: 11871)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-10 10:00:19 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-10 10:00:19 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-10 10:00:19 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started POST "/line_items?product_id=4" for ::1 at 2020-07-10 10:56:52 +0700
  [1m[35m (2.5ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"HfYFNHcp+zEtmeGC9TQmi3j40z9Go5dRnrLektyim+EQ21cBqPduMiHMLEHjUyAoFSMGPC8HMZW8prEIZiPJQA==", "product_id"=>"4"}
  [1m[36mCart Load (25.5ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 49], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (11.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (21.9ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 49], ["product_id", 4], ["LIMIT", 1]]
  ↳ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mLineItem Create (47.4ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 4], ["cart_id", 49], ["created_at", "2020-07-10 03:56:53.244159"], ["updated_at", "2020-07-10 03:56:53.244159"]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[35m (656.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 49]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 199.1ms | Allocations: 4431)
  Rendered carts/_cart.html.erb (Duration: 218.6ms | Allocations: 6343)
  Rendered line_items/create.js.erb (Duration: 328.5ms | Allocations: 6888)
Completed 200 OK in 1677ms (Views: 421.9ms | ActiveRecord: 768.5ms | Allocations: 32758)


Started GET "/" for ::1 at 2020-07-10 10:56:54 +0700
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 49], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 957.2ms | Allocations: 9616)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 49], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:16
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 49]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:8
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 8.4ms | Allocations: 1051)
  Rendered carts/_cart.html.erb (Duration: 18.0ms | Allocations: 2539)
Completed 200 OK in 1176ms (Views: 1163.6ms | ActiveRecord: 1.7ms | Allocations: 19577)


Started GET "/cable" for ::1 at 2020-07-10 10:56:56 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-10 10:56:56 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started POST "/line_items?product_id=4" for ::1 at 2020-07-10 10:57:01 +0700
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"XjKN2CLwZUTRuCvKWu/movC8SiirTpZW302cq8Wm51RTH9/t/S7wR93t5glMiOABnWefK8LqMJL9WfMxfye19Q==", "product_id"=>"4"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 49], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 49], ["product_id", 4], ["LIMIT", 1]]
  ↳ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mLineItem Update (0.2ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 2], ["updated_at", "2020-07-10 03:57:01.153988"], ["id", 76]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[35m (587.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 49]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:8
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 5.2ms | Allocations: 898)
  Rendered carts/_cart.html.erb (Duration: 12.2ms | Allocations: 2180)
  Rendered line_items/create.js.erb (Duration: 14.7ms | Allocations: 2546)
Completed 200 OK in 620ms (Views: 19.4ms | ActiveRecord: 589.0ms | Allocations: 10613)


Started POST "/line_items?product_id=4" for ::1 at 2020-07-10 10:57:02 +0700
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"XjKN2CLwZUTRuCvKWu/movC8SiirTpZW302cq8Wm51RTH9/t/S7wR93t5glMiOABnWefK8LqMJL9WfMxfye19Q==", "product_id"=>"4"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 49], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 49], ["product_id", 4], ["LIMIT", 1]]
  ↳ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mLineItem Update (0.4ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 3], ["updated_at", "2020-07-10 03:57:02.911820"], ["id", 76]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[35m (841.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 49]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:8
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 3.7ms | Allocations: 898)
  Rendered carts/_cart.html.erb (Duration: 8.5ms | Allocations: 2058)
  Rendered line_items/create.js.erb (Duration: 9.3ms | Allocations: 2224)
Completed 200 OK in 902ms (Views: 10.2ms | ActiveRecord: 844.2ms | Allocations: 9156)


Started POST "/line_items?product_id=5" for ::1 at 2020-07-10 10:57:04 +0700
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"XjKN2CLwZUTRuCvKWu/movC8SiirTpZW302cq8Wm51RTH9/t/S7wR93t5glMiOABnWefK8LqMJL9WfMxfye19Q==", "product_id"=>"5"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 49], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 49], ["product_id", 5], ["LIMIT", 1]]
  ↳ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mLineItem Create (0.5ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 5], ["cart_id", 49], ["created_at", "2020-07-10 03:57:04.210686"], ["updated_at", "2020-07-10 03:57:04.210686"]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[35m (612.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 49]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:8
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 6.7ms | Allocations: 1027)
  Rendered carts/_cart.html.erb (Duration: 15.0ms | Allocations: 2280)
  Rendered line_items/create.js.erb (Duration: 16.4ms | Allocations: 2461)
Completed 200 OK in 658ms (Views: 17.3ms | ActiveRecord: 614.9ms | Allocations: 9488)


Started POST "/line_items?product_id=5" for ::1 at 2020-07-10 10:57:06 +0700
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"XjKN2CLwZUTRuCvKWu/movC8SiirTpZW302cq8Wm51RTH9/t/S7wR93t5glMiOABnWefK8LqMJL9WfMxfye19Q==", "product_id"=>"5"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 49], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 49], ["product_id", 5], ["LIMIT", 1]]
  ↳ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mLineItem Update (0.2ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 2], ["updated_at", "2020-07-10 03:57:06.655826"], ["id", 77]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[35m (106.8ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 49]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:8
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:8
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 10.6ms | Allocations: 1795)
  Rendered carts/_cart.html.erb (Duration: 17.4ms | Allocations: 2978)
  Rendered line_items/create.js.erb (Duration: 18.5ms | Allocations: 3159)
Completed 200 OK in 141ms (Views: 18.8ms | ActiveRecord: 108.4ms | Allocations: 10087)


Started DELETE "/carts/49" for ::1 at 2020-07-10 10:57:16 +0700
Processing by CartsController#destroy as HTML
  Parameters: {"authenticity_token"=>"9ToLS48Zyj3/yiqYDw1WgWZKnYi6w9NLPBnPXYBp+1hCrWXERrmfcAxR4B4RpyUQt+VLK181lAIDPbwjpsWIeQ==", "id"=>"49"}
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 49], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:68:in `set_cart'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/carts_controller.rb:57:in `destroy'
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 49]]
  ↳ app/controllers/carts_controller.rb:57:in `destroy'
  [1m[36mLineItem Destroy (0.4ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 76]]
  ↳ app/controllers/carts_controller.rb:57:in `destroy'
  [1m[36mLineItem Destroy (0.3ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 77]]
  ↳ app/controllers/carts_controller.rb:57:in `destroy'
  [1m[36mCart Destroy (0.3ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 49]]
  ↳ app/controllers/carts_controller.rb:57:in `destroy'
  [1m[35m (172.8ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/carts_controller.rb:57:in `destroy'
Redirected to http://localhost:3000/
Completed 302 Found in 203ms (ActiveRecord: 174.8ms | Allocations: 6909)


Started GET "/" for ::1 at 2020-07-10 10:57:16 +0700
Processing by StoreController#index as HTML
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[36mCart Create (7.9ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2020-07-10 03:57:16.949099"], ["updated_at", "2020-07-10 03:57:16.949099"]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[35m (67.8ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 21.3ms | Allocations: 3216)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 50], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:16
Completed 200 OK in 135ms (Views: 35.2ms | ActiveRecord: 76.5ms | Allocations: 11692)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-10 10:57:17 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-10 10:57:17 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-10 10:57:17 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started POST "/line_items?product_id=4" for ::1 at 2020-07-10 10:57:18 +0700
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"l0vxh+85w7mBHU2E6WsGNXwz6+ZkL3Z1YJONwMj6IXyaZqOyMOdWuo1IgEf/DACWEeg+5Q2L0LFCh+Jacntz3Q==", "product_id"=>"4"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 50], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 50], ["product_id", 4], ["LIMIT", 1]]
  ↳ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mLineItem Create (0.5ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 4], ["cart_id", 50], ["created_at", "2020-07-10 03:57:18.600355"], ["updated_at", "2020-07-10 03:57:18.600355"]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[35m (194.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 50]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 0.9ms | Allocations: 134)
  Rendered carts/_cart.html.erb (Duration: 8.1ms | Allocations: 1363)
  Rendered line_items/create.js.erb (Duration: 9.0ms | Allocations: 1529)
Completed 200 OK in 233ms (Views: 10.1ms | ActiveRecord: 196.2ms | Allocations: 8514)


Started POST "/line_items?product_id=4" for ::1 at 2020-07-10 10:57:44 +0700
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"l0vxh+85w7mBHU2E6WsGNXwz6+ZkL3Z1YJONwMj6IXyaZqOyMOdWuo1IgEf/DACWEeg+5Q2L0LFCh+Jacntz3Q==", "product_id"=>"4"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 50], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 50], ["product_id", 4], ["LIMIT", 1]]
  ↳ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mLineItem Update (0.7ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 2], ["updated_at", "2020-07-10 03:57:44.878385"], ["id", 76]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[35m (191.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 50]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:8
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 4.4ms | Allocations: 898)
  Rendered carts/_cart.html.erb (Duration: 10.1ms | Allocations: 2058)
  Rendered line_items/create.js.erb (Duration: 11.6ms | Allocations: 2224)
Completed 200 OK in 235ms (Views: 12.4ms | ActiveRecord: 193.8ms | Allocations: 9129)


Started DELETE "/carts/50" for ::1 at 2020-07-10 10:57:48 +0700
Processing by CartsController#destroy as HTML
  Parameters: {"authenticity_token"=>"W74RTXUl6PEOPWAmvCaeQkrV6XaLtBs5uQB4jKWTB5HEknYkE84xRHCYfbQtNnQXiTbnnvpXoFA6rTuObHBmeg==", "id"=>"50"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 50], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:68:in `set_cart'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/carts_controller.rb:57:in `destroy'
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 50]]
  ↳ app/controllers/carts_controller.rb:57:in `destroy'
  [1m[36mLineItem Destroy (0.4ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 76]]
  ↳ app/controllers/carts_controller.rb:57:in `destroy'
  [1m[36mCart Destroy (0.7ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 50]]
  ↳ app/controllers/carts_controller.rb:57:in `destroy'
  [1m[35m (183.7ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/carts_controller.rb:57:in `destroy'
Redirected to http://localhost:3000/
Completed 302 Found in 208ms (ActiveRecord: 185.6ms | Allocations: 5839)


Started GET "/" for ::1 at 2020-07-10 10:57:49 +0700
Processing by StoreController#index as HTML
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[36mCart Create (0.7ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2020-07-10 03:57:49.148390"], ["updated_at", "2020-07-10 03:57:49.148390"]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[35m (74.6ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 12.8ms | Allocations: 3209)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 51], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:16
Completed 200 OK in 121ms (Views: 29.9ms | ActiveRecord: 76.2ms | Allocations: 11588)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-10 10:57:49 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-10 10:57:49 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-10 10:57:49 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started POST "/line_items?product_id=4" for ::1 at 2020-07-10 11:10:34 +0700
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"xjuk2ixRK8QbVtMUTsd3LIlFnNPe7VAvAvhGOgojavXLFvbv84++xxcDHtdYoHGP5J5J0LdJ9usg7CmgsKI4VA==", "product_id"=>"4"}
  [1m[36mCart Load (26.6ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 51], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (15.9ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (26.9ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 51], ["product_id", 4], ["LIMIT", 1]]
  ↳ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mLineItem Create (78.3ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 4], ["cart_id", 51], ["created_at", "2020-07-10 04:10:36.369548"], ["updated_at", "2020-07-10 04:10:36.369548"]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[35m (77.7ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 51]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 27.9ms | Allocations: 297)
  Rendered carts/_cart.html.erb (Duration: 52.8ms | Allocations: 2139)
  Rendered line_items/create.js.erb (Duration: 84.6ms | Allocations: 2695)
Completed 200 OK in 531ms (Views: 88.5ms | ActiveRecord: 226.3ms | Allocations: 23363)


Started GET "/cable" for ::1 at 2020-07-10 11:10:41 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-10 11:10:41 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/orders/new" for ::1 at 2020-07-10 11:10:47 +0700
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 51], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 51], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:95:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 144.4ms | Allocations: 2182)
  Rendered orders/new.html.erb within layouts/application (Duration: 159.7ms | Allocations: 2509)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mCACHE LineItem Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 51], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:16
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 51]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:8
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 6.1ms | Allocations: 891)
  Rendered carts/_cart.html.erb (Duration: 13.0ms | Allocations: 2158)
Completed 200 OK in 639ms (Views: 458.8ms | ActiveRecord: 3.2ms | Allocations: 16818)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-10 11:10:48 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-10 11:10:48 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-10 11:10:48 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/orders" for ::1 at 2020-07-10 11:10:56 +0700
Processing by OrdersController#index as HTML
  Rendering orders/index.html.erb within layouts/application
  [1m[36mOrder Load (0.6ms)[0m  [1m[34mSELECT "orders".* FROM "orders"[0m
  ↳ app/views/orders/index.html.erb:17
  Rendered orders/index.html.erb within layouts/application (Duration: 115.8ms | Allocations: 1086)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 133ms (Views: 129.6ms | ActiveRecord: 0.6ms | Allocations: 5289)


Started GET "/orders/1/edit" for ::1 at 2020-07-10 11:11:09 +0700
Processing by OrdersController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mOrder Load (0.5ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:84:in `set_order'
  Rendering orders/edit.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 5.6ms | Allocations: 1092)
  Rendered orders/edit.html.erb within layouts/application (Duration: 33.6ms | Allocations: 1333)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 59ms (Views: 50.5ms | ActiveRecord: 0.5ms | Allocations: 6175)


Started GET "/" for ::1 at 2020-07-10 11:11:11 +0700
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 51], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 254.8ms | Allocations: 3513)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 51], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:16
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 51]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:8
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 3.8ms | Allocations: 891)
  Rendered carts/_cart.html.erb (Duration: 9.4ms | Allocations: 2034)
Completed 200 OK in 295ms (Views: 287.3ms | ActiveRecord: 1.9ms | Allocations: 11432)


Started POST "/line_items?product_id=4" for ::1 at 2020-07-10 11:15:46 +0700
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"nrODI5yT17MaB+BSY/jR0AnpVmTlOmAPpc1/KypzdcC3GKbk7Hiwpn3jG1oAhcCzj/F6KD8Z/SZjLMabNVuYZQ==", "product_id"=>"4"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 51], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 51], ["product_id", 4], ["LIMIT", 1]]
  ↳ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mLineItem Update (0.3ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 2], ["updated_at", "2020-07-10 04:15:46.490023"], ["id", 76]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[35m (70.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 51]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:8
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 4.4ms | Allocations: 898)
  Rendered carts/_cart.html.erb (Duration: 10.0ms | Allocations: 2068)
  Rendered line_items/create.js.erb (Duration: 10.9ms | Allocations: 2234)
Completed 200 OK in 106ms (Views: 11.7ms | ActiveRecord: 72.3ms | Allocations: 9092)


Started POST "/line_items?product_id=5" for ::1 at 2020-07-10 11:17:44 +0700
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"6dtWcqFVdiaB8QGODS3huqIgV8UsrS4U91UYPnMvZJ3AcHO10b4RM+YV+oZuUPDZJDh7ifaOsz0xtKGObAeJOA==", "product_id"=>"5"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 51], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 51], ["product_id", 5], ["LIMIT", 1]]
  ↳ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mLineItem Create (0.5ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 5], ["cart_id", 51], ["created_at", "2020-07-10 04:17:45.000503"], ["updated_at", "2020-07-10 04:17:45.000503"]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[35m (171.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 51]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:8
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 5.5ms | Allocations: 1027)
  Rendered carts/_cart.html.erb (Duration: 12.1ms | Allocations: 2280)
  Rendered line_items/create.js.erb (Duration: 13.1ms | Allocations: 2460)
Completed 200 OK in 215ms (Views: 14.6ms | ActiveRecord: 173.9ms | Allocations: 9720)


Started GET "/orders/new" for ::1 at 2020-07-10 11:17:49 +0700
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 51], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 51], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:95:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 5.8ms | Allocations: 1051)
  Rendered orders/new.html.erb within layouts/application (Duration: 6.6ms | Allocations: 1134)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 51], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:16
  [1m[36mLineItem Load (0.9ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 51]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:8
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:8
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 6.8ms | Allocations: 1781)
  Rendered carts/_cart.html.erb (Duration: 14.1ms | Allocations: 2955)
Completed 200 OK in 45ms (Views: 36.1ms | ActiveRecord: 1.9ms | Allocations: 10129)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-10 11:17:49 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-10 11:17:49 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-10 11:17:49 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/orders/new" for ::1 at 2020-07-10 11:18:04 +0700
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 51], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 51], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:95:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 3.3ms | Allocations: 1043)
  Rendered orders/new.html.erb within layouts/application (Duration: 4.5ms | Allocations: 1125)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 51], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:16
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 51]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:8
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:8
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 3.9ms | Allocations: 1781)
  Rendered carts/_cart.html.erb (Duration: 11.0ms | Allocations: 2951)
Completed 200 OK in 32ms (Views: 25.9ms | ActiveRecord: 0.7ms | Allocations: 10079)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-10 11:18:04 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-10 11:18:04 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-10 11:18:04 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/orders" for ::1 at 2020-07-10 11:18:09 +0700
Processing by OrdersController#index as HTML
  Rendering orders/index.html.erb within layouts/application
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders"[0m
  ↳ app/views/orders/index.html.erb:17
  Rendered orders/index.html.erb within layouts/application (Duration: 4.8ms | Allocations: 770)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 24ms (Views: 22.0ms | ActiveRecord: 0.3ms | Allocations: 4837)


Started GET "/" for ::1 at 2020-07-10 11:18:48 +0700
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 51], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 19.5ms | Allocations: 3202)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 51], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:16
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 51]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:8
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:8
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 6.1ms | Allocations: 1781)
  Rendered carts/_cart.html.erb (Duration: 9.0ms | Allocations: 2942)
Completed 200 OK in 48ms (Views: 41.5ms | ActiveRecord: 1.7ms | Allocations: 11453)


Started GET "/cable" for ::1 at 2020-07-10 11:56:27 +0700
  [1m[35m (1.4ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-10 11:56:27 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/products" for ::1 at 2020-07-10 11:56:39 +0700
Processing by ProductsController#index as HTML
Completed 500 Internal Server Error in 89ms (ActiveRecord: 0.0ms | Allocations: 2098)


  
ArgumentError (Unknown key: :throught. Valid keys are: :class_name, :anonymous_class, :foreign_key, :validate, :autosave, :table_name, :before_add, :after_add, :before_remove, :after_remove, :extend, :primary_key, :dependent, :as, :through, :source, :source_type, :inverse_of, :counter_cache, :join_table, :foreign_type, :index_errors):
  
app/models/product.rb:11:in `<class:Product>'
app/models/product.rb:1:in `<main>'
app/controllers/products_controller.rb:7:in `index'
Started GET "/products/3/who_bought.atom" for ::1 at 2020-07-10 11:56:50 +0700
Processing by ProductsController#who_bought as ATOM
  Parameters: {"id"=>"3"}
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.0ms | Allocations: 1232)


  
ArgumentError (Unknown key: :throught. Valid keys are: :class_name, :anonymous_class, :foreign_key, :validate, :autosave, :table_name, :before_add, :after_add, :before_remove, :after_remove, :extend, :primary_key, :dependent, :as, :through, :source, :source_type, :inverse_of, :counter_cache, :join_table, :foreign_type, :index_errors):
  
app/models/product.rb:11:in `<class:Product>'
app/models/product.rb:1:in `<main>'
app/controllers/products_controller.rb:69:in `who_bought'
Finished "/cable/" [WebSocket] for ::1 at 2020-07-10 11:56:50 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-10 11:57:05 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-10 11:57:05 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started POST "/line_items?product_id=4" for ::1 at 2020-07-10 11:57:07 +0700
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"RfPR1Vjwfv2ig/E0E+K3XJZG0v36pCn1kNK4yveUe4ZI3oPghy7r/q7WPPcFhbH/+50H/pMAjzGyxtdQTRUpJw==", "product_id"=>"4"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 51], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
Completed 500 Internal Server Error in 19ms (ActiveRecord: 1.5ms | Allocations: 4953)


  
ArgumentError (Unknown key: :throught. Valid keys are: :class_name, :anonymous_class, :foreign_key, :validate, :autosave, :table_name, :before_add, :after_add, :before_remove, :after_remove, :extend, :primary_key, :dependent, :as, :through, :source, :source_type, :inverse_of, :counter_cache, :join_table, :foreign_type, :index_errors):
  
app/models/product.rb:11:in `<class:Product>'
app/models/product.rb:1:in `<main>'
app/controllers/line_items_controller.rb:29:in `create'
Started POST "/line_items?product_id=4" for ::1 at 2020-07-10 11:57:11 +0700
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"RfPR1Vjwfv2ig/E0E+K3XJZG0v36pCn1kNK4yveUe4ZI3oPghy7r/q7WPPcFhbH/+50H/pMAjzGyxtdQTRUpJw==", "product_id"=>"4"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 51], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
Completed 500 Internal Server Error in 8ms (ActiveRecord: 0.3ms | Allocations: 1777)


  
ArgumentError (Unknown key: :throught. Valid keys are: :class_name, :anonymous_class, :foreign_key, :validate, :autosave, :table_name, :before_add, :after_add, :before_remove, :after_remove, :extend, :primary_key, :dependent, :as, :through, :source, :source_type, :inverse_of, :counter_cache, :join_table, :foreign_type, :index_errors):
  
app/models/product.rb:11:in `<class:Product>'
app/models/product.rb:1:in `<main>'
app/controllers/line_items_controller.rb:29:in `create'
Started POST "/line_items?product_id=4" for ::1 at 2020-07-10 11:57:13 +0700
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"RfPR1Vjwfv2ig/E0E+K3XJZG0v36pCn1kNK4yveUe4ZI3oPghy7r/q7WPPcFhbH/+50H/pMAjzGyxtdQTRUpJw==", "product_id"=>"4"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 51], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
Completed 500 Internal Server Error in 8ms (ActiveRecord: 0.3ms | Allocations: 1791)


  
ArgumentError (Unknown key: :throught. Valid keys are: :class_name, :anonymous_class, :foreign_key, :validate, :autosave, :table_name, :before_add, :after_add, :before_remove, :after_remove, :extend, :primary_key, :dependent, :as, :through, :source, :source_type, :inverse_of, :counter_cache, :join_table, :foreign_type, :index_errors):
  
app/models/product.rb:11:in `<class:Product>'
app/models/product.rb:1:in `<main>'
app/controllers/line_items_controller.rb:29:in `create'
Started POST "/line_items?product_id=4" for ::1 at 2020-07-10 11:57:13 +0700
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"RfPR1Vjwfv2ig/E0E+K3XJZG0v36pCn1kNK4yveUe4ZI3oPghy7r/q7WPPcFhbH/+50H/pMAjzGyxtdQTRUpJw==", "product_id"=>"4"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 51], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
Completed 500 Internal Server Error in 3ms (ActiveRecord: 0.1ms | Allocations: 1791)


  
ArgumentError (Unknown key: :throught. Valid keys are: :class_name, :anonymous_class, :foreign_key, :validate, :autosave, :table_name, :before_add, :after_add, :before_remove, :after_remove, :extend, :primary_key, :dependent, :as, :through, :source, :source_type, :inverse_of, :counter_cache, :join_table, :foreign_type, :index_errors):
  
app/models/product.rb:11:in `<class:Product>'
app/models/product.rb:1:in `<main>'
app/controllers/line_items_controller.rb:29:in `create'
Started POST "/line_items?product_id=4" for ::1 at 2020-07-10 11:57:13 +0700
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"RfPR1Vjwfv2ig/E0E+K3XJZG0v36pCn1kNK4yveUe4ZI3oPghy7r/q7WPPcFhbH/+50H/pMAjzGyxtdQTRUpJw==", "product_id"=>"4"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 51], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
Completed 500 Internal Server Error in 2ms (ActiveRecord: 0.1ms | Allocations: 1775)


  
ArgumentError (Unknown key: :throught. Valid keys are: :class_name, :anonymous_class, :foreign_key, :validate, :autosave, :table_name, :before_add, :after_add, :before_remove, :after_remove, :extend, :primary_key, :dependent, :as, :through, :source, :source_type, :inverse_of, :counter_cache, :join_table, :foreign_type, :index_errors):
  
app/models/product.rb:11:in `<class:Product>'
app/models/product.rb:1:in `<main>'
app/controllers/line_items_controller.rb:29:in `create'
Started POST "/line_items?product_id=4" for ::1 at 2020-07-10 11:57:14 +0700
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"RfPR1Vjwfv2ig/E0E+K3XJZG0v36pCn1kNK4yveUe4ZI3oPghy7r/q7WPPcFhbH/+50H/pMAjzGyxtdQTRUpJw==", "product_id"=>"4"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 51], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
Completed 500 Internal Server Error in 4ms (ActiveRecord: 0.1ms | Allocations: 1775)


  
ArgumentError (Unknown key: :throught. Valid keys are: :class_name, :anonymous_class, :foreign_key, :validate, :autosave, :table_name, :before_add, :after_add, :before_remove, :after_remove, :extend, :primary_key, :dependent, :as, :through, :source, :source_type, :inverse_of, :counter_cache, :join_table, :foreign_type, :index_errors):
  
app/models/product.rb:11:in `<class:Product>'
app/models/product.rb:1:in `<main>'
app/controllers/line_items_controller.rb:29:in `create'
Started GET "/" for ::1 at 2020-07-10 11:57:15 +0700
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 51], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
Completed 500 Internal Server Error in 9ms (ActiveRecord: 0.4ms | Allocations: 1792)


  
ArgumentError (Unknown key: :throught. Valid keys are: :class_name, :anonymous_class, :foreign_key, :validate, :autosave, :table_name, :before_add, :after_add, :before_remove, :after_remove, :extend, :primary_key, :dependent, :as, :through, :source, :source_type, :inverse_of, :counter_cache, :join_table, :foreign_type, :index_errors):
  
app/models/product.rb:11:in `<class:Product>'
app/models/product.rb:1:in `<main>'
app/controllers/store_controller.rb:5:in `index'
Finished "/cable/" [WebSocket] for ::1 at 2020-07-10 11:57:15 +0700
ProductsChannel stopped streaming from products
Started GET "/" for ::1 at 2020-07-10 11:57:24 +0700
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 51], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
Completed 500 Internal Server Error in 10ms (ActiveRecord: 0.3ms | Allocations: 1725)


  
ArgumentError (Unknown key: :throught. Valid keys are: :class_name, :anonymous_class, :foreign_key, :validate, :autosave, :table_name, :before_add, :after_add, :before_remove, :after_remove, :extend, :primary_key, :dependent, :as, :through, :source, :source_type, :inverse_of, :counter_cache, :join_table, :foreign_type, :index_errors):
  
app/models/product.rb:11:in `<class:Product>'
app/models/product.rb:1:in `<main>'
app/controllers/store_controller.rb:5:in `index'
Started GET "/" for ::1 at 2020-07-10 11:57:25 +0700
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 51], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
Completed 500 Internal Server Error in 5ms (ActiveRecord: 0.3ms | Allocations: 1725)


  
ArgumentError (Unknown key: :throught. Valid keys are: :class_name, :anonymous_class, :foreign_key, :validate, :autosave, :table_name, :before_add, :after_add, :before_remove, :after_remove, :extend, :primary_key, :dependent, :as, :through, :source, :source_type, :inverse_of, :counter_cache, :join_table, :foreign_type, :index_errors):
  
app/models/product.rb:11:in `<class:Product>'
app/models/product.rb:1:in `<main>'
app/controllers/store_controller.rb:5:in `index'
Started GET "/" for ::1 at 2020-07-10 11:58:13 +0700
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 51], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
Completed 500 Internal Server Error in 21ms (ActiveRecord: 0.4ms | Allocations: 3208)


  
ArgumentError (Unknown key: :throught. Valid keys are: :class_name, :anonymous_class, :foreign_key, :validate, :autosave, :table_name, :before_add, :after_add, :before_remove, :after_remove, :extend, :primary_key, :dependent, :as, :through, :source, :source_type, :inverse_of, :counter_cache, :join_table, :foreign_type, :index_errors):
  
app/models/product.rb:11:in `<class:Product>'
app/models/product.rb:1:in `<main>'
app/controllers/store_controller.rb:5:in `index'
Started GET "/products/3/who_bought.atom" for ::1 at 2020-07-10 11:59:37 +0700
  [1m[35m (0.4ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ProductsController#who_bought as ATOM
  Parameters: {"id"=>"3"}
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:69:in `who_bought'
Completed 404 Not Found in 22ms (ActiveRecord: 1.3ms | Allocations: 4396)


  
ActiveRecord::RecordNotFound (Couldn't find Product with 'id'=3):
  
app/controllers/products_controller.rb:69:in `who_bought'
Started GET "/" for ::1 at 2020-07-10 13:50:55 +0700
  [1m[35m (2.9ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by StoreController#index as HTML
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[36mCart Create (25.8ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2020-07-10 06:50:55.965981"], ["updated_at", "2020-07-10 06:50:55.965981"]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[35m (85.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (1.3ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 362.3ms | Allocations: 12949)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 52], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:16
Completed 200 OK in 808ms (Views: 545.2ms | ActiveRecord: 118.4ms | Allocations: 31894)


Started GET "/cable" for ::1 at 2020-07-10 13:50:57 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-10 13:50:57 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started POST "/line_items?product_id=4" for ::1 at 2020-07-10 13:51:02 +0700
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"kEzq9DSlTPuCNiZIDo+aA+jsp8jszZnq2NLwNkjDYYJQja7XQ9dZp1uCeSPo5KbbIz3xqQrYGNrcLPXsVWG/Eg==", "product_id"=>"4"}
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 52], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 52], ["product_id", 4], ["LIMIT", 1]]
  ↳ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mLineItem Create (32.2ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 4], ["cart_id", 52], ["created_at", "2020-07-10 06:51:02.962541"], ["updated_at", "2020-07-10 06:51:02.962541"]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[35m (90.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 52]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 15.1ms | Allocations: 304)
  Rendered carts/_cart.html.erb (Duration: 40.2ms | Allocations: 2178)
  Rendered line_items/create.js.erb (Duration: 65.3ms | Allocations: 2604)
Completed 200 OK in 258ms (Views: 70.8ms | ActiveRecord: 125.4ms | Allocations: 16168)


Started GET "/orders/new" for ::1 at 2020-07-10 13:51:04 +0700
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 52], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 52], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:95:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 68.0ms | Allocations: 2182)
  Rendered orders/new.html.erb within layouts/application (Duration: 100.4ms | Allocations: 2511)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mCACHE LineItem Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 52], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:16
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 52]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:8
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 3.1ms | Allocations: 891)
  Rendered carts/_cart.html.erb (Duration: 9.8ms | Allocations: 2154)
Completed 200 OK in 197ms (Views: 133.4ms | ActiveRecord: 4.1ms | Allocations: 16289)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-10 13:51:04 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-10 13:51:04 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-10 13:51:04 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started POST "/orders" for ::1 at 2020-07-10 13:51:22 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"arJxJxt7WI6x2GEqaykXqf/Q4hNiLcaYz0CX5YJgacaqczUEbAlN0mhsPkGNQitxNAG0coQ4R6jLvpI/n8K3Vg==", "order"=>{"name"=>"HUỳnh Quốc Khánh", "address"=>"272, tổ 6 ÂP", "email"=>"01673khanh@gmail.com", "pay_type"=>"Check"}, "commit"=>"Place Order"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 52], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 52]]
  ↳ app/models/order.rb:13:in `add_line_items_from_cart'
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/orders_controller.rb:42:in `block in create'
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:42:in `block in create'
  [1m[36mOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "orders" ("name", "address", "email", "pay_type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "HUỳnh Quốc Khánh"], ["address", "272, tổ 6 ÂP"], ["email", "01673khanh@gmail.com"], ["pay_type", 0], ["created_at", "2020-07-10 06:51:22.583708"], ["updated_at", "2020-07-10 06:51:22.583708"]]
  ↳ app/controllers/orders_controller.rb:42:in `block in create'
  [1m[36mLineItem Update (0.3ms)[0m  [1m[33mUPDATE "line_items" SET "cart_id" = ?, "order_id" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["cart_id", nil], ["order_id", 2], ["updated_at", "2020-07-10 06:51:22.594963"], ["id", 78]]
  ↳ app/controllers/orders_controller.rb:42:in `block in create'
  [1m[35m (85.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/orders_controller.rb:42:in `block in create'
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 52], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:43:in `block in create'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/orders_controller.rb:43:in `block in create'
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 52]]
  ↳ app/controllers/orders_controller.rb:43:in `block in create'
  [1m[36mCart Destroy (0.6ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 52]]
  ↳ app/controllers/orders_controller.rb:43:in `block in create'
  [1m[35m (70.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/orders_controller.rb:43:in `block in create'
Redirected to http://localhost:3000/
Completed 302 Found in 229ms (ActiveRecord: 159.6ms | Allocations: 13673)


Started GET "/" for ::1 at 2020-07-10 13:51:22 +0700
Processing by StoreController#index as HTML
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[36mCart Create (0.7ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2020-07-10 06:51:22.801607"], ["updated_at", "2020-07-10 06:51:22.801607"]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[35m (72.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 17.6ms | Allocations: 3214)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 53], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:16
Completed 200 OK in 118ms (Views: 27.4ms | ActiveRecord: 73.9ms | Allocations: 11748)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-10 13:51:22 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-10 13:51:22 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-10 13:51:22 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started POST "/line_items?product_id=4" for ::1 at 2020-07-10 13:51:27 +0700
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"urWH7yTOmpYbTizzXxkolnwH66K5w+vzN8kVG57iYn56dMPMU7yPysL6c5i5chROt9a9w1/WasMzNxDBg0C87g==", "product_id"=>"4"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 53], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 53], ["product_id", 4], ["LIMIT", 1]]
  ↳ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mLineItem Create (0.4ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 4], ["cart_id", 53], ["created_at", "2020-07-10 06:51:27.120630"], ["updated_at", "2020-07-10 06:51:27.120630"]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[35m (70.7ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 53]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 0.9ms | Allocations: 134)
  Rendered carts/_cart.html.erb (Duration: 8.9ms | Allocations: 1373)
  Rendered line_items/create.js.erb (Duration: 10.0ms | Allocations: 1539)
Completed 200 OK in 100ms (Views: 11.7ms | ActiveRecord: 72.0ms | Allocations: 8463)


Started GET "/products/3/who_bought.atom" for ::1 at 2020-07-10 13:51:48 +0700
Processing by ProductsController#who_bought as ATOM
  Parameters: {"id"=>"3"}
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:69:in `who_bought'
Completed 404 Not Found in 5ms (ActiveRecord: 0.3ms | Allocations: 1109)


  
ActiveRecord::RecordNotFound (Couldn't find Product with 'id'=3):
  
app/controllers/products_controller.rb:69:in `who_bought'
Finished "/cable/" [WebSocket] for ::1 at 2020-07-10 13:51:49 +0700
ProductsChannel stopped streaming from products
Started GET "/products/3/who_bought.atom" for ::1 at 2020-07-10 13:57:51 +0700
  [1m[35m (1.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (8.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ProductsController#who_bought as ATOM
  Parameters: {"id"=>"3"}
  [1m[36mProduct Load (13.0ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:69:in `who_bought'
Completed 404 Not Found in 84ms (ActiveRecord: 14.3ms | Allocations: 4130)


  
ActiveRecord::RecordNotFound (Couldn't find Product with 'id'=3):
  
app/controllers/products_controller.rb:69:in `who_bought'
Started GET "/products/1/who_bought.atom" for ::1 at 2020-07-10 13:58:01 +0700
Processing by ProductsController#who_bought as ATOM
  Parameters: {"id"=>"1"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:69:in `who_bought'
Completed 404 Not Found in 3ms (ActiveRecord: 0.2ms | Allocations: 1124)


  
ActiveRecord::RecordNotFound (Couldn't find Product with 'id'=1):
  
app/controllers/products_controller.rb:69:in `who_bought'
Started GET "/products/who_bought.atom" for ::1 at 2020-07-10 13:58:09 +0700
Processing by ProductsController#show as ATOM
  Parameters: {"id"=>"who_bought"}
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", nil], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:82:in `set_product'
Completed 404 Not Found in 3ms (ActiveRecord: 0.2ms | Allocations: 1105)


  
ActiveRecord::RecordNotFound (Couldn't find Product with 'id'=who_bought):
  
app/controllers/products_controller.rb:82:in `set_product'
Started GET "/cable" for ::1 at 2020-07-10 13:58:16 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-10 13:58:17 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started POST "/line_items?product_id=4" for ::1 at 2020-07-10 13:58:18 +0700
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"urWH7yTOmpYbTizzXxkolnwH66K5w+vzN8kVG57iYn56dMPMU7yPysL6c5i5chROt9a9w1/WasMzNxDBg0C87g==", "product_id"=>"4"}
  [1m[36mCart Load (22.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 53], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (22.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 53], ["product_id", 4], ["LIMIT", 1]]
  ↳ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mLineItem Update (0.4ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 2], ["updated_at", "2020-07-10 06:58:19.092794"], ["id", 79]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[35m (107.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 53]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:8
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 67.9ms | Allocations: 2957)
  Rendered carts/_cart.html.erb (Duration: 91.9ms | Allocations: 4776)
  Rendered line_items/create.js.erb (Duration: 121.7ms | Allocations: 5196)
Completed 200 OK in 542ms (Views: 123.5ms | ActiveRecord: 157.1ms | Allocations: 27657)


Started GET "/orders/new" for ::1 at 2020-07-10 13:58:20 +0700
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 53], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 53], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:95:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 22.9ms | Allocations: 2185)
  Rendered orders/new.html.erb within layouts/application (Duration: 31.9ms | Allocations: 2515)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mCACHE LineItem Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 53], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:16
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 53]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:8
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 4.6ms | Allocations: 891)
  Rendered carts/_cart.html.erb (Duration: 10.7ms | Allocations: 2158)
Completed 200 OK in 552ms (Views: 531.0ms | ActiveRecord: 2.0ms | Allocations: 21036)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-10 13:58:21 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-10 13:58:21 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-10 13:58:21 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/orders" for ::1 at 2020-07-10 13:58:23 +0700
Processing by OrdersController#index as HTML
  Rendering orders/index.html.erb within layouts/application
  [1m[36mOrder Load (24.7ms)[0m  [1m[34mSELECT "orders".* FROM "orders"[0m
  ↳ app/views/orders/index.html.erb:17
  Rendered orders/index.html.erb within layouts/application (Duration: 50.4ms | Allocations: 1232)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 65ms (Views: 37.8ms | ActiveRecord: 24.7ms | Allocations: 5466)


Started GET "/orders/2" for ::1 at 2020-07-10 13:58:27 +0700
Processing by OrdersController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mOrder Load (0.5ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:84:in `set_order'
  Rendering orders/show.html.erb within layouts/application
  Rendered orders/show.html.erb within layouts/application (Duration: 28.4ms | Allocations: 295)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 51ms (Views: 43.6ms | ActiveRecord: 0.5ms | Allocations: 5125)


Started DELETE "/orders/2" for ::1 at 2020-07-10 13:58:34 +0700
Processing by OrdersController#destroy as HTML
  Parameters: {"authenticity_token"=>"uCjVexkkxq/4FeYe3mhPZ9cRM1G/TglhTFWSGu6uB9546ZFYblbT8yGhuXU4A3O/HMBlMFlbiFFIq5fA8wzZTg==", "id"=>"2"}
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:84:in `set_order'
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/orders_controller.rb:74:in `destroy'
  [1m[36mLineItem Load (26.7ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."order_id" = ?[0m  [["order_id", 2]]
  ↳ app/controllers/orders_controller.rb:74:in `destroy'
  [1m[36mLineItem Destroy (39.2ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 78]]
  ↳ app/controllers/orders_controller.rb:74:in `destroy'
  [1m[36mOrder Destroy (0.4ms)[0m  [1m[31mDELETE FROM "orders" WHERE "orders"."id" = ?[0m  [["id", 2]]
  ↳ app/controllers/orders_controller.rb:74:in `destroy'
  [1m[35m (149.7ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/orders_controller.rb:74:in `destroy'
Redirected to http://localhost:3000/orders
Completed 302 Found in 250ms (ActiveRecord: 216.7ms | Allocations: 7067)


Started GET "/orders" for ::1 at 2020-07-10 13:58:34 +0700
Processing by OrdersController#index as HTML
  Rendering orders/index.html.erb within layouts/application
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders"[0m
  ↳ app/views/orders/index.html.erb:17
  Rendered orders/index.html.erb within layouts/application (Duration: 4.0ms | Allocations: 773)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 25ms (Views: 22.9ms | ActiveRecord: 0.3ms | Allocations: 4831)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-10 13:58:34 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-10 13:58:34 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-10 13:58:34 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/" for ::1 at 2020-07-10 13:58:36 +0700
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 53], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 79.3ms | Allocations: 3600)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 53], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:16
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 53]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:8
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 2.3ms | Allocations: 891)
  Rendered carts/_cart.html.erb (Duration: 5.8ms | Allocations: 2035)
Completed 200 OK in 108ms (Views: 100.2ms | ActiveRecord: 1.5ms | Allocations: 11588)


Started GET "/cable" for ::1 at 2020-07-10 14:23:17 +0700
  [1m[35m (1.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-10 14:23:17 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/" for ::1 at 2020-07-10 14:23:34 +0700
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 53], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 719.8ms | Allocations: 12918)
[Webpacker] Compiling...
[Webpacker] Compiled all packs in /home/khanh/Desktop/depot/public/packs
[Webpacker] Hash: c227eb439b66a220cabe
Version: webpack 4.43.0
Time: 8713ms
Built at: 07/10/2020 2:23:49 PM
                                     Asset       Size       Chunks                         Chunk Names
    js/application-d687b46ae54878e1a078.js    146 KiB  application  [emitted] [immutable]  application
js/application-d687b46ae54878e1a078.js.map    164 KiB  application  [emitted] [dev]        application
    js/hello_react-7cb607df4b85a32cfe4e.js   1.05 MiB  hello_react  [emitted] [immutable]  hello_react
js/hello_react-7cb607df4b85a32cfe4e.js.map   1.21 MiB  hello_react  [emitted] [dev]        hello_react
                             manifest.json  703 bytes               [emitted]              
Entrypoint application = js/application-d687b46ae54878e1a078.js js/application-d687b46ae54878e1a078.js.map
Entrypoint hello_react = js/hello_react-7cb607df4b85a32cfe4e.js js/hello_react-7cb607df4b85a32cfe4e.js.map
[./app/javascript/channels sync recursive _channel\.js$] ./app/javascript/channels sync _channel\.js$ 186 bytes {application} [built]
[./app/javascript/channels/consumer.js] 265 bytes {application} [built]
[./app/javascript/channels/index.js] 211 bytes {application} [built]
[./app/javascript/channels/products_channel.js] 555 bytes {application} [optional] [built]
[./app/javascript/packs/application.js] 749 bytes {application} [built]
[./app/javascript/packs/hello_react.jsx] 1.06 KiB {hello_react} [built]
[./node_modules/webpack/buildin/module.js] (webpack)/buildin/module.js 552 bytes {application} [built]
    + 19 hidden modules

  [1m[36mLineItem Exists? (25.6ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 53], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:16
  [1m[36mLineItem Load (22.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 53]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:8
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 43.5ms | Allocations: 1828)
  Rendered carts/_cart.html.erb (Duration: 146.0ms | Allocations: 7989)
Completed 200 OK in 14989ms (Views: 14847.0ms | ActiveRecord: 53.0ms | Allocations: 39078)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-10 14:23:49 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-10 14:23:49 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-10 14:23:49 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/orders/new" for ::1 at 2020-07-10 14:23:57 +0700
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 53], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 53], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:95:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 58.2ms | Allocations: 2181)
  Rendered orders/new.html.erb within layouts/application (Duration: 134.3ms | Allocations: 8858)
Completed 500 Internal Server Error in 164ms (ActiveRecord: 1.8ms | Allocations: 16078)


  
ActionView::Template::Error (The asset "Hello_react.js" is not present in the asset pipeline.):
    5: 
    6: <%= link_to 'Back', orders_path %>
    7: 
    8: <% javascript_include_tag 'Hello_react' %>
  
app/views/orders/new.html.erb:8
Finished "/cable/" [WebSocket] for ::1 at 2020-07-10 14:23:58 +0700
ProductsChannel stopped streaming from products
Started GET "/orders/new" for ::1 at 2020-07-10 14:24:08 +0700
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 53], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 53], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:95:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 7.7ms | Allocations: 1446)
  Rendered orders/new.html.erb within layouts/application (Duration: 17.6ms | Allocations: 7826)
Completed 500 Internal Server Error in 38ms (ActiveRecord: 0.9ms | Allocations: 10342)


  
ActionView::Template::Error (The asset "Hello_react.js" is not present in the asset pipeline.):
    5: 
    6: <%= link_to 'Back', orders_path %>
    7: 
    8: <%= javascript_include_tag 'Hello_react' %>
  
app/views/orders/new.html.erb:8
Started GET "/orders/new" for ::1 at 2020-07-10 14:24:23 +0700
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 53], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 53], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:95:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 6.1ms | Allocations: 1425)
  Rendered orders/new.html.erb within layouts/application (Duration: 18.0ms | Allocations: 7802)
Completed 500 Internal Server Error in 35ms (ActiveRecord: 0.7ms | Allocations: 10271)


  
ActionView::Template::Error (The asset "Hello_react.js" is not present in the asset pipeline.):
    5: 
    6: <%= link_to 'Back', orders_path %>
    7: 
    8: <%= javascript_include_tag ('Hello_react') %>
  
app/views/orders/new.html.erb:8
Started GET "/orders/new" for ::1 at 2020-07-10 14:24:43 +0700
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 53], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 53], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:95:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 5.2ms | Allocations: 1425)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered orders/new.html.erb within layouts/application (Duration: 11.4ms | Allocations: 4173)
Completed 500 Internal Server Error in 25ms (ActiveRecord: 0.7ms | Allocations: 6624)


  
ActionView::Template::Error (Webpacker can't find Hello_react in /home/khanh/Desktop/depot/public/packs/manifest.json. Possible causes:
1. You want to set webpacker.yml value of compile to true for your environment
   unless you are using the `webpack -w` or the webpack-dev-server.
2. webpack has not yet re-run to reflect updates.
3. You have misconfigured Webpacker's config/webpacker.yml file.
4. Your webpack configuration is not creating a manifest.
Your manifest contains:
{
  "application.js": "/packs/js/application-d687b46ae54878e1a078.js",
  "application.js.map": "/packs/js/application-d687b46ae54878e1a078.js.map",
  "entrypoints": {
    "application": {
      "js": [
        "/packs/js/application-d687b46ae54878e1a078.js"
      ],
      "js.map": [
        "/packs/js/application-d687b46ae54878e1a078.js.map"
      ]
    },
    "hello_react": {
      "js": [
        "/packs/js/hello_react-7cb607df4b85a32cfe4e.js"
      ],
      "js.map": [
        "/packs/js/hello_react-7cb607df4b85a32cfe4e.js.map"
      ]
    }
  },
  "hello_react.js": "/packs/js/hello_react-7cb607df4b85a32cfe4e.js",
  "hello_react.js.map": "/packs/js/hello_react-7cb607df4b85a32cfe4e.js.map"
}
):
    5: 
    6: <%= link_to 'Back', orders_path %>
    7: 
    8: <%= javascript_pack_tag ('Hello_react') %>
  
app/views/orders/new.html.erb:8
Started GET "/cable" for ::1 at 2020-07-10 14:25:02 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-10 14:25:02 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/" for ::1 at 2020-07-10 14:25:04 +0700
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 53], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 12.5ms | Allocations: 3518)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 53], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:16
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 53]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:8
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 4.9ms | Allocations: 1051)
  Rendered carts/_cart.html.erb (Duration: 10.5ms | Allocations: 2538)
Completed 200 OK in 48ms (Views: 39.3ms | ActiveRecord: 1.9ms | Allocations: 12390)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-10 14:25:04 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-10 14:25:04 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-10 14:25:04 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/orders/new" for ::1 at 2020-07-10 14:25:23 +0700
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 53], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 53], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:95:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 5.9ms | Allocations: 1051)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered orders/new.html.erb within layouts/application (Duration: 11.7ms | Allocations: 3537)
Completed 500 Internal Server Error in 25ms (ActiveRecord: 0.9ms | Allocations: 5258)


  
ActionView::Template::Error (Webpacker can't find Hello_react in /home/khanh/Desktop/depot/public/packs/manifest.json. Possible causes:
1. You want to set webpacker.yml value of compile to true for your environment
   unless you are using the `webpack -w` or the webpack-dev-server.
2. webpack has not yet re-run to reflect updates.
3. You have misconfigured Webpacker's config/webpacker.yml file.
4. Your webpack configuration is not creating a manifest.
Your manifest contains:
{
  "application.js": "/packs/js/application-d687b46ae54878e1a078.js",
  "application.js.map": "/packs/js/application-d687b46ae54878e1a078.js.map",
  "entrypoints": {
    "application": {
      "js": [
        "/packs/js/application-d687b46ae54878e1a078.js"
      ],
      "js.map": [
        "/packs/js/application-d687b46ae54878e1a078.js.map"
      ]
    },
    "hello_react": {
      "js": [
        "/packs/js/hello_react-7cb607df4b85a32cfe4e.js"
      ],
      "js.map": [
        "/packs/js/hello_react-7cb607df4b85a32cfe4e.js.map"
      ]
    }
  },
  "hello_react.js": "/packs/js/hello_react-7cb607df4b85a32cfe4e.js",
  "hello_react.js.map": "/packs/js/hello_react-7cb607df4b85a32cfe4e.js.map"
}
):
    5: 
    6: <%= link_to 'Back', orders_path %>
    7: 
    8: <%= javascript_pack_tag ('Hello_react') %>
  
app/views/orders/new.html.erb:8
Finished "/cable/" [WebSocket] for ::1 at 2020-07-10 14:25:23 +0700
ProductsChannel stopped streaming from products
Started GET "/orders/new" for ::1 at 2020-07-10 14:25:51 +0700
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 53], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 53], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:95:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 3.1ms | Allocations: 1425)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered orders/new.html.erb within layouts/application (Duration: 7.8ms | Allocations: 4167)
Completed 500 Internal Server Error in 23ms (ActiveRecord: 0.9ms | Allocations: 6623)


  
ActionView::Template::Error (Webpacker can't find Hello_react in /home/khanh/Desktop/depot/public/packs/manifest.json. Possible causes:
1. You want to set webpacker.yml value of compile to true for your environment
   unless you are using the `webpack -w` or the webpack-dev-server.
2. webpack has not yet re-run to reflect updates.
3. You have misconfigured Webpacker's config/webpacker.yml file.
4. Your webpack configuration is not creating a manifest.
Your manifest contains:
{
  "application.js": "/packs/js/application-d687b46ae54878e1a078.js",
  "application.js.map": "/packs/js/application-d687b46ae54878e1a078.js.map",
  "entrypoints": {
    "application": {
      "js": [
        "/packs/js/application-d687b46ae54878e1a078.js"
      ],
      "js.map": [
        "/packs/js/application-d687b46ae54878e1a078.js.map"
      ]
    },
    "hello_react": {
      "js": [
        "/packs/js/hello_react-7cb607df4b85a32cfe4e.js"
      ],
      "js.map": [
        "/packs/js/hello_react-7cb607df4b85a32cfe4e.js.map"
      ]
    }
  },
  "hello_react.js": "/packs/js/hello_react-7cb607df4b85a32cfe4e.js",
  "hello_react.js.map": "/packs/js/hello_react-7cb607df4b85a32cfe4e.js.map"
}
):
    5: 
    6: <%= link_to 'Back', orders_path %>
    7: 
    8: <%= javascript_pack_tag ("Hello_react") %>
  
app/views/orders/new.html.erb:8
Started GET "/orders/new" for ::1 at 2020-07-10 14:25:52 +0700
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 53], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 53], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:95:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 3.2ms | Allocations: 1043)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered orders/new.html.erb within layouts/application (Duration: 7.2ms | Allocations: 3528)
Completed 500 Internal Server Error in 20ms (ActiveRecord: 1.0ms | Allocations: 5249)


  
ActionView::Template::Error (Webpacker can't find Hello_react in /home/khanh/Desktop/depot/public/packs/manifest.json. Possible causes:
1. You want to set webpacker.yml value of compile to true for your environment
   unless you are using the `webpack -w` or the webpack-dev-server.
2. webpack has not yet re-run to reflect updates.
3. You have misconfigured Webpacker's config/webpacker.yml file.
4. Your webpack configuration is not creating a manifest.
Your manifest contains:
{
  "application.js": "/packs/js/application-d687b46ae54878e1a078.js",
  "application.js.map": "/packs/js/application-d687b46ae54878e1a078.js.map",
  "entrypoints": {
    "application": {
      "js": [
        "/packs/js/application-d687b46ae54878e1a078.js"
      ],
      "js.map": [
        "/packs/js/application-d687b46ae54878e1a078.js.map"
      ]
    },
    "hello_react": {
      "js": [
        "/packs/js/hello_react-7cb607df4b85a32cfe4e.js"
      ],
      "js.map": [
        "/packs/js/hello_react-7cb607df4b85a32cfe4e.js.map"
      ]
    }
  },
  "hello_react.js": "/packs/js/hello_react-7cb607df4b85a32cfe4e.js",
  "hello_react.js.map": "/packs/js/hello_react-7cb607df4b85a32cfe4e.js.map"
}
):
    5: 
    6: <%= link_to 'Back', orders_path %>
    7: 
    8: <%= javascript_pack_tag ("Hello_react") %>
  
app/views/orders/new.html.erb:8
Started GET "/cable" for ::1 at 2020-07-10 14:30:28 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-10 14:30:28 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/" for ::1 at 2020-07-10 14:30:32 +0700
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 53], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 14.7ms | Allocations: 3495)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 53], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:16
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 53]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:8
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 2.6ms | Allocations: 1051)
  Rendered carts/_cart.html.erb (Duration: 8.0ms | Allocations: 2538)
Completed 200 OK in 42ms (Views: 36.8ms | ActiveRecord: 1.2ms | Allocations: 12364)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-10 14:30:32 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-10 14:30:32 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-10 14:30:32 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/orders/new" for ::1 at 2020-07-10 14:30:34 +0700
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 53], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 53], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:95:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 5.7ms | Allocations: 1051)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered orders/new.html.erb within layouts/application (Duration: 12.6ms | Allocations: 3537)
Completed 500 Internal Server Error in 30ms (ActiveRecord: 1.3ms | Allocations: 5258)


  
ActionView::Template::Error (Webpacker can't find Hello_react in /home/khanh/Desktop/depot/public/packs/manifest.json. Possible causes:
1. You want to set webpacker.yml value of compile to true for your environment
   unless you are using the `webpack -w` or the webpack-dev-server.
2. webpack has not yet re-run to reflect updates.
3. You have misconfigured Webpacker's config/webpacker.yml file.
4. Your webpack configuration is not creating a manifest.
Your manifest contains:
{
  "application.js": "/packs/js/application-d687b46ae54878e1a078.js",
  "application.js.map": "/packs/js/application-d687b46ae54878e1a078.js.map",
  "entrypoints": {
    "application": {
      "js": [
        "/packs/js/application-d687b46ae54878e1a078.js"
      ],
      "js.map": [
        "/packs/js/application-d687b46ae54878e1a078.js.map"
      ]
    },
    "hello_react": {
      "js": [
        "/packs/js/hello_react-7cb607df4b85a32cfe4e.js"
      ],
      "js.map": [
        "/packs/js/hello_react-7cb607df4b85a32cfe4e.js.map"
      ]
    }
  },
  "hello_react.js": "/packs/js/hello_react-7cb607df4b85a32cfe4e.js",
  "hello_react.js.map": "/packs/js/hello_react-7cb607df4b85a32cfe4e.js.map"
}
):
    5: 
    6: <%= link_to 'Back', orders_path %>
    7: 
    8: <%= javascript_pack_tag ("Hello_react") %>
  
app/views/orders/new.html.erb:8
Finished "/cable/" [WebSocket] for ::1 at 2020-07-10 14:30:34 +0700
ProductsChannel stopped streaming from products
Started GET "/orders/new" for ::1 at 2020-07-10 14:31:00 +0700
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 53], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 53], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:95:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 2.9ms | Allocations: 1425)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered orders/new.html.erb within layouts/application (Duration: 7.7ms | Allocations: 3398)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 53], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:16
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 53]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:8
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 2.7ms | Allocations: 1051)
  Rendered carts/_cart.html.erb (Duration: 9.1ms | Allocations: 2548)
Completed 200 OK in 42ms (Views: 32.3ms | ActiveRecord: 1.2ms | Allocations: 13074)


Started GET "/cable" for ::1 at 2020-07-10 14:31:00 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-10 14:31:00 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/orders/new" for ::1 at 2020-07-10 14:34:19 +0700
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 53], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 53], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:95:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 2.9ms | Allocations: 1425)
  Rendered orders/new.html.erb within layouts/application (Duration: 4.0ms | Allocations: 1746)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 53], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:16
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 53]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:8
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 5.4ms | Allocations: 1051)
  Rendered carts/_cart.html.erb (Duration: 12.5ms | Allocations: 2546)
Completed 200 OK in 47ms (Views: 34.1ms | ActiveRecord: 1.1ms | Allocations: 11469)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-10 14:34:19 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-10 14:34:19 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-10 14:34:19 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started POST "/orders" for ::1 at 2020-07-10 15:05:07 +0700
  [1m[35m (0.7ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"volWYz4HoKYSC3hnIrkFeyBR9S7+ywQFh78XdI7TueN+SBJASXW1+su/JwzE0jmj64CjTxjehTWDQRKuk3Fncw==", "order"=>{"name"=>"HUỳnh Quốc Khánh", "address"=>"wertyjnvfg", "email"=>"567890", "pay_type"=>"Credit cart"}, "commit"=>"Place Order"}
  [1m[36mCart Load (9.8ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 53], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Load (3.6ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 53]]
  ↳ app/models/order.rb:13:in `add_line_items_from_cart'
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/orders_controller.rb:42:in `block in create'
  [1m[36mProduct Load (9.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:42:in `block in create'
  [1m[36mOrder Create (73.8ms)[0m  [1m[32mINSERT INTO "orders" ("name", "address", "email", "pay_type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "HUỳnh Quốc Khánh"], ["address", "wertyjnvfg"], ["email", "567890"], ["pay_type", 1], ["created_at", "2020-07-10 08:05:08.211207"], ["updated_at", "2020-07-10 08:05:08.211207"]]
  ↳ app/controllers/orders_controller.rb:42:in `block in create'
  [1m[36mLineItem Update (0.9ms)[0m  [1m[33mUPDATE "line_items" SET "cart_id" = ?, "order_id" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["cart_id", nil], ["order_id", 3], ["updated_at", "2020-07-10 08:05:08.295249"], ["id", 79]]
  ↳ app/controllers/orders_controller.rb:42:in `block in create'
  [1m[35m (89.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/orders_controller.rb:42:in `block in create'
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 53], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:43:in `block in create'
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/orders_controller.rb:43:in `block in create'
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 53]]
  ↳ app/controllers/orders_controller.rb:43:in `block in create'
  [1m[36mCart Destroy (0.6ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 53]]
  ↳ app/controllers/orders_controller.rb:43:in `block in create'
  [1m[35m (63.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/orders_controller.rb:43:in `block in create'
Redirected to http://localhost:3000/
Completed 302 Found in 370ms (ActiveRecord: 252.2ms | Allocations: 14106)


Started GET "/" for ::1 at 2020-07-10 15:05:08 +0700
Processing by StoreController#index as HTML
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[36mCart Create (0.7ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2020-07-10 08:05:08.557565"], ["updated_at", "2020-07-10 08:05:08.557565"]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[35m (151.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 293.8ms | Allocations: 3707)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 54], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:16
Completed 200 OK in 781ms (Views: 614.3ms | ActiveRecord: 152.9ms | Allocations: 12697)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-10 15:05:09 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-10 15:05:09 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-10 15:05:09 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started POST "/line_items?product_id=4" for ::1 at 2020-07-10 15:05:15 +0700
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"6GULQ58hwA8Z8swfZhTSpVJE6b21/4wAYd8M7YmwxqwopE9g6FPVU8BGk3SAf+59mZW/3FPqDTBlIQk3lBIYPA==", "product_id"=>"4"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 54], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 54], ["product_id", 4], ["LIMIT", 1]]
  ↳ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mLineItem Create (0.5ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 4], ["cart_id", 54], ["created_at", "2020-07-10 08:05:15.772893"], ["updated_at", "2020-07-10 08:05:15.772893"]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[35m (114.7ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 54]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 1.0ms | Allocations: 134)
  Rendered carts/_cart.html.erb (Duration: 9.7ms | Allocations: 1489)
  Rendered line_items/create.js.erb (Duration: 32.8ms | Allocations: 1863)
Completed 200 OK in 181ms (Views: 37.8ms | ActiveRecord: 117.0ms | Allocations: 10324)


Started DELETE "/carts/54" for ::1 at 2020-07-10 15:05:19 +0700
Processing by CartsController#destroy as HTML
  Parameters: {"authenticity_token"=>"UwHljE58q3Dm85k5u2gi9hJUepsELs2Cy/B7HA3l2fmRXolUv6XPPs4q7cv4NcLDFy++1fkxDU1UWt1dvnBYig==", "id"=>"54"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 54], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:68:in `set_cart'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/carts_controller.rb:57:in `destroy'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 54]]
  ↳ app/controllers/carts_controller.rb:57:in `destroy'
  [1m[36mLineItem Destroy (0.3ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 80]]
  ↳ app/controllers/carts_controller.rb:57:in `destroy'
  [1m[36mCart Destroy (0.4ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 54]]
  ↳ app/controllers/carts_controller.rb:57:in `destroy'
  [1m[35m (84.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/carts_controller.rb:57:in `destroy'
Redirected to http://localhost:3000/
Completed 302 Found in 106ms (ActiveRecord: 85.3ms | Allocations: 5803)


Started GET "/" for ::1 at 2020-07-10 15:05:19 +0700
Processing by StoreController#index as HTML
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[36mCart Create (1.3ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2020-07-10 08:05:19.845300"], ["updated_at", "2020-07-10 08:05:19.845300"]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[35m (71.7ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 18.3ms | Allocations: 3205)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 55], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:16
Completed 200 OK in 123ms (Views: 29.9ms | ActiveRecord: 73.6ms | Allocations: 11587)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-10 15:05:19 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-10 15:05:19 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-10 15:05:20 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started POST "/line_items?product_id=4" for ::1 at 2020-07-10 15:05:21 +0700
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"jRiEp7sL9QfOow7+yc0ljrBtv74xJURr3Y7BzFsVTWBN2cCEzHngWxcXUZUvphlWe7zp39cwxVvZcMQWRreT8A==", "product_id"=>"4"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 55], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 55], ["product_id", 4], ["LIMIT", 1]]
  ↳ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mLineItem Create (0.4ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 4], ["cart_id", 55], ["created_at", "2020-07-10 08:05:21.286062"], ["updated_at", "2020-07-10 08:05:21.286062"]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[35m (103.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 55]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 1.0ms | Allocations: 134)
  Rendered carts/_cart.html.erb (Duration: 9.5ms | Allocations: 1363)
  Rendered line_items/create.js.erb (Duration: 10.7ms | Allocations: 1529)
Completed 200 OK in 151ms (Views: 12.1ms | ActiveRecord: 105.2ms | Allocations: 8516)


Started GET "/orders/new" for ::1 at 2020-07-10 15:05:23 +0700
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 55], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 55], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:95:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 6.8ms | Allocations: 1051)
  Rendered orders/new.html.erb within layouts/application (Duration: 8.1ms | Allocations: 1134)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 55], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:16
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 55]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:8
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 1.7ms | Allocations: 891)
  Rendered carts/_cart.html.erb (Duration: 3.8ms | Allocations: 2042)
Completed 200 OK in 38ms (Views: 26.7ms | ActiveRecord: 1.6ms | Allocations: 9235)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-10 15:05:23 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-10 15:05:23 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-10 15:05:23 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/orders" for ::1 at 2020-07-10 15:05:24 +0700
Processing by OrdersController#index as HTML
  Rendering orders/index.html.erb within layouts/application
  [1m[36mOrder Load (0.5ms)[0m  [1m[34mSELECT "orders".* FROM "orders"[0m
  ↳ app/views/orders/index.html.erb:17
  Rendered orders/index.html.erb within layouts/application (Duration: 130.1ms | Allocations: 1220)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 149ms (Views: 144.9ms | ActiveRecord: 0.5ms | Allocations: 5418)


Started DELETE "/orders/3" for ::1 at 2020-07-10 15:05:35 +0700
Processing by OrdersController#destroy as HTML
  Parameters: {"authenticity_token"=>"LpXhqacX9qRLnASKrgzN6Oenhx8JHZ0HxcRf8YKWod7uVKWK0GXj+JIoW+FIZ/EwLHbRfu8IHDfBOlornzR/Tg==", "id"=>"3"}
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:84:in `set_order'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/orders_controller.rb:74:in `destroy'
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."order_id" = ?[0m  [["order_id", 3]]
  ↳ app/controllers/orders_controller.rb:74:in `destroy'
  [1m[36mLineItem Destroy (0.9ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 79]]
  ↳ app/controllers/orders_controller.rb:74:in `destroy'
  [1m[36mOrder Destroy (0.3ms)[0m  [1m[31mDELETE FROM "orders" WHERE "orders"."id" = ?[0m  [["id", 3]]
  ↳ app/controllers/orders_controller.rb:74:in `destroy'
  [1m[35m (66.8ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/orders_controller.rb:74:in `destroy'
Redirected to http://localhost:3000/orders
Completed 302 Found in 88ms (ActiveRecord: 68.7ms | Allocations: 6059)


Started GET "/orders" for ::1 at 2020-07-10 15:05:35 +0700
Processing by OrdersController#index as HTML
  Rendering orders/index.html.erb within layouts/application
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT "orders".* FROM "orders"[0m
  ↳ app/views/orders/index.html.erb:17
  Rendered orders/index.html.erb within layouts/application (Duration: 2.4ms | Allocations: 770)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 17ms (Views: 15.1ms | ActiveRecord: 0.2ms | Allocations: 4993)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-10 15:05:35 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-10 15:05:35 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-10 15:05:35 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/orders/new" for ::1 at 2020-07-10 15:05:36 +0700
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 55], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 55], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:95:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 5.5ms | Allocations: 1046)
  Rendered orders/new.html.erb within layouts/application (Duration: 6.2ms | Allocations: 1128)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 55], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:16
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 55]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:8
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 2.3ms | Allocations: 891)
  Rendered carts/_cart.html.erb (Duration: 5.8ms | Allocations: 2039)
Completed 200 OK in 35ms (Views: 27.0ms | ActiveRecord: 1.1ms | Allocations: 9219)


Started GET "/orders/new" for ::1 at 2020-07-10 15:05:40 +0700
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 55], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 55], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:95:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 5.8ms | Allocations: 1043)
  Rendered orders/new.html.erb within layouts/application (Duration: 7.8ms | Allocations: 1125)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 55], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:16
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 55]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:8
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 2.5ms | Allocations: 891)
  Rendered carts/_cart.html.erb (Duration: 7.7ms | Allocations: 2038)
Completed 200 OK in 44ms (Views: 34.3ms | ActiveRecord: 1.2ms | Allocations: 9193)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-10 15:05:40 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-10 15:05:40 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-10 15:05:40 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/orders" for ::1 at 2020-07-10 15:05:45 +0700
Processing by OrdersController#index as HTML
  Rendering orders/index.html.erb within layouts/application
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders"[0m
  ↳ app/views/orders/index.html.erb:17
  Rendered orders/index.html.erb within layouts/application (Duration: 4.3ms | Allocations: 768)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 21ms (Views: 19.0ms | ActiveRecord: 0.3ms | Allocations: 4833)


Started GET "/" for ::1 at 2020-07-10 15:05:48 +0700
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 55], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 21.5ms | Allocations: 3208)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 55], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:16
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 55]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:8
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 1.8ms | Allocations: 891)
  Rendered carts/_cart.html.erb (Duration: 4.3ms | Allocations: 2034)
Completed 200 OK in 42ms (Views: 36.8ms | ActiveRecord: 1.1ms | Allocations: 10575)


Started POST "/line_items?product_id=4" for ::1 at 2020-07-10 16:09:41 +0700
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"+qBDVyc5HsloPl4czxg1kYAF86AzU2CoYNMicJzKdV/Oiul0gPO2JAt3fHOPhrhWlW3VuDS+jXIhWfLQKk2kIA==", "product_id"=>"4"}
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 55], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 55], ["product_id", 4], ["LIMIT", 1]]
  ↳ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mProduct Load (0.9ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mLineItem Update (20.6ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 2], ["updated_at", "2020-07-10 09:09:41.533473"], ["id", 80]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[35m (88.6ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 55]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:8
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 42.0ms | Allocations: 1045)
  Rendered carts/_cart.html.erb (Duration: 48.8ms | Allocations: 2234)
  Rendered line_items/create.js.erb (Duration: 49.8ms | Allocations: 2400)
Completed 200 OK in 284ms (Views: 50.6ms | ActiveRecord: 112.8ms | Allocations: 9319)


Started POST "/line_items?product_id=4" for ::1 at 2020-07-10 16:09:42 +0700
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"+qBDVyc5HsloPl4czxg1kYAF86AzU2CoYNMicJzKdV/Oiul0gPO2JAt3fHOPhrhWlW3VuDS+jXIhWfLQKk2kIA==", "product_id"=>"4"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 55], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 55], ["product_id", 4], ["LIMIT", 1]]
  ↳ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mLineItem Update (0.2ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 3], ["updated_at", "2020-07-10 09:09:42.269750"], ["id", 80]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[35m (67.7ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 55]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:8
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 5.2ms | Allocations: 898)
  Rendered carts/_cart.html.erb (Duration: 11.3ms | Allocations: 2058)
  Rendered line_items/create.js.erb (Duration: 12.2ms | Allocations: 2224)
Completed 200 OK in 94ms (Views: 13.1ms | ActiveRecord: 68.9ms | Allocations: 9082)


Started POST "/line_items?product_id=5" for ::1 at 2020-07-10 16:09:43 +0700
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"Y86iYBGz6n9qEar7xPalQGcNTq0aqchJGc5cNswM3GpX5AhDtnlCkglYiJSEaCiHcmVotR1EJZNYRIyWeosNFQ==", "product_id"=>"5"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 55], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 55], ["product_id", 5], ["LIMIT", 1]]
  ↳ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mLineItem Create (0.5ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 5], ["cart_id", 55], ["created_at", "2020-07-10 09:09:43.670166"], ["updated_at", "2020-07-10 09:09:43.670166"]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[35m (119.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 55]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:8
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 5.3ms | Allocations: 1027)
  Rendered carts/_cart.html.erb (Duration: 18.6ms | Allocations: 2280)
  Rendered line_items/create.js.erb (Duration: 19.5ms | Allocations: 2460)
Completed 200 OK in 171ms (Views: 20.3ms | ActiveRecord: 122.0ms | Allocations: 9484)


Started POST "/line_items?product_id=5" for ::1 at 2020-07-10 16:09:44 +0700
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"Y86iYBGz6n9qEar7xPalQGcNTq0aqchJGc5cNswM3GpX5AhDtnlCkglYiJSEaCiHcmVotR1EJZNYRIyWeosNFQ==", "product_id"=>"5"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 55], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 55], ["product_id", 5], ["LIMIT", 1]]
  ↳ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mLineItem Update (0.6ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 2], ["updated_at", "2020-07-10 09:09:44.162997"], ["id", 81]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[35m (66.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 55]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:8
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:8
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 12.9ms | Allocations: 1795)
  Rendered carts/_cart.html.erb (Duration: 21.0ms | Allocations: 2978)
  Rendered line_items/create.js.erb (Duration: 22.6ms | Allocations: 3183)
Completed 200 OK in 122ms (Views: 23.4ms | ActiveRecord: 69.9ms | Allocations: 10049)


Started POST "/line_items?product_id=5" for ::1 at 2020-07-10 16:09:44 +0700
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"Y86iYBGz6n9qEar7xPalQGcNTq0aqchJGc5cNswM3GpX5AhDtnlCkglYiJSEaCiHcmVotR1EJZNYRIyWeosNFQ==", "product_id"=>"5"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 55], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 55], ["product_id", 5], ["LIMIT", 1]]
  ↳ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mLineItem Update (0.3ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 3], ["updated_at", "2020-07-10 09:09:44.984881"], ["id", 81]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[35m (73.8ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 55]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:8
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:8
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 9.1ms | Allocations: 1795)
  Rendered carts/_cart.html.erb (Duration: 15.2ms | Allocations: 2978)
  Rendered line_items/create.js.erb (Duration: 16.2ms | Allocations: 3158)
Completed 200 OK in 106ms (Views: 17.0ms | ActiveRecord: 75.4ms | Allocations: 10019)


Started POST "/line_items?product_id=4" for ::1 at 2020-07-10 16:09:46 +0700
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"+qBDVyc5HsloPl4czxg1kYAF86AzU2CoYNMicJzKdV/Oiul0gPO2JAt3fHOPhrhWlW3VuDS+jXIhWfLQKk2kIA==", "product_id"=>"4"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 55], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 55], ["product_id", 4], ["LIMIT", 1]]
  ↳ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mLineItem Update (0.5ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 4], ["updated_at", "2020-07-10 09:09:46.182864"], ["id", 80]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[35m (74.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 55]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:8
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:8
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 8.6ms | Allocations: 1795)
  Rendered carts/_cart.html.erb (Duration: 14.4ms | Allocations: 2978)
  Rendered line_items/create.js.erb (Duration: 15.4ms | Allocations: 3158)
Completed 200 OK in 125ms (Views: 15.8ms | ActiveRecord: 77.1ms | Allocations: 10005)


Started POST "/line_items?product_id=4" for ::1 at 2020-07-10 16:09:46 +0700
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"+qBDVyc5HsloPl4czxg1kYAF86AzU2CoYNMicJzKdV/Oiul0gPO2JAt3fHOPhrhWlW3VuDS+jXIhWfLQKk2kIA==", "product_id"=>"4"}
  [1m[36mCart Load (0.6ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 55], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 55], ["product_id", 4], ["LIMIT", 1]]
  ↳ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mLineItem Update (0.2ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 5], ["updated_at", "2020-07-10 09:09:46.330292"], ["id", 80]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[35m (96.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 55]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:8
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:8
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 8.7ms | Allocations: 1795)
  Rendered carts/_cart.html.erb (Duration: 15.1ms | Allocations: 2978)
  Rendered line_items/create.js.erb (Duration: 16.1ms | Allocations: 3158)
Completed 200 OK in 138ms (Views: 16.7ms | ActiveRecord: 99.1ms | Allocations: 10164)


Started POST "/line_items?product_id=4" for ::1 at 2020-07-10 16:09:46 +0700
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"+qBDVyc5HsloPl4czxg1kYAF86AzU2CoYNMicJzKdV/Oiul0gPO2JAt3fHOPhrhWlW3VuDS+jXIhWfLQKk2kIA==", "product_id"=>"4"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 55], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 55], ["product_id", 4], ["LIMIT", 1]]
  ↳ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mLineItem Update (0.6ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 6], ["updated_at", "2020-07-10 09:09:46.479474"], ["id", 80]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[35m (68.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 55]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:8
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:8
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 9.2ms | Allocations: 1795)
  Rendered carts/_cart.html.erb (Duration: 15.2ms | Allocations: 2978)
  Rendered line_items/create.js.erb (Duration: 16.3ms | Allocations: 3158)
Completed 200 OK in 110ms (Views: 16.9ms | ActiveRecord: 70.6ms | Allocations: 10015)


Started POST "/line_items?product_id=4" for ::1 at 2020-07-10 16:09:46 +0700
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"+qBDVyc5HsloPl4czxg1kYAF86AzU2CoYNMicJzKdV/Oiul0gPO2JAt3fHOPhrhWlW3VuDS+jXIhWfLQKk2kIA==", "product_id"=>"4"}
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 55], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 55], ["product_id", 4], ["LIMIT", 1]]
  ↳ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mLineItem Update (0.3ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 7], ["updated_at", "2020-07-10 09:09:46.635549"], ["id", 80]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[35m (68.7ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 55]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:8
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:8
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 8.9ms | Allocations: 1795)
  Rendered carts/_cart.html.erb (Duration: 15.1ms | Allocations: 2978)
  Rendered line_items/create.js.erb (Duration: 16.1ms | Allocations: 3158)
Completed 200 OK in 112ms (Views: 16.7ms | ActiveRecord: 71.2ms | Allocations: 10014)


Started POST "/line_items?product_id=4" for ::1 at 2020-07-10 16:09:46 +0700
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"+qBDVyc5HsloPl4czxg1kYAF86AzU2CoYNMicJzKdV/Oiul0gPO2JAt3fHOPhrhWlW3VuDS+jXIhWfLQKk2kIA==", "product_id"=>"4"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 55], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 55], ["product_id", 4], ["LIMIT", 1]]
  ↳ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mLineItem Update (0.2ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 8], ["updated_at", "2020-07-10 09:09:46.786234"], ["id", 80]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[35m (96.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 55]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:8
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:8
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 4.0ms | Allocations: 1795)
  Rendered carts/_cart.html.erb (Duration: 6.8ms | Allocations: 2978)
  Rendered line_items/create.js.erb (Duration: 7.3ms | Allocations: 3158)
Completed 200 OK in 120ms (Views: 7.6ms | ActiveRecord: 97.8ms | Allocations: 10182)


Started POST "/line_items?product_id=4" for ::1 at 2020-07-10 16:09:46 +0700
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"+qBDVyc5HsloPl4czxg1kYAF86AzU2CoYNMicJzKdV/Oiul0gPO2JAt3fHOPhrhWlW3VuDS+jXIhWfLQKk2kIA==", "product_id"=>"4"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 55], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 55], ["product_id", 4], ["LIMIT", 1]]
  ↳ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mLineItem Update (0.3ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 9], ["updated_at", "2020-07-10 09:09:46.927079"], ["id", 80]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[35m (66.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 55]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:8
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:8
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 10.7ms | Allocations: 1795)
  Rendered carts/_cart.html.erb (Duration: 16.7ms | Allocations: 2978)
  Rendered line_items/create.js.erb (Duration: 17.8ms | Allocations: 3158)
Completed 200 OK in 113ms (Views: 18.1ms | ActiveRecord: 69.1ms | Allocations: 10159)


Started POST "/line_items?product_id=4" for ::1 at 2020-07-10 16:09:47 +0700
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"+qBDVyc5HsloPl4czxg1kYAF86AzU2CoYNMicJzKdV/Oiul0gPO2JAt3fHOPhrhWlW3VuDS+jXIhWfLQKk2kIA==", "product_id"=>"4"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 55], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 55], ["product_id", 4], ["LIMIT", 1]]
  ↳ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mLineItem Update (0.2ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 10], ["updated_at", "2020-07-10 09:09:47.060297"], ["id", 80]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[35m (78.7ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 55]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:8
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:8
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 10.7ms | Allocations: 1795)
  Rendered carts/_cart.html.erb (Duration: 17.9ms | Allocations: 2978)
  Rendered line_items/create.js.erb (Duration: 19.1ms | Allocations: 3158)
Completed 200 OK in 116ms (Views: 20.1ms | ActiveRecord: 80.3ms | Allocations: 10179)


Started POST "/line_items?product_id=4" for ::1 at 2020-07-10 16:09:47 +0700
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"+qBDVyc5HsloPl4czxg1kYAF86AzU2CoYNMicJzKdV/Oiul0gPO2JAt3fHOPhrhWlW3VuDS+jXIhWfLQKk2kIA==", "product_id"=>"4"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 55], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 55], ["product_id", 4], ["LIMIT", 1]]
  ↳ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mLineItem Update (0.3ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 11], ["updated_at", "2020-07-10 09:09:47.183043"], ["id", 80]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[35m (67.8ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 55]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:8
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:8
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 11.7ms | Allocations: 1795)
  Rendered carts/_cart.html.erb (Duration: 20.2ms | Allocations: 3003)
  Rendered line_items/create.js.erb (Duration: 21.2ms | Allocations: 3183)
Completed 200 OK in 107ms (Views: 20.9ms | ActiveRecord: 70.3ms | Allocations: 10188)


Started POST "/line_items?product_id=5" for ::1 at 2020-07-10 16:09:48 +0700
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"Y86iYBGz6n9qEar7xPalQGcNTq0aqchJGc5cNswM3GpX5AhDtnlCkglYiJSEaCiHcmVotR1EJZNYRIyWeosNFQ==", "product_id"=>"5"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 55], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 55], ["product_id", 5], ["LIMIT", 1]]
  ↳ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mLineItem Update (0.6ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 4], ["updated_at", "2020-07-10 09:09:48.210527"], ["id", 81]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[35m (72.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 55]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:8
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:8
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 8.3ms | Allocations: 1795)
  Rendered carts/_cart.html.erb (Duration: 14.0ms | Allocations: 2978)
  Rendered line_items/create.js.erb (Duration: 15.1ms | Allocations: 3158)
Completed 200 OK in 118ms (Views: 15.6ms | ActiveRecord: 74.9ms | Allocations: 10009)


Started POST "/line_items?product_id=5" for ::1 at 2020-07-10 16:09:48 +0700
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"Y86iYBGz6n9qEar7xPalQGcNTq0aqchJGc5cNswM3GpX5AhDtnlCkglYiJSEaCiHcmVotR1EJZNYRIyWeosNFQ==", "product_id"=>"5"}
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 55], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 55], ["product_id", 5], ["LIMIT", 1]]
  ↳ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mLineItem Update (0.4ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 5], ["updated_at", "2020-07-10 09:09:48.369223"], ["id", 81]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[35m (104.6ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 55]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:8
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:8
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 8.3ms | Allocations: 1795)
  Rendered carts/_cart.html.erb (Duration: 14.2ms | Allocations: 2978)
  Rendered line_items/create.js.erb (Duration: 15.1ms | Allocations: 3158)
Completed 200 OK in 148ms (Views: 15.5ms | ActiveRecord: 107.2ms | Allocations: 10084)


Started POST "/line_items?product_id=5" for ::1 at 2020-07-10 16:09:48 +0700
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"Y86iYBGz6n9qEar7xPalQGcNTq0aqchJGc5cNswM3GpX5AhDtnlCkglYiJSEaCiHcmVotR1EJZNYRIyWeosNFQ==", "product_id"=>"5"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 55], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 55], ["product_id", 5], ["LIMIT", 1]]
  ↳ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mLineItem Update (0.4ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 6], ["updated_at", "2020-07-10 09:09:48.653379"], ["id", 81]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[35m (74.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 55]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:8
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:8
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 10.3ms | Allocations: 1795)
  Rendered carts/_cart.html.erb (Duration: 17.6ms | Allocations: 2978)
  Rendered line_items/create.js.erb (Duration: 18.8ms | Allocations: 3158)
Completed 200 OK in 126ms (Views: 19.5ms | ActiveRecord: 77.3ms | Allocations: 10009)


Started POST "/line_items?product_id=5" for ::1 at 2020-07-10 16:09:48 +0700
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"Y86iYBGz6n9qEar7xPalQGcNTq0aqchJGc5cNswM3GpX5AhDtnlCkglYiJSEaCiHcmVotR1EJZNYRIyWeosNFQ==", "product_id"=>"5"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 55], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 55], ["product_id", 5], ["LIMIT", 1]]
  ↳ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mLineItem Update (0.4ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 7], ["updated_at", "2020-07-10 09:09:48.778437"], ["id", 81]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[35m (70.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 55]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:8
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:8
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 4.5ms | Allocations: 1795)
  Rendered carts/_cart.html.erb (Duration: 6.6ms | Allocations: 2978)
  Rendered line_items/create.js.erb (Duration: 7.0ms | Allocations: 3158)
Completed 200 OK in 99ms (Views: 7.1ms | ActiveRecord: 72.0ms | Allocations: 10008)


Started POST "/line_items?product_id=5" for ::1 at 2020-07-10 16:09:48 +0700
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"Y86iYBGz6n9qEar7xPalQGcNTq0aqchJGc5cNswM3GpX5AhDtnlCkglYiJSEaCiHcmVotR1EJZNYRIyWeosNFQ==", "product_id"=>"5"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 55], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 55], ["product_id", 5], ["LIMIT", 1]]
  ↳ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mLineItem Update (0.2ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 8], ["updated_at", "2020-07-10 09:09:48.921632"], ["id", 81]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[35m (69.8ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 55]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:8
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:8
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 6.2ms | Allocations: 1795)
  Rendered carts/_cart.html.erb (Duration: 10.7ms | Allocations: 2978)
  Rendered line_items/create.js.erb (Duration: 11.5ms | Allocations: 3158)
Completed 200 OK in 97ms (Views: 11.9ms | ActiveRecord: 71.2ms | Allocations: 10017)


Started POST "/line_items?product_id=5" for ::1 at 2020-07-10 16:09:49 +0700
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"Y86iYBGz6n9qEar7xPalQGcNTq0aqchJGc5cNswM3GpX5AhDtnlCkglYiJSEaCiHcmVotR1EJZNYRIyWeosNFQ==", "product_id"=>"5"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 55], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 55], ["product_id", 5], ["LIMIT", 1]]
  ↳ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mLineItem Update (0.4ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 9], ["updated_at", "2020-07-10 09:09:49.110823"], ["id", 81]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[35m (120.2ms)[0m  [1m[36mcommit transaction[0m
Started POST "/line_items?product_id=5" for ::1 at 2020-07-10 16:09:49 +0700
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 55]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  ↳ app/views/line_items/_line_item.html.erb:8
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:8
Processing by LineItemsController#create as JS
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 19.6ms | Allocations: 3217)
  Parameters: {"authenticity_token"=>"Y86iYBGz6n9qEar7xPalQGcNTq0aqchJGc5cNswM3GpX5AhDtnlCkglYiJSEaCiHcmVotR1EJZNYRIyWeosNFQ==", "product_id"=>"5"}
  Rendered carts/_cart.html.erb (Duration: 28.8ms | Allocations: 4520)
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 55], ["LIMIT", 1]]
  Rendered line_items/create.js.erb (Duration: 32.6ms | Allocations: 5067)
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 55], ["product_id", 5], ["LIMIT", 1]]
Completed 200 OK in 186ms (Views: 35.9ms | ActiveRecord: 122.9ms | Allocations: 13052)


  ↳ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mLineItem Update (0.4ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 10], ["updated_at", "2020-07-10 09:09:49.293057"], ["id", 81]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
Started POST "/line_items?product_id=5" for ::1 at 2020-07-10 16:09:49 +0700
  [1m[35m (142.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.9ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 55]]
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"Y86iYBGz6n9qEar7xPalQGcNTq0aqchJGc5cNswM3GpX5AhDtnlCkglYiJSEaCiHcmVotR1EJZNYRIyWeosNFQ==", "product_id"=>"5"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 55], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 55], ["product_id", 5], ["LIMIT", 1]]
  ↳ app/models/cart.rb:5:in `add_product'
  ↳ app/views/line_items/_line_item.html.erb:8
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:8
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mLineItem Update (0.3ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 11], ["updated_at", "2020-07-10 09:09:49.478811"], ["id", 81]]
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 11.7ms | Allocations: 4976)
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[35m (75.3ms)[0m  [1m[36mcommit transaction[0m
  Rendered carts/_cart.html.erb (Duration: 30.3ms | Allocations: 8411)
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  Rendering line_items/create.js.erb
Started POST "/line_items?product_id=5" for ::1 at 2020-07-10 16:09:49 +0700
  Rendered line_items/create.js.erb (Duration: 114.6ms | Allocations: 9968)
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 55]]
Completed 200 OK in 301ms (Views: 125.9ms | ActiveRecord: 144.9ms | Allocations: 20006)


  ↳ app/views/carts/_cart.html.erb:8
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:8
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"Y86iYBGz6n9qEar7xPalQGcNTq0aqchJGc5cNswM3GpX5AhDtnlCkglYiJSEaCiHcmVotR1EJZNYRIyWeosNFQ==", "product_id"=>"5"}
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 55], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:8
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:29:in `create'
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 25.3ms | Allocations: 4386)
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 55], ["product_id", 5], ["LIMIT", 1]]
  Rendered carts/_cart.html.erb (Duration: 42.9ms | Allocations: 6778)
  ↳ app/models/cart.rb:5:in `add_product'
  Rendered line_items/create.js.erb (Duration: 44.9ms | Allocations: 7444)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
Completed 200 OK in 160ms (Views: 46.9ms | ActiveRecord: 77.5ms | Allocations: 17695)


  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mLineItem Update (0.3ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 12], ["updated_at", "2020-07-10 09:09:49.623097"], ["id", 81]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[35m (74.7ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.8ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 55]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:8
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:8
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 8.6ms | Allocations: 1795)
  Rendered carts/_cart.html.erb (Duration: 17.4ms | Allocations: 2997)
  Rendered line_items/create.js.erb (Duration: 19.3ms | Allocations: 3177)
Completed 200 OK in 131ms (Views: 20.7ms | ActiveRecord: 77.9ms | Allocations: 11872)


Started GET "/orders/new" for ::1 at 2020-07-10 16:11:13 +0700
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 55], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 55], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:95:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 6.6ms | Allocations: 1043)
  Rendered orders/new.html.erb within layouts/application (Duration: 8.0ms | Allocations: 1125)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mCACHE LineItem Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 55], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:16
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 55]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:8
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:8
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 10.9ms | Allocations: 1781)
  Rendered carts/_cart.html.erb (Duration: 18.4ms | Allocations: 2951)
Completed 200 OK in 284ms (Views: 270.8ms | ActiveRecord: 2.4ms | Allocations: 10137)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-10 16:11:14 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-10 16:11:14 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-10 16:11:14 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/orders" for ::1 at 2020-07-10 16:11:17 +0700
Processing by OrdersController#index as HTML
  Rendering orders/index.html.erb within layouts/application
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT "orders".* FROM "orders"[0m
  ↳ app/views/orders/index.html.erb:17
  Rendered orders/index.html.erb within layouts/application (Duration: 1.6ms | Allocations: 787)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 8ms (Views: 6.4ms | ActiveRecord: 0.2ms | Allocations: 4836)


Started GET "/" for ::1 at 2020-07-10 16:12:23 +0700
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 55], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 135.2ms | Allocations: 3219)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 55], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:16
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 55]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:8
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:8
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 4.5ms | Allocations: 1781)
  Rendered carts/_cart.html.erb (Duration: 15.4ms | Allocations: 2942)
Completed 200 OK in 180ms (Views: 170.3ms | ActiveRecord: 1.8ms | Allocations: 11496)


Started GET "/" for ::1 at 2020-07-10 16:22:47 +0700
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 55], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.8ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 14.8ms | Allocations: 3223)
[Webpacker] Compiling...
[Webpacker] Compiled all packs in /home/khanh/Desktop/depot/public/packs
[Webpacker] Hash: c227eb439b66a220cabe
Version: webpack 4.43.0
Time: 3803ms
Built at: 07/10/2020 4:23:00 PM
                                     Asset       Size       Chunks                         Chunk Names
    js/application-d687b46ae54878e1a078.js    146 KiB  application  [emitted] [immutable]  application
js/application-d687b46ae54878e1a078.js.map    164 KiB  application  [emitted] [dev]        application
    js/hello_react-7cb607df4b85a32cfe4e.js   1.05 MiB  hello_react  [emitted] [immutable]  hello_react
js/hello_react-7cb607df4b85a32cfe4e.js.map   1.21 MiB  hello_react  [emitted] [dev]        hello_react
                             manifest.json  703 bytes               [emitted]              
Entrypoint application = js/application-d687b46ae54878e1a078.js js/application-d687b46ae54878e1a078.js.map
Entrypoint hello_react = js/hello_react-7cb607df4b85a32cfe4e.js js/hello_react-7cb607df4b85a32cfe4e.js.map
[./app/javascript/channels sync recursive _channel\.js$] ./app/javascript/channels sync _channel\.js$ 186 bytes {application} [built]
[./app/javascript/channels/consumer.js] 265 bytes {application} [built]
[./app/javascript/channels/index.js] 211 bytes {application} [built]
[./app/javascript/channels/products_channel.js] 555 bytes {application} [optional] [built]
[./app/javascript/packs/application.js] 749 bytes {application} [built]
[./app/javascript/packs/hello_react.jsx] 1.06 KiB {hello_react} [built]
[./node_modules/webpack/buildin/module.js] (webpack)/buildin/module.js 552 bytes {application} [built]
    + 19 hidden modules

  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 55], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:16
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 55]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:8
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:8
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 6.2ms | Allocations: 1800)
  Rendered carts/_cart.html.erb (Duration: 9.6ms | Allocations: 2980)
Completed 200 OK in 12648ms (Views: 12643.1ms | ActiveRecord: 2.1ms | Allocations: 13576)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-10 16:23:00 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-10 16:23:00 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-10 16:23:00 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/" for ::1 at 2020-07-10 16:59:34 +0700
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by StoreController#index as HTML
  [1m[36mCart Load (10.8ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 55], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (15.7ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 146.4ms | Allocations: 3519)
[Webpacker] Compiling...
[Webpacker] Compiled all packs in /home/khanh/Desktop/depot/public/packs
[Webpacker] Hash: c227eb439b66a220cabe
Version: webpack 4.43.0
Time: 3475ms
Built at: 07/10/2020 4:59:46 PM
                                     Asset       Size       Chunks                         Chunk Names
    js/application-d687b46ae54878e1a078.js    146 KiB  application  [emitted] [immutable]  application
js/application-d687b46ae54878e1a078.js.map    164 KiB  application  [emitted] [dev]        application
    js/hello_react-7cb607df4b85a32cfe4e.js   1.05 MiB  hello_react  [emitted] [immutable]  hello_react
js/hello_react-7cb607df4b85a32cfe4e.js.map   1.21 MiB  hello_react  [emitted] [dev]        hello_react
                             manifest.json  703 bytes               [emitted]              
Entrypoint application = js/application-d687b46ae54878e1a078.js js/application-d687b46ae54878e1a078.js.map
Entrypoint hello_react = js/hello_react-7cb607df4b85a32cfe4e.js js/hello_react-7cb607df4b85a32cfe4e.js.map
[./app/javascript/channels sync recursive _channel\.js$] ./app/javascript/channels sync _channel\.js$ 186 bytes {application} [built]
[./app/javascript/channels/consumer.js] 265 bytes {application} [built]
[./app/javascript/channels/index.js] 211 bytes {application} [built]
[./app/javascript/channels/products_channel.js] 555 bytes {application} [optional] [built]
[./app/javascript/packs/application.js] 749 bytes {application} [built]
[./app/javascript/packs/hello_react.jsx] 1.06 KiB {hello_react} [built]
[./node_modules/webpack/buildin/module.js] (webpack)/buildin/module.js 552 bytes {application} [built]
    + 19 hidden modules

  [1m[36mLineItem Exists? (16.3ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 55], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:16
  [1m[36mLineItem Load (1.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 55]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:8
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:8
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 23.9ms | Allocations: 1960)
  Rendered carts/_cart.html.erb (Duration: 39.1ms | Allocations: 3489)
Completed 200 OK in 12406ms (Views: 12322.0ms | ActiveRecord: 45.1ms | Allocations: 15503)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-10 16:59:47 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-10 16:59:47 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-10 16:59:47 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/orders/new" for ::1 at 2020-07-10 16:59:56 +0700
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 55], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 55], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:95:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 17.0ms | Allocations: 1448)
  Rendered orders/new.html.erb within layouts/application (Duration: 25.1ms | Allocations: 1770)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 55], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:16
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 55]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:8
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:8
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 3.5ms | Allocations: 1781)
  Rendered carts/_cart.html.erb (Duration: 5.8ms | Allocations: 2955)
Completed 200 OK in 59ms (Views: 47.4ms | ActiveRecord: 1.2ms | Allocations: 11357)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-10 16:59:56 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-10 16:59:56 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-10 16:59:56 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/orders/new" for ::1 at 2020-07-10 17:02:03 +0700
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 55], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 55], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:95:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 5.5ms | Allocations: 1448)
  Rendered orders/new.html.erb within layouts/application (Duration: 8.0ms | Allocations: 1773)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 55], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:16
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 55]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:8
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:8
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 8.1ms | Allocations: 1941)
  Rendered carts/_cart.html.erb (Duration: 15.5ms | Allocations: 3460)
Completed 200 OK in 68ms (Views: 45.7ms | ActiveRecord: 1.8ms | Allocations: 12451)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-10 17:02:03 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-10 17:02:03 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-10 17:02:03 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/orders/new" for ::1 at 2020-07-10 17:03:07 +0700
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 55], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 55], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:95:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 6.4ms | Allocations: 1432)
  Rendered orders/new.html.erb within layouts/application (Duration: 9.7ms | Allocations: 1753)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 55], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:16
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 55]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:8
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:8
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 6.9ms | Allocations: 1941)
  Rendered carts/_cart.html.erb (Duration: 13.0ms | Allocations: 3459)
Completed 200 OK in 52ms (Views: 41.1ms | ActiveRecord: 1.3ms | Allocations: 12386)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-10 17:03:07 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-10 17:03:07 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-10 17:03:07 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started DELETE "/carts/55" for ::1 at 2020-07-10 17:03:18 +0700
Processing by CartsController#destroy as HTML
  Parameters: {"authenticity_token"=>"uN2SXFJ8CrqfCt7oB9r+Z9bhNBanwdX2y7kUbQK+5qZ4HNZ/JQ4f5ka+gYPhscK/HTBid0HUVMbPRxG3Hxw4Ng==", "id"=>"55"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 55], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:68:in `set_cart'
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/carts_controller.rb:57:in `destroy'
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 55]]
  ↳ app/controllers/carts_controller.rb:57:in `destroy'
  [1m[36mLineItem Destroy (38.8ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 80]]
  ↳ app/controllers/carts_controller.rb:57:in `destroy'
  [1m[36mLineItem Destroy (0.2ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 81]]
  ↳ app/controllers/carts_controller.rb:57:in `destroy'
  [1m[36mCart Destroy (0.2ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 55]]
  ↳ app/controllers/carts_controller.rb:57:in `destroy'
  [1m[35m (82.7ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/carts_controller.rb:57:in `destroy'
Redirected to http://localhost:3000/
Completed 302 Found in 152ms (ActiveRecord: 122.7ms | Allocations: 6867)


Started GET "/" for ::1 at 2020-07-10 17:03:18 +0700
Processing by StoreController#index as HTML
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[36mCart Create (24.9ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2020-07-10 10:03:18.535037"], ["updated_at", "2020-07-10 10:03:18.535037"]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[35m (82.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 20.2ms | Allocations: 3647)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 56], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:16
Completed 200 OK in 161ms (Views: 32.9ms | ActiveRecord: 107.9ms | Allocations: 12487)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-10 17:03:18 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-10 17:03:18 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-10 17:03:18 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started POST "/line_items?product_id=6" for ::1 at 2020-07-10 17:03:24 +0700
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"1GY7Bhb4iqzBIjVWnx/8zMepzJjhWWwKLJa89qy20YUUp38lYYqf8BiWaj15dMAUDHia+QdM7TooaLkssRQPFQ==", "product_id"=>"6"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 56], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 56], ["product_id", 6], ["LIMIT", 1]]
  ↳ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mLineItem Create (0.8ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 6], ["cart_id", 56], ["created_at", "2020-07-10 10:03:24.663595"], ["updated_at", "2020-07-10 10:03:24.663595"]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[35m (67.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 56]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 1.0ms | Allocations: 134)
  Rendered carts/_cart.html.erb (Duration: 8.2ms | Allocations: 1486)
  Rendered line_items/create.js.erb (Duration: 38.1ms | Allocations: 2000)
Completed 200 OK in 140ms (Views: 43.2ms | ActiveRecord: 69.9ms | Allocations: 10079)


Started GET "/orders/new" for ::1 at 2020-07-10 17:11:12 +0700
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 56], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 56], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:95:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 2.8ms | Allocations: 1051)
  Rendered orders/new.html.erb within layouts/application (Duration: 3.2ms | Allocations: 1134)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 56], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:16
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 56]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:8
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 1.9ms | Allocations: 1005)
  Rendered carts/_cart.html.erb (Duration: 5.0ms | Allocations: 2242)
Completed 200 OK in 24ms (Views: 19.4ms | ActiveRecord: 0.8ms | Allocations: 9477)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-10 17:11:12 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-10 17:11:12 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-10 17:11:12 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started POST "/orders" for ::1 at 2020-07-10 17:12:50 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"ckqaiZGDXTWoB09oYrNpBkbrr/7EskXlgf12BX6ED3qyi96q5vFIaXGzEAOE2FXejTr5nyKnxNWFA3PfYybR6g==", "order"=>{"name"=>"", "address"=>"", "email"=>"", "pay_type"=>""}, "commit"=>"Place Order"}
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 56], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 56]]
  ↳ app/models/order.rb:13:in `add_line_items_from_cart'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/orders_controller.rb:42:in `block in create'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:42:in `block in create'
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  ↳ app/controllers/orders_controller.rb:42:in `block in create'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 4.5ms | Allocations: 1615)
  Rendered orders/new.html.erb within layouts/application (Duration: 5.8ms | Allocations: 1697)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 0.3ms | Allocations: 135)
  Rendered carts/_cart.html.erb (Duration: 1.3ms | Allocations: 569)
Completed 200 OK in 49ms (Views: 15.2ms | ActiveRecord: 1.5ms | Allocations: 12676)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-10 17:12:50 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-10 17:12:50 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-10 17:12:50 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/" for ::1 at 2020-07-10 17:20:43 +0700
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 56], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 13.3ms | Allocations: 3230)
[Webpacker] Compiling...
[Webpacker] Compiled all packs in /home/khanh/Desktop/depot/public/packs
[Webpacker] Hash: c227eb439b66a220cabe
Version: webpack 4.43.0
Time: 2602ms
Built at: 07/10/2020 5:20:49 PM
                                     Asset       Size       Chunks                         Chunk Names
    js/application-d687b46ae54878e1a078.js    146 KiB  application  [emitted] [immutable]  application
js/application-d687b46ae54878e1a078.js.map    164 KiB  application  [emitted] [dev]        application
    js/hello_react-7cb607df4b85a32cfe4e.js   1.05 MiB  hello_react  [emitted] [immutable]  hello_react
js/hello_react-7cb607df4b85a32cfe4e.js.map   1.21 MiB  hello_react  [emitted] [dev]        hello_react
                             manifest.json  703 bytes               [emitted]              
Entrypoint application = js/application-d687b46ae54878e1a078.js js/application-d687b46ae54878e1a078.js.map
Entrypoint hello_react = js/hello_react-7cb607df4b85a32cfe4e.js js/hello_react-7cb607df4b85a32cfe4e.js.map
[./app/javascript/channels sync recursive _channel\.js$] ./app/javascript/channels sync _channel\.js$ 186 bytes {application} [built]
[./app/javascript/channels/consumer.js] 265 bytes {application} [built]
[./app/javascript/channels/index.js] 211 bytes {application} [built]
[./app/javascript/channels/products_channel.js] 555 bytes {application} [optional] [built]
[./app/javascript/packs/application.js] 749 bytes {application} [built]
[./app/javascript/packs/hello_react.jsx] 1.06 KiB {hello_react} [built]
[./node_modules/webpack/buildin/module.js] (webpack)/buildin/module.js 552 bytes {application} [built]
    + 19 hidden modules

  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 56], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:16
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 56]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:8
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 2.0ms | Allocations: 910)
  Rendered carts/_cart.html.erb (Duration: 7.0ms | Allocations: 2072)
Completed 200 OK in 5765ms (Views: 5759.5ms | ActiveRecord: 1.5ms | Allocations: 12277)


Started GET "/contact" for ::1 at 2020-07-10 17:21:18 +0700
  
ActionController::RoutingError (No route matches [GET] "/contact"):
  
actionpack (6.0.3.2) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
web-console (4.0.3) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.3) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.3) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.3) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.3.2) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.3.2) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.3.2) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.3.2) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.3.2) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.3.2) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.3) lib/rack/method_override.rb:24:in `call'
rack (2.2.3) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.3.2) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.3) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
webpacker (4.2.2) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.3.2) lib/rails/engine.rb:527:in `call'
puma (4.3.5) lib/puma/configuration.rb:228:in `call'
puma (4.3.5) lib/puma/server.rb:713:in `handle_request'
puma (4.3.5) lib/puma/server.rb:472:in `process_client'
puma (4.3.5) lib/puma/server.rb:328:in `block in run'
puma (4.3.5) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/" for ::1 at 2020-07-10 17:21:22 +0700
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 56], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 16.7ms | Allocations: 3202)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 56], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:16
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 56]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:8
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 4.7ms | Allocations: 891)
  Rendered carts/_cart.html.erb (Duration: 10.0ms | Allocations: 2029)
Completed 200 OK in 41ms (Views: 34.8ms | ActiveRecord: 1.2ms | Allocations: 10590)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-10 17:21:22 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-10 17:21:22 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-10 17:21:22 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for ::1 at 2020-07-10 17:34:15 +0700
ProductsChannel stopped streaming from products
Started GET "/" for ::1 at 2020-07-10 23:03:34 +0700
  [1m[35m (2.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by StoreController#index as HTML
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[36mCart Create (38.4ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2020-07-10 16:03:35.291144"], ["updated_at", "2020-07-10 16:03:35.291144"]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[35m (113.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (7.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 1428.9ms | Allocations: 12950)
[Webpacker] Compiling...
[Webpacker] Compiled all packs in /home/khanh/Desktop/depot/public/packs
[Webpacker] Hash: c227eb439b66a220cabe
Version: webpack 4.43.0
Time: 4307ms
Built at: 07/10/2020 11:03:53 PM
                                     Asset       Size       Chunks                         Chunk Names
    js/application-d687b46ae54878e1a078.js    146 KiB  application  [emitted] [immutable]  application
js/application-d687b46ae54878e1a078.js.map    164 KiB  application  [emitted] [dev]        application
    js/hello_react-7cb607df4b85a32cfe4e.js   1.05 MiB  hello_react  [emitted] [immutable]  hello_react
js/hello_react-7cb607df4b85a32cfe4e.js.map   1.21 MiB  hello_react  [emitted] [dev]        hello_react
                             manifest.json  703 bytes               [emitted]              
Entrypoint application = js/application-d687b46ae54878e1a078.js js/application-d687b46ae54878e1a078.js.map
Entrypoint hello_react = js/hello_react-7cb607df4b85a32cfe4e.js js/hello_react-7cb607df4b85a32cfe4e.js.map
[./app/javascript/channels sync recursive _channel\.js$] ./app/javascript/channels sync _channel\.js$ 186 bytes {application} [built]
[./app/javascript/channels/consumer.js] 265 bytes {application} [built]
[./app/javascript/channels/index.js] 211 bytes {application} [built]
[./app/javascript/channels/products_channel.js] 555 bytes {application} [optional] [built]
[./app/javascript/packs/application.js] 749 bytes {application} [built]
[./app/javascript/packs/hello_react.jsx] 1.06 KiB {hello_react} [built]
[./node_modules/webpack/buildin/module.js] (webpack)/buildin/module.js 552 bytes {application} [built]
    + 19 hidden modules

  [1m[36mLineItem Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 57], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:16
Completed 200 OK in 18417ms (Views: 17962.8ms | ActiveRecord: 163.2ms | Allocations: 33429)


Started GET "/cable" for ::1 at 2020-07-10 23:03:53 +0700
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-10 23:03:54 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started POST "/line_items?product_id=4" for ::1 at 2020-07-10 23:08:41 +0700
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"h0xH9AG/+ysUGvY0J9jcABfk9dufCjJzSoNaFQBZ/0uGI7gXJs+Zr3plGHqAI1VZdTlViT6dZ0PVK64zza1jew==", "product_id"=>"4"}
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 57], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 57], ["product_id", 4], ["LIMIT", 1]]
  ↳ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mLineItem Create (14.9ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 4], ["cart_id", 57], ["created_at", "2020-07-10 16:08:41.522995"], ["updated_at", "2020-07-10 16:08:41.522995"]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[35m (160.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 57]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 15.6ms | Allocations: 451)
  Rendered carts/_cart.html.erb (Duration: 62.8ms | Allocations: 2328)
  Rendered line_items/create.js.erb (Duration: 98.7ms | Allocations: 2756)
Completed 200 OK in 320ms (Views: 103.7ms | ActiveRecord: 178.1ms | Allocations: 16155)


Started GET "/orders/new" for ::1 at 2020-07-10 23:08:43 +0700
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 57], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 57], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:95:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 66.2ms | Allocations: 2188)
  Rendered orders/new.html.erb within layouts/application (Duration: 82.1ms | Allocations: 2516)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mCACHE LineItem Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 57], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:16
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 57]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:8
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 3.1ms | Allocations: 891)
  Rendered carts/_cart.html.erb (Duration: 8.0ms | Allocations: 2154)
Completed 200 OK in 133ms (Views: 106.2ms | ActiveRecord: 2.6ms | Allocations: 16608)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-10 23:08:43 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-10 23:08:43 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-10 23:08:43 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/orders" for ::1 at 2020-07-10 23:09:03 +0700
Processing by OrdersController#index as HTML
  Rendering orders/index.html.erb within layouts/application
  [1m[36mOrder Load (0.5ms)[0m  [1m[34mSELECT "orders".* FROM "orders"[0m
  ↳ app/views/orders/index.html.erb:17
  Rendered orders/index.html.erb within layouts/application (Duration: 119.1ms | Allocations: 1086)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 138ms (Views: 134.4ms | ActiveRecord: 0.5ms | Allocations: 5371)


Started GET "/questions" for ::1 at 2020-07-10 23:09:06 +0700
  
ActionController::RoutingError (No route matches [GET] "/questions"):
  
actionpack (6.0.3.2) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
web-console (4.0.3) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.3) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.3) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.3) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.3.2) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.3.2) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.3.2) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.3.2) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.3.2) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.3.2) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.3) lib/rack/method_override.rb:24:in `call'
rack (2.2.3) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.3.2) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.3) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
webpacker (4.2.2) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.3.2) lib/rails/engine.rb:527:in `call'
puma (4.3.5) lib/puma/configuration.rb:228:in `call'
puma (4.3.5) lib/puma/server.rb:713:in `handle_request'
puma (4.3.5) lib/puma/server.rb:472:in `process_client'
puma (4.3.5) lib/puma/server.rb:328:in `block in run'
puma (4.3.5) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/orders" for ::1 at 2020-07-10 23:09:09 +0700
Processing by OrdersController#index as HTML
  Rendering orders/index.html.erb within layouts/application
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT "orders".* FROM "orders"[0m
  ↳ app/views/orders/index.html.erb:17
  Rendered orders/index.html.erb within layouts/application (Duration: 2.2ms | Allocations: 785)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 12ms (Views: 10.1ms | ActiveRecord: 0.2ms | Allocations: 4970)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-10 23:09:09 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-10 23:09:10 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-10 23:09:10 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/" for ::1 at 2020-07-10 23:09:12 +0700
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 57], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 18.9ms | Allocations: 3243)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 57], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:16
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 57]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:8
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 1.6ms | Allocations: 891)
  Rendered carts/_cart.html.erb (Duration: 3.9ms | Allocations: 2035)
Completed 200 OK in 44ms (Views: 36.9ms | ActiveRecord: 1.6ms | Allocations: 10738)


Started DELETE "/carts/57" for ::1 at 2020-07-10 23:09:15 +0700
Processing by CartsController#destroy as HTML
  Parameters: {"authenticity_token"=>"TlBVNlAB9/saTGuHE8WnVUlWUZl54UR4OXxd3C2eJ9am9q3NbXAW31veAM1RRxrrlwEwBT7yKIom66RGc/hFSw==", "id"=>"57"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 57], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:68:in `set_cart'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/carts_controller.rb:57:in `destroy'
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 57]]
  ↳ app/controllers/carts_controller.rb:57:in `destroy'
  [1m[36mLineItem Destroy (0.4ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 79]]
  ↳ app/controllers/carts_controller.rb:57:in `destroy'
  [1m[36mCart Destroy (0.2ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 57]]
  ↳ app/controllers/carts_controller.rb:57:in `destroy'
  [1m[35m (299.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/carts_controller.rb:57:in `destroy'
Redirected to http://localhost:3000/
Completed 302 Found in 314ms (ActiveRecord: 300.4ms | Allocations: 5958)


Started GET "/" for ::1 at 2020-07-10 23:09:16 +0700
Processing by StoreController#index as HTML
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[36mCart Create (0.7ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2020-07-10 16:09:16.218812"], ["updated_at", "2020-07-10 16:09:16.218812"]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[35m (141.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 20.9ms | Allocations: 3200)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 58], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:16
Completed 200 OK in 193ms (Views: 31.9ms | ActiveRecord: 142.9ms | Allocations: 11668)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-10 23:09:16 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-10 23:09:16 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-10 23:09:16 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started POST "/line_items?product_id=5" for ::1 at 2020-07-10 23:09:17 +0700
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"C2V81i6bGfxVL5nV3YrOjECqEH20CY85vbJizEFSad4KCoM1Cet7eDtQd5t6cUfVInewLxWe2gkiGpbqjKb17g==", "product_id"=>"5"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 58], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 58], ["product_id", 5], ["LIMIT", 1]]
  ↳ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mLineItem Create (0.7ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 5], ["cart_id", 58], ["created_at", "2020-07-10 16:09:17.883382"], ["updated_at", "2020-07-10 16:09:17.883382"]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[35m (243.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 58]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 0.9ms | Allocations: 134)
  Rendered carts/_cart.html.erb (Duration: 7.7ms | Allocations: 1373)
  Rendered line_items/create.js.erb (Duration: 8.7ms | Allocations: 1539)
Completed 200 OK in 283ms (Views: 9.9ms | ActiveRecord: 245.4ms | Allocations: 8536)


Started POST "/line_items?product_id=4" for ::1 at 2020-07-10 23:09:19 +0700
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"C2V81i6bGfxVL5nV3YrOjECqEH20CY85vbJizEFSad4KCoM1Cet7eDtQd5t6cUfVInewLxWe2gkiGpbqjKb17g==", "product_id"=>"4"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 58], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 58], ["product_id", 4], ["LIMIT", 1]]
  ↳ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mLineItem Create (0.7ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 4], ["cart_id", 58], ["created_at", "2020-07-10 16:09:19.951190"], ["updated_at", "2020-07-10 16:09:19.951190"]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[35m (110.7ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 58]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:8
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 5.1ms | Allocations: 1027)
  Rendered carts/_cart.html.erb (Duration: 11.7ms | Allocations: 2280)
  Rendered line_items/create.js.erb (Duration: 12.6ms | Allocations: 2460)
Completed 200 OK in 153ms (Views: 13.5ms | ActiveRecord: 113.2ms | Allocations: 9463)


Started GET "/orders/new" for ::1 at 2020-07-10 23:09:21 +0700
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 58], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 58], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:95:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 7.3ms | Allocations: 1055)
  Rendered orders/new.html.erb within layouts/application (Duration: 8.2ms | Allocations: 1137)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mCACHE LineItem Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 58], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:16
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 58]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:8
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:8
  Rendered collection of line_items/_line_item.html.erb [2 times] (Duration: 3.7ms | Allocations: 1781)
  Rendered carts/_cart.html.erb (Duration: 7.8ms | Allocations: 2952)
Completed 200 OK in 43ms (Views: 32.6ms | ActiveRecord: 1.2ms | Allocations: 10212)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-10 23:09:21 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-10 23:09:21 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-10 23:09:21 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started POST "/orders" for ::1 at 2020-07-10 23:10:33 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"nZzjw1VwfdLQK8qMw1M9MUvaUH9AF/QUZiDchN+tRm2c8xwgcgAfVr5UJMJkqLRoKQfwLeGAoST5iCiiElnaXQ==", "order"=>{"name"=>"Trần Văn A", "address"=>"HCM", "email"=>"123@gmail.com", "pay_type"=>"Credit cart"}, "commit"=>"Place Order"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 58], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 58]]
  ↳ app/models/order.rb:13:in `add_line_items_from_cart'
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/orders_controller.rb:42:in `block in create'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:42:in `block in create'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:42:in `block in create'
  [1m[36mOrder Create (0.8ms)[0m  [1m[32mINSERT INTO "orders" ("name", "address", "email", "pay_type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "Trần Văn A"], ["address", "HCM"], ["email", "123@gmail.com"], ["pay_type", 1], ["created_at", "2020-07-10 16:10:33.564313"], ["updated_at", "2020-07-10 16:10:33.564313"]]
  ↳ app/controllers/orders_controller.rb:42:in `block in create'
  [1m[36mLineItem Update (0.4ms)[0m  [1m[33mUPDATE "line_items" SET "cart_id" = ?, "order_id" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["cart_id", nil], ["order_id", 4], ["updated_at", "2020-07-10 16:10:33.568241"], ["id", 79]]
  ↳ app/controllers/orders_controller.rb:42:in `block in create'
  [1m[36mLineItem Update (0.1ms)[0m  [1m[33mUPDATE "line_items" SET "cart_id" = ?, "order_id" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["cart_id", nil], ["order_id", 4], ["updated_at", "2020-07-10 16:10:33.570637"], ["id", 80]]
  ↳ app/controllers/orders_controller.rb:42:in `block in create'
  [1m[35m (247.7ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/orders_controller.rb:42:in `block in create'
  [1m[36mCart Load (0.6ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 58], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:43:in `block in create'
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/orders_controller.rb:43:in `block in create'
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 58]]
  ↳ app/controllers/orders_controller.rb:43:in `block in create'
  [1m[36mCart Destroy (0.7ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 58]]
  ↳ app/controllers/orders_controller.rb:43:in `block in create'
  [1m[35m (77.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/orders_controller.rb:43:in `block in create'
Redirected to http://localhost:3000/
Completed 302 Found in 396ms (ActiveRecord: 329.5ms | Allocations: 16419)


Started GET "/" for ::1 at 2020-07-10 23:10:33 +0700
Processing by StoreController#index as HTML
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[36mCart Create (0.9ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2020-07-10 16:10:33.945482"], ["updated_at", "2020-07-10 16:10:33.945482"]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[35m (95.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 17.9ms | Allocations: 3208)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 59], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:16
Completed 200 OK in 156ms (Views: 36.3ms | ActiveRecord: 97.3ms | Allocations: 11670)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-10 23:10:34 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-10 23:10:34 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-10 23:10:34 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started POST "/line_items?product_id=4" for ::1 at 2020-07-10 23:10:40 +0700
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"4UlNTEf+ZW4hyeLC7hVGeIrdlWdJSkBCbatuRiBP+lngJrKvYI4H6k+2DIxJ7s8h6AA1NejdFXLyA5pg7btmaQ==", "product_id"=>"4"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 59], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 59], ["product_id", 4], ["LIMIT", 1]]
  ↳ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mLineItem Create (0.4ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 4], ["cart_id", 59], ["created_at", "2020-07-10 16:10:40.327864"], ["updated_at", "2020-07-10 16:10:40.327864"]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[35m (261.6ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 59]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 1.0ms | Allocations: 134)
  Rendered carts/_cart.html.erb (Duration: 7.7ms | Allocations: 1363)
  Rendered line_items/create.js.erb (Duration: 8.7ms | Allocations: 1529)
Completed 200 OK in 296ms (Views: 9.8ms | ActiveRecord: 263.5ms | Allocations: 8530)


Started GET "/orders/new" for ::1 at 2020-07-10 23:10:43 +0700
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 59], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 59], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:95:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 2.0ms | Allocations: 1043)
  Rendered orders/new.html.erb within layouts/application (Duration: 2.4ms | Allocations: 1125)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 59], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:16
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 59]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:8
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 1.4ms | Allocations: 891)
  Rendered carts/_cart.html.erb (Duration: 3.1ms | Allocations: 2038)
Completed 200 OK in 17ms (Views: 12.8ms | ActiveRecord: 0.5ms | Allocations: 9288)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-10 23:10:43 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-10 23:10:43 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-10 23:10:43 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/orders" for ::1 at 2020-07-10 23:10:45 +0700
Processing by OrdersController#index as HTML
  Rendering orders/index.html.erb within layouts/application
  [1m[36mOrder Load (0.6ms)[0m  [1m[34mSELECT "orders".* FROM "orders"[0m
  ↳ app/views/orders/index.html.erb:17
  Rendered orders/index.html.erb within layouts/application (Duration: 7.7ms | Allocations: 900)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 27ms (Views: 24.0ms | ActiveRecord: 0.6ms | Allocations: 5025)


Started GET "/orders/4/edit" for ::1 at 2020-07-10 23:10:47 +0700
Processing by OrdersController#edit as HTML
  Parameters: {"id"=>"4"}
  [1m[36mOrder Load (0.6ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:84:in `set_order'
  Rendering orders/edit.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 5.7ms | Allocations: 1092)
  Rendered orders/edit.html.erb within layouts/application (Duration: 115.2ms | Allocations: 1336)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 142ms (Views: 134.5ms | ActiveRecord: 0.6ms | Allocations: 6264)


Started PATCH "/orders/4" for ::1 at 2020-07-10 23:10:56 +0700
Processing by OrdersController#update as HTML
  Parameters: {"authenticity_token"=>"42JnDJmOJ1fSoifVRnetFrMBJyB1LaD9x9dw0Z86qfaOL6AshkHA1xf/lk2OquEsPmBKfq6XzjPKyH3K0u85/A==", "order"=>{"name"=>"Trần Văn A", "address"=>"HCM", "email"=>"123@gmail.com", "pay_type"=>"Check"}, "commit"=>"Place Order", "id"=>"4"}
  [1m[36mOrder Load (0.5ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:84:in `set_order'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/orders_controller.rb:61:in `block in update'
  [1m[36mOrder Update (0.5ms)[0m  [1m[33mUPDATE "orders" SET "pay_type" = ?, "updated_at" = ? WHERE "orders"."id" = ?[0m  [["pay_type", 0], ["updated_at", "2020-07-10 16:10:56.066113"], ["id", 4]]
  ↳ app/controllers/orders_controller.rb:61:in `block in update'
  [1m[35m (79.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/orders_controller.rb:61:in `block in update'
Redirected to http://localhost:3000/orders/4
Completed 302 Found in 108ms (ActiveRecord: 80.3ms | Allocations: 4466)


Started GET "/orders/4" for ::1 at 2020-07-10 23:10:56 +0700
Processing by OrdersController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:84:in `set_order'
  Rendering orders/show.html.erb within layouts/application
  Rendered orders/show.html.erb within layouts/application (Duration: 3.9ms | Allocations: 296)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 21ms (Views: 15.1ms | ActiveRecord: 0.3ms | Allocations: 5113)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-10 23:10:56 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-10 23:10:56 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-10 23:10:56 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/orders/4/edit" for ::1 at 2020-07-10 23:10:58 +0700
Processing by OrdersController#edit as HTML
  Parameters: {"id"=>"4"}
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:84:in `set_order'
  Rendering orders/edit.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 6.7ms | Allocations: 1087)
  Rendered orders/edit.html.erb within layouts/application (Duration: 7.9ms | Allocations: 1200)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 30ms (Views: 24.9ms | ActiveRecord: 0.3ms | Allocations: 5845)


Started GET "/orders/4/edit" for ::1 at 2020-07-10 23:13:26 +0700
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by OrdersController#edit as HTML
  Parameters: {"id"=>"4"}
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:103:in `set_order'
  Rendering orders/edit.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 3.4ms | Allocations: 1149)
  Rendered orders/edit.html.erb within layouts/application (Duration: 4.3ms | Allocations: 1264)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 31ms (Views: 11.6ms | ActiveRecord: 1.5ms | Allocations: 11412)


Started GET "/cable" for ::1 at 2020-07-10 23:13:26 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-10 23:13:26 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/" for ::1 at 2020-07-10 23:13:28 +0700
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 59], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 16.9ms | Allocations: 6609)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 59], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:16
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 59]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:8
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 2.1ms | Allocations: 1656)
  Rendered carts/_cart.html.erb (Duration: 11.1ms | Allocations: 7047)
Completed 200 OK in 65ms (Views: 37.0ms | ActiveRecord: 3.9ms | Allocations: 24908)


Started GET "/orders/new" for ::1 at 2020-07-10 23:13:29 +0700
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 59], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 59], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:116:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 6.7ms | Allocations: 1043)
  Rendered orders/new.html.erb within layouts/application (Duration: 8.1ms | Allocations: 1125)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 59], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:16
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 59]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:8
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 3.0ms | Allocations: 891)
  Rendered carts/_cart.html.erb (Duration: 7.4ms | Allocations: 2041)
Completed 200 OK in 42ms (Views: 31.9ms | ActiveRecord: 1.3ms | Allocations: 9265)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-10 23:13:30 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-10 23:13:30 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-10 23:13:30 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started POST "/orders" for ::1 at 2020-07-10 23:13:33 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"ovqZB/mQffnTps7n1g6gmHyzsOuwpV3N+QAWBnG0yjmjlWbk3uAffb3ZIKlx9SnBHm4QuREyCP1mqOIgvEBWCQ==", "order"=>{"name"=>"", "address"=>"", "email"=>"", "pay_type"=>""}, "commit"=>"Place Order"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 59], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 59]]
  ↳ app/models/order.rb:13:in `add_line_items_from_cart'
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/orders_controller.rb:42:in `block in create'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:42:in `block in create'
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  ↳ app/controllers/orders_controller.rb:42:in `block in create'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 5.8ms | Allocations: 1614)
  Rendered orders/new.html.erb within layouts/application (Duration: 6.9ms | Allocations: 1696)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 1.0ms | Allocations: 135)
  Rendered carts/_cart.html.erb (Duration: 4.4ms | Allocations: 569)
Completed 200 OK in 56ms (Views: 20.7ms | ActiveRecord: 1.4ms | Allocations: 13594)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-10 23:13:34 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-10 23:13:34 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-10 23:13:34 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/questions" for ::1 at 2020-07-10 23:13:36 +0700
  
ActionController::RoutingError (No route matches [GET] "/questions"):
  
actionpack (6.0.3.2) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
web-console (4.0.3) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.3) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.3) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.3) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.3.2) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.3.2) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.3.2) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.3.2) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.3.2) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.3.2) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.3) lib/rack/method_override.rb:24:in `call'
rack (2.2.3) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.3.2) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.3) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
webpacker (4.2.2) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.3.2) lib/rails/engine.rb:527:in `call'
puma (4.3.5) lib/puma/configuration.rb:228:in `call'
puma (4.3.5) lib/puma/server.rb:713:in `handle_request'
puma (4.3.5) lib/puma/server.rb:472:in `process_client'
puma (4.3.5) lib/puma/server.rb:328:in `block in run'
puma (4.3.5) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/orders" for ::1 at 2020-07-10 23:13:37 +0700
Processing by OrdersController#index as HTML
  Rendering orders/index.html.erb within layouts/application
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders"[0m
  ↳ app/views/orders/index.html.erb:17
  Rendered orders/index.html.erb within layouts/application (Duration: 3.4ms | Allocations: 920)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 16ms (Views: 14.0ms | ActiveRecord: 0.3ms | Allocations: 5059)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-10 23:13:37 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-10 23:13:37 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-10 23:13:37 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started DELETE "/orders/4" for ::1 at 2020-07-10 23:13:40 +0700
Processing by OrdersController#destroy as HTML
  Parameters: {"authenticity_token"=>"3x/h2GiE9rH6DMrDAXCbQI9x1TKAs6lBs0ibImCMVaLecB47T/SUNZRzJI2mixIZ7ax1YCEk/HEs4G8ErXjJkg==", "id"=>"4"}
  [1m[36mOrder Load (0.5ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:103:in `set_order'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/orders_controller.rb:79:in `destroy'
  [1m[36mLineItem Load (0.8ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."order_id" = ?[0m  [["order_id", 4]]
  ↳ app/controllers/orders_controller.rb:79:in `destroy'
  [1m[36mLineItem Destroy (0.5ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 79]]
  ↳ app/controllers/orders_controller.rb:79:in `destroy'
  [1m[36mLineItem Destroy (0.4ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 80]]
  ↳ app/controllers/orders_controller.rb:79:in `destroy'
  [1m[36mOrder Destroy (0.4ms)[0m  [1m[31mDELETE FROM "orders" WHERE "orders"."id" = ?[0m  [["id", 4]]
  ↳ app/controllers/orders_controller.rb:79:in `destroy'
  [1m[35m (123.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/orders_controller.rb:79:in `destroy'
Redirected to http://localhost:3000/orders
Completed 302 Found in 156ms (ActiveRecord: 126.2ms | Allocations: 6949)


Started GET "/orders" for ::1 at 2020-07-10 23:13:41 +0700
Processing by OrdersController#index as HTML
  Rendering orders/index.html.erb within layouts/application
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT "orders".* FROM "orders"[0m
  ↳ app/views/orders/index.html.erb:17
  Rendered orders/index.html.erb within layouts/application (Duration: 5.1ms | Allocations: 770)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 16ms (Views: 14.0ms | ActiveRecord: 0.4ms | Allocations: 4933)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-10 23:13:41 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-10 23:13:41 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-10 23:13:41 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/orders/1" for ::1 at 2020-07-10 23:13:42 +0700
Processing by OrdersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:103:in `set_order'
  Rendering orders/show.html.erb within layouts/application
  Rendered orders/show.html.erb within layouts/application (Duration: 0.8ms | Allocations: 86)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 22ms (Views: 17.9ms | ActiveRecord: 0.3ms | Allocations: 4725)


Started GET "/" for ::1 at 2020-07-10 23:13:49 +0700
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 59], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 21.1ms | Allocations: 3200)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 59], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:16
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 59]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:8
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 1.9ms | Allocations: 891)
  Rendered carts/_cart.html.erb (Duration: 5.7ms | Allocations: 2029)
Completed 200 OK in 47ms (Views: 41.1ms | ActiveRecord: 1.2ms | Allocations: 10618)


Started GET "/" for ::1 at 2020-07-10 23:16:34 +0700
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 59], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 12.9ms | Allocations: 3201)
[Webpacker] Compiling...
[Webpacker] Compiled all packs in /home/khanh/Desktop/depot/public/packs
[Webpacker] Hash: c227eb439b66a220cabe
Version: webpack 4.43.0
Time: 1579ms
Built at: 07/10/2020 11:16:39 PM
                                     Asset       Size       Chunks                         Chunk Names
    js/application-d687b46ae54878e1a078.js    146 KiB  application  [emitted] [immutable]  application
js/application-d687b46ae54878e1a078.js.map    164 KiB  application  [emitted] [dev]        application
    js/hello_react-7cb607df4b85a32cfe4e.js   1.05 MiB  hello_react  [emitted] [immutable]  hello_react
js/hello_react-7cb607df4b85a32cfe4e.js.map   1.21 MiB  hello_react  [emitted] [dev]        hello_react
                             manifest.json  703 bytes               [emitted]              
Entrypoint application = js/application-d687b46ae54878e1a078.js js/application-d687b46ae54878e1a078.js.map
Entrypoint hello_react = js/hello_react-7cb607df4b85a32cfe4e.js js/hello_react-7cb607df4b85a32cfe4e.js.map
[./app/javascript/channels sync recursive _channel\.js$] ./app/javascript/channels sync _channel\.js$ 186 bytes {application} [built]
[./app/javascript/channels/consumer.js] 265 bytes {application} [built]
[./app/javascript/channels/index.js] 211 bytes {application} [built]
[./app/javascript/channels/products_channel.js] 555 bytes {application} [optional] [built]
[./app/javascript/packs/application.js] 749 bytes {application} [built]
[./app/javascript/packs/hello_react.jsx] 1.06 KiB {hello_react} [built]
[./node_modules/webpack/buildin/module.js] (webpack)/buildin/module.js 552 bytes {application} [built]
    + 19 hidden modules

  [1m[36mLineItem Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 59], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:16
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 59]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:8
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 1.7ms | Allocations: 891)
  Rendered carts/_cart.html.erb (Duration: 4.0ms | Allocations: 2029)
Completed 200 OK in 4298ms (Views: 4293.1ms | ActiveRecord: 1.1ms | Allocations: 12127)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-10 23:16:39 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-10 23:16:39 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-10 23:16:39 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/orders/new" for ::1 at 2020-07-10 23:16:41 +0700
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 59], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 59], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:116:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 6.3ms | Allocations: 1043)
  Rendered orders/new.html.erb within layouts/application (Duration: 8.0ms | Allocations: 1125)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mCACHE LineItem Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 59], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:16
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 59]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:8
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 3.7ms | Allocations: 891)
  Rendered carts/_cart.html.erb (Duration: 8.7ms | Allocations: 2038)
Completed 200 OK in 42ms (Views: 31.8ms | ActiveRecord: 1.3ms | Allocations: 9278)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-10 23:16:41 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-10 23:16:41 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-10 23:16:41 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/orders/new" for ::1 at 2020-07-10 23:17:01 +0700
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 59], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 59], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:116:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 6.4ms | Allocations: 1043)
  Rendered orders/new.html.erb within layouts/application (Duration: 7.9ms | Allocations: 1125)
[Webpacker] Compiling...
[Webpacker] Compiled all packs in /home/khanh/Desktop/depot/public/packs
[Webpacker] Hash: c227eb439b66a220cabe
Version: webpack 4.43.0
Time: 1550ms
Built at: 07/10/2020 11:17:05 PM
                                     Asset       Size       Chunks                         Chunk Names
    js/application-d687b46ae54878e1a078.js    146 KiB  application  [emitted] [immutable]  application
js/application-d687b46ae54878e1a078.js.map    164 KiB  application  [emitted] [dev]        application
    js/hello_react-7cb607df4b85a32cfe4e.js   1.05 MiB  hello_react  [emitted] [immutable]  hello_react
js/hello_react-7cb607df4b85a32cfe4e.js.map   1.21 MiB  hello_react  [emitted] [dev]        hello_react
                             manifest.json  703 bytes               [emitted]              
Entrypoint application = js/application-d687b46ae54878e1a078.js js/application-d687b46ae54878e1a078.js.map
Entrypoint hello_react = js/hello_react-7cb607df4b85a32cfe4e.js js/hello_react-7cb607df4b85a32cfe4e.js.map
[./app/javascript/channels sync recursive _channel\.js$] ./app/javascript/channels sync _channel\.js$ 186 bytes {application} [built]
[./app/javascript/channels/consumer.js] 265 bytes {application} [built]
[./app/javascript/channels/index.js] 211 bytes {application} [built]
[./app/javascript/channels/products_channel.js] 555 bytes {application} [optional] [built]
[./app/javascript/packs/application.js] 749 bytes {application} [built]
[./app/javascript/packs/hello_react.jsx] 1.06 KiB {hello_react} [built]
[./node_modules/webpack/buildin/module.js] (webpack)/buildin/module.js 552 bytes {application} [built]
    + 19 hidden modules

  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 59], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:16
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 59]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:8
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 1.6ms | Allocations: 891)
  Rendered carts/_cart.html.erb (Duration: 3.7ms | Allocations: 2038)
Completed 200 OK in 4149ms (Views: 4139.7ms | ActiveRecord: 1.1ms | Allocations: 10771)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-10 23:17:05 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-10 23:17:05 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-10 23:17:05 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started POST "/orders" for ::1 at 2020-07-10 23:17:15 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"RSH28sVFiB3xbcomT571/FftzEzjon3YuiJd1dwDO7FETgkR4jXqmZ8SJGjoZXylNTBsHkI1KOgliqnzEfengQ==", "order"=>{"name"=>"1", "address"=>"1", "email"=>"1", "pay_type"=>"Credit cart"}, "commit"=>"Place Order"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 59], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 59]]
  ↳ app/models/order.rb:13:in `add_line_items_from_cart'
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/orders_controller.rb:42:in `block in create'
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:42:in `block in create'
  [1m[36mOrder Create (1.3ms)[0m  [1m[32mINSERT INTO "orders" ("name", "address", "email", "pay_type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "1"], ["address", "1"], ["email", "1"], ["pay_type", 1], ["created_at", "2020-07-10 16:17:15.140801"], ["updated_at", "2020-07-10 16:17:15.140801"]]
  ↳ app/controllers/orders_controller.rb:42:in `block in create'
  [1m[36mLineItem Update (0.2ms)[0m  [1m[33mUPDATE "line_items" SET "cart_id" = ?, "order_id" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["cart_id", nil], ["order_id", 5], ["updated_at", "2020-07-10 16:17:15.146896"], ["id", 81]]
  ↳ app/controllers/orders_controller.rb:42:in `block in create'
  [1m[35m (207.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/orders_controller.rb:42:in `block in create'
  [1m[36mCart Load (0.6ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 59], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:43:in `block in create'
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/orders_controller.rb:43:in `block in create'
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 59]]
  ↳ app/controllers/orders_controller.rb:43:in `block in create'
  [1m[36mCart Destroy (0.7ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 59]]
  ↳ app/controllers/orders_controller.rb:43:in `block in create'
  [1m[35m (65.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/orders_controller.rb:43:in `block in create'
Redirected to http://localhost:3000/
Completed 302 Found in 328ms (ActiveRecord: 277.0ms | Allocations: 12889)


Started GET "/" for ::1 at 2020-07-10 23:17:15 +0700
Processing by StoreController#index as HTML
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[36mCart Create (0.7ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2020-07-10 16:17:15.472556"], ["updated_at", "2020-07-10 16:17:15.472556"]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[35m (118.6ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 20.3ms | Allocations: 3208)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 60], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:16
Completed 200 OK in 172ms (Views: 33.4ms | ActiveRecord: 120.2ms | Allocations: 11692)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-10 23:17:15 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-10 23:17:15 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-10 23:17:15 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started POST "/line_items?product_id=4" for ::1 at 2020-07-10 23:17:18 +0700
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"m2jaMr8Q7f4bt6mVaGnfthmxNzu6D27OkdPUsACX64uaByXRmGCPenXIR9vPklbve2yXaRuYO/4OeyCWzWN3uw==", "product_id"=>"4"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 60], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 60], ["product_id", 4], ["LIMIT", 1]]
  ↳ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mLineItem Create (0.3ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 4], ["cart_id", 60], ["created_at", "2020-07-10 16:17:18.260308"], ["updated_at", "2020-07-10 16:17:18.260308"]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[35m (405.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 60]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 1.0ms | Allocations: 134)
  Rendered carts/_cart.html.erb (Duration: 8.3ms | Allocations: 1374)
  Rendered line_items/create.js.erb (Duration: 9.1ms | Allocations: 1540)
Completed 200 OK in 434ms (Views: 10.9ms | ActiveRecord: 406.7ms | Allocations: 9034)


Started GET "/orders/new" for ::1 at 2020-07-10 23:17:19 +0700
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 60], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 60], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:116:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 3.7ms | Allocations: 1043)
  Rendered orders/new.html.erb within layouts/application (Duration: 4.5ms | Allocations: 1125)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 60], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:16
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 60]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:8
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 2.0ms | Allocations: 891)
  Rendered carts/_cart.html.erb (Duration: 4.2ms | Allocations: 2038)
Completed 200 OK in 27ms (Views: 20.1ms | ActiveRecord: 0.8ms | Allocations: 9275)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-10 23:17:19 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-10 23:17:19 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-10 23:17:19 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/orders" for ::1 at 2020-07-10 23:17:22 +0700
Processing by OrdersController#index as HTML
  Rendering orders/index.html.erb within layouts/application
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT "orders".* FROM "orders"[0m
  ↳ app/views/orders/index.html.erb:17
  Rendered orders/index.html.erb within layouts/application (Duration: 6.4ms | Allocations: 900)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 28ms (Views: 24.9ms | ActiveRecord: 0.4ms | Allocations: 5031)


Started GET "/orders/5" for ::1 at 2020-07-10 23:17:24 +0700
Processing by OrdersController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:103:in `set_order'
  Rendering orders/show.html.erb within layouts/application
  Rendered orders/show.html.erb within layouts/application (Duration: 0.9ms | Allocations: 85)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 26ms (Views: 21.2ms | ActiveRecord: 0.3ms | Allocations: 4734)


Started GET "/orders/5/edit" for ::1 at 2020-07-10 23:17:26 +0700
Processing by OrdersController#edit as HTML
  Parameters: {"id"=>"5"}
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:103:in `set_order'
  Rendering orders/edit.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 2.4ms | Allocations: 1082)
  Rendered orders/edit.html.erb within layouts/application (Duration: 2.9ms | Allocations: 1194)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 13ms (Views: 11.6ms | ActiveRecord: 0.1ms | Allocations: 5829)


Started GET "/orders/5" for ::1 at 2020-07-10 23:17:29 +0700
Processing by OrdersController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mOrder Load (0.5ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:103:in `set_order'
  Rendering orders/show.html.erb within layouts/application
  Rendered orders/show.html.erb within layouts/application (Duration: 1.0ms | Allocations: 85)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 25ms (Views: 16.8ms | ActiveRecord: 0.5ms | Allocations: 4746)


Started GET "/orders" for ::1 at 2020-07-10 23:17:31 +0700
Processing by OrdersController#index as HTML
  Rendering orders/index.html.erb within layouts/application
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT "orders".* FROM "orders"[0m
  ↳ app/views/orders/index.html.erb:17
  Rendered orders/index.html.erb within layouts/application (Duration: 4.0ms | Allocations: 900)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 31ms (Views: 29.2ms | ActiveRecord: 0.2ms | Allocations: 5050)


Started DELETE "/orders/5" for ::1 at 2020-07-10 23:17:33 +0700
Processing by OrdersController#destroy as HTML
  Parameters: {"authenticity_token"=>"Q88AriWxOUSn1szMF4HE6dSB2t21pt5ZWkyWDPf8v/5CoP9NAsFbwMmpIoKwek2wtlx6jxQxi2nF5GIqOggjzg==", "id"=>"5"}
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:103:in `set_order'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/orders_controller.rb:79:in `destroy'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."order_id" = ?[0m  [["order_id", 5]]
  ↳ app/controllers/orders_controller.rb:79:in `destroy'
  [1m[36mLineItem Destroy (0.3ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 81]]
  ↳ app/controllers/orders_controller.rb:79:in `destroy'
  [1m[36mOrder Destroy (0.3ms)[0m  [1m[31mDELETE FROM "orders" WHERE "orders"."id" = ?[0m  [["id", 5]]
  ↳ app/controllers/orders_controller.rb:79:in `destroy'
  [1m[35m (323.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/orders_controller.rb:79:in `destroy'
Redirected to http://localhost:3000/orders
Completed 302 Found in 337ms (ActiveRecord: 324.1ms | Allocations: 5837)


Started GET "/orders" for ::1 at 2020-07-10 23:17:33 +0700
Processing by OrdersController#index as HTML
  Rendering orders/index.html.erb within layouts/application
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders"[0m
  ↳ app/views/orders/index.html.erb:17
  Rendered orders/index.html.erb within layouts/application (Duration: 4.2ms | Allocations: 770)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 24ms (Views: 21.9ms | ActiveRecord: 0.3ms | Allocations: 4924)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-10 23:17:33 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-10 23:17:33 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-10 23:17:33 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/orders" for ::1 at 2020-07-10 23:18:16 +0700
Processing by OrdersController#index as HTML
  Rendering orders/index.html.erb within layouts/application
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders"[0m
  ↳ app/views/orders/index.html.erb:17
  Rendered orders/index.html.erb within layouts/application (Duration: 4.7ms | Allocations: 768)
[Webpacker] Compiling...
[Webpacker] Compiled all packs in /home/khanh/Desktop/depot/public/packs
[Webpacker] Hash: c227eb439b66a220cabe
Version: webpack 4.43.0
Time: 2239ms
Built at: 07/10/2020 11:18:21 PM
                                     Asset       Size       Chunks                         Chunk Names
    js/application-d687b46ae54878e1a078.js    146 KiB  application  [emitted] [immutable]  application
js/application-d687b46ae54878e1a078.js.map    164 KiB  application  [emitted] [dev]        application
    js/hello_react-7cb607df4b85a32cfe4e.js   1.05 MiB  hello_react  [emitted] [immutable]  hello_react
js/hello_react-7cb607df4b85a32cfe4e.js.map   1.21 MiB  hello_react  [emitted] [dev]        hello_react
                             manifest.json  703 bytes               [emitted]              
Entrypoint application = js/application-d687b46ae54878e1a078.js js/application-d687b46ae54878e1a078.js.map
Entrypoint hello_react = js/hello_react-7cb607df4b85a32cfe4e.js js/hello_react-7cb607df4b85a32cfe4e.js.map
[./app/javascript/channels sync recursive _channel\.js$] ./app/javascript/channels sync _channel\.js$ 186 bytes {application} [built]
[./app/javascript/channels/consumer.js] 265 bytes {application} [built]
[./app/javascript/channels/index.js] 211 bytes {application} [built]
[./app/javascript/channels/products_channel.js] 555 bytes {application} [optional] [built]
[./app/javascript/packs/application.js] 749 bytes {application} [built]
[./app/javascript/packs/hello_react.jsx] 1.06 KiB {hello_react} [built]
[./node_modules/webpack/buildin/module.js] (webpack)/buildin/module.js 552 bytes {application} [built]
    + 19 hidden modules

Completed 200 OK in 5049ms (Views: 5047.1ms | ActiveRecord: 0.3ms | Allocations: 6630)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-10 23:18:22 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-10 23:18:22 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-10 23:18:22 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/" for ::1 at 2020-07-10 23:18:53 +0700
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 60], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 19.0ms | Allocations: 3200)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 60], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:16
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 60]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:8
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 3.3ms | Allocations: 891)
  Rendered carts/_cart.html.erb (Duration: 7.8ms | Allocations: 2029)
Completed 200 OK in 44ms (Views: 37.5ms | ActiveRecord: 1.3ms | Allocations: 10641)


Started GET "/orders/new" for ::1 at 2020-07-10 23:18:55 +0700
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 60], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 60], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:116:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 5.3ms | Allocations: 1043)
  Rendered orders/new.html.erb within layouts/application (Duration: 5.9ms | Allocations: 1125)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 60], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:16
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 60]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:8
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 4.1ms | Allocations: 891)
  Rendered carts/_cart.html.erb (Duration: 10.1ms | Allocations: 2038)
Completed 200 OK in 48ms (Views: 35.4ms | ActiveRecord: 1.2ms | Allocations: 9262)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-10 23:18:55 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-10 23:18:55 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-10 23:18:55 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started POST "/orders" for ::1 at 2020-07-10 23:19:00 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"KoeZ9/CfF21+7ttrsW+rTeQGVlW6XjUZNBE812GQcdor6GYU1+916RCRNSUWlCIUhtv2BxvJYCmrucjxrGTt6g==", "order"=>{"name"=>"", "address"=>"", "email"=>"", "pay_type"=>"Credit cart"}, "commit"=>"Place Order"}
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 60], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 60]]
  ↳ app/models/order.rb:13:in `add_line_items_from_cart'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/orders_controller.rb:42:in `block in create'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:42:in `block in create'
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  ↳ app/controllers/orders_controller.rb:42:in `block in create'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 2.9ms | Allocations: 1441)
  Rendered orders/new.html.erb within layouts/application (Duration: 3.2ms | Allocations: 1523)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 0.4ms | Allocations: 135)
  Rendered carts/_cart.html.erb (Duration: 1.3ms | Allocations: 569)
Completed 200 OK in 43ms (Views: 11.0ms | ActiveRecord: 1.4ms | Allocations: 12333)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-10 23:19:00 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-10 23:19:00 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-10 23:19:00 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/orders" for ::1 at 2020-07-10 23:20:40 +0700
Processing by OrdersController#index as HTML
  Rendering orders/index.html.erb within layouts/application
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT "orders".* FROM "orders"[0m
  ↳ app/views/orders/index.html.erb:17
  Rendered orders/index.html.erb within layouts/application (Duration: 4.7ms | Allocations: 768)
[Webpacker] Compiling...
[Webpacker] Compiled all packs in /home/khanh/Desktop/depot/public/packs
[Webpacker] Hash: c227eb439b66a220cabe
Version: webpack 4.43.0
Time: 1415ms
Built at: 07/10/2020 11:20:44 PM
                                     Asset       Size       Chunks                         Chunk Names
    js/application-d687b46ae54878e1a078.js    146 KiB  application  [emitted] [immutable]  application
js/application-d687b46ae54878e1a078.js.map    164 KiB  application  [emitted] [dev]        application
    js/hello_react-7cb607df4b85a32cfe4e.js   1.05 MiB  hello_react  [emitted] [immutable]  hello_react
js/hello_react-7cb607df4b85a32cfe4e.js.map   1.21 MiB  hello_react  [emitted] [dev]        hello_react
                             manifest.json  703 bytes               [emitted]              
Entrypoint application = js/application-d687b46ae54878e1a078.js js/application-d687b46ae54878e1a078.js.map
Entrypoint hello_react = js/hello_react-7cb607df4b85a32cfe4e.js js/hello_react-7cb607df4b85a32cfe4e.js.map
[./app/javascript/channels sync recursive _channel\.js$] ./app/javascript/channels sync _channel\.js$ 186 bytes {application} [built]
[./app/javascript/channels/consumer.js] 265 bytes {application} [built]
[./app/javascript/channels/index.js] 211 bytes {application} [built]
[./app/javascript/channels/products_channel.js] 555 bytes {application} [optional] [built]
[./app/javascript/packs/application.js] 749 bytes {application} [built]
[./app/javascript/packs/hello_react.jsx] 1.06 KiB {hello_react} [built]
[./node_modules/webpack/buildin/module.js] (webpack)/buildin/module.js 552 bytes {application} [built]
    + 19 hidden modules

Completed 200 OK in 3973ms (Views: 3970.8ms | ActiveRecord: 0.4ms | Allocations: 6407)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-10 23:20:44 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-10 23:20:44 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-10 23:20:44 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/" for ::1 at 2020-07-10 23:20:47 +0700
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 60], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 22.5ms | Allocations: 3200)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 60], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:16
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 60]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:8
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 3.7ms | Allocations: 891)
  Rendered carts/_cart.html.erb (Duration: 8.7ms | Allocations: 2029)
Completed 200 OK in 52ms (Views: 46.2ms | ActiveRecord: 1.4ms | Allocations: 10635)


Started GET "/orders/new" for ::1 at 2020-07-10 23:20:48 +0700
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 60], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 60], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:116:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 6.9ms | Allocations: 1043)
  Rendered orders/new.html.erb within layouts/application (Duration: 7.7ms | Allocations: 1125)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 60], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:16
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 60]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:8
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 2.4ms | Allocations: 891)
  Rendered carts/_cart.html.erb (Duration: 5.4ms | Allocations: 2038)
Completed 200 OK in 38ms (Views: 26.4ms | ActiveRecord: 1.2ms | Allocations: 9278)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-10 23:20:48 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-10 23:20:49 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-10 23:20:49 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/orders/new" for ::1 at 2020-07-10 23:24:48 +0700
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 60], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 60], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:116:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 4.2ms | Allocations: 1043)
  Rendered orders/new.html.erb within layouts/application (Duration: 4.8ms | Allocations: 1125)
[Webpacker] Compiling...
[Webpacker] Compiled all packs in /home/khanh/Desktop/depot/public/packs
[Webpacker] Hash: c227eb439b66a220cabe
Version: webpack 4.43.0
Time: 1603ms
Built at: 07/10/2020 11:24:52 PM
                                     Asset       Size       Chunks                         Chunk Names
    js/application-d687b46ae54878e1a078.js    146 KiB  application  [emitted] [immutable]  application
js/application-d687b46ae54878e1a078.js.map    164 KiB  application  [emitted] [dev]        application
    js/hello_react-7cb607df4b85a32cfe4e.js   1.05 MiB  hello_react  [emitted] [immutable]  hello_react
js/hello_react-7cb607df4b85a32cfe4e.js.map   1.21 MiB  hello_react  [emitted] [dev]        hello_react
                             manifest.json  703 bytes               [emitted]              
Entrypoint application = js/application-d687b46ae54878e1a078.js js/application-d687b46ae54878e1a078.js.map
Entrypoint hello_react = js/hello_react-7cb607df4b85a32cfe4e.js js/hello_react-7cb607df4b85a32cfe4e.js.map
[./app/javascript/channels sync recursive _channel\.js$] ./app/javascript/channels sync _channel\.js$ 186 bytes {application} [built]
[./app/javascript/channels/consumer.js] 265 bytes {application} [built]
[./app/javascript/channels/index.js] 211 bytes {application} [built]
[./app/javascript/channels/products_channel.js] 555 bytes {application} [optional] [built]
[./app/javascript/packs/application.js] 749 bytes {application} [built]
[./app/javascript/packs/hello_react.jsx] 1.06 KiB {hello_react} [built]
[./node_modules/webpack/buildin/module.js] (webpack)/buildin/module.js 552 bytes {application} [built]
    + 19 hidden modules

  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 60], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:16
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 60]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:8
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 1.5ms | Allocations: 891)
  Rendered carts/_cart.html.erb (Duration: 3.7ms | Allocations: 2038)
Completed 200 OK in 4089ms (Views: 4077.4ms | ActiveRecord: 1.1ms | Allocations: 10766)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-10 23:24:52 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-10 23:24:53 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-10 23:24:53 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started POST "/orders" for ::1 at 2020-07-10 23:27:06 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"SDP58uGDi+v6Tm7S48dJZZFSfWb48o5q64hcsLlPVGlJXAYRxvPpb5QxgJxEPMA884/dNFll21p0IKiWdLvIWQ==", "order"=>{"name"=>"", "address"=>"", "email"=>"", "pay_type"=>"Credit cart"}, "commit"=>"Place Order"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 60], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 60]]
  ↳ app/models/order.rb:13:in `add_line_items_from_cart'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/orders_controller.rb:42:in `block in create'
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:42:in `block in create'
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  ↳ app/controllers/orders_controller.rb:42:in `block in create'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 5.5ms | Allocations: 1441)
  Rendered orders/new.html.erb within layouts/application (Duration: 6.9ms | Allocations: 1523)
[Webpacker] Compiling...
[Webpacker] Compiled all packs in /home/khanh/Desktop/depot/public/packs
[Webpacker] Hash: c227eb439b66a220cabe
Version: webpack 4.43.0
Time: 1616ms
Built at: 07/10/2020 11:27:10 PM
                                     Asset       Size       Chunks                         Chunk Names
    js/application-d687b46ae54878e1a078.js    146 KiB  application  [emitted] [immutable]  application
js/application-d687b46ae54878e1a078.js.map    164 KiB  application  [emitted] [dev]        application
    js/hello_react-7cb607df4b85a32cfe4e.js   1.05 MiB  hello_react  [emitted] [immutable]  hello_react
js/hello_react-7cb607df4b85a32cfe4e.js.map   1.21 MiB  hello_react  [emitted] [dev]        hello_react
                             manifest.json  703 bytes               [emitted]              
Entrypoint application = js/application-d687b46ae54878e1a078.js js/application-d687b46ae54878e1a078.js.map
Entrypoint hello_react = js/hello_react-7cb607df4b85a32cfe4e.js js/hello_react-7cb607df4b85a32cfe4e.js.map
[./app/javascript/channels sync recursive _channel\.js$] ./app/javascript/channels sync _channel\.js$ 186 bytes {application} [built]
[./app/javascript/channels/consumer.js] 265 bytes {application} [built]
[./app/javascript/channels/index.js] 211 bytes {application} [built]
[./app/javascript/channels/products_channel.js] 555 bytes {application} [optional] [built]
[./app/javascript/packs/application.js] 749 bytes {application} [built]
[./app/javascript/packs/hello_react.jsx] 1.06 KiB {hello_react} [built]
[./node_modules/webpack/buildin/module.js] (webpack)/buildin/module.js 552 bytes {application} [built]
    + 19 hidden modules

  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 0.4ms | Allocations: 135)
  Rendered carts/_cart.html.erb (Duration: 2.7ms | Allocations: 569)
Completed 200 OK in 4230ms (Views: 4199.9ms | ActiveRecord: 1.7ms | Allocations: 13825)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-10 23:27:10 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-10 23:27:10 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-10 23:27:10 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/orders" for ::1 at 2020-07-10 23:29:17 +0700
Processing by OrdersController#index as HTML
  Rendering orders/index.html.erb within layouts/application
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders"[0m
  ↳ app/views/orders/index.html.erb:17
  Rendered orders/index.html.erb within layouts/application (Duration: 4.2ms | Allocations: 768)
[Webpacker] Compiling...
[Webpacker] Compiled all packs in /home/khanh/Desktop/depot/public/packs
[Webpacker] Hash: c227eb439b66a220cabe
Version: webpack 4.43.0
Time: 1467ms
Built at: 07/10/2020 11:29:21 PM
                                     Asset       Size       Chunks                         Chunk Names
    js/application-d687b46ae54878e1a078.js    146 KiB  application  [emitted] [immutable]  application
js/application-d687b46ae54878e1a078.js.map    164 KiB  application  [emitted] [dev]        application
    js/hello_react-7cb607df4b85a32cfe4e.js   1.05 MiB  hello_react  [emitted] [immutable]  hello_react
js/hello_react-7cb607df4b85a32cfe4e.js.map   1.21 MiB  hello_react  [emitted] [dev]        hello_react
                             manifest.json  703 bytes               [emitted]              
Entrypoint application = js/application-d687b46ae54878e1a078.js js/application-d687b46ae54878e1a078.js.map
Entrypoint hello_react = js/hello_react-7cb607df4b85a32cfe4e.js js/hello_react-7cb607df4b85a32cfe4e.js.map
[./app/javascript/channels sync recursive _channel\.js$] ./app/javascript/channels sync _channel\.js$ 186 bytes {application} [built]
[./app/javascript/channels/consumer.js] 265 bytes {application} [built]
[./app/javascript/channels/index.js] 211 bytes {application} [built]
[./app/javascript/channels/products_channel.js] 555 bytes {application} [optional] [built]
[./app/javascript/packs/application.js] 749 bytes {application} [built]
[./app/javascript/packs/hello_react.jsx] 1.06 KiB {hello_react} [built]
[./node_modules/webpack/buildin/module.js] (webpack)/buildin/module.js 552 bytes {application} [built]
    + 19 hidden modules

Completed 200 OK in 4016ms (Views: 4013.9ms | ActiveRecord: 0.3ms | Allocations: 6403)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-10 23:29:21 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-10 23:29:21 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-10 23:29:21 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/orders/1/edit" for ::1 at 2020-07-10 23:29:28 +0700
Processing by OrdersController#edit as HTML
  Parameters: {"id"=>"1"}
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:103:in `set_order'
  Rendering orders/edit.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 6.9ms | Allocations: 1084)
  Rendered orders/edit.html.erb within layouts/application (Duration: 8.8ms | Allocations: 1196)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 25ms (Views: 20.8ms | ActiveRecord: 0.3ms | Allocations: 5865)


Started GET "/" for ::1 at 2020-07-10 23:29:32 +0700
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 60], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 15.8ms | Allocations: 3200)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 60], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:16
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 60]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:8
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 1.6ms | Allocations: 891)
  Rendered carts/_cart.html.erb (Duration: 4.3ms | Allocations: 2029)
Completed 200 OK in 41ms (Views: 34.7ms | ActiveRecord: 1.2ms | Allocations: 10619)


Started GET "/orders/new" for ::1 at 2020-07-10 23:29:33 +0700
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 60], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 60], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:116:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 6.9ms | Allocations: 1043)
  Rendered orders/new.html.erb within layouts/application (Duration: 8.2ms | Allocations: 1125)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 60], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:16
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 60]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:8
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 2.2ms | Allocations: 891)
  Rendered carts/_cart.html.erb (Duration: 7.0ms | Allocations: 2038)
Completed 200 OK in 42ms (Views: 30.1ms | ActiveRecord: 1.2ms | Allocations: 9251)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-10 23:29:33 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-10 23:29:33 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-10 23:29:33 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/orders/new" for ::1 at 2020-07-11 00:17:02 +0700
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 60], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 60], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:116:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 4.9ms | Allocations: 1043)
  Rendered orders/new.html.erb within layouts/application (Duration: 6.7ms | Allocations: 1125)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 60], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:16
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 60]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:8
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 2.3ms | Allocations: 910)
  Rendered carts/_cart.html.erb (Duration: 6.8ms | Allocations: 2076)
Completed 200 OK in 37ms (Views: 27.5ms | ActiveRecord: 1.2ms | Allocations: 9336)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-11 00:17:02 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-11 00:17:02 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-11 00:17:02 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/orders/new" for ::1 at 2020-07-11 00:17:37 +0700
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 60], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 60], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:116:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 116.8ms | Allocations: 1043)
  Rendered orders/new.html.erb within layouts/application (Duration: 118.0ms | Allocations: 1125)
[Webpacker] Compiling...
[Webpacker] Compiled all packs in /home/khanh/Desktop/depot/public/packs
[Webpacker] Hash: c227eb439b66a220cabe
Version: webpack 4.43.0
Time: 2260ms
Built at: 07/11/2020 12:17:42 AM
                                     Asset       Size       Chunks                         Chunk Names
    js/application-d687b46ae54878e1a078.js    146 KiB  application  [emitted] [immutable]  application
js/application-d687b46ae54878e1a078.js.map    164 KiB  application  [emitted] [dev]        application
    js/hello_react-7cb607df4b85a32cfe4e.js   1.05 MiB  hello_react  [emitted] [immutable]  hello_react
js/hello_react-7cb607df4b85a32cfe4e.js.map   1.21 MiB  hello_react  [emitted] [dev]        hello_react
                             manifest.json  703 bytes               [emitted]              
Entrypoint application = js/application-d687b46ae54878e1a078.js js/application-d687b46ae54878e1a078.js.map
Entrypoint hello_react = js/hello_react-7cb607df4b85a32cfe4e.js js/hello_react-7cb607df4b85a32cfe4e.js.map
[./app/javascript/channels sync recursive _channel\.js$] ./app/javascript/channels sync _channel\.js$ 186 bytes {application} [built]
[./app/javascript/channels/consumer.js] 265 bytes {application} [built]
[./app/javascript/channels/index.js] 211 bytes {application} [built]
[./app/javascript/channels/products_channel.js] 555 bytes {application} [optional] [built]
[./app/javascript/packs/application.js] 749 bytes {application} [built]
[./app/javascript/packs/hello_react.jsx] 1.06 KiB {hello_react} [built]
[./node_modules/webpack/buildin/module.js] (webpack)/buildin/module.js 552 bytes {application} [built]
    + 19 hidden modules

  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 60], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:16
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 60]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:8
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 4.6ms | Allocations: 891)
  Rendered carts/_cart.html.erb (Duration: 6.7ms | Allocations: 2038)
Completed 200 OK in 5154ms (Views: 5144.7ms | ActiveRecord: 0.8ms | Allocations: 10967)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-11 00:17:42 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-11 00:17:42 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-11 00:17:42 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for ::1 at 2020-07-11 00:28:28 +0700
ProductsChannel stopped streaming from products
Started GET "/" for ::1 at 2020-07-15 13:45:00 +0700
  [1m[35m (2.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by StoreController#index as HTML
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[36mCart Create (342.6ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2020-07-15 06:45:01.244245"], ["updated_at", "2020-07-15 06:45:01.244245"]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[35m (543.8ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (31.0ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
Started GET "/" for ::1 at 2020-07-15 13:45:03 +0700
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by StoreController#index as HTML
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[36mCart Create (0.4ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2020-07-15 06:45:03.520068"], ["updated_at", "2020-07-15 06:45:03.520068"]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[35m (241.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 2100.6ms | Allocations: 25954)
  Rendered store/index.html.erb within layouts/application (Duration: 572.2ms | Allocations: 12346)
[Webpacker] Compiling...
[Webpacker] Compiling...
[Webpacker] Compiled all packs in /home/khanh/Desktop/depot/public/packs
[Webpacker] Compiled all packs in /home/khanh/Desktop/depot/public/packs
[Webpacker] Hash: c227eb439b66a220cabe
Version: webpack 4.43.0
Time: 7050ms
Built at: 07/15/2020 1:45:23 PM
                                     Asset       Size       Chunks                         Chunk Names
    js/application-d687b46ae54878e1a078.js    146 KiB  application  [emitted] [immutable]  application
js/application-d687b46ae54878e1a078.js.map    164 KiB  application  [emitted] [dev]        application
    js/hello_react-7cb607df4b85a32cfe4e.js   1.05 MiB  hello_react  [emitted] [immutable]  hello_react
js/hello_react-7cb607df4b85a32cfe4e.js.map   1.21 MiB  hello_react  [emitted] [dev]        hello_react
                             manifest.json  703 bytes               [emitted]              
Entrypoint application = js/application-d687b46ae54878e1a078.js js/application-d687b46ae54878e1a078.js.map
Entrypoint hello_react = js/hello_react-7cb607df4b85a32cfe4e.js js/hello_react-7cb607df4b85a32cfe4e.js.map
[./app/javascript/channels sync recursive _channel\.js$] ./app/javascript/channels sync _channel\.js$ 186 bytes {application} [built]
[./app/javascript/channels/consumer.js] 265 bytes {application} [built]
[./app/javascript/channels/index.js] 211 bytes {application} [built]
[./app/javascript/channels/products_channel.js] 555 bytes {application} [optional] [built]
[./app/javascript/packs/application.js] 749 bytes {application} [built]
[./app/javascript/packs/hello_react.jsx] 1.06 KiB {hello_react} [built]
[./node_modules/webpack/buildin/module.js] (webpack)/buildin/module.js 552 bytes {application} [built]
    + 19 hidden modules

[Webpacker] Hash: c227eb439b66a220cabe
Version: webpack 4.43.0
Time: 7052ms
Built at: 07/15/2020 1:45:23 PM
                                     Asset       Size       Chunks                         Chunk Names
    js/application-d687b46ae54878e1a078.js    146 KiB  application  [emitted] [immutable]  application
js/application-d687b46ae54878e1a078.js.map    164 KiB  application  [emitted] [dev]        application
    js/hello_react-7cb607df4b85a32cfe4e.js   1.05 MiB  hello_react  [emitted] [immutable]  hello_react
js/hello_react-7cb607df4b85a32cfe4e.js.map   1.21 MiB  hello_react  [emitted] [dev]        hello_react
                             manifest.json  703 bytes               [emitted]              
Entrypoint application = js/application-d687b46ae54878e1a078.js js/application-d687b46ae54878e1a078.js.map
Entrypoint hello_react = js/hello_react-7cb607df4b85a32cfe4e.js js/hello_react-7cb607df4b85a32cfe4e.js.map
[./app/javascript/channels sync recursive _channel\.js$] ./app/javascript/channels sync _channel\.js$ 186 bytes {application} [built]
[./app/javascript/channels/consumer.js] 265 bytes {application} [built]
[./app/javascript/channels/index.js] 211 bytes {application} [built]
[./app/javascript/channels/products_channel.js] 555 bytes {application} [optional] [built]
[./app/javascript/packs/application.js] 749 bytes {application} [built]
[./app/javascript/packs/hello_react.jsx] 1.06 KiB {hello_react} [built]
[./node_modules/webpack/buildin/module.js] (webpack)/buildin/module.js 552 bytes {application} [built]
    + 19 hidden modules

  [1m[36mLineItem Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 62], ["LIMIT", 1]]
  [1m[36mLineItem Exists? (177.1ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 61], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:16
  ↳ app/views/layouts/application.html.erb:16
Completed 200 OK in 26207ms (Views: 25949.6ms | ActiveRecord: 242.9ms | Allocations: 33624)


Completed 200 OK in 28602ms (Views: 27299.5ms | ActiveRecord: 1100.6ms | Allocations: 54366)


Started GET "/cable" for ::1 at 2020-07-15 13:45:33 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-15 13:45:33 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/products" for ::1 at 2020-07-15 13:45:39 +0700
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/products/index.html.erb:12
  Rendered products/index.html.erb within layouts/application (Duration: 322.0ms | Allocations: 3443)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 346ms (Views: 342.0ms | ActiveRecord: 0.4ms | Allocations: 8059)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-15 13:45:41 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-15 13:45:41 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-15 13:45:41 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/" for ::1 at 2020-07-15 13:46:27 +0700
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 62], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 10.6ms | Allocations: 3200)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 62], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:16
Completed 200 OK in 26ms (Views: 22.5ms | ActiveRecord: 0.8ms | Allocations: 8669)


Started GET "/orders/new" for ::1 at 2020-07-15 13:46:32 +0700
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 62], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 62], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:116:in `ensure_cart_isnt_empty'
Redirected to http://localhost:3000/
Filter chain halted as :ensure_cart_isnt_empty rendered or redirected
Completed 302 Found in 10ms (ActiveRecord: 1.1ms | Allocations: 1680)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-15 13:46:33 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-15 13:46:33 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-15 13:46:33 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started POST "/line_items?product_id=4" for ::1 at 2020-07-15 13:46:38 +0700
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"U0dgEdWmB1mj3QKU4tp+Ak08GPjENUNe/TxBKhzYFA46vQ7Gn9EOsbz6i97chE/IyI1n/Yn4b1lin2EihPBFLA==", "product_id"=>"4"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 62], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 62], ["product_id", 4], ["LIMIT", 1]]
  ↳ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mLineItem Create (46.5ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 4], ["cart_id", 62], ["created_at", "2020-07-15 06:46:39.231304"], ["updated_at", "2020-07-15 06:46:39.231304"]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[35m (543.7ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.8ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 62]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 47.0ms | Allocations: 487)
  Rendered carts/_cart.html.erb (Duration: 85.3ms | Allocations: 2361)
  Rendered line_items/create.js.erb (Duration: 112.8ms | Allocations: 2790)
Completed 200 OK in 1139ms (Views: 117.6ms | ActiveRecord: 593.8ms | Allocations: 16378)


Started GET "/orders/new" for ::1 at 2020-07-15 13:46:41 +0700
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 62], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 62], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:116:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 110.8ms | Allocations: 2187)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered orders/new.html.erb within layouts/application (Duration: 176.1ms | Allocations: 5267)
Completed 500 Internal Server Error in 228ms (ActiveRecord: 2.5ms | Allocations: 12380)


  
ActionView::Template::Error (Webpacker can't find pay_type in /home/khanh/Desktop/depot/public/packs/manifest.json. Possible causes:
1. You want to set webpacker.yml value of compile to true for your environment
   unless you are using the `webpack -w` or the webpack-dev-server.
2. webpack has not yet re-run to reflect updates.
3. You have misconfigured Webpacker's config/webpacker.yml file.
4. Your webpack configuration is not creating a manifest.
Your manifest contains:
{
  "application.js": "/packs/js/application-d687b46ae54878e1a078.js",
  "application.js.map": "/packs/js/application-d687b46ae54878e1a078.js.map",
  "entrypoints": {
    "application": {
      "js": [
        "/packs/js/application-d687b46ae54878e1a078.js"
      ],
      "js.map": [
        "/packs/js/application-d687b46ae54878e1a078.js.map"
      ]
    },
    "hello_react": {
      "js": [
        "/packs/js/hello_react-7cb607df4b85a32cfe4e.js"
      ],
      "js.map": [
        "/packs/js/hello_react-7cb607df4b85a32cfe4e.js.map"
      ]
    }
  },
  "hello_react.js": "/packs/js/hello_react-7cb607df4b85a32cfe4e.js",
  "hello_react.js.map": "/packs/js/hello_react-7cb607df4b85a32cfe4e.js.map"
}
):
    3: <%= render 'form', order: @order %>
    4: </section>
    5: 
    6: <%=javascript_pack_tag ('pay_type') %>
    7: <%= link_to 'Back', orders_path %>
  
app/views/orders/new.html.erb:6
Finished "/cable/" [WebSocket] for ::1 at 2020-07-15 13:46:43 +0700
ProductsChannel stopped streaming from products
Started GET "/orders/new" for ::1 at 2020-07-15 13:47:04 +0700
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 62], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 62], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:116:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 6.4ms | Allocations: 1452)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered orders/new.html.erb within layouts/application (Duration: 13.4ms | Allocations: 4234)
Completed 500 Internal Server Error in 31ms (ActiveRecord: 1.5ms | Allocations: 6754)


  
ActionView::Template::Error (Webpacker can't find pay_type in /home/khanh/Desktop/depot/public/packs/manifest.json. Possible causes:
1. You want to set webpacker.yml value of compile to true for your environment
   unless you are using the `webpack -w` or the webpack-dev-server.
2. webpack has not yet re-run to reflect updates.
3. You have misconfigured Webpacker's config/webpacker.yml file.
4. Your webpack configuration is not creating a manifest.
Your manifest contains:
{
  "application.js": "/packs/js/application-d687b46ae54878e1a078.js",
  "application.js.map": "/packs/js/application-d687b46ae54878e1a078.js.map",
  "entrypoints": {
    "application": {
      "js": [
        "/packs/js/application-d687b46ae54878e1a078.js"
      ],
      "js.map": [
        "/packs/js/application-d687b46ae54878e1a078.js.map"
      ]
    },
    "hello_react": {
      "js": [
        "/packs/js/hello_react-7cb607df4b85a32cfe4e.js"
      ],
      "js.map": [
        "/packs/js/hello_react-7cb607df4b85a32cfe4e.js.map"
      ]
    }
  },
  "hello_react.js": "/packs/js/hello_react-7cb607df4b85a32cfe4e.js",
  "hello_react.js.map": "/packs/js/hello_react-7cb607df4b85a32cfe4e.js.map"
}
):
    3: <%= render 'form', order: @order %>
    4: </section>
    5: 
    6: <%=javascript_pack_tag ("pay_type") %>
    7: <%= link_to 'Back', orders_path %>
  
app/views/orders/new.html.erb:6
Started GET "/orders/new" for ::1 at 2020-07-15 13:47:11 +0700
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 62], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 62], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:116:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 6.2ms | Allocations: 1431)
  Rendered orders/new.html.erb within layouts/application (Duration: 8.6ms | Allocations: 1753)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 62], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:16
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 62]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:8
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 5.4ms | Allocations: 1056)
  Rendered carts/_cart.html.erb (Duration: 10.4ms | Allocations: 2553)
Completed 200 OK in 75ms (Views: 62.9ms | ActiveRecord: 1.1ms | Allocations: 11597)


Started GET "/cable" for ::1 at 2020-07-15 13:47:11 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-15 13:47:11 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/orders/new" for ::1 at 2020-07-15 13:48:21 +0700
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 62], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 62], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:116:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 10.1ms | Allocations: 1431)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered orders/new.html.erb within layouts/application (Duration: 17.0ms | Allocations: 4211)
Completed 500 Internal Server Error in 33ms (ActiveRecord: 0.9ms | Allocations: 6683)


  
ActionView::Template::Error (Webpacker can't find hello in /home/khanh/Desktop/depot/public/packs/manifest.json. Possible causes:
1. You want to set webpacker.yml value of compile to true for your environment
   unless you are using the `webpack -w` or the webpack-dev-server.
2. webpack has not yet re-run to reflect updates.
3. You have misconfigured Webpacker's config/webpacker.yml file.
4. Your webpack configuration is not creating a manifest.
Your manifest contains:
{
  "application.js": "/packs/js/application-d687b46ae54878e1a078.js",
  "application.js.map": "/packs/js/application-d687b46ae54878e1a078.js.map",
  "entrypoints": {
    "application": {
      "js": [
        "/packs/js/application-d687b46ae54878e1a078.js"
      ],
      "js.map": [
        "/packs/js/application-d687b46ae54878e1a078.js.map"
      ]
    },
    "hello_react": {
      "js": [
        "/packs/js/hello_react-7cb607df4b85a32cfe4e.js"
      ],
      "js.map": [
        "/packs/js/hello_react-7cb607df4b85a32cfe4e.js.map"
      ]
    }
  },
  "hello_react.js": "/packs/js/hello_react-7cb607df4b85a32cfe4e.js",
  "hello_react.js.map": "/packs/js/hello_react-7cb607df4b85a32cfe4e.js.map"
}
):
    3: <%= render 'form', order: @order %>
    4: </section>
    5: 
    6: <%= javascript_pack_tag ("hello")%>
    7: <%= link_to 'Back', orders_path %>
  
app/views/orders/new.html.erb:6
Finished "/cable/" [WebSocket] for ::1 at 2020-07-15 13:48:21 +0700
ProductsChannel stopped streaming from products
Started GET "/orders/new" for ::1 at 2020-07-15 14:47:16 +0700
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.7ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 62], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 62], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:116:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 3.3ms | Allocations: 1431)
  Rendered orders/new.html.erb within layouts/application (Duration: 5.8ms | Allocations: 1758)
[Webpacker] Compiling...
[Webpacker] Compiled all packs in /home/khanh/Desktop/depot/public/packs
[Webpacker] Hash: c227eb439b66a220cabe
Version: webpack 4.43.0
Time: 2804ms
Built at: 07/15/2020 2:47:26 PM
                                     Asset       Size       Chunks                         Chunk Names
    js/application-d687b46ae54878e1a078.js    146 KiB  application  [emitted] [immutable]  application
js/application-d687b46ae54878e1a078.js.map    164 KiB  application  [emitted] [dev]        application
    js/hello_react-7cb607df4b85a32cfe4e.js   1.05 MiB  hello_react  [emitted] [immutable]  hello_react
js/hello_react-7cb607df4b85a32cfe4e.js.map   1.21 MiB  hello_react  [emitted] [dev]        hello_react
                             manifest.json  703 bytes               [emitted]              
Entrypoint application = js/application-d687b46ae54878e1a078.js js/application-d687b46ae54878e1a078.js.map
Entrypoint hello_react = js/hello_react-7cb607df4b85a32cfe4e.js js/hello_react-7cb607df4b85a32cfe4e.js.map
[./app/javascript/channels sync recursive _channel\.js$] ./app/javascript/channels sync _channel\.js$ 186 bytes {application} [built]
[./app/javascript/channels/consumer.js] 265 bytes {application} [built]
[./app/javascript/channels/index.js] 211 bytes {application} [built]
[./app/javascript/channels/products_channel.js] 555 bytes {application} [optional] [built]
[./app/javascript/packs/application.js] 749 bytes {application} [built]
[./app/javascript/packs/hello_react.jsx] 1.06 KiB {hello_react} [built]
[./node_modules/webpack/buildin/module.js] (webpack)/buildin/module.js 552 bytes {application} [built]
    + 19 hidden modules

  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 62], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:16
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 62]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (13.0ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:8
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 16.1ms | Allocations: 1073)
  Rendered carts/_cart.html.erb (Duration: 21.3ms | Allocations: 2588)
Completed 200 OK in 10011ms (Views: 9985.5ms | ActiveRecord: 14.5ms | Allocations: 13471)


Started GET "/cable" for ::1 at 2020-07-15 14:47:26 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-15 14:47:26 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/orders/new" for ::1 at 2020-07-15 14:49:13 +0700
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 62], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 62], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:116:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 4.7ms | Allocations: 1046)
  Rendered orders/new.html.erb within layouts/application (Duration: 5.3ms | Allocations: 1128)
[Webpacker] Compiling...
[Webpacker] Compiled all packs in /home/khanh/Desktop/depot/public/packs
[Webpacker] Hash: c227eb439b66a220cabe
Version: webpack 4.43.0
Time: 1666ms
Built at: 07/15/2020 2:49:19 PM
                                     Asset       Size       Chunks                         Chunk Names
    js/application-d687b46ae54878e1a078.js    146 KiB  application  [emitted] [immutable]  application
js/application-d687b46ae54878e1a078.js.map    164 KiB  application  [emitted] [dev]        application
    js/hello_react-7cb607df4b85a32cfe4e.js   1.05 MiB  hello_react  [emitted] [immutable]  hello_react
js/hello_react-7cb607df4b85a32cfe4e.js.map   1.21 MiB  hello_react  [emitted] [dev]        hello_react
                             manifest.json  703 bytes               [emitted]              
Entrypoint application = js/application-d687b46ae54878e1a078.js js/application-d687b46ae54878e1a078.js.map
Entrypoint hello_react = js/hello_react-7cb607df4b85a32cfe4e.js js/hello_react-7cb607df4b85a32cfe4e.js.map
[./app/javascript/channels sync recursive _channel\.js$] ./app/javascript/channels sync _channel\.js$ 186 bytes {application} [built]
[./app/javascript/channels/consumer.js] 265 bytes {application} [built]
[./app/javascript/channels/index.js] 211 bytes {application} [built]
[./app/javascript/channels/products_channel.js] 555 bytes {application} [optional] [built]
[./app/javascript/packs/application.js] 749 bytes {application} [built]
[./app/javascript/packs/hello_react.jsx] 1.06 KiB {hello_react} [built]
[./node_modules/webpack/buildin/module.js] (webpack)/buildin/module.js 552 bytes {application} [built]
    + 19 hidden modules

  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 62], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:16
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 62]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:8
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 3.4ms | Allocations: 891)
  Rendered carts/_cart.html.erb (Duration: 6.1ms | Allocations: 2039)
Completed 200 OK in 5281ms (Views: 5268.7ms | ActiveRecord: 1.6ms | Allocations: 10914)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-15 14:49:19 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-15 14:49:19 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-15 14:49:19 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/products" for ::1 at 2020-07-15 15:22:48 +0700
  [1m[35m (73.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (10.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/products/index.html.erb:12
Started GET "/" for ::1 at 2020-07-15 15:22:49 +0700
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by StoreController#index as HTML
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[36mCart Create (64.1ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2020-07-15 08:22:49.914183"], ["updated_at", "2020-07-15 08:22:49.914183"]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[35m (109.8ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered products/index.html.erb within layouts/application (Duration: 1097.3ms | Allocations: 26214)
  Rendered store/index.html.erb within layouts/application (Duration: 151.4ms | Allocations: 6639)
[Webpacker] Compiling...
[Webpacker] Compiling...
[Webpacker] Compiled all packs in /home/khanh/Desktop/depot/public/packs
[Webpacker] Hash: c227eb439b66a220cabe
Version: webpack 4.43.0
Time: 3996ms
Built at: 07/15/2020 3:23:02 PM
                                     Asset       Size       Chunks                         Chunk Names
    js/application-d687b46ae54878e1a078.js    146 KiB  application  [emitted] [immutable]  application
js/application-d687b46ae54878e1a078.js.map    164 KiB  application  [emitted] [dev]        application
    js/hello_react-7cb607df4b85a32cfe4e.js   1.05 MiB  hello_react  [emitted] [immutable]  hello_react
js/hello_react-7cb607df4b85a32cfe4e.js.map   1.21 MiB  hello_react  [emitted] [dev]        hello_react
                             manifest.json  703 bytes               [emitted]              
Entrypoint application = js/application-d687b46ae54878e1a078.js js/application-d687b46ae54878e1a078.js.map
Entrypoint hello_react = js/hello_react-7cb607df4b85a32cfe4e.js js/hello_react-7cb607df4b85a32cfe4e.js.map
[./app/javascript/channels sync recursive _channel\.js$] ./app/javascript/channels sync _channel\.js$ 186 bytes {application} [built]
[./app/javascript/channels/consumer.js] 265 bytes {application} [built]
[./app/javascript/channels/index.js] 211 bytes {application} [built]
[./app/javascript/channels/products_channel.js] 555 bytes {application} [optional] [built]
[./app/javascript/packs/application.js] 749 bytes {application} [built]
[./app/javascript/packs/hello_react.jsx] 1.06 KiB {hello_react} [built]
[./node_modules/webpack/buildin/module.js] (webpack)/buildin/module.js 552 bytes {application} [built]
    + 19 hidden modules

[Webpacker] Compiled all packs in /home/khanh/Desktop/depot/public/packs
[Webpacker] Hash: c227eb439b66a220cabe
Version: webpack 4.43.0
Time: 3989ms
Built at: 07/15/2020 3:23:02 PM
                                     Asset       Size       Chunks                         Chunk Names
    js/application-d687b46ae54878e1a078.js    146 KiB  application  [emitted] [immutable]  application
js/application-d687b46ae54878e1a078.js.map    164 KiB  application  [emitted] [dev]        application
    js/hello_react-7cb607df4b85a32cfe4e.js   1.05 MiB  hello_react  [emitted] [immutable]  hello_react
js/hello_react-7cb607df4b85a32cfe4e.js.map   1.21 MiB  hello_react  [emitted] [dev]        hello_react
                             manifest.json  703 bytes               [emitted]              
Entrypoint application = js/application-d687b46ae54878e1a078.js js/application-d687b46ae54878e1a078.js.map
Entrypoint hello_react = js/hello_react-7cb607df4b85a32cfe4e.js js/hello_react-7cb607df4b85a32cfe4e.js.map
[./app/javascript/channels sync recursive _channel\.js$] ./app/javascript/channels sync _channel\.js$ 186 bytes {application} [built]
[./app/javascript/channels/consumer.js] 265 bytes {application} [built]
[./app/javascript/channels/index.js] 211 bytes {application} [built]
[./app/javascript/channels/products_channel.js] 555 bytes {application} [optional] [built]
[./app/javascript/packs/application.js] 749 bytes {application} [built]
[./app/javascript/packs/hello_react.jsx] 1.06 KiB {hello_react} [built]
[./node_modules/webpack/buildin/module.js] (webpack)/buildin/module.js 552 bytes {application} [built]
    + 19 hidden modules

  [1m[36mLineItem Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 63], ["LIMIT", 1]]
Completed 200 OK in 13214ms (Views: 13098.5ms | ActiveRecord: 12.3ms | Allocations: 45043)


  ↳ app/views/layouts/application.html.erb:16
Completed 200 OK in 12535ms (Views: 12131.1ms | ActiveRecord: 177.5ms | Allocations: 30453)


Started GET "/cable" for ::1 at 2020-07-15 15:23:03 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-15 15:23:03 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started POST "/line_items?product_id=4" for ::1 at 2020-07-15 15:23:20 +0700
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"Tza1bGklZJNX4KB0FvVUF3nkP6yFRXPw6vbYzoEaqJPoDhjEgaSf3S5JDmeaNXRw+ZljJYy+MPMQuPUtorTRNw==", "product_id"=>"4"}
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 63], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 63], ["product_id", 4], ["LIMIT", 1]]
  ↳ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mLineItem Create (24.8ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 4], ["cart_id", 63], ["created_at", "2020-07-15 08:23:20.284599"], ["updated_at", "2020-07-15 08:23:20.284599"]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[35m (123.7ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 63]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 14.1ms | Allocations: 304)
  Rendered carts/_cart.html.erb (Duration: 41.2ms | Allocations: 2173)
  Rendered line_items/create.js.erb (Duration: 65.6ms | Allocations: 2596)
Completed 200 OK in 284ms (Views: 70.8ms | ActiveRecord: 151.3ms | Allocations: 15956)


Started GET "/orders/new" for ::1 at 2020-07-15 15:23:21 +0700
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 63], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 63], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:116:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 55.9ms | Allocations: 2188)
  Rendered orders/new.html.erb within layouts/application (Duration: 75.0ms | Allocations: 2518)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mCACHE LineItem Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 63], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:16
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 63]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:8
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 2.3ms | Allocations: 891)
  Rendered carts/_cart.html.erb (Duration: 9.9ms | Allocations: 2154)
Completed 200 OK in 170ms (Views: 110.6ms | ActiveRecord: 2.2ms | Allocations: 16426)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-15 15:23:21 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-15 15:23:21 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-15 15:23:21 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started POST "/orders" for ::1 at 2020-07-15 15:23:25 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"FXID4JAqgKC9g999n2rxCew6lXUcJ7K25owz30Y84nWySq5IeKt77sQqcW4TqtFubEfJ/BXc8bUcwh48ZZKb0Q==", "order"=>{"name"=>"", "address"=>"", "email"=>"", "pay_type"=>"Purchase order"}, "commit"=>"Place Order"}
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 63], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 63]]
  ↳ app/models/order.rb:13:in `add_line_items_from_cart'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/orders_controller.rb:42:in `block in create'
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:42:in `block in create'
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  ↳ app/controllers/orders_controller.rb:42:in `block in create'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 3.1ms | Allocations: 1455)
  Rendered orders/new.html.erb within layouts/application (Duration: 3.6ms | Allocations: 1537)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 0.4ms | Allocations: 135)
  Rendered carts/_cart.html.erb (Duration: 1.3ms | Allocations: 569)
Completed 200 OK in 40ms (Views: 12.4ms | ActiveRecord: 1.5ms | Allocations: 13053)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-15 15:23:25 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-15 15:23:25 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-15 15:23:25 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/orders" for ::1 at 2020-07-15 15:23:28 +0700
Processing by OrdersController#index as HTML
  Rendering orders/index.html.erb within layouts/application
  [1m[36mOrder Load (1.1ms)[0m  [1m[34mSELECT "orders".* FROM "orders"[0m
  ↳ app/views/orders/index.html.erb:17
  Rendered orders/index.html.erb within layouts/application (Duration: 33.5ms | Allocations: 1090)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 47ms (Views: 43.5ms | ActiveRecord: 1.1ms | Allocations: 5381)


Started GET "/products" for ::1 at 2020-07-15 15:49:31 +0700
  [1m[35m (1.5ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (8.8ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/products/index.html.erb:12
  Rendered products/index.html.erb within layouts/application (Duration: 412.1ms | Allocations: 11203)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 775ms (Views: 668.6ms | ActiveRecord: 10.5ms | Allocations: 19483)


Started GET "/cable" for ::1 at 2020-07-15 15:49:33 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-15 15:49:34 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/" for ::1 at 2020-07-15 15:49:55 +0700
Processing by StoreController#index as HTML
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[36mCart Create (47.3ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2020-07-15 08:49:55.672116"], ["updated_at", "2020-07-15 08:49:55.672116"]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[35m (66.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 145.7ms | Allocations: 5390)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 64], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:16
Completed 200 OK in 435ms (Views: 200.2ms | ActiveRecord: 117.3ms | Allocations: 20410)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-15 15:49:56 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-15 15:49:56 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-15 15:49:56 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/cable" for ::1 at 2020-07-15 17:06:40 +0700
Started GET "/" for ::1 at 2020-07-15 17:06:40 +0700
  [1m[35m (2.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by StoreController#index as HTML
  [1m[36mCart Load (16.9ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 64], ["LIMIT", 1]]
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-15 17:06:40 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (8.9ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 624.2ms | Allocations: 12947)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (10.4ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 64], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:16
Completed 200 OK in 1316ms (Views: 928.8ms | ActiveRecord: 40.3ms | Allocations: 34814)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-15 17:06:42 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-15 17:06:42 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-15 17:06:42 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started POST "/line_items?product_id=4" for ::1 at 2020-07-15 17:06:45 +0700
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"/bIuzCyRdCUGLDslJ2QzVfBa1qvWQkeC8sTkdXEg43SlmrO2lQKdqDmQVJ2hwWfB5j4xqqgOSg+8KABJ1C5oDA==", "product_id"=>"4"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 64], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 64], ["product_id", 4], ["LIMIT", 1]]
  ↳ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mLineItem Create (19.6ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 4], ["cart_id", 64], ["created_at", "2020-07-15 10:06:45.688835"], ["updated_at", "2020-07-15 10:06:45.688835"]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[35m (98.6ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 64]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 2.3ms | Allocations: 302)
  Rendered carts/_cart.html.erb (Duration: 28.5ms | Allocations: 2179)
  Rendered line_items/create.js.erb (Duration: 54.5ms | Allocations: 2604)
Completed 200 OK in 224ms (Views: 59.6ms | ActiveRecord: 121.4ms | Allocations: 16133)


Started GET "/orders/new" for ::1 at 2020-07-15 17:06:47 +0700
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 64], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 64], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:117:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 44.5ms | Allocations: 2186)
  Rendered orders/new.html.erb within layouts/application (Duration: 51.1ms | Allocations: 2514)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 64], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:16
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 64]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 2.5ms | Allocations: 891)
  Rendered carts/_cart.html.erb (Duration: 5.7ms | Allocations: 2155)
Completed 200 OK in 102ms (Views: 72.6ms | ActiveRecord: 2.4ms | Allocations: 16365)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-15 17:06:47 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-15 17:06:47 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-15 17:06:47 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started POST "/orders" for ::1 at 2020-07-15 17:07:05 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"QfxIyVia2fSnQnW8ioh/Hktgec/VIekmGz7rM6uJ8oIZ1NWz4QkweZj+GgQMLSuKXQSezqtt5KtV0g8PDod5+g==", "order"=>{"name"=>"HUỳnh Quốc Khánh", "address"=>"THủ Đức", "email"=>"01673khanh@gmail.com", "pay_type"=>"Credit cart"}, "commit"=>"Place Order"}
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 64], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 64]]
  ↳ app/models/order.rb:13:in `add_line_items_from_cart'
  [1m[35m (0.6ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/orders_controller.rb:42:in `block in create'
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:42:in `block in create'
  [1m[36mOrder Create (5.9ms)[0m  [1m[32mINSERT INTO "orders" ("name", "address", "email", "pay_type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "HUỳnh Quốc Khánh"], ["address", "THủ Đức"], ["email", "01673khanh@gmail.com"], ["pay_type", 1], ["created_at", "2020-07-15 10:07:05.058777"], ["updated_at", "2020-07-15 10:07:05.058777"]]
  ↳ app/controllers/orders_controller.rb:42:in `block in create'
  [1m[36mLineItem Update (0.3ms)[0m  [1m[33mUPDATE "line_items" SET "cart_id" = ?, "order_id" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["cart_id", nil], ["order_id", 6], ["updated_at", "2020-07-15 10:07:05.070980"], ["id", 85]]
  ↳ app/controllers/orders_controller.rb:42:in `block in create'
  [1m[35m (93.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/orders_controller.rb:42:in `block in create'
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 64], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:43:in `block in create'
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/orders_controller.rb:43:in `block in create'
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 64]]
  ↳ app/controllers/orders_controller.rb:43:in `block in create'
  [1m[36mCart Destroy (1.2ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 64]]
  ↳ app/controllers/orders_controller.rb:43:in `block in create'
  [1m[35m (65.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/orders_controller.rb:43:in `block in create'
Completed 500 Internal Server Error in 259ms (ActiveRecord: 168.8ms | Allocations: 16081)


  
SyntaxError (/home/khanh/Desktop/depot/app/mailers/order_mailer.rb:3: syntax error, unexpected ':', expecting `end'
  default from : 'Sam ruby <depot@example.com...
               ^
):
  
app/mailers/order_mailer.rb:3: syntax error, unexpected ':', expecting `end'
app/mailers/order_mailer.rb:3: syntax error, unexpected ':', expecting `end'
app/mailers/order_mailer.rb:3: syntax error, unexpected ':', expecting `end'
app/controllers/orders_controller.rb:45:in `block in create'
app/controllers/orders_controller.rb:41:in `create'
Finished "/cable/" [WebSocket] for ::1 at 2020-07-15 17:07:05 +0700
ProductsChannel stopped streaming from products
Started POST "/orders" for ::1 at 2020-07-15 17:08:29 +0700
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"QfxIyVia2fSnQnW8ioh/Hktgec/VIekmGz7rM6uJ8oIZ1NWz4QkweZj+GgQMLSuKXQSezqtt5KtV0g8PDod5+g==", "order"=>{"name"=>"HUỳnh Quốc Khánh", "address"=>"THủ Đức", "email"=>"01673khanh@gmail.com", "pay_type"=>"Credit cart"}, "commit"=>"Place Order"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 64], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[36mCart Create (0.3ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2020-07-15 10:08:29.364415"], ["updated_at", "2020-07-15 10:08:29.364415"]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[35m (214.7ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 65]]
  ↳ app/models/order.rb:13:in `add_line_items_from_cart'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/orders_controller.rb:42:in `block in create'
  [1m[36mOrder Create (0.2ms)[0m  [1m[32mINSERT INTO "orders" ("name", "address", "email", "pay_type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "HUỳnh Quốc Khánh"], ["address", "THủ Đức"], ["email", "01673khanh@gmail.com"], ["pay_type", 1], ["created_at", "2020-07-15 10:08:29.627751"], ["updated_at", "2020-07-15 10:08:29.627751"]]
  ↳ app/controllers/orders_controller.rb:42:in `block in create'
  [1m[35m (83.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/orders_controller.rb:42:in `block in create'
  [1m[36mCart Load (0.7ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 65], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:43:in `block in create'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/orders_controller.rb:43:in `block in create'
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 65]]
  ↳ app/controllers/orders_controller.rb:43:in `block in create'
  [1m[36mCart Destroy (1.0ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 65]]
  ↳ app/controllers/orders_controller.rb:43:in `block in create'
  [1m[35m (415.7ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/orders_controller.rb:43:in `block in create'
Completed 500 Internal Server Error in 807ms (ActiveRecord: 720.2ms | Allocations: 23693)


  
SyntaxError (/home/khanh/Desktop/depot/app/mailers/order_mailer.rb:3: syntax error, unexpected ':', expecting `end'
  default from : 'Sam ruby <01673khanh@gmail....
               ^
):
  
app/mailers/order_mailer.rb:3: syntax error, unexpected ':', expecting `end'
app/mailers/order_mailer.rb:3: syntax error, unexpected ':', expecting `end'
app/mailers/order_mailer.rb:3: syntax error, unexpected ':', expecting `end'
app/controllers/orders_controller.rb:45:in `block in create'
app/controllers/orders_controller.rb:41:in `create'
Started POST "/orders" for ::1 at 2020-07-15 17:09:48 +0700
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"QfxIyVia2fSnQnW8ioh/Hktgec/VIekmGz7rM6uJ8oIZ1NWz4QkweZj+GgQMLSuKXQSezqtt5KtV0g8PDod5+g==", "order"=>{"name"=>"HUỳnh Quốc Khánh", "address"=>"THủ Đức", "email"=>"01673khanh@gmail.com", "pay_type"=>"Credit cart"}, "commit"=>"Place Order"}
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 64], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[36mCart Create (1.3ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2020-07-15 10:09:48.179114"], ["updated_at", "2020-07-15 10:09:48.179114"]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[35m (101.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 66]]
  ↳ app/models/order.rb:13:in `add_line_items_from_cart'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/orders_controller.rb:42:in `block in create'
  [1m[36mOrder Create (0.7ms)[0m  [1m[32mINSERT INTO "orders" ("name", "address", "email", "pay_type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "HUỳnh Quốc Khánh"], ["address", "THủ Đức"], ["email", "01673khanh@gmail.com"], ["pay_type", 1], ["created_at", "2020-07-15 10:09:48.325413"], ["updated_at", "2020-07-15 10:09:48.325413"]]
  ↳ app/controllers/orders_controller.rb:42:in `block in create'
  [1m[35m (67.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/orders_controller.rb:42:in `block in create'
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 66], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:43:in `block in create'
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/orders_controller.rb:43:in `block in create'
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 66]]
  ↳ app/controllers/orders_controller.rb:43:in `block in create'
  [1m[36mCart Destroy (1.0ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 66]]
  ↳ app/controllers/orders_controller.rb:43:in `block in create'
  [1m[35m (64.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/orders_controller.rb:43:in `block in create'
Completed 500 Internal Server Error in 338ms (ActiveRecord: 240.8ms | Allocations: 23393)


  
SyntaxError (/home/khanh/Desktop/depot/app/mailers/order_mailer.rb:3: syntax error, unexpected ':', expecting `end'
  default from : 'Sam ruby <depot@example.com...
               ^
):
  
app/mailers/order_mailer.rb:3: syntax error, unexpected ':', expecting `end'
app/mailers/order_mailer.rb:3: syntax error, unexpected ':', expecting `end'
app/mailers/order_mailer.rb:3: syntax error, unexpected ':', expecting `end'
app/controllers/orders_controller.rb:45:in `block in create'
app/controllers/orders_controller.rb:41:in `create'
Started POST "/orders" for ::1 at 2020-07-15 17:14:17 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"QfxIyVia2fSnQnW8ioh/Hktgec/VIekmGz7rM6uJ8oIZ1NWz4QkweZj+GgQMLSuKXQSezqtt5KtV0g8PDod5+g==", "order"=>{"name"=>"HUỳnh Quốc Khánh", "address"=>"THủ Đức", "email"=>"01673khanh@gmail.com", "pay_type"=>"Credit cart"}, "commit"=>"Place Order"}
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 64], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[36mCart Create (0.4ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2020-07-15 10:14:17.733834"], ["updated_at", "2020-07-15 10:14:17.733834"]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[35m (261.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 67]]
  ↳ app/models/order.rb:13:in `add_line_items_from_cart'
  [1m[35m (0.4ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/orders_controller.rb:42:in `block in create'
  [1m[36mOrder Create (0.9ms)[0m  [1m[32mINSERT INTO "orders" ("name", "address", "email", "pay_type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "HUỳnh Quốc Khánh"], ["address", "THủ Đức"], ["email", "01673khanh@gmail.com"], ["pay_type", 1], ["created_at", "2020-07-15 10:14:18.011854"], ["updated_at", "2020-07-15 10:14:18.011854"]]
  ↳ app/controllers/orders_controller.rb:42:in `block in create'
  [1m[35m (65.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/orders_controller.rb:42:in `block in create'
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 67], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:43:in `block in create'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/orders_controller.rb:43:in `block in create'
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 67]]
  ↳ app/controllers/orders_controller.rb:43:in `block in create'
  [1m[36mCart Destroy (0.6ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 67]]
  ↳ app/controllers/orders_controller.rb:43:in `block in create'
  [1m[35m (101.7ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/orders_controller.rb:43:in `block in create'
Completed 500 Internal Server Error in 516ms (ActiveRecord: 432.2ms | Allocations: 15641)


  
SyntaxError (/home/khanh/Desktop/depot/app/mailers/order_mailer.rb:3: syntax error, unexpected ':', expecting `end'
  default from : 'Sam ruby <depot@example.com...
               ^
):
  
app/mailers/order_mailer.rb:3: syntax error, unexpected ':', expecting `end'
app/mailers/order_mailer.rb:3: syntax error, unexpected ':', expecting `end'
app/mailers/order_mailer.rb:3: syntax error, unexpected ':', expecting `end'
app/controllers/orders_controller.rb:45:in `block in create'
app/controllers/orders_controller.rb:41:in `create'
Started POST "/orders" for ::1 at 2020-07-15 17:15:04 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"QfxIyVia2fSnQnW8ioh/Hktgec/VIekmGz7rM6uJ8oIZ1NWz4QkweZj+GgQMLSuKXQSezqtt5KtV0g8PDod5+g==", "order"=>{"name"=>"HUỳnh Quốc Khánh", "address"=>"THủ Đức", "email"=>"01673khanh@gmail.com", "pay_type"=>"Credit cart"}, "commit"=>"Place Order"}
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 64], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[36mCart Create (2.1ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2020-07-15 10:15:04.951759"], ["updated_at", "2020-07-15 10:15:04.951759"]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[35m (65.7ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 68]]
  ↳ app/models/order.rb:13:in `add_line_items_from_cart'
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/orders_controller.rb:42:in `block in create'
  [1m[36mOrder Create (1.6ms)[0m  [1m[32mINSERT INTO "orders" ("name", "address", "email", "pay_type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "HUỳnh Quốc Khánh"], ["address", "THủ Đức"], ["email", "01673khanh@gmail.com"], ["pay_type", 1], ["created_at", "2020-07-15 10:15:05.042766"], ["updated_at", "2020-07-15 10:15:05.042766"]]
  ↳ app/controllers/orders_controller.rb:42:in `block in create'
  [1m[35m (71.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/orders_controller.rb:42:in `block in create'
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 68], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:43:in `block in create'
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/orders_controller.rb:43:in `block in create'
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 68]]
  ↳ app/controllers/orders_controller.rb:43:in `block in create'
  [1m[36mCart Destroy (1.3ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 68]]
  ↳ app/controllers/orders_controller.rb:43:in `block in create'
  [1m[35m (69.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/orders_controller.rb:43:in `block in create'
Completed 500 Internal Server Error in 311ms (ActiveRecord: 213.1ms | Allocations: 15657)


  
SyntaxError (/home/khanh/Desktop/depot/app/mailers/order_mailer.rb:3: syntax error, unexpected ':', expecting `end'
  default from : 'Sam ruby <depot@example.com...
               ^
):
  
app/mailers/order_mailer.rb:3: syntax error, unexpected ':', expecting `end'
app/mailers/order_mailer.rb:3: syntax error, unexpected ':', expecting `end'
app/mailers/order_mailer.rb:3: syntax error, unexpected ':', expecting `end'
app/controllers/orders_controller.rb:45:in `block in create'
app/controllers/orders_controller.rb:41:in `create'
Started POST "/orders" for ::1 at 2020-07-15 17:17:15 +0700
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"QfxIyVia2fSnQnW8ioh/Hktgec/VIekmGz7rM6uJ8oIZ1NWz4QkweZj+GgQMLSuKXQSezqtt5KtV0g8PDod5+g==", "order"=>{"name"=>"HUỳnh Quốc Khánh", "address"=>"THủ Đức", "email"=>"01673khanh@gmail.com", "pay_type"=>"Credit cart"}, "commit"=>"Place Order"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 64], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[36mCart Create (1.3ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2020-07-15 10:17:15.780871"], ["updated_at", "2020-07-15 10:17:15.780871"]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[35m (65.8ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 69]]
  ↳ app/models/order.rb:13:in `add_line_items_from_cart'
  [1m[35m (0.5ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/orders_controller.rb:42:in `block in create'
  [1m[36mOrder Create (1.2ms)[0m  [1m[32mINSERT INTO "orders" ("name", "address", "email", "pay_type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "HUỳnh Quốc Khánh"], ["address", "THủ Đức"], ["email", "01673khanh@gmail.com"], ["pay_type", 1], ["created_at", "2020-07-15 10:17:15.896540"], ["updated_at", "2020-07-15 10:17:15.896540"]]
  ↳ app/controllers/orders_controller.rb:42:in `block in create'
  [1m[35m (73.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/orders_controller.rb:42:in `block in create'
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 69], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:43:in `block in create'
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/orders_controller.rb:43:in `block in create'
  [1m[36mLineItem Load (0.8ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 69]]
  ↳ app/controllers/orders_controller.rb:43:in `block in create'
  [1m[36mCart Destroy (0.6ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 69]]
  ↳ app/controllers/orders_controller.rb:43:in `block in create'
  [1m[35m (107.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/orders_controller.rb:43:in `block in create'
[ActiveJob] Enqueued ActionMailer::MailDeliveryJob (Job ID: 9b077a9e-0f77-41a8-91de-3bd2553ab67f) to Async(mailers) with arguments: "OrderMailer", "received", "deliver_now", {:args=>[#<GlobalID:0x00007fa27c11c170 @uri=#<URI::GID gid://depot/Order/11>>]}
Redirected to http://localhost:3000/
Completed 302 Found in 694ms (ActiveRecord: 255.4ms | Allocations: 34954)


Started GET "/" for ::1 at 2020-07-15 17:17:16 +0700
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 11], ["LIMIT", 1]]
  [1m[35m (0.5ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
[ActiveJob] [ActionMailer::MailDeliveryJob] [9b077a9e-0f77-41a8-91de-3bd2553ab67f] Performing ActionMailer::MailDeliveryJob (Job ID: 9b077a9e-0f77-41a8-91de-3bd2553ab67f) from Async(mailers) enqueued at 2020-07-15T10:17:16Z with arguments: "OrderMailer", "received", "deliver_now", {:args=>[#<GlobalID:0x00007fa26c335048 @uri=#<URI::GID gid://depot/Order/11>>]}
Processing by StoreController#index as HTML
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[36mCart Create (0.5ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2020-07-15 10:17:16.637038"], ["updated_at", "2020-07-15 10:17:16.637038"]]
[ActiveJob] [ActionMailer::MailDeliveryJob] [9b077a9e-0f77-41a8-91de-3bd2553ab67f]   Rendering order_mailer/received.html.erb within layouts/mailer
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[35m (117.6ms)[0m  [1m[36mcommit transaction[0m
[ActiveJob] [ActionMailer::MailDeliveryJob] [9b077a9e-0f77-41a8-91de-3bd2553ab67f]   Rendered order_mailer/received.html.erb within layouts/mailer (Duration: 123.6ms | Allocations: 988)
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.9ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
[ActiveJob] [ActionMailer::MailDeliveryJob] [9b077a9e-0f77-41a8-91de-3bd2553ab67f]   Rendering order_mailer/received.text.erb within layouts/mailer
  Rendered store/index.html.erb within layouts/application (Duration: 28.2ms | Allocations: 7050)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 70], ["LIMIT", 1]]
[ActiveJob] [ActionMailer::MailDeliveryJob] [9b077a9e-0f77-41a8-91de-3bd2553ab67f]   Rendered order_mailer/received.text.erb within layouts/mailer (Duration: 24.8ms | Allocations: 7805)
  ↳ app/views/layouts/application.html.erb:16
Completed 200 OK in 208ms (Views: 46.1ms | ActiveRecord: 124.4ms | Allocations: 22287)


[ActiveJob] [ActionMailer::MailDeliveryJob] [9b077a9e-0f77-41a8-91de-3bd2553ab67f] OrderMailer#received: processed outbound mail in 256.3ms
[ActiveJob] [ActionMailer::MailDeliveryJob] [9b077a9e-0f77-41a8-91de-3bd2553ab67f] Delivered mail 5f0ed7acd9efc_3310d35423018@khanh-X510UAR.mail (80.3ms)
Started GET "/cable" for ::1 at 2020-07-15 17:17:16 +0700
[ActiveJob] [ActionMailer::MailDeliveryJob] [9b077a9e-0f77-41a8-91de-3bd2553ab67f] Date: Wed, 15 Jul 2020 17:17:16 +0700
From: Sam ruby <depot@example.com>
To: 01673khanh@gmail.com
Message-ID: <5f0ed7acd9efc_3310d35423018@khanh-X510UAR.mail>
Subject: Pragmatic Store Order Confirmation
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5f0ed7acd3240_3310d354229b7";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5f0ed7acd3240_3310d354229b7
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Order#received

, find me in app/views/order_mailer/received.text.erb


----==_mimepart_5f0ed7acd3240_3310d354229b7
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <style>
      /* Email styles need to be inline */
    </style>
  </head>

  <body>
    <h1>Order#received</h1>

<p>
  , find me in app/views/order_mailer/received.html.erb
</p>

  </body>
</html>

----==_mimepart_5f0ed7acd3240_3310d354229b7--

[ActiveJob] [ActionMailer::MailDeliveryJob] [9b077a9e-0f77-41a8-91de-3bd2553ab67f] Error performing ActionMailer::MailDeliveryJob (Job ID: 9b077a9e-0f77-41a8-91de-3bd2553ab67f) from Async(mailers) in 346.55ms: Errno::ECONNREFUSED (Connection refused - connect(2) for "localhost" port 587):
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/2.7.0/net/smtp.rb:539:in `initialize'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/2.7.0/net/smtp.rb:539:in `open'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/2.7.0/net/smtp.rb:539:in `tcp_socket'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/2.7.0/net/smtp.rb:549:in `block in do_start'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/2.7.0/timeout.rb:95:in `block in timeout'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/2.7.0/timeout.rb:105:in `timeout'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/2.7.0/net/smtp.rb:548:in `do_start'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/2.7.0/net/smtp.rb:518:in `start'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/mail-2.7.1/lib/mail/network/delivery_methods/smtp.rb:109:in `start_smtp_session'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/mail-2.7.1/lib/mail/network/delivery_methods/smtp.rb:100:in `deliver!'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/mail-2.7.1/lib/mail/message.rb:2159:in `do_delivery'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/mail-2.7.1/lib/mail/message.rb:260:in `block in deliver'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/actionmailer-6.0.3.2/lib/action_mailer/base.rb:589:in `block in deliver_mail'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/notifications.rb:180:in `block in instrument'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/notifications.rb:180:in `instrument'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/actionmailer-6.0.3.2/lib/action_mailer/base.rb:587:in `deliver_mail'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/mail-2.7.1/lib/mail/message.rb:260:in `deliver'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/actionmailer-6.0.3.2/lib/action_mailer/message_delivery.rb:115:in `block in deliver_now'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/actionmailer-6.0.3.2/lib/action_mailer/rescuable.rb:17:in `handle_exceptions'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/actionmailer-6.0.3.2/lib/action_mailer/message_delivery.rb:114:in `deliver_now'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/actionmailer-6.0.3.2/lib/action_mailer/mail_delivery_job.rb:23:in `perform'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/execution.rb:40:in `block in perform_now'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:112:in `block in run_callbacks'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/i18n-1.8.3/lib/i18n.rb:313:in `with_locale'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/translation.rb:9:in `block (2 levels) in <module:Translation>'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `instance_exec'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/core_ext/time/zones.rb:66:in `use_zone'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/timezones.rb:9:in `block (2 levels) in <module:Timezones>'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `instance_exec'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/logging.rb:25:in `block (4 levels) in <module:Logging>'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/notifications.rb:180:in `block in instrument'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/notifications.rb:180:in `instrument'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/logging.rb:24:in `block (3 levels) in <module:Logging>'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/logging.rb:45:in `block in tag_logger'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/tagged_logging.rb:28:in `tagged'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/tagged_logging.rb:80:in `tagged'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/logging.rb:45:in `tag_logger'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/logging.rb:21:in `block (2 levels) in <module:Logging>'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `instance_exec'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:139:in `run_callbacks'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/execution.rb:39:in `perform_now'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/execution.rb:25:in `block in execute'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:112:in `block in run_callbacks'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/railtie.rb:43:in `block (4 levels) in <class:Railtie>'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/execution_wrapper.rb:88:in `wrap'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/reloader.rb:72:in `block in wrap'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/execution_wrapper.rb:88:in `wrap'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/reloader.rb:71:in `wrap'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/railtie.rb:42:in `block (3 levels) in <class:Railtie>'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `instance_exec'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:139:in `run_callbacks'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/execution.rb:23:in `execute'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/queue_adapters/async_adapter.rb:70:in `perform'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/concurrent-ruby-1.1.6/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:353:in `run_task'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/concurrent-ruby-1.1.6/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:342:in `block (3 levels) in create_worker'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/concurrent-ruby-1.1.6/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:325:in `loop'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/concurrent-ruby-1.1.6/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:325:in `block (2 levels) in create_worker'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/concurrent-ruby-1.1.6/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:324:in `catch'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/concurrent-ruby-1.1.6/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:324:in `block in create_worker'
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-15 17:17:16 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for ::1 at 2020-07-15 17:26:20 +0700
ProductsChannel stopped streaming from products
Started GET "/products" for ::1 at 2020-07-16 13:43:08 +0700
  [1m[35m (1.9ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by ProductsController#index as HTML
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (1.6ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/products/index.html.erb:12
Started GET "/" for ::1 at 2020-07-16 13:43:09 +0700
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by StoreController#index as HTML
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[36mCart Create (162.1ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2020-07-16 06:43:09.955618"], ["updated_at", "2020-07-16 06:43:09.955618"]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[35m (92.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 630.3ms | Allocations: 12672)
  Rendered products/index.html.erb within layouts/application (Duration: 1959.4ms | Allocations: 30267)
[Webpacker] Everything's up-to-date. Nothing to do
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 2494ms (Views: 2284.9ms | ActiveRecord: 3.7ms | Allocations: 42169)


  [1m[36mLineItem Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 71], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:16
Completed 200 OK in 1403ms (Views: 1017.4ms | ActiveRecord: 258.7ms | Allocations: 33230)


Started GET "/cable" for ::1 at 2020-07-16 13:43:12 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-16 13:43:12 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started POST "/line_items?product_id=4" for ::1 at 2020-07-16 13:43:18 +0700
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"1o/RHf4yXMSv1Ku6FgnLM0bnhJvSOwIMNswiFUA/WCY1GTDsz9pmYIiQ/7SqQLb7ZHp6KPQ8VOkoGktGs5wwoA==", "product_id"=>"4"}
Can't verify CSRF token authenticity.
Completed 422 Unprocessable Entity in 2ms (ActiveRecord: 0.0ms | Allocations: 770)


  
ActionController::InvalidAuthenticityToken (ActionController::InvalidAuthenticityToken):
  
actionpack (6.0.3.2) lib/action_controller/metal/request_forgery_protection.rb:215:in `handle_unverified_request'
actionpack (6.0.3.2) lib/action_controller/metal/request_forgery_protection.rb:247:in `handle_unverified_request'
actionpack (6.0.3.2) lib/action_controller/metal/request_forgery_protection.rb:242:in `verify_authenticity_token'
activesupport (6.0.3.2) lib/active_support/callbacks.rb:428:in `block in make_lambda'
activesupport (6.0.3.2) lib/active_support/callbacks.rb:200:in `block (2 levels) in halting'
actionpack (6.0.3.2) lib/abstract_controller/callbacks.rb:34:in `block (2 levels) in <module:Callbacks>'
activesupport (6.0.3.2) lib/active_support/callbacks.rb:201:in `block in halting'
activesupport (6.0.3.2) lib/active_support/callbacks.rb:513:in `block in invoke_before'
activesupport (6.0.3.2) lib/active_support/callbacks.rb:513:in `each'
activesupport (6.0.3.2) lib/active_support/callbacks.rb:513:in `invoke_before'
activesupport (6.0.3.2) lib/active_support/callbacks.rb:134:in `run_callbacks'
actionpack (6.0.3.2) lib/abstract_controller/callbacks.rb:41:in `process_action'
actionpack (6.0.3.2) lib/action_controller/metal/rescue.rb:22:in `process_action'
actionpack (6.0.3.2) lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
activesupport (6.0.3.2) lib/active_support/notifications.rb:180:in `block in instrument'
activesupport (6.0.3.2) lib/active_support/notifications/instrumenter.rb:24:in `instrument'
activesupport (6.0.3.2) lib/active_support/notifications.rb:180:in `instrument'
actionpack (6.0.3.2) lib/action_controller/metal/instrumentation.rb:32:in `process_action'
actionpack (6.0.3.2) lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
activerecord (6.0.3.2) lib/active_record/railties/controller_runtime.rb:27:in `process_action'
actionpack (6.0.3.2) lib/abstract_controller/base.rb:136:in `process'
actionview (6.0.3.2) lib/action_view/rendering.rb:39:in `process'
actionpack (6.0.3.2) lib/action_controller/metal.rb:190:in `dispatch'
actionpack (6.0.3.2) lib/action_controller/metal.rb:254:in `dispatch'
actionpack (6.0.3.2) lib/action_dispatch/routing/route_set.rb:50:in `dispatch'
actionpack (6.0.3.2) lib/action_dispatch/routing/route_set.rb:33:in `serve'
actionpack (6.0.3.2) lib/action_dispatch/journey/router.rb:49:in `block in serve'
actionpack (6.0.3.2) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (6.0.3.2) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (6.0.3.2) lib/action_dispatch/routing/route_set.rb:834:in `call'
rack (2.2.3) lib/rack/tempfile_reaper.rb:15:in `call'
rack (2.2.3) lib/rack/etag.rb:27:in `call'
rack (2.2.3) lib/rack/conditional_get.rb:40:in `call'
rack (2.2.3) lib/rack/head.rb:12:in `call'
actionpack (6.0.3.2) lib/action_dispatch/http/content_security_policy.rb:18:in `call'
rack (2.2.3) lib/rack/session/abstract/id.rb:266:in `context'
rack (2.2.3) lib/rack/session/abstract/id.rb:260:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/cookies.rb:648:in `call'
activerecord (6.0.3.2) lib/active_record/migration.rb:567:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.0.3.2) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (6.0.3.2) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
web-console (4.0.3) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.3) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.3) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.3) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.3.2) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.3.2) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.3.2) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.3.2) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.3.2) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.3.2) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.3) lib/rack/method_override.rb:24:in `call'
rack (2.2.3) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.3.2) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.3) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
webpacker (4.2.2) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.3.2) lib/rails/engine.rb:527:in `call'
puma (4.3.5) lib/puma/configuration.rb:228:in `call'
puma (4.3.5) lib/puma/server.rb:713:in `handle_request'
puma (4.3.5) lib/puma/server.rb:472:in `process_client'
puma (4.3.5) lib/puma/server.rb:328:in `block in run'
puma (4.3.5) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started POST "/line_items?product_id=4" for ::1 at 2020-07-16 13:43:25 +0700
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"1o/RHf4yXMSv1Ku6FgnLM0bnhJvSOwIMNswiFUA/WCY1GTDsz9pmYIiQ/7SqQLb7ZHp6KPQ8VOkoGktGs5wwoA==", "product_id"=>"4"}
Can't verify CSRF token authenticity.
Completed 422 Unprocessable Entity in 1ms (ActiveRecord: 0.0ms | Allocations: 682)


  
ActionController::InvalidAuthenticityToken (ActionController::InvalidAuthenticityToken):
  
actionpack (6.0.3.2) lib/action_controller/metal/request_forgery_protection.rb:215:in `handle_unverified_request'
actionpack (6.0.3.2) lib/action_controller/metal/request_forgery_protection.rb:247:in `handle_unverified_request'
actionpack (6.0.3.2) lib/action_controller/metal/request_forgery_protection.rb:242:in `verify_authenticity_token'
activesupport (6.0.3.2) lib/active_support/callbacks.rb:428:in `block in make_lambda'
activesupport (6.0.3.2) lib/active_support/callbacks.rb:200:in `block (2 levels) in halting'
actionpack (6.0.3.2) lib/abstract_controller/callbacks.rb:34:in `block (2 levels) in <module:Callbacks>'
activesupport (6.0.3.2) lib/active_support/callbacks.rb:201:in `block in halting'
activesupport (6.0.3.2) lib/active_support/callbacks.rb:513:in `block in invoke_before'
activesupport (6.0.3.2) lib/active_support/callbacks.rb:513:in `each'
activesupport (6.0.3.2) lib/active_support/callbacks.rb:513:in `invoke_before'
activesupport (6.0.3.2) lib/active_support/callbacks.rb:134:in `run_callbacks'
actionpack (6.0.3.2) lib/abstract_controller/callbacks.rb:41:in `process_action'
actionpack (6.0.3.2) lib/action_controller/metal/rescue.rb:22:in `process_action'
actionpack (6.0.3.2) lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
activesupport (6.0.3.2) lib/active_support/notifications.rb:180:in `block in instrument'
activesupport (6.0.3.2) lib/active_support/notifications/instrumenter.rb:24:in `instrument'
activesupport (6.0.3.2) lib/active_support/notifications.rb:180:in `instrument'
actionpack (6.0.3.2) lib/action_controller/metal/instrumentation.rb:32:in `process_action'
actionpack (6.0.3.2) lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
activerecord (6.0.3.2) lib/active_record/railties/controller_runtime.rb:27:in `process_action'
actionpack (6.0.3.2) lib/abstract_controller/base.rb:136:in `process'
actionview (6.0.3.2) lib/action_view/rendering.rb:39:in `process'
actionpack (6.0.3.2) lib/action_controller/metal.rb:190:in `dispatch'
actionpack (6.0.3.2) lib/action_controller/metal.rb:254:in `dispatch'
actionpack (6.0.3.2) lib/action_dispatch/routing/route_set.rb:50:in `dispatch'
actionpack (6.0.3.2) lib/action_dispatch/routing/route_set.rb:33:in `serve'
actionpack (6.0.3.2) lib/action_dispatch/journey/router.rb:49:in `block in serve'
actionpack (6.0.3.2) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (6.0.3.2) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (6.0.3.2) lib/action_dispatch/routing/route_set.rb:834:in `call'
rack (2.2.3) lib/rack/tempfile_reaper.rb:15:in `call'
rack (2.2.3) lib/rack/etag.rb:27:in `call'
rack (2.2.3) lib/rack/conditional_get.rb:40:in `call'
rack (2.2.3) lib/rack/head.rb:12:in `call'
actionpack (6.0.3.2) lib/action_dispatch/http/content_security_policy.rb:18:in `call'
rack (2.2.3) lib/rack/session/abstract/id.rb:266:in `context'
rack (2.2.3) lib/rack/session/abstract/id.rb:260:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/cookies.rb:648:in `call'
activerecord (6.0.3.2) lib/active_record/migration.rb:567:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.0.3.2) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (6.0.3.2) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
web-console (4.0.3) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.3) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.3) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.3) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.3.2) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.3.2) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.3.2) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.3.2) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.3.2) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.3.2) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.3) lib/rack/method_override.rb:24:in `call'
rack (2.2.3) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.3.2) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.3) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
webpacker (4.2.2) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.3.2) lib/rails/engine.rb:527:in `call'
puma (4.3.5) lib/puma/configuration.rb:228:in `call'
puma (4.3.5) lib/puma/server.rb:713:in `handle_request'
puma (4.3.5) lib/puma/server.rb:472:in `process_client'
puma (4.3.5) lib/puma/server.rb:328:in `block in run'
puma (4.3.5) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started POST "/line_items?product_id=4" for ::1 at 2020-07-16 13:43:25 +0700
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"1o/RHf4yXMSv1Ku6FgnLM0bnhJvSOwIMNswiFUA/WCY1GTDsz9pmYIiQ/7SqQLb7ZHp6KPQ8VOkoGktGs5wwoA==", "product_id"=>"4"}
Can't verify CSRF token authenticity.
Completed 422 Unprocessable Entity in 1ms (ActiveRecord: 0.0ms | Allocations: 765)


  
ActionController::InvalidAuthenticityToken (ActionController::InvalidAuthenticityToken):
  
actionpack (6.0.3.2) lib/action_controller/metal/request_forgery_protection.rb:215:in `handle_unverified_request'
actionpack (6.0.3.2) lib/action_controller/metal/request_forgery_protection.rb:247:in `handle_unverified_request'
actionpack (6.0.3.2) lib/action_controller/metal/request_forgery_protection.rb:242:in `verify_authenticity_token'
activesupport (6.0.3.2) lib/active_support/callbacks.rb:428:in `block in make_lambda'
activesupport (6.0.3.2) lib/active_support/callbacks.rb:200:in `block (2 levels) in halting'
actionpack (6.0.3.2) lib/abstract_controller/callbacks.rb:34:in `block (2 levels) in <module:Callbacks>'
activesupport (6.0.3.2) lib/active_support/callbacks.rb:201:in `block in halting'
activesupport (6.0.3.2) lib/active_support/callbacks.rb:513:in `block in invoke_before'
activesupport (6.0.3.2) lib/active_support/callbacks.rb:513:in `each'
activesupport (6.0.3.2) lib/active_support/callbacks.rb:513:in `invoke_before'
activesupport (6.0.3.2) lib/active_support/callbacks.rb:134:in `run_callbacks'
actionpack (6.0.3.2) lib/abstract_controller/callbacks.rb:41:in `process_action'
actionpack (6.0.3.2) lib/action_controller/metal/rescue.rb:22:in `process_action'
actionpack (6.0.3.2) lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
activesupport (6.0.3.2) lib/active_support/notifications.rb:180:in `block in instrument'
activesupport (6.0.3.2) lib/active_support/notifications/instrumenter.rb:24:in `instrument'
activesupport (6.0.3.2) lib/active_support/notifications.rb:180:in `instrument'
actionpack (6.0.3.2) lib/action_controller/metal/instrumentation.rb:32:in `process_action'
actionpack (6.0.3.2) lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
activerecord (6.0.3.2) lib/active_record/railties/controller_runtime.rb:27:in `process_action'
actionpack (6.0.3.2) lib/abstract_controller/base.rb:136:in `process'
actionview (6.0.3.2) lib/action_view/rendering.rb:39:in `process'
actionpack (6.0.3.2) lib/action_controller/metal.rb:190:in `dispatch'
actionpack (6.0.3.2) lib/action_controller/metal.rb:254:in `dispatch'
actionpack (6.0.3.2) lib/action_dispatch/routing/route_set.rb:50:in `dispatch'
actionpack (6.0.3.2) lib/action_dispatch/routing/route_set.rb:33:in `serve'
actionpack (6.0.3.2) lib/action_dispatch/journey/router.rb:49:in `block in serve'
actionpack (6.0.3.2) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (6.0.3.2) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (6.0.3.2) lib/action_dispatch/routing/route_set.rb:834:in `call'
rack (2.2.3) lib/rack/tempfile_reaper.rb:15:in `call'
rack (2.2.3) lib/rack/etag.rb:27:in `call'
rack (2.2.3) lib/rack/conditional_get.rb:40:in `call'
rack (2.2.3) lib/rack/head.rb:12:in `call'
actionpack (6.0.3.2) lib/action_dispatch/http/content_security_policy.rb:18:in `call'
rack (2.2.3) lib/rack/session/abstract/id.rb:266:in `context'
rack (2.2.3) lib/rack/session/abstract/id.rb:260:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/cookies.rb:648:in `call'
activerecord (6.0.3.2) lib/active_record/migration.rb:567:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.0.3.2) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (6.0.3.2) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
web-console (4.0.3) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.3) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.3) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.3) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.3.2) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.3.2) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.3.2) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.3.2) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.3.2) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.3.2) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.3) lib/rack/method_override.rb:24:in `call'
rack (2.2.3) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.3.2) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.3) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
webpacker (4.2.2) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.3.2) lib/rails/engine.rb:527:in `call'
puma (4.3.5) lib/puma/configuration.rb:228:in `call'
puma (4.3.5) lib/puma/server.rb:713:in `handle_request'
puma (4.3.5) lib/puma/server.rb:472:in `process_client'
puma (4.3.5) lib/puma/server.rb:328:in `block in run'
puma (4.3.5) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started POST "/line_items?product_id=4" for ::1 at 2020-07-16 13:43:28 +0700
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"1o/RHf4yXMSv1Ku6FgnLM0bnhJvSOwIMNswiFUA/WCY1GTDsz9pmYIiQ/7SqQLb7ZHp6KPQ8VOkoGktGs5wwoA==", "product_id"=>"4"}
Can't verify CSRF token authenticity.
Completed 422 Unprocessable Entity in 3ms (ActiveRecord: 0.0ms | Allocations: 676)


  
ActionController::InvalidAuthenticityToken (ActionController::InvalidAuthenticityToken):
  
actionpack (6.0.3.2) lib/action_controller/metal/request_forgery_protection.rb:215:in `handle_unverified_request'
actionpack (6.0.3.2) lib/action_controller/metal/request_forgery_protection.rb:247:in `handle_unverified_request'
actionpack (6.0.3.2) lib/action_controller/metal/request_forgery_protection.rb:242:in `verify_authenticity_token'
activesupport (6.0.3.2) lib/active_support/callbacks.rb:428:in `block in make_lambda'
activesupport (6.0.3.2) lib/active_support/callbacks.rb:200:in `block (2 levels) in halting'
actionpack (6.0.3.2) lib/abstract_controller/callbacks.rb:34:in `block (2 levels) in <module:Callbacks>'
activesupport (6.0.3.2) lib/active_support/callbacks.rb:201:in `block in halting'
activesupport (6.0.3.2) lib/active_support/callbacks.rb:513:in `block in invoke_before'
activesupport (6.0.3.2) lib/active_support/callbacks.rb:513:in `each'
activesupport (6.0.3.2) lib/active_support/callbacks.rb:513:in `invoke_before'
activesupport (6.0.3.2) lib/active_support/callbacks.rb:134:in `run_callbacks'
actionpack (6.0.3.2) lib/abstract_controller/callbacks.rb:41:in `process_action'
actionpack (6.0.3.2) lib/action_controller/metal/rescue.rb:22:in `process_action'
actionpack (6.0.3.2) lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
activesupport (6.0.3.2) lib/active_support/notifications.rb:180:in `block in instrument'
activesupport (6.0.3.2) lib/active_support/notifications/instrumenter.rb:24:in `instrument'
activesupport (6.0.3.2) lib/active_support/notifications.rb:180:in `instrument'
actionpack (6.0.3.2) lib/action_controller/metal/instrumentation.rb:32:in `process_action'
actionpack (6.0.3.2) lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
activerecord (6.0.3.2) lib/active_record/railties/controller_runtime.rb:27:in `process_action'
actionpack (6.0.3.2) lib/abstract_controller/base.rb:136:in `process'
actionview (6.0.3.2) lib/action_view/rendering.rb:39:in `process'
actionpack (6.0.3.2) lib/action_controller/metal.rb:190:in `dispatch'
actionpack (6.0.3.2) lib/action_controller/metal.rb:254:in `dispatch'
actionpack (6.0.3.2) lib/action_dispatch/routing/route_set.rb:50:in `dispatch'
actionpack (6.0.3.2) lib/action_dispatch/routing/route_set.rb:33:in `serve'
actionpack (6.0.3.2) lib/action_dispatch/journey/router.rb:49:in `block in serve'
actionpack (6.0.3.2) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (6.0.3.2) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (6.0.3.2) lib/action_dispatch/routing/route_set.rb:834:in `call'
rack (2.2.3) lib/rack/tempfile_reaper.rb:15:in `call'
rack (2.2.3) lib/rack/etag.rb:27:in `call'
rack (2.2.3) lib/rack/conditional_get.rb:40:in `call'
rack (2.2.3) lib/rack/head.rb:12:in `call'
actionpack (6.0.3.2) lib/action_dispatch/http/content_security_policy.rb:18:in `call'
rack (2.2.3) lib/rack/session/abstract/id.rb:266:in `context'
rack (2.2.3) lib/rack/session/abstract/id.rb:260:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/cookies.rb:648:in `call'
activerecord (6.0.3.2) lib/active_record/migration.rb:567:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.0.3.2) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (6.0.3.2) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
web-console (4.0.3) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.3) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.3) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.3) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.3.2) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.3.2) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.3.2) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.3.2) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.3.2) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.3.2) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.3) lib/rack/method_override.rb:24:in `call'
rack (2.2.3) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.3.2) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.3) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
webpacker (4.2.2) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.3.2) lib/rails/engine.rb:527:in `call'
puma (4.3.5) lib/puma/configuration.rb:228:in `call'
puma (4.3.5) lib/puma/server.rb:713:in `handle_request'
puma (4.3.5) lib/puma/server.rb:472:in `process_client'
puma (4.3.5) lib/puma/server.rb:328:in `block in run'
puma (4.3.5) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/" for ::1 at 2020-07-16 13:43:30 +0700
Processing by StoreController#index as HTML
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[36mCart Create (0.5ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2020-07-16 06:43:30.118281"], ["updated_at", "2020-07-16 06:43:30.118281"]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[35m (169.7ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.8ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 29.4ms | Allocations: 3257)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 72], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:16
Completed 200 OK in 236ms (Views: 45.3ms | ActiveRecord: 171.6ms | Allocations: 11901)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-16 13:43:30 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-16 13:43:30 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-16 13:43:30 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started POST "/line_items?product_id=4" for ::1 at 2020-07-16 13:43:32 +0700
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"xqtbr9naaRQ8zAvxJ5YKfZkGTr7tEJV/Y9PD6LowegAEHK/yrdHi4uklSKsWYWOfst0Nf1maBQsVDA8NqlWs7w==", "product_id"=>"4"}
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 72], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 72], ["product_id", 4], ["LIMIT", 1]]
  ↳ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mLineItem Create (20.9ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 4], ["cart_id", 72], ["created_at", "2020-07-16 06:43:32.128824"], ["updated_at", "2020-07-16 06:43:32.128824"]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[35m (415.8ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  Rendering line_items/create.js.erb
Started POST "/line_items?product_id=4" for ::1 at 2020-07-16 13:43:32 +0700
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"xqtbr9naaRQ8zAvxJ5YKfZkGTr7tEJV/Y9PD6LowegAEHK/yrdHi4uklSKsWYWOfst0Nf1maBQsVDA8NqlWs7w==", "product_id"=>"4"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 72], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 72], ["product_id", 4], ["LIMIT", 1]]
  ↳ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mLineItem Update (0.2ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 2], ["updated_at", "2020-07-16 06:43:32.734445"], ["id", 86]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[35m (1287.5ms)[0m  [1m[36mcommit transaction[0m
Started POST "/line_items?product_id=4" for ::1 at 2020-07-16 13:43:34 +0700
Started POST "/line_items?product_id=4" for ::1 at 2020-07-16 13:43:34 +0700
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  Rendering line_items/create.js.erb
  [1m[35m (0.4ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by LineItemsController#create as JS
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"xqtbr9naaRQ8zAvxJ5YKfZkGTr7tEJV/Y9PD6LowegAEHK/yrdHi4uklSKsWYWOfst0Nf1maBQsVDA8NqlWs7w==", "product_id"=>"4"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 72], ["LIMIT", 1]]
  Parameters: {"authenticity_token"=>"xqtbr9naaRQ8zAvxJ5YKfZkGTr7tEJV/Y9PD6LowegAEHK/yrdHi4uklSKsWYWOfst0Nf1maBQsVDA8NqlWs7w==", "product_id"=>"4"}
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Load (0.7ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 72]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mLineItem Load (0.7ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 72]]
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 72], ["LIMIT", 1]]
  ↳ app/views/carts/_cart.html.erb:8
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  [1m[36mProduct Load (1.0ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 72], ["product_id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 72], ["product_id", 4], ["LIMIT", 1]]
  ↳ app/models/cart.rb:5:in `add_product'
  ↳ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 24.5ms | Allocations: 4573)
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  Rendered carts/_cart.html.erb (Duration: 77.9ms | Allocations: 13187)
  Rendered line_items/create.js.erb (Duration: 1547.8ms | Allocations: 24635)
  [1m[36mLineItem Update (0.4ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 3], ["updated_at", "2020-07-16 06:43:34.118230"], ["id", 86]]
  ↳ app/views/line_items/_line_item.html.erb:7
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
Completed 200 OK in 2068ms (Views: 1549.4ms | ActiveRecord: 440.1ms | Allocations: 38132)


  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 43.9ms | Allocations: 8569)
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  Rendered carts/_cart.html.erb (Duration: 83.6ms | Allocations: 16437)
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  Rendered line_items/create.js.erb (Duration: 5096.6ms | Allocations: 17821)
  [1m[35m (5009.2ms)[0m  [1m[36mcommit transaction[0m
Completed 200 OK in 6422ms (Views: 5104.5ms | ActiveRecord: 1289.4ms | Allocations: 27886)


  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mLineItem Update (0.3ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 3], ["updated_at", "2020-07-16 06:43:39.154652"], ["id", 86]]
Completed 500 Internal Server Error in 5093ms (ActiveRecord: 5011.0ms | Allocations: 18171)


  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  
ActiveRecord::StatementInvalid (SQLite3::BusyException: database is locked):
  
app/controllers/line_items_controller.rb:35:in `block in create'
app/controllers/line_items_controller.rb:34:in `create'
  [1m[35m (155.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 72]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 2.0ms | Allocations: 898)
  Rendered carts/_cart.html.erb (Duration: 7.2ms | Allocations: 2176)
  Rendered line_items/create.js.erb (Duration: 37.2ms | Allocations: 2341)
Completed 200 OK in 5623ms (Views: 136.2ms | ActiveRecord: 158.2ms | Allocations: 326633)


Started GET "/orders/new" for ::1 at 2020-07-16 13:43:43 +0700
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 72], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 72], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:117:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 761.7ms | Allocations: 2189)
  Rendered orders/new.html.erb within layouts/application (Duration: 810.5ms | Allocations: 2519)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mCACHE LineItem Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 72], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:16
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 72]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 4.4ms | Allocations: 891)
  Rendered carts/_cart.html.erb (Duration: 10.9ms | Allocations: 2174)
Completed 200 OK in 962ms (Views: 841.5ms | ActiveRecord: 3.2ms | Allocations: 16633)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-16 13:43:44 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-16 13:43:44 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-16 13:43:44 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started POST "/orders" for ::1 at 2020-07-16 13:43:55 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"gyQ3D5KEzduZ8wPJlUwk4rnsSHHOWcvt0xC9x+YUXpBBk8NS5o9GLUwaQJOku00AkjcLsHrTW5mlz3Ei9nGIfw==", "order"=>{"name"=>"HUỳnh Quốc Khánh", "address"=>"2222", "email"=>"01673khanh@gmail.com", "pay_type"=>"Check"}, "commit"=>"Place Order"}
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 72], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 72]]
  ↳ app/models/order.rb:13:in `add_line_items_from_cart'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/orders_controller.rb:42:in `block in create'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:42:in `block in create'
  [1m[36mOrder Create (0.8ms)[0m  [1m[32mINSERT INTO "orders" ("name", "address", "email", "pay_type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "HUỳnh Quốc Khánh"], ["address", "2222"], ["email", "01673khanh@gmail.com"], ["pay_type", 0], ["created_at", "2020-07-16 06:43:55.447033"], ["updated_at", "2020-07-16 06:43:55.447033"]]
  ↳ app/controllers/orders_controller.rb:42:in `block in create'
  [1m[36mLineItem Update (0.4ms)[0m  [1m[33mUPDATE "line_items" SET "cart_id" = ?, "order_id" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["cart_id", nil], ["order_id", 12], ["updated_at", "2020-07-16 06:43:55.454876"], ["id", 86]]
  ↳ app/controllers/orders_controller.rb:42:in `block in create'
  [1m[35m (73.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/orders_controller.rb:42:in `block in create'
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 72], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:43:in `block in create'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/orders_controller.rb:43:in `block in create'
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 72]]
  ↳ app/controllers/orders_controller.rb:43:in `block in create'
  [1m[36mCart Destroy (1.7ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 72]]
  ↳ app/controllers/orders_controller.rb:43:in `block in create'
  [1m[35m (67.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/orders_controller.rb:43:in `block in create'
[ActiveJob] Enqueued ActionMailer::MailDeliveryJob (Job ID: 71a8ea21-93ed-458b-b783-1d00e6b8fcf8) to Async(mailers) with arguments: "OrderMailer", "received", "deliver_now", {:args=>[#<GlobalID:0x00007f5d20817a70 @uri=#<URI::GID gid://depot/Order/12>>]}
Redirected to http://localhost:3000/
Completed 302 Found in 600ms (ActiveRecord: 145.5ms | Allocations: 25873)


  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 12], ["LIMIT", 1]]
[ActiveJob] [ActionMailer::MailDeliveryJob] [71a8ea21-93ed-458b-b783-1d00e6b8fcf8] Performing ActionMailer::MailDeliveryJob (Job ID: 71a8ea21-93ed-458b-b783-1d00e6b8fcf8) from Async(mailers) enqueued at 2020-07-16T06:43:56Z with arguments: "OrderMailer", "received", "deliver_now", {:args=>[#<GlobalID:0x00007f5d2079b060 @uri=#<URI::GID gid://depot/Order/12>>]}
[ActiveJob] [ActionMailer::MailDeliveryJob] [71a8ea21-93ed-458b-b783-1d00e6b8fcf8]   Rendering order_mailer/received.html.erb within layouts/mailer
Started GET "/" for ::1 at 2020-07-16 13:43:56 +0700
Processing by StoreController#index as HTML
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[36mCart Create (1.3ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2020-07-16 06:43:56.060804"], ["updated_at", "2020-07-16 06:43:56.060804"]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
[ActiveJob] [ActionMailer::MailDeliveryJob] [71a8ea21-93ed-458b-b783-1d00e6b8fcf8]   Rendered order_mailer/received.html.erb within layouts/mailer (Duration: 165.2ms | Allocations: 3830)
  [1m[35m (150.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 18.2ms | Allocations: 3234)
[ActiveJob] [ActionMailer::MailDeliveryJob] [71a8ea21-93ed-458b-b783-1d00e6b8fcf8]   Rendering order_mailer/received.text.erb within layouts/mailer
[ActiveJob] [ActionMailer::MailDeliveryJob] [71a8ea21-93ed-458b-b783-1d00e6b8fcf8]   Rendered order_mailer/received.text.erb within layouts/mailer (Duration: 2.1ms | Allocations: 500)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 73], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:16
Completed 200 OK in 202ms (Views: 31.9ms | ActiveRecord: 152.2ms | Allocations: 12270)


[ActiveJob] [ActionMailer::MailDeliveryJob] [71a8ea21-93ed-458b-b783-1d00e6b8fcf8] OrderMailer#received: processed outbound mail in 225.4ms
Finished "/cable/" [WebSocket] for ::1 at 2020-07-16 13:43:56 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-16 13:43:56 +0700
[ActiveJob] [ActionMailer::MailDeliveryJob] [71a8ea21-93ed-458b-b783-1d00e6b8fcf8] Delivered mail 5f0ff72c47505_130564f04175d@khanh-X510UAR.mail (83.6ms)
[ActiveJob] [ActionMailer::MailDeliveryJob] [71a8ea21-93ed-458b-b783-1d00e6b8fcf8] Date: Thu, 16 Jul 2020 13:43:56 +0700
From: Sam ruby <depot@example.com>
To: 01673khanh@gmail.com
Message-ID: <5f0ff72c47505_130564f04175d@khanh-X510UAR.mail>
Subject: Pragmatic Store Order Confirmation
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5f0ff72c42d24_130564f04166";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5f0ff72c42d24_130564f04166
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Order#received

, find me in app/views/order_mailer/received.text.erb


----==_mimepart_5f0ff72c42d24_130564f04166
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <style>
      /* Email styles need to be inline */
    </style>
  </head>

  <body>
    <h1>Order#received</h1>

<p>
  , find me in app/views/order_mailer/received.html.erb
</p>

  </body>
</html>

----==_mimepart_5f0ff72c42d24_130564f04166--

Started GET "/cable/" [WebSocket] for ::1 at 2020-07-16 13:43:56 +0700
[ActiveJob] [ActionMailer::MailDeliveryJob] [71a8ea21-93ed-458b-b783-1d00e6b8fcf8] Error performing ActionMailer::MailDeliveryJob (Job ID: 71a8ea21-93ed-458b-b783-1d00e6b8fcf8) from Async(mailers) in 312.22ms: Errno::ECONNREFUSED (Connection refused - connect(2) for "localhost" port 587):
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/2.7.0/net/smtp.rb:539:in `initialize'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/2.7.0/net/smtp.rb:539:in `open'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/2.7.0/net/smtp.rb:539:in `tcp_socket'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/2.7.0/net/smtp.rb:549:in `block in do_start'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/2.7.0/timeout.rb:95:in `block in timeout'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/2.7.0/timeout.rb:105:in `timeout'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/2.7.0/net/smtp.rb:548:in `do_start'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/2.7.0/net/smtp.rb:518:in `start'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/mail-2.7.1/lib/mail/network/delivery_methods/smtp.rb:109:in `start_smtp_session'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/mail-2.7.1/lib/mail/network/delivery_methods/smtp.rb:100:in `deliver!'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/mail-2.7.1/lib/mail/message.rb:2159:in `do_delivery'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/mail-2.7.1/lib/mail/message.rb:260:in `block in deliver'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/actionmailer-6.0.3.2/lib/action_mailer/base.rb:589:in `block in deliver_mail'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/notifications.rb:180:in `block in instrument'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/notifications.rb:180:in `instrument'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/actionmailer-6.0.3.2/lib/action_mailer/base.rb:587:in `deliver_mail'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/mail-2.7.1/lib/mail/message.rb:260:in `deliver'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/actionmailer-6.0.3.2/lib/action_mailer/message_delivery.rb:115:in `block in deliver_now'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/actionmailer-6.0.3.2/lib/action_mailer/rescuable.rb:17:in `handle_exceptions'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/actionmailer-6.0.3.2/lib/action_mailer/message_delivery.rb:114:in `deliver_now'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/actionmailer-6.0.3.2/lib/action_mailer/mail_delivery_job.rb:23:in `perform'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/execution.rb:40:in `block in perform_now'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:112:in `block in run_callbacks'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/i18n-1.8.3/lib/i18n.rb:313:in `with_locale'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/translation.rb:9:in `block (2 levels) in <module:Translation>'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `instance_exec'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/core_ext/time/zones.rb:66:in `use_zone'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/timezones.rb:9:in `block (2 levels) in <module:Timezones>'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `instance_exec'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/logging.rb:25:in `block (4 levels) in <module:Logging>'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/notifications.rb:180:in `block in instrument'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/notifications.rb:180:in `instrument'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/logging.rb:24:in `block (3 levels) in <module:Logging>'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/logging.rb:45:in `block in tag_logger'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/tagged_logging.rb:28:in `tagged'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/tagged_logging.rb:80:in `tagged'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/logging.rb:45:in `tag_logger'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/logging.rb:21:in `block (2 levels) in <module:Logging>'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `instance_exec'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:139:in `run_callbacks'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/execution.rb:39:in `perform_now'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/execution.rb:25:in `block in execute'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:112:in `block in run_callbacks'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/railtie.rb:43:in `block (4 levels) in <class:Railtie>'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/execution_wrapper.rb:88:in `wrap'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/reloader.rb:72:in `block in wrap'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/execution_wrapper.rb:88:in `wrap'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/reloader.rb:71:in `wrap'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/railtie.rb:42:in `block (3 levels) in <class:Railtie>'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `instance_exec'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:139:in `run_callbacks'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/execution.rb:23:in `execute'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/queue_adapters/async_adapter.rb:70:in `perform'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/concurrent-ruby-1.1.6/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:353:in `run_task'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/concurrent-ruby-1.1.6/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:342:in `block (3 levels) in create_worker'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/concurrent-ruby-1.1.6/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:325:in `loop'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/concurrent-ruby-1.1.6/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:325:in `block (2 levels) in create_worker'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/concurrent-ruby-1.1.6/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:324:in `catch'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/concurrent-ruby-1.1.6/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:324:in `block in create_worker'
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/cable" for ::1 at 2020-07-16 13:59:39 +0700
Started GET "/" for ::1 at 2020-07-16 13:59:39 +0700
Started GET "/cable" for ::1 at 2020-07-16 13:59:39 +0700
  [1m[35m (1.7ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (1.5ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by StoreController#index as HTML
  [1m[36mCart Load (24.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 73], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-16 13:59:41 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-16 13:59:41 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
  Rendering store/index.html.erb within layouts/application
WebSocket error occurred: Broken pipe
Finished "/cable/" [WebSocket] for ::1 at 2020-07-16 13:59:41 +0700
ProductsChannel is transmitting the subscription confirmation
  [1m[36mProduct Load (119.5ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
ProductsChannel is streaming from products
  ↳ app/views/store/index.html.erb:5
Started GET "/cable" for ::1 at 2020-07-16 13:59:52 +0700
Finished "/cable/" [WebSocket] for ::1 at 2020-07-16 13:59:52 +0700
ProductsChannel stopped streaming from products
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-16 13:59:52 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started POST "/line_items?product_id=4" for ::1 at 2020-07-16 13:59:52 +0700
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"qQsk42zAg+1MEfE8faA6CDjKDCWLFlx3JOhziESFJV1rvNC+GMsIG5n4smZMV1PqExFP5D+czANSN79tVODzsg==", "product_id"=>"4"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 73], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:29:in `create'
  [1m[36mLineItem Load (31.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 73], ["product_id", 4], ["LIMIT", 1]]
  ↳ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[36mLineItem Create (1017.5ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 4], ["cart_id", 73], ["created_at", "2020-07-16 06:59:53.504573"], ["updated_at", "2020-07-16 06:59:53.504573"]]
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  [1m[35m (1568.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/line_items_controller.rb:35:in `block in create'
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 73]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered store/index.html.erb within layouts/application (Duration: 15550.1ms | Allocations: 40397)
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 667.5ms | Allocations: 814)
  Rendered carts/_cart.html.erb (Duration: 1033.8ms | Allocations: 2777)
  Rendered line_items/create.js.erb (Duration: 1168.2ms | Allocations: 3387)
Completed 200 OK in 4165ms (Views: 1171.4ms | ActiveRecord: 2619.5ms | Allocations: 21121)


[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 73], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:16
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 73]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 5.8ms | Allocations: 910)
  Rendered carts/_cart.html.erb (Duration: 13.5ms | Allocations: 2188)
Completed 200 OK in 23049ms (Views: 21758.5ms | ActiveRecord: 252.4ms | Allocations: 62081)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-16 14:00:03 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-16 14:00:04 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-16 14:00:04 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/orders/new" for ::1 at 2020-07-16 14:00:11 +0700
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 73], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 73], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:119:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 232.2ms | Allocations: 2192)
  Rendered orders/new.html.erb within layouts/application (Duration: 292.7ms | Allocations: 2519)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mCACHE LineItem Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 73], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:16
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 73]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 5.3ms | Allocations: 891)
  Rendered carts/_cart.html.erb (Duration: 11.5ms | Allocations: 2043)
Completed 200 OK in 1002ms (Views: 330.3ms | ActiveRecord: 3.8ms | Allocations: 16468)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-16 14:00:12 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-16 14:00:12 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-16 14:00:12 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started POST "/orders" for ::1 at 2020-07-16 14:00:28 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"p8/WZix8G/7MC2cifxqRWluxkfWt1tjLks1LEDoRpMVleCI7WHeQCBniJHhO7fi4cGrSNBlcSL/kEof1KnRyKg==", "order"=>{"name"=>"HUỳnh Quốc Khánh", "address"=>"222", "email"=>"01673khanh@gmail.com", "pay_type"=>"Credit cart"}, "commit"=>"Place Order"}
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 73], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 73]]
  ↳ app/models/order.rb:15:in `add_line_items_from_cart'
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/orders_controller.rb:42:in `block in create'
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:42:in `block in create'
  [1m[36mOrder Create (66.9ms)[0m  [1m[32mINSERT INTO "orders" ("name", "address", "email", "pay_type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "HUỳnh Quốc Khánh"], ["address", "222"], ["email", "01673khanh@gmail.com"], ["pay_type", 1], ["created_at", "2020-07-16 07:00:28.915702"], ["updated_at", "2020-07-16 07:00:28.915702"]]
  ↳ app/controllers/orders_controller.rb:42:in `block in create'
  [1m[36mLineItem Update (24.8ms)[0m  [1m[33mUPDATE "line_items" SET "cart_id" = ?, "order_id" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["cart_id", nil], ["order_id", 13], ["updated_at", "2020-07-16 07:00:28.993092"], ["id", 87]]
  ↳ app/controllers/orders_controller.rb:42:in `block in create'
  [1m[35m (69.8ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/orders_controller.rb:42:in `block in create'
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 73], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:43:in `block in create'
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/orders_controller.rb:43:in `block in create'
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 73]]
  ↳ app/controllers/orders_controller.rb:43:in `block in create'
  [1m[36mCart Destroy (0.9ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 73]]
  ↳ app/controllers/orders_controller.rb:43:in `block in create'
  [1m[35m (109.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/orders_controller.rb:43:in `block in create'
[ActiveJob] Enqueued ChargeOrderJob (Job ID: 47600881-7167-4042-af55-7ac1f4c85429) to Async(default) with arguments: #<GlobalID:0x00007f386c00ad60 @uri=#<URI::GID gid://depot/Order/13>>, {}
Redirected to http://localhost:3000/
Completed 302 Found in 1854ms (ActiveRecord: 274.9ms | Allocations: 19892)


  [1m[36mOrder Load (0.8ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 13], ["LIMIT", 1]]
[ActiveJob] [ChargeOrderJob] [47600881-7167-4042-af55-7ac1f4c85429] Performing ChargeOrderJob (Job ID: 47600881-7167-4042-af55-7ac1f4c85429) from Async(default) enqueued at 2020-07-16T07:00:30Z with arguments: #<GlobalID:0x00007f38a4020560 @uri=#<URI::GID gid://depot/Order/13>>, {}
[ActiveJob] [ChargeOrderJob] [47600881-7167-4042-af55-7ac1f4c85429] Error performing ChargeOrderJob (Job ID: 47600881-7167-4042-af55-7ac1f4c85429) from Async(default) in 0.78ms: RuntimeError (Unknown payment_method ):
/home/khanh/Desktop/depot/lib/pago.rb:21:in `make_payment'
/home/khanh/Desktop/depot/app/models/order.rb:39:in `charge!'
/home/khanh/Desktop/depot/app/jobs/charge_order_job.rb:6:in `perform'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/execution.rb:40:in `block in perform_now'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:112:in `block in run_callbacks'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/i18n-1.8.3/lib/i18n.rb:313:in `with_locale'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/translation.rb:9:in `block (2 levels) in <module:Translation>'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `instance_exec'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/core_ext/time/zones.rb:66:in `use_zone'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/timezones.rb:9:in `block (2 levels) in <module:Timezones>'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `instance_exec'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/logging.rb:25:in `block (4 levels) in <module:Logging>'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/notifications.rb:180:in `block in instrument'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/notifications.rb:180:in `instrument'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/logging.rb:24:in `block (3 levels) in <module:Logging>'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/logging.rb:45:in `block in tag_logger'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/tagged_logging.rb:28:in `tagged'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/tagged_logging.rb:80:in `tagged'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/logging.rb:45:in `tag_logger'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/logging.rb:21:in `block (2 levels) in <module:Logging>'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `instance_exec'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:139:in `run_callbacks'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/execution.rb:39:in `perform_now'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/execution.rb:25:in `block in execute'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:112:in `block in run_callbacks'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/railtie.rb:43:in `block (4 levels) in <class:Railtie>'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/execution_wrapper.rb:88:in `wrap'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/reloader.rb:72:in `block in wrap'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/execution_wrapper.rb:88:in `wrap'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/reloader.rb:71:in `wrap'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/railtie.rb:42:in `block (3 levels) in <class:Railtie>'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `instance_exec'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:139:in `run_callbacks'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/execution.rb:23:in `execute'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/queue_adapters/async_adapter.rb:70:in `perform'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/concurrent-ruby-1.1.6/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:353:in `run_task'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/concurrent-ruby-1.1.6/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:342:in `block (3 levels) in create_worker'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/concurrent-ruby-1.1.6/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:325:in `loop'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/concurrent-ruby-1.1.6/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:325:in `block (2 levels) in create_worker'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/concurrent-ruby-1.1.6/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:324:in `catch'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/concurrent-ruby-1.1.6/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:324:in `block in create_worker'
Started GET "/" for ::1 at 2020-07-16 14:00:30 +0700
Processing by StoreController#index as HTML
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[36mCart Create (0.9ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2020-07-16 07:00:30.809125"], ["updated_at", "2020-07-16 07:00:30.809125"]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[35m (283.8ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (1.7ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 236.4ms | Allocations: 3422)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 74], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:16
Completed 200 OK in 579ms (Views: 265.4ms | ActiveRecord: 287.1ms | Allocations: 11903)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-16 14:00:31 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-16 14:00:31 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-16 14:00:31 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
  [1m[35m (11.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateUsers (20200716070835)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE TABLE "users" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar, "password_digest" varchar, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[36mprimary::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20200716070835"]]
  [1m[35m (186.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.3ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/cable" for ::1 at 2020-07-16 14:34:56 +0700
  [1m[35m (1.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-16 14:34:56 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/" for ::1 at 2020-07-16 14:37:44 +0700
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 74], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 1261.4ms | Allocations: 31105)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 74], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:16
Completed 200 OK in 2505ms (Views: 2316.7ms | ActiveRecord: 6.2ms | Allocations: 53757)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-16 14:37:47 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-16 14:37:47 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-16 14:37:47 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/view/users" for ::1 at 2020-07-16 14:45:00 +0700
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  
ActionController::RoutingError (No route matches [GET] "/view/users"):
  
actionpack (6.0.3.2) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
web-console (4.0.3) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.3) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.3) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.3) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.3.2) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.3.2) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.3.2) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.3.2) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.3.2) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.3.2) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.3) lib/rack/method_override.rb:24:in `call'
rack (2.2.3) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.3.2) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.3) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
webpacker (4.2.2) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.3.2) lib/rails/engine.rb:527:in `call'
puma (4.3.5) lib/puma/configuration.rb:228:in `call'
puma (4.3.5) lib/puma/server.rb:713:in `handle_request'
puma (4.3.5) lib/puma/server.rb:472:in `process_client'
puma (4.3.5) lib/puma/server.rb:328:in `block in run'
puma (4.3.5) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/users/new" for ::1 at 2020-07-16 14:45:17 +0700
Processing by UsersController#new as HTML
  Rendering users/new.html.erb within layouts/application
  Rendered users/_form.html.erb (Duration: 193.8ms | Allocations: 1324)
  Rendered users/new.html.erb within layouts/application (Duration: 208.2ms | Allocations: 1655)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 1179ms (Views: 486.7ms | ActiveRecord: 2.6ms | Allocations: 10665)


Started GET "/cable" for ::1 at 2020-07-16 14:45:19 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-16 14:45:19 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/sessions/new" for ::1 at 2020-07-16 15:04:56 +0700
  [1m[35m (23.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (27.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 6.8ms | Allocations: 1378)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 1010ms (Views: 952.3ms | ActiveRecord: 0.0ms | Allocations: 43800)


Started GET "/cable" for ::1 at 2020-07-16 15:04:58 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-16 15:04:58 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/sessions/create" for ::1 at 2020-07-16 15:05:09 +0700
Processing by SessionsController#create as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  ↳ app/controllers/sessions_controller.rb:6:in `create'
Redirected to http://localhost:3000/login
Completed 302 Found in 78ms (ActiveRecord: 0.8ms | Allocations: 2267)


Started GET "/login" for ::1 at 2020-07-16 15:05:09 +0700
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 2.4ms | Allocations: 324)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 14ms (Views: 12.9ms | ActiveRecord: 0.0ms | Allocations: 4600)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-16 15:05:09 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-16 15:05:09 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-16 15:05:09 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/destroy" for ::1 at 2020-07-16 15:05:18 +0700
  
ActionController::RoutingError (No route matches [GET] "/destroy"):
  
actionpack (6.0.3.2) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
web-console (4.0.3) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.3) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.3) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.3) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.3.2) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.3.2) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.3.2) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.3.2) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.3.2) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.3.2) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.3) lib/rack/method_override.rb:24:in `call'
rack (2.2.3) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.3.2) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.3) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
webpacker (4.2.2) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.3.2) lib/rails/engine.rb:527:in `call'
puma (4.3.5) lib/puma/configuration.rb:228:in `call'
puma (4.3.5) lib/puma/server.rb:713:in `handle_request'
puma (4.3.5) lib/puma/server.rb:472:in `process_client'
puma (4.3.5) lib/puma/server.rb:328:in `block in run'
puma (4.3.5) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Finished "/cable/" [WebSocket] for ::1 at 2020-07-16 15:05:19 +0700
ProductsChannel stopped streaming from products
Started GET "/sessions/destroy" for ::1 at 2020-07-16 15:05:57 +0700
Processing by SessionsController#destroy as HTML
Redirected to http://localhost:3000/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms | Allocations: 302)


Started GET "/" for ::1 at 2020-07-16 15:05:57 +0700
Processing by StoreController#index as HTML
  [1m[36mCart Load (26.6ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 74], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (9.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 166.7ms | Allocations: 8829)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (24.7ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 74], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:16
Completed 200 OK in 446ms (Views: 235.3ms | ActiveRecord: 65.4ms | Allocations: 23097)


Started GET "/cable" for ::1 at 2020-07-16 15:05:58 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-16 15:05:58 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/" for ::1 at 2020-07-16 15:16:08 +0700
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by StoreController#index as HTML
  [1m[36mCart Load (31.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 74], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (10.3ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 71.6ms | Allocations: 6773)
Completed 500 Internal Server Error in 195ms (ActiveRecord: 41.4ms | Allocations: 13783)


  
ActionView::SyntaxErrorInTemplate (Encountered a syntax error while rendering template: check <html>
    <head>
        <title>Pragprog Books Online Store</title><%= csrf_meta_tags %><%= stylesheet_link_tag 'application', media: 'all',
'data-turbolinks-track': 'reload' %><%= javascript_pack_tag 'application', 'data-turbolinks-track': 'reload' %>
    </head>
    <body>
        <header class="main"><%= image_tag 'logo.jpg', alt: 'The Pragmatic Bookshelf' %>
            <h1><%= @page_title %>
            </h1>
        </header>
        <section class="content">
            <nav class="side_nav">
              <% if @cart%>

              <div id="cart" class ="carts">
                <%= render_if @cart && @cart.line_items.any?, @cart%>
              </div>
              <% end %>  
                <ul>
                    <li>
                        <a href="/">Home</a>
                    </li>
                    <li>
                        <a href="/questions">Questions</a>
                    </li>
                    <li>
                        <a href="/news">News</a>
                    </li>
                    <li>
                        <a href="/contact">Contact</a>
                    </li>
                </ul>

                <% if session[:user_id] %>
<nav class="logged_in_nav">
<ul>
<li><%= link_to 'Orders',
orders_path
%></li>
<li><%= link_to 'Products', products_path %></li>
<li><%= link_to 'Users',
users_path
%></li>
<li><%= button_to 'Logout', logout_path, method: :delete
</ul>
</nav>
<% end %>
            </nav>
            <main class='<%= controller.controller_name %>'><%= yield %>
            </main>
        </section>
    </body>
</html>
):
1:    <html>
2:        <head>
3:            <title>Pragprog Books Online Store</title><%= csrf_meta_tags %><%= stylesheet_link_tag 'application', media: 'all',
4:    'data-turbolinks-track': 'reload' %><%= javascript_pack_tag 'application', 'data-turbolinks-track': 'reload' %>
5:        </head>
6:        <body>
7:            <header class="main"><%= image_tag 'logo.jpg', alt: 'The Pragmatic Bookshelf' %>
8:                <h1><%= @page_title %>
9:                </h1>
10:            </header>
11:            <section class="content">
12:                <nav class="side_nav">
13:                  <% if @cart%>
14:    
15:                  <div id="cart" class ="carts">
16:                    <%= render_if @cart && @cart.line_items.any?, @cart%>
17:                  </div>
18:                  <% end %>  
19:                    <ul>
20:                        <li>
21:                            <a href="/">Home</a>
22:                        </li>
23:                        <li>
24:                            <a href="/questions">Questions</a>
25:                        </li>
26:                        <li>
27:                            <a href="/news">News</a>
28:                        </li>
29:                        <li>
30:                            <a href="/contact">Contact</a>
31:                        </li>
32:                    </ul>
33:    
34:                    <% if session[:user_id] %>
35:    <nav class="logged_in_nav">
36:    <ul>
37:    <li><%= link_to 'Orders',
38:    orders_path
39:    %></li>
40:    <li><%= link_to 'Products', products_path %></li>
41:    <li><%= link_to 'Users',
42:    users_path
43:    %></li>
44:    <li><%= button_to 'Logout', logout_path, method: :delete
45:    </ul>
46:    </nav>
47:    <% end %>
48:                </nav>
49:                <main class='<%= controller.controller_name %>'><%= yield %>
50:                </main>
51:            </section>
52:        </body>
53:    </html>
  
app/views/layouts/application.html.erb:45: syntax error, unexpected '<', expecting ')'
app/views/layouts/application.html.erb:46: unknown regexp options - av
app/views/layouts/application.html.erb:47: syntax error, unexpected '<'
app/views/layouts/application.html.erb:55: syntax error, unexpected end-of-input, expecting `end'
app/views/layouts/application.html.erb:45: syntax error, unexpected '<', expecting ')'
app/views/layouts/application.html.erb:46: unknown regexp options - av
app/views/layouts/application.html.erb:47: syntax error, unexpected '<'
app/views/layouts/application.html.erb:55: syntax error, unexpected end-of-input, expecting `end'
app/views/layouts/application.html.erb:45: syntax error, unexpected '<', expecting ')'
app/views/layouts/application.html.erb:46: unknown regexp options - av
app/views/layouts/application.html.erb:47: syntax error, unexpected '<'
app/views/layouts/application.html.erb:55: syntax error, unexpected end-of-input, expecting `end'
app/views/layouts/application.html.erb:45: syntax error, unexpected '<', expecting ')'
app/views/layouts/application.html.erb:46: unknown regexp options - av
app/views/layouts/application.html.erb:47: syntax error, unexpected '<'
app/views/layouts/application.html.erb:55: syntax error, unexpected end-of-input, expecting `end'
app/views/layouts/application.html.erb:45: syntax error, unexpected '<', expecting ')'
app/views/layouts/application.html.erb:46: unknown regexp options - av
app/views/layouts/application.html.erb:47: syntax error, unexpected '<'
app/views/layouts/application.html.erb:55: syntax error, unexpected end-of-input, expecting `end'
app/views/layouts/application.html.erb:45: syntax error, unexpected '<', expecting ')'
app/views/layouts/application.html.erb:46: unknown regexp options - av
app/views/layouts/application.html.erb:47: syntax error, unexpected '<'
app/views/layouts/application.html.erb:55: syntax error, unexpected end-of-input, expecting `end'
Started GET "/" for ::1 at 2020-07-16 15:17:03 +0700
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 74], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 14.8ms | Allocations: 3496)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (10.9ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 74], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:16
Completed 200 OK in 457ms (Views: 439.7ms | ActiveRecord: 11.5ms | Allocations: 26485)


Started GET "/cable" for ::1 at 2020-07-16 15:17:03 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-16 15:17:03 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/" for ::1 at 2020-07-16 15:17:28 +0700
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 74], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 12.2ms | Allocations: 3485)
Completed 500 Internal Server Error in 23ms (ActiveRecord: 0.8ms | Allocations: 6417)


  
ActionView::SyntaxErrorInTemplate (Encountered a syntax error while rendering template: check <html>
    <head>
        <title>Pragprog Books Online Store</title><%= csrf_meta_tags %><%= stylesheet_link_tag 'application', media: 'all',
'data-turbolinks-track': 'reload' %><%= javascript_pack_tag 'application', 'data-turbolinks-track': 'reload' %>
    </head>
    <body>
        <header class="main"><%= image_tag 'logo.jpg', alt: 'The Pragmatic Bookshelf' %>
            <h1><%= @page_title %>
            </h1>
        </header>
        <section class="content">
            <nav class="side_nav">
              <% if @cart%>

              <div id="cart" class ="carts">
                <%= render_if @cart && @cart.line_items.any?, @cart%>
              </div>
              <% end %>  
                <ul>
                    <li>
                        <a href="/">Home</a>
                    </li>
                    <li>
                        <a href="/questions">Questions</a>
                    </li>
                    <li>
                        <a href="/news">News</a>
                    </li>
                    <li>
                        <a href="/contact">Contact</a>
                    </li>
                </ul>

                <% if session[:user_id] %>
<nav class="logged_in_nav">
<ul>
<li><%= link_to 'Orders',
orders_path
%></li>
<li><%= link_to 'Products', products_path %></li>
<li><%= link_to 'Users',
users_path
%></li>
<li><%= button_to 'Logout', logout_path, method: :delete
</ul>
</nav>
<% end %>

            </nav>
            <main class='<%= controller.controller_name %>'><%= yield %>
            </main>
        </section>
    </body>
</html>
):
1:    <html>
2:        <head>
3:            <title>Pragprog Books Online Store</title><%= csrf_meta_tags %><%= stylesheet_link_tag 'application', media: 'all',
4:    'data-turbolinks-track': 'reload' %><%= javascript_pack_tag 'application', 'data-turbolinks-track': 'reload' %>
5:        </head>
6:        <body>
7:            <header class="main"><%= image_tag 'logo.jpg', alt: 'The Pragmatic Bookshelf' %>
8:                <h1><%= @page_title %>
9:                </h1>
10:            </header>
11:            <section class="content">
12:                <nav class="side_nav">
13:                  <% if @cart%>
14:    
15:                  <div id="cart" class ="carts">
16:                    <%= render_if @cart && @cart.line_items.any?, @cart%>
17:                  </div>
18:                  <% end %>  
19:                    <ul>
20:                        <li>
21:                            <a href="/">Home</a>
22:                        </li>
23:                        <li>
24:                            <a href="/questions">Questions</a>
25:                        </li>
26:                        <li>
27:                            <a href="/news">News</a>
28:                        </li>
29:                        <li>
30:                            <a href="/contact">Contact</a>
31:                        </li>
32:                    </ul>
33:    
34:                    <% if session[:user_id] %>
35:    <nav class="logged_in_nav">
36:    <ul>
37:    <li><%= link_to 'Orders',
38:    orders_path
39:    %></li>
40:    <li><%= link_to 'Products', products_path %></li>
41:    <li><%= link_to 'Users',
42:    users_path
43:    %></li>
44:    <li><%= button_to 'Logout', logout_path, method: :delete
45:    </ul>
46:    </nav>
47:    <% end %>
48:    
49:                </nav>
50:                <main class='<%= controller.controller_name %>'><%= yield %>
51:                </main>
52:            </section>
53:        </body>
54:    </html>
  
app/views/layouts/application.html.erb:45: syntax error, unexpected '<', expecting ')'
app/views/layouts/application.html.erb:46: unknown regexp options - av
app/views/layouts/application.html.erb:47: syntax error, unexpected '<'
app/views/layouts/application.html.erb:56: syntax error, unexpected end-of-input, expecting `end'
app/views/layouts/application.html.erb:45: syntax error, unexpected '<', expecting ')'
app/views/layouts/application.html.erb:46: unknown regexp options - av
app/views/layouts/application.html.erb:47: syntax error, unexpected '<'
app/views/layouts/application.html.erb:56: syntax error, unexpected end-of-input, expecting `end'
app/views/layouts/application.html.erb:45: syntax error, unexpected '<', expecting ')'
app/views/layouts/application.html.erb:46: unknown regexp options - av
app/views/layouts/application.html.erb:47: syntax error, unexpected '<'
app/views/layouts/application.html.erb:56: syntax error, unexpected end-of-input, expecting `end'
app/views/layouts/application.html.erb:45: syntax error, unexpected '<', expecting ')'
app/views/layouts/application.html.erb:46: unknown regexp options - av
app/views/layouts/application.html.erb:47: syntax error, unexpected '<'
app/views/layouts/application.html.erb:56: syntax error, unexpected end-of-input, expecting `end'
app/views/layouts/application.html.erb:45: syntax error, unexpected '<', expecting ')'
app/views/layouts/application.html.erb:46: unknown regexp options - av
app/views/layouts/application.html.erb:47: syntax error, unexpected '<'
app/views/layouts/application.html.erb:56: syntax error, unexpected end-of-input, expecting `end'
app/views/layouts/application.html.erb:45: syntax error, unexpected '<', expecting ')'
app/views/layouts/application.html.erb:46: unknown regexp options - av
app/views/layouts/application.html.erb:47: syntax error, unexpected '<'
app/views/layouts/application.html.erb:56: syntax error, unexpected end-of-input, expecting `end'
Finished "/cable/" [WebSocket] for ::1 at 2020-07-16 15:17:30 +0700
ProductsChannel stopped streaming from products
Started GET "/" for ::1 at 2020-07-16 15:20:08 +0700
Processing by StoreController#index as HTML
  [1m[36mCart Load (1.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 74], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 40.4ms | Allocations: 3498)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (1.9ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 74], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:16
Completed 200 OK in 123ms (Views: 107.7ms | ActiveRecord: 3.3ms | Allocations: 10112)


Started GET "/cable" for ::1 at 2020-07-16 15:20:08 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-16 15:20:08 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/" for ::1 at 2020-07-16 15:20:21 +0700
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 74], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 18.6ms | Allocations: 3203)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 74], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:16
Completed 200 OK in 43ms (Views: 36.9ms | ActiveRecord: 0.9ms | Allocations: 8702)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-16 15:20:21 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-16 15:20:21 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-16 15:20:21 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/" for ::1 at 2020-07-16 15:20:33 +0700
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 74], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 38.8ms | Allocations: 3194)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 74], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:16
Completed 200 OK in 87ms (Views: 78.9ms | ActiveRecord: 1.5ms | Allocations: 8674)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-16 15:20:33 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-16 15:20:33 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-16 15:20:33 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/sessions/new" for ::1 at 2020-07-16 15:20:47 +0700
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 36.4ms | Allocations: 1198)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 48ms (Views: 47.3ms | ActiveRecord: 0.0ms | Allocations: 6047)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-16 15:20:47 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-16 15:20:47 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-16 15:20:47 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/sessions/create" for ::1 at 2020-07-16 15:21:43 +0700
Processing by SessionsController#create as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."name" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  ↳ app/controllers/sessions_controller.rb:7:in `create'
Redirected to http://localhost:3000/login
Completed 302 Found in 35ms (ActiveRecord: 0.4ms | Allocations: 3067)


Started GET "/login" for ::1 at 2020-07-16 15:21:43 +0700
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.9ms | Allocations: 315)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 16ms (Views: 14.2ms | ActiveRecord: 0.0ms | Allocations: 4582)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-16 15:21:43 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-16 15:21:43 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-16 15:21:43 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/login" for ::1 at 2020-07-16 15:22:55 +0700
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 2.1ms | Allocations: 310)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 19ms (Views: 17.1ms | ActiveRecord: 0.0ms | Allocations: 4591)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-16 15:22:55 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-16 15:22:55 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-16 15:22:55 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/" for ::1 at 2020-07-16 15:22:57 +0700
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 74], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 19.5ms | Allocations: 3206)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 74], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:16
Completed 200 OK in 49ms (Views: 43.4ms | ActiveRecord: 1.4ms | Allocations: 8688)


Started GET "/" for ::1 at 2020-07-16 15:23:45 +0700
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 74], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 10.5ms | Allocations: 3194)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 74], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:16
Completed 200 OK in 140ms (Views: 136.7ms | ActiveRecord: 0.9ms | Allocations: 8673)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-16 15:23:45 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-16 15:23:45 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-16 15:23:45 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/" for ::1 at 2020-07-16 15:23:45 +0700
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 74], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 22.3ms | Allocations: 3194)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 74], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:16
Completed 200 OK in 51ms (Views: 45.8ms | ActiveRecord: 1.0ms | Allocations: 8674)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-16 15:23:45 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-16 15:23:45 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-16 15:23:45 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/" for ::1 at 2020-07-16 15:23:46 +0700
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 74], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 9.6ms | Allocations: 3194)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 74], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:16
Completed 200 OK in 28ms (Views: 24.7ms | ActiveRecord: 0.7ms | Allocations: 8690)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-16 15:23:46 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-16 15:23:46 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-16 15:23:46 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/" for ::1 at 2020-07-16 15:23:46 +0700
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.6ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 74], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 23.2ms | Allocations: 3202)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 74], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:16
Completed 200 OK in 46ms (Views: 37.7ms | ActiveRecord: 1.1ms | Allocations: 8707)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-16 15:23:46 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-16 15:23:46 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-16 15:23:46 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/" for ::1 at 2020-07-16 15:23:46 +0700
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 74], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 24.6ms | Allocations: 3199)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 74], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:16
Completed 200 OK in 56ms (Views: 50.8ms | ActiveRecord: 1.5ms | Allocations: 8696)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-16 15:23:46 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-16 15:23:46 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-16 15:23:46 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/" for ::1 at 2020-07-16 15:23:46 +0700
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.6ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 74], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 23.0ms | Allocations: 3201)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 74], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:16
Completed 200 OK in 63ms (Views: 54.0ms | ActiveRecord: 1.5ms | Allocations: 8696)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-16 15:23:46 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-16 15:23:46 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-16 15:23:46 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/" for ::1 at 2020-07-16 15:25:15 +0700
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 74], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 24.6ms | Allocations: 3490)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 74], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:16
Completed 200 OK in 324ms (Views: 318.6ms | ActiveRecord: 1.0ms | Allocations: 24800)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-16 15:25:15 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-16 15:25:15 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-16 15:25:15 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/" for ::1 at 2020-07-16 15:25:16 +0700
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 74], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 8.3ms | Allocations: 3205)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 74], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:16
Completed 200 OK in 27ms (Views: 23.5ms | ActiveRecord: 0.5ms | Allocations: 8686)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-16 15:25:16 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-16 15:25:16 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-16 15:25:16 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/" for ::1 at 2020-07-16 15:25:16 +0700
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 74], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 22.4ms | Allocations: 3196)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 74], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:16
Completed 200 OK in 44ms (Views: 38.2ms | ActiveRecord: 0.9ms | Allocations: 8691)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-16 15:25:16 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-16 15:25:16 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-16 15:25:16 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/" for ::1 at 2020-07-16 15:25:16 +0700
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 74], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 13.3ms | Allocations: 3200)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 74], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:16
Completed 200 OK in 31ms (Views: 25.5ms | ActiveRecord: 1.1ms | Allocations: 8672)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-16 15:25:16 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-16 15:25:16 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-16 15:25:16 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/cable" for ::1 at 2020-07-16 15:26:02 +0700
  [1m[35m (5.8ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-16 15:26:02 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/" for ::1 at 2020-07-16 15:26:03 +0700
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 74], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 1250.9ms | Allocations: 32068)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 74], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:16
Completed 200 OK in 1421ms (Views: 1326.0ms | ActiveRecord: 4.1ms | Allocations: 55122)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-16 15:26:05 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-16 15:26:05 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-16 15:26:05 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/session/destroy" for ::1 at 2020-07-16 15:26:26 +0700
  
ActionController::RoutingError (No route matches [GET] "/session/destroy"):
  
actionpack (6.0.3.2) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
web-console (4.0.3) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.3) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.3) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.3) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.3.2) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.3.2) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.3.2) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.3.2) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.3.2) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.3.2) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.3) lib/rack/method_override.rb:24:in `call'
rack (2.2.3) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.3.2) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.3) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
webpacker (4.2.2) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.3.2) lib/rails/engine.rb:527:in `call'
puma (4.3.5) lib/puma/configuration.rb:228:in `call'
puma (4.3.5) lib/puma/server.rb:713:in `handle_request'
puma (4.3.5) lib/puma/server.rb:472:in `process_client'
puma (4.3.5) lib/puma/server.rb:328:in `block in run'
puma (4.3.5) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Finished "/cable/" [WebSocket] for ::1 at 2020-07-16 15:26:26 +0700
ProductsChannel stopped streaming from products
Started GET "/sessions/destroy" for ::1 at 2020-07-16 15:26:32 +0700
Processing by SessionsController#destroy as HTML
Redirected to http://localhost:3000/
Completed 302 Found in 2ms (ActiveRecord: 0.0ms | Allocations: 356)


Started GET "/" for ::1 at 2020-07-16 15:26:32 +0700
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 74], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (1.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 14.4ms | Allocations: 3249)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 74], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:16
Completed 200 OK in 33ms (Views: 28.0ms | ActiveRecord: 1.4ms | Allocations: 8887)


Started GET "/cable" for ::1 at 2020-07-16 15:26:32 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-16 15:26:32 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "dave"], ["LIMIT", 1]]
  [1m[36mUser Create (170.2ms)[0m  [1m[32mINSERT INTO "users" ("name", "password_digest", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["name", "dave"], ["password_digest", "$2a$12$lvn587rBWqFtTyBBqHaWFu8Y2I26reGkVbb9NXcV.t/gL5WjT7N8W"], ["created_at", "2020-07-16 08:27:36.308289"], ["updated_at", "2020-07-16 08:27:36.308289"]]
  [1m[35m (115.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started GET "/cable" for ::1 at 2020-07-16 15:32:51 +0700
  [1m[35m (0.9ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-16 15:32:51 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/" for ::1 at 2020-07-16 15:32:55 +0700
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 74], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 573.0ms | Allocations: 13791)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 74], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:16
Completed 200 OK in 858ms (Views: 647.4ms | ActiveRecord: 5.6ms | Allocations: 30049)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-16 15:32:56 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-16 15:32:56 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-16 15:32:56 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/users" for ::1 at 2020-07-16 15:33:01 +0700
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:8:in `authorize'
Redirected to http://localhost:3000/login
Filter chain halted as :authorize rendered or redirected
Completed 302 Found in 59ms (ActiveRecord: 1.0ms | Allocations: 1856)


Started GET "/login" for ::1 at 2020-07-16 15:33:01 +0700
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 5.5ms | Allocations: 1232)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 29ms (Views: 26.1ms | ActiveRecord: 0.0ms | Allocations: 6127)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-16 15:33:01 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-16 15:33:01 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-16 15:33:01 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/products" for ::1 at 2020-07-16 15:33:09 +0700
Processing by ProductsController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:8:in `authorize'
Redirected to http://localhost:3000/login
Filter chain halted as :authorize rendered or redirected
Completed 302 Found in 6ms (ActiveRecord: 0.2ms | Allocations: 1069)


Started GET "/login" for ::1 at 2020-07-16 15:33:10 +0700
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.7ms | Allocations: 312)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 8ms (Views: 7.4ms | ActiveRecord: 0.0ms | Allocations: 4581)


Started GET "/products/users" for ::1 at 2020-07-16 15:33:16 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"users"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:8:in `authorize'
Redirected to http://localhost:3000/login
Filter chain halted as :authorize rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.1ms | Allocations: 982)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-16 15:33:16 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-16 15:33:16 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-16 15:33:16 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/login" for ::1 at 2020-07-16 15:36:24 +0700
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.0ms | Allocations: 313)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 22ms (Views: 21.1ms | ActiveRecord: 0.0ms | Allocations: 4611)


Started GET "/cable" for ::1 at 2020-07-16 15:36:25 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-16 15:36:25 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for ::1 at 2020-07-16 15:36:28 +0700
ProductsChannel stopped streaming from products
Started GET "/products" for ::1 at 2020-07-16 15:36:36 +0700
Processing by ProductsController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:8:in `authorize'
Redirected to http://localhost:3000/login
Filter chain halted as :authorize rendered or redirected
Completed 302 Found in 5ms (ActiveRecord: 0.2ms | Allocations: 977)


Started GET "/login" for ::1 at 2020-07-16 15:36:36 +0700
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.9ms | Allocations: 310)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 12ms (Views: 10.7ms | ActiveRecord: 0.0ms | Allocations: 4584)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-16 15:36:37 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-16 15:36:37 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-16 15:36:37 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/products" for ::1 at 2020-07-16 15:36:42 +0700
Processing by ProductsController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:8:in `authorize'
Redirected to http://localhost:3000/login
Filter chain halted as :authorize rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.1ms | Allocations: 980)


Started GET "/login" for ::1 at 2020-07-16 15:36:42 +0700
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.7ms | Allocations: 311)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 11ms (Views: 9.2ms | ActiveRecord: 0.0ms | Allocations: 4589)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-16 15:36:44 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-16 15:36:44 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-16 15:36:44 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/products" for ::1 at 2020-07-16 15:36:50 +0700
Processing by ProductsController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:8:in `authorize'
Redirected to http://localhost:3000/login
Filter chain halted as :authorize rendered or redirected
Completed 302 Found in 4ms (ActiveRecord: 0.2ms | Allocations: 974)


Started GET "/login" for ::1 at 2020-07-16 15:36:50 +0700
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.1ms | Allocations: 310)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 8ms (Views: 7.8ms | ActiveRecord: 0.0ms | Allocations: 4582)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-16 15:36:52 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-16 15:36:52 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-16 15:36:52 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/" for ::1 at 2020-07-16 15:36:57 +0700
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 74], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 12.0ms | Allocations: 3211)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 74], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:16
Completed 200 OK in 38ms (Views: 34.2ms | ActiveRecord: 1.2ms | Allocations: 8696)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-16 15:36:57 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-16 15:36:57 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-16 15:36:57 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started POST "/line_items?product_id=4" for ::1 at 2020-07-16 15:37:03 +0700
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"mvNrvTVhaHOmrgJXTvZS0MhOaE2Qugd/+omdOg84yTxYRJ/gQWrjhXNHQQ1/ATsy45UrjCQwlwuMVlHfH10f0w==", "product_id"=>"4"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 74], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:30:in `create'
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 74], ["product_id", 4], ["LIMIT", 1]]
  ↳ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/line_items_controller.rb:36:in `block in create'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:36:in `block in create'
  [1m[36mLineItem Create (246.0ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 4], ["cart_id", 74], ["created_at", "2020-07-16 08:37:03.972711"], ["updated_at", "2020-07-16 08:37:03.972711"]]
  ↳ app/controllers/line_items_controller.rb:36:in `block in create'
  [1m[35m (730.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/line_items_controller.rb:36:in `block in create'
Started POST "/line_items?product_id=4" for ::1 at 2020-07-16 15:37:04 +0700
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"mvNrvTVhaHOmrgJXTvZS0MhOaE2Qugd/+omdOg84yTxYRJ/gQWrjhXNHQQ1/ATsy45UrjCQwlwuMVlHfH10f0w==", "product_id"=>"4"}
  Rendering line_items/create.js.erb
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 74], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:30:in `create'
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 74], ["product_id", 4], ["LIMIT", 1]]
  ↳ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/line_items_controller.rb:36:in `block in create'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:36:in `block in create'
  [1m[36mLineItem Update (0.5ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 2], ["updated_at", "2020-07-16 08:37:05.002704"], ["id", 88]]
  ↳ app/controllers/line_items_controller.rb:36:in `block in create'
  [1m[35m (331.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/line_items_controller.rb:36:in `block in create'
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 74]]
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 74]]
  ↳ app/views/carts/_cart.html.erb:8
  ↳ app/views/carts/_cart.html.erb:8
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 6.1ms | Allocations: 341)
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  Rendered carts/_cart.html.erb (Duration: 55.1ms | Allocations: 3562)
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered line_items/create.js.erb (Duration: 415.1ms | Allocations: 10989)
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 15.6ms | Allocations: 1763)
Completed 200 OK in 1553ms (Views: 436.4ms | ActiveRecord: 979.5ms | Allocations: 27363)


  Rendered carts/_cart.html.erb (Duration: 61.8ms | Allocations: 4521)
  Rendered line_items/create.js.erb (Duration: 64.7ms | Allocations: 4989)
Completed 200 OK in 428ms (Views: 65.9ms | ActiveRecord: 334.2ms | Allocations: 12462)


Started GET "/orders/new" for ::1 at 2020-07-16 15:37:09 +0700
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 74], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 74], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:120:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 79.8ms | Allocations: 2177)
  Rendered orders/new.html.erb within layouts/application (Duration: 93.7ms | Allocations: 2507)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mCACHE LineItem Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 74], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:16
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 74]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 3.4ms | Allocations: 891)
  Rendered carts/_cart.html.erb (Duration: 8.6ms | Allocations: 2155)
Completed 200 OK in 220ms (Views: 127.1ms | ActiveRecord: 16.9ms | Allocations: 16936)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-16 15:37:09 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-16 15:37:09 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-16 15:37:09 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/orders" for ::1 at 2020-07-16 15:37:19 +0700
Processing by OrdersController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:8:in `authorize'
Redirected to http://localhost:3000/login
Filter chain halted as :authorize rendered or redirected
Completed 302 Found in 6ms (ActiveRecord: 0.5ms | Allocations: 1019)


Started GET "/login" for ::1 at 2020-07-16 15:37:19 +0700
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.0ms | Allocations: 319)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 14ms (Views: 12.5ms | ActiveRecord: 0.0ms | Allocations: 4603)


Started POST "/login" for ::1 at 2020-07-16 15:37:30 +0700
Processing by SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"yty7WJkYcX/Y2xe2oEc9mKQbRJjQCgJzQ3t8iHfk0owI/4Eb444v+jQ12MKT73OY/WDjBVpXVbSf6z27M4iFxA==", "name"=>"khanh", "password"=>"[FILTERED]", "commit"=>"Login"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "khanh"], ["LIMIT", 1]]
  ↳ app/controllers/sessions_controller.rb:7:in `create'
Redirected to http://localhost:3000/login
Completed 302 Found in 3ms (ActiveRecord: 0.2ms | Allocations: 1003)


Started GET "/login" for ::1 at 2020-07-16 15:37:30 +0700
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.6ms | Allocations: 315)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 8ms (Views: 7.0ms | ActiveRecord: 0.0ms | Allocations: 4587)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-16 15:37:30 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-16 15:37:30 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-16 15:37:30 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/news" for ::1 at 2020-07-16 15:37:41 +0700
  
ActionController::RoutingError (No route matches [GET] "/news"):
  
actionpack (6.0.3.2) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
web-console (4.0.3) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.3) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.3) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.3) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.3.2) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.3.2) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.3.2) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.3.2) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.3.2) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.3.2) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.3) lib/rack/method_override.rb:24:in `call'
rack (2.2.3) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.3.2) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.3) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
webpacker (4.2.2) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.3.2) lib/rails/engine.rb:527:in `call'
puma (4.3.5) lib/puma/configuration.rb:228:in `call'
puma (4.3.5) lib/puma/server.rb:713:in `handle_request'
puma (4.3.5) lib/puma/server.rb:472:in `process_client'
puma (4.3.5) lib/puma/server.rb:328:in `block in run'
puma (4.3.5) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Finished "/cable/" [WebSocket] for ::1 at 2020-07-16 15:37:41 +0700
ProductsChannel stopped streaming from products
Started GET "/wiblle" for ::1 at 2020-07-16 15:37:52 +0700
  
ActionController::RoutingError (No route matches [GET] "/wiblle"):
  
actionpack (6.0.3.2) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
web-console (4.0.3) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.3) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.3) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.3) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.3.2) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.3.2) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.3.2) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.3.2) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.3.2) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.3.2) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.3) lib/rack/method_override.rb:24:in `call'
rack (2.2.3) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.3.2) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.3) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
webpacker (4.2.2) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.3.2) lib/rails/engine.rb:527:in `call'
puma (4.3.5) lib/puma/configuration.rb:228:in `call'
puma (4.3.5) lib/puma/server.rb:713:in `handle_request'
puma (4.3.5) lib/puma/server.rb:472:in `process_client'
puma (4.3.5) lib/puma/server.rb:328:in `block in run'
puma (4.3.5) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/wiblles" for ::1 at 2020-07-16 15:37:55 +0700
  
ActionController::RoutingError (No route matches [GET] "/wiblles"):
  
actionpack (6.0.3.2) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
web-console (4.0.3) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.3) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.3) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.3) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.3.2) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.3.2) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.3.2) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.3.2) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.3.2) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.3.2) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.3) lib/rack/method_override.rb:24:in `call'
rack (2.2.3) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.3.2) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.3) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
webpacker (4.2.2) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.3.2) lib/rails/engine.rb:527:in `call'
puma (4.3.5) lib/puma/configuration.rb:228:in `call'
puma (4.3.5) lib/puma/server.rb:713:in `handle_request'
puma (4.3.5) lib/puma/server.rb:472:in `process_client'
puma (4.3.5) lib/puma/server.rb:328:in `block in run'
puma (4.3.5) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/" for ::1 at 2020-07-16 15:38:01 +0700
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 74], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 20.2ms | Allocations: 3265)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 74], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:16
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 74]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 5.2ms | Allocations: 891)
  Rendered carts/_cart.html.erb (Duration: 10.1ms | Allocations: 2038)
Completed 200 OK in 64ms (Views: 58.3ms | ActiveRecord: 2.0ms | Allocations: 10953)


Started GET "/cable" for ::1 at 2020-07-16 15:38:01 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-16 15:38:01 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/" for ::1 at 2020-07-16 15:44:43 +0700
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by StoreController#index as HTML
  [1m[36mCart Load (2.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 74], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 23.7ms | Allocations: 6489)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 74], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:16
  [1m[36mLineItem Load (0.7ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 74]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 5.2ms | Allocations: 1656)
  Rendered carts/_cart.html.erb (Duration: 22.9ms | Allocations: 6914)
Completed 200 OK in 97ms (Views: 63.4ms | ActiveRecord: 4.0ms | Allocations: 24602)


Started GET "/cable" for ::1 at 2020-07-16 15:44:43 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-16 15:44:43 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/products" for ::1 at 2020-07-16 15:44:46 +0700
Processing by ProductsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:8:in `authorize'
Redirected to http://localhost:3000/login
Filter chain halted as :authorize rendered or redirected
Completed 302 Found in 5ms (ActiveRecord: 0.3ms | Allocations: 1633)


Started GET "/login" for ::1 at 2020-07-16 15:44:46 +0700
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 3.2ms | Allocations: 962)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 22ms (Views: 20.4ms | ActiveRecord: 0.0ms | Allocations: 5479)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-16 15:44:48 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-16 15:44:48 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-16 15:44:48 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/login" for ::1 at 2020-07-16 15:46:53 +0700
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.6ms | Allocations: 310)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 28ms (Views: 25.8ms | ActiveRecord: 0.0ms | Allocations: 4590)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-16 15:46:53 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-16 15:46:53 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-16 15:46:53 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/products" for ::1 at 2020-07-16 15:46:57 +0700
Processing by ProductsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:8:in `authorize'
Redirected to http://localhost:3000/login
Filter chain halted as :authorize rendered or redirected
Completed 302 Found in 9ms (ActiveRecord: 0.3ms | Allocations: 989)


Started GET "/login" for ::1 at 2020-07-16 15:46:57 +0700
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.1ms | Allocations: 310)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 12ms (Views: 10.4ms | ActiveRecord: 0.0ms | Allocations: 4580)


Started GET "/login" for ::1 at 2020-07-16 15:46:58 +0700
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 2.4ms | Allocations: 310)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 22ms (Views: 19.7ms | ActiveRecord: 0.0ms | Allocations: 4580)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-16 15:46:59 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-16 15:46:59 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-16 15:46:59 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/login" for ::1 at 2020-07-16 15:47:52 +0700
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 2.4ms | Allocations: 310)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 28ms (Views: 26.2ms | ActiveRecord: 0.0ms | Allocations: 4561)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-16 15:47:52 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-16 15:47:52 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-16 15:47:52 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/products" for ::1 at 2020-07-16 15:47:57 +0700
Processing by ProductsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:8:in `authorize'
Redirected to http://localhost:3000/login
Filter chain halted as :authorize rendered or redirected
Completed 302 Found in 6ms (ActiveRecord: 0.4ms | Allocations: 988)


Started GET "/login" for ::1 at 2020-07-16 15:47:58 +0700
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.3ms | Allocations: 310)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 16ms (Views: 14.8ms | ActiveRecord: 0.0ms | Allocations: 4606)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-16 15:47:58 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-16 15:47:58 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-16 15:47:58 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/" for ::1 at 2020-07-16 15:48:25 +0700
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 74], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 17.2ms | Allocations: 3203)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 74], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:16
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 74]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 3.6ms | Allocations: 891)
  Rendered carts/_cart.html.erb (Duration: 7.8ms | Allocations: 2029)
Completed 200 OK in 52ms (Views: 46.3ms | ActiveRecord: 1.4ms | Allocations: 10791)


Started DELETE "/carts/74" for ::1 at 2020-07-16 15:48:30 +0700
Processing by CartsController#destroy as HTML
  Parameters: {"authenticity_token"=>"HMDYpEzB4dlz5ucAbV+KiXNINCIB7/+zP81EoKElEWxqL5+3pgVnl8GYWRrUay5m6TXJiKUF+RhZ5XOjXwIMzA==", "id"=>"74"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 74], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:80:in `set_cart'
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/carts_controller.rb:66:in `destroy'
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 74]]
  ↳ app/controllers/carts_controller.rb:66:in `destroy'
  [1m[36mLineItem Destroy (166.1ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 88]]
  ↳ app/controllers/carts_controller.rb:66:in `destroy'
  [1m[36mCart Destroy (0.4ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 74]]
  ↳ app/controllers/carts_controller.rb:66:in `destroy'
  [1m[35m (92.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/carts_controller.rb:66:in `destroy'
Redirected to http://localhost:3000/
Completed 302 Found in 296ms (ActiveRecord: 259.9ms | Allocations: 6177)


Started GET "/" for ::1 at 2020-07-16 15:48:30 +0700
Processing by StoreController#index as HTML
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[36mCart Create (12.0ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2020-07-16 08:48:30.873669"], ["updated_at", "2020-07-16 08:48:30.873669"]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[35m (110.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 26.4ms | Allocations: 3211)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 75], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:16
Completed 200 OK in 193ms (Views: 44.8ms | ActiveRecord: 123.5ms | Allocations: 11946)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-16 15:48:31 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-16 15:48:31 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-16 15:48:31 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/" for ::1 at 2020-07-16 15:49:56 +0700
Processing by StoreController#index as HTML
  [1m[36mCart Load (20.8ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 75], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 13.9ms | Allocations: 3196)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 75], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:16
Completed 200 OK in 4118ms (Views: 4091.8ms | ActiveRecord: 21.4ms | Allocations: 29151)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-16 15:50:01 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-16 15:50:01 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-16 15:50:01 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/" for ::1 at 2020-07-16 15:52:02 +0700
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by StoreController#index as HTML
  [1m[36mCart Load (31.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 75], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (17.8ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 53.7ms | Allocations: 6615)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (20.9ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 75], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:16
Completed 200 OK in 255ms (Views: 73.0ms | ActiveRecord: 74.4ms | Allocations: 18321)


Started GET "/cable" for ::1 at 2020-07-16 15:52:03 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-16 15:52:03 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/products" for ::1 at 2020-07-16 15:52:06 +0700
Processing by ProductsController#index as HTML
  [1m[36mUser Load (10.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:8:in `authorize'
Redirected to http://localhost:3000/login
Filter chain halted as :authorize rendered or redirected
Completed 302 Found in 32ms (ActiveRecord: 11.0ms | Allocations: 1773)


Started GET "/login" for ::1 at 2020-07-16 15:52:06 +0700
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 3.3ms | Allocations: 961)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 18ms (Views: 16.0ms | ActiveRecord: 0.0ms | Allocations: 5591)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-16 15:52:08 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-16 15:52:08 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-16 15:52:08 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/sessions/destroy" for ::1 at 2020-07-16 15:52:16 +0700
Processing by SessionsController#destroy as HTML
Redirected to http://localhost:3000/
Completed 302 Found in 2ms (ActiveRecord: 0.0ms | Allocations: 303)


Started GET "/" for ::1 at 2020-07-16 15:52:16 +0700
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 75], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 19.8ms | Allocations: 3211)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 75], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:16
Completed 200 OK in 34ms (Views: 29.3ms | ActiveRecord: 0.5ms | Allocations: 8723)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-16 15:52:16 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-16 15:52:16 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-16 15:52:16 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/" for ::1 at 2020-07-16 15:53:14 +0700
  [1m[35m (0.7ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 75], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 24.3ms | Allocations: 6615)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 75], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:16
Completed 200 OK in 79ms (Views: 56.3ms | ActiveRecord: 3.8ms | Allocations: 18329)


Started GET "/cable" for ::1 at 2020-07-16 15:53:14 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-16 15:53:14 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/products" for ::1 at 2020-07-16 15:53:16 +0700
Processing by ProductsController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:17:in `authorize'
Redirected to http://localhost:3000/login
Filter chain halted as :authorize rendered or redirected
Completed 302 Found in 5ms (ActiveRecord: 0.5ms | Allocations: 1771)


Started GET "/login" for ::1 at 2020-07-16 15:53:16 +0700
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.9ms | Allocations: 961)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 12ms (Views: 10.5ms | ActiveRecord: 0.0ms | Allocations: 5462)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-16 15:53:19 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-16 15:53:19 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-16 15:53:19 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/login" for ::1 at 2020-07-16 15:54:30 +0700
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.0ms | Allocations: 310)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 14ms (Views: 12.7ms | ActiveRecord: 0.0ms | Allocations: 4573)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-16 15:54:30 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-16 15:54:30 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-16 15:54:30 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/products" for ::1 at 2020-07-16 15:54:34 +0700
Processing by ProductsController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:17:in `authorize'
Redirected to http://localhost:3000/login
Filter chain halted as :authorize rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.1ms | Allocations: 974)


Started GET "/login" for ::1 at 2020-07-16 15:54:36 +0700
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.7ms | Allocations: 310)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 8ms (Views: 7.3ms | ActiveRecord: 0.0ms | Allocations: 4594)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-16 15:54:36 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-16 15:54:36 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-16 15:54:36 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/" for ::1 at 2020-07-16 15:56:55 +0700
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 75], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 61.7ms | Allocations: 6902)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 75], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:16
Completed 200 OK in 246ms (Views: 223.9ms | ActiveRecord: 3.9ms | Allocations: 19561)


Started GET "/products" for ::1 at 2020-07-16 15:56:58 +0700
Processing by ProductsController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:17:in `authorize'
Redirected to http://localhost:3000/login
Filter chain halted as :authorize rendered or redirected
Completed 302 Found in 6ms (ActiveRecord: 0.6ms | Allocations: 1770)


Started GET "/login" for ::1 at 2020-07-16 15:56:58 +0700
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 37.6ms | Allocations: 1186)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 56ms (Views: 54.8ms | ActiveRecord: 0.0ms | Allocations: 6086)


Started GET "/cable" for ::1 at 2020-07-16 15:57:00 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-16 15:57:00 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/login" for ::1 at 2020-07-16 15:58:32 +0700
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 2.2ms | Allocations: 310)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 30ms (Views: 27.8ms | ActiveRecord: 0.0ms | Allocations: 4558)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-16 15:58:32 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-16 15:58:32 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-16 15:58:32 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/login" for ::1 at 2020-07-16 15:58:32 +0700
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 2.2ms | Allocations: 310)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 43ms (Views: 40.4ms | ActiveRecord: 0.0ms | Allocations: 4573)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-16 15:58:32 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-16 15:58:32 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-16 15:58:32 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/login" for ::1 at 2020-07-16 15:58:33 +0700
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 2.9ms | Allocations: 310)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 36ms (Views: 33.8ms | ActiveRecord: 0.0ms | Allocations: 4557)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-16 15:58:33 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-16 15:58:33 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-16 15:58:33 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/" for ::1 at 2020-07-16 15:58:33 +0700
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 75], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (1.0ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 35.1ms | Allocations: 3209)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 75], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:16
Completed 200 OK in 77ms (Views: 67.4ms | ActiveRecord: 1.9ms | Allocations: 8723)


Started GET "/" for ::1 at 2020-07-16 15:59:44 +0700
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 75], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 19.5ms | Allocations: 3194)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 75], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:16
Completed 200 OK in 45ms (Views: 40.5ms | ActiveRecord: 1.3ms | Allocations: 8680)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-16 15:59:44 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-16 15:59:44 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-16 15:59:44 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/" for ::1 at 2020-07-16 15:59:44 +0700
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 75], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 22.4ms | Allocations: 3194)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 75], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:16
Completed 200 OK in 51ms (Views: 44.6ms | ActiveRecord: 1.2ms | Allocations: 8704)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-16 15:59:44 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-16 15:59:44 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-16 15:59:44 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/" for ::1 at 2020-07-16 15:59:44 +0700
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.9ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 75], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.8ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 21.8ms | Allocations: 3205)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 75], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:16
Completed 200 OK in 48ms (Views: 39.0ms | ActiveRecord: 2.0ms | Allocations: 8697)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-16 15:59:44 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-16 15:59:44 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-16 15:59:44 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/" for ::1 at 2020-07-16 15:59:45 +0700
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 75], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 16.0ms | Allocations: 3194)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 75], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:16
Completed 200 OK in 37ms (Views: 33.1ms | ActiveRecord: 0.7ms | Allocations: 8683)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-16 15:59:45 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-16 15:59:45 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-16 15:59:45 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/" for ::1 at 2020-07-16 15:59:45 +0700
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 75], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 15.9ms | Allocations: 3194)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 75], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:16
Completed 200 OK in 38ms (Views: 32.3ms | ActiveRecord: 0.8ms | Allocations: 8668)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-16 15:59:45 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-16 15:59:45 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-16 15:59:45 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/" for ::1 at 2020-07-16 15:59:45 +0700
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 75], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 12.7ms | Allocations: 3194)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 75], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:16
Completed 200 OK in 34ms (Views: 28.5ms | ActiveRecord: 0.6ms | Allocations: 8668)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-16 15:59:45 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-16 15:59:45 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-16 15:59:45 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/products" for ::1 at 2020-07-16 15:59:47 +0700
Processing by ProductsController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:17:in `authorize'
Redirected to http://localhost:3000/login
Filter chain halted as :authorize rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.1ms | Allocations: 966)


Started GET "/login" for ::1 at 2020-07-16 15:59:47 +0700
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.7ms | Allocations: 310)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 9ms (Views: 7.9ms | ActiveRecord: 0.0ms | Allocations: 4582)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-16 15:59:49 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-16 15:59:49 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-16 15:59:49 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/users" for ::1 at 2020-07-16 16:01:25 +0700
  
SyntaxError (/home/khanh/Desktop/depot/app/controllers/users_controller.rb:76: syntax error, unexpected end-of-input, expecting `end'):
  
app/controllers/users_controller.rb:76: syntax error, unexpected end-of-input, expecting `end'
app/controllers/users_controller.rb:76: syntax error, unexpected end-of-input, expecting `end'
app/controllers/users_controller.rb:76: syntax error, unexpected end-of-input, expecting `end'
Finished "/cable/" [WebSocket] for ::1 at 2020-07-16 16:01:26 +0700
ProductsChannel stopped streaming from products
Started GET "/users" for ::1 at 2020-07-16 16:01:47 +0700
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  
SyntaxError (/home/khanh/Desktop/depot/app/controllers/users_controller.rb:76: syntax error, unexpected end-of-input, expecting `end'):
  
app/controllers/users_controller.rb:76: syntax error, unexpected end-of-input, expecting `end'
app/controllers/users_controller.rb:76: syntax error, unexpected end-of-input, expecting `end'
app/controllers/users_controller.rb:76: syntax error, unexpected end-of-input, expecting `end'
Started GET "/users" for ::1 at 2020-07-16 16:02:42 +0700
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  
SyntaxError (/home/khanh/Desktop/depot/app/controllers/users_controller.rb:76: syntax error, unexpected end-of-input, expecting `end'):
  
app/controllers/users_controller.rb:76: syntax error, unexpected end-of-input, expecting `end'
app/controllers/users_controller.rb:76: syntax error, unexpected end-of-input, expecting `end'
app/controllers/users_controller.rb:76: syntax error, unexpected end-of-input, expecting `end'
Started GET "/sessions/destroy" for ::1 at 2020-07-16 16:02:58 +0700
Processing by SessionsController#destroy as HTML
Redirected to http://localhost:3000/
Completed 302 Found in 1ms (ActiveRecord: 0.0ms | Allocations: 342)


Started GET "/" for ::1 at 2020-07-16 16:02:58 +0700
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 75], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 18.8ms | Allocations: 6619)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 75], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:16
Completed 200 OK in 43ms (Views: 27.5ms | ActiveRecord: 2.3ms | Allocations: 18361)


Started GET "/sessions/news" for ::1 at 2020-07-16 16:03:01 +0700
  
ActionController::RoutingError (No route matches [GET] "/sessions/news"):
  
actionpack (6.0.3.2) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
web-console (4.0.3) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.3) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.3) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.3) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.3.2) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.3.2) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.3.2) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.3.2) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.3.2) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.3.2) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.3) lib/rack/method_override.rb:24:in `call'
rack (2.2.3) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.3.2) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.3) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
webpacker (4.2.2) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.3.2) lib/rails/engine.rb:527:in `call'
puma (4.3.5) lib/puma/configuration.rb:228:in `call'
puma (4.3.5) lib/puma/server.rb:713:in `handle_request'
puma (4.3.5) lib/puma/server.rb:472:in `process_client'
puma (4.3.5) lib/puma/server.rb:328:in `block in run'
puma (4.3.5) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/sessions/new" for ::1 at 2020-07-16 16:03:05 +0700
  
ActionController::RoutingError (No route matches [GET] "/sessions/new"):
  
actionpack (6.0.3.2) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
web-console (4.0.3) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.3) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.3) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.3) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.3.2) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.3.2) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.3.2) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.3.2) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.3.2) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.3.2) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.3) lib/rack/method_override.rb:24:in `call'
rack (2.2.3) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.3.2) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.3) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
webpacker (4.2.2) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.3.2) lib/rails/engine.rb:527:in `call'
puma (4.3.5) lib/puma/configuration.rb:228:in `call'
puma (4.3.5) lib/puma/server.rb:713:in `handle_request'
puma (4.3.5) lib/puma/server.rb:472:in `process_client'
puma (4.3.5) lib/puma/server.rb:328:in `block in run'
puma (4.3.5) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/cable" for ::1 at 2020-07-16 16:03:14 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-16 16:03:14 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/view/admin" for ::1 at 2020-07-16 16:08:54 +0700
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  
ActionController::RoutingError (No route matches [GET] "/view/admin"):
  
actionpack (6.0.3.2) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
web-console (4.0.3) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.3) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.3) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.3) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.3.2) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.3.2) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.3.2) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.3.2) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.3.2) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.3.2) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.3) lib/rack/method_override.rb:24:in `call'
rack (2.2.3) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.3.2) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.3) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
webpacker (4.2.2) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.3.2) lib/rails/engine.rb:527:in `call'
puma (4.3.5) lib/puma/configuration.rb:228:in `call'
puma (4.3.5) lib/puma/server.rb:713:in `handle_request'
puma (4.3.5) lib/puma/server.rb:472:in `process_client'
puma (4.3.5) lib/puma/server.rb:328:in `block in run'
puma (4.3.5) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Finished "/cable/" [WebSocket] for ::1 at 2020-07-16 16:08:54 +0700
ProductsChannel stopped streaming from products
Started GET "/admin" for ::1 at 2020-07-16 16:09:01 +0700
Processing by AdminController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:17:in `authorize'
Redirected to http://localhost:3000/login
Filter chain halted as :authorize rendered or redirected
Completed 302 Found in 8ms (ActiveRecord: 0.9ms | Allocations: 1935)


Started GET "/login" for ::1 at 2020-07-16 16:09:01 +0700
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.8ms | Allocations: 947)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 15ms (Views: 14.0ms | ActiveRecord: 0.0ms | Allocations: 5408)


Started GET "/cable" for ::1 at 2020-07-16 16:09:01 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-16 16:09:01 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/session/new" for ::1 at 2020-07-16 16:10:58 +0700
  
ActionController::RoutingError (No route matches [GET] "/session/new"):
  
actionpack (6.0.3.2) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
web-console (4.0.3) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.3) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.3) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.3) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.3.2) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.3.2) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.3.2) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.3.2) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.3.2) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.3.2) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.3) lib/rack/method_override.rb:24:in `call'
rack (2.2.3) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.3.2) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.3) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
webpacker (4.2.2) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.3.2) lib/rails/engine.rb:527:in `call'
puma (4.3.5) lib/puma/configuration.rb:228:in `call'
puma (4.3.5) lib/puma/server.rb:713:in `handle_request'
puma (4.3.5) lib/puma/server.rb:472:in `process_client'
puma (4.3.5) lib/puma/server.rb:328:in `block in run'
puma (4.3.5) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Finished "/cable/" [WebSocket] for ::1 at 2020-07-16 16:10:58 +0700
ProductsChannel stopped streaming from products
Started GET "/sessions/new" for ::1 at 2020-07-16 16:11:04 +0700
  
ActionController::RoutingError (No route matches [GET] "/sessions/new"):
  
actionpack (6.0.3.2) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
web-console (4.0.3) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.3) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.3) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.3) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.3.2) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.3.2) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.3.2) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.3.2) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.3.2) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.3.2) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.3) lib/rack/method_override.rb:24:in `call'
rack (2.2.3) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.3.2) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.3) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
webpacker (4.2.2) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.3.2) lib/rails/engine.rb:527:in `call'
puma (4.3.5) lib/puma/configuration.rb:228:in `call'
puma (4.3.5) lib/puma/server.rb:713:in `handle_request'
puma (4.3.5) lib/puma/server.rb:472:in `process_client'
puma (4.3.5) lib/puma/server.rb:328:in `block in run'
puma (4.3.5) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/cable" for ::1 at 2020-07-16 16:14:19 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-16 16:14:19 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/" for ::1 at 2020-07-16 16:14:22 +0700
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 75], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 5.4ms | Allocations: 3224)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 75], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:16
Completed 200 OK in 16ms (Views: 13.6ms | ActiveRecord: 0.6ms | Allocations: 8742)


Started GET "/products" for ::1 at 2020-07-16 16:14:27 +0700
Processing by ProductsController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:17:in `authorize'
Redirected to http://localhost:3000/login
Filter chain halted as :authorize rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.1ms | Allocations: 1063)


Started GET "/login" for ::1 at 2020-07-16 16:14:27 +0700
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.9ms | Allocations: 310)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 9ms (Views: 7.8ms | ActiveRecord: 0.0ms | Allocations: 4578)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-16 16:14:29 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-16 16:14:29 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-16 16:14:29 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/users/new" for ::1 at 2020-07-16 16:14:59 +0700
  
SyntaxError (/home/khanh/Desktop/depot/app/controllers/users_controller.rb:76: syntax error, unexpected end-of-input, expecting `end'):
  
app/controllers/users_controller.rb:76: syntax error, unexpected end-of-input, expecting `end'
app/controllers/users_controller.rb:76: syntax error, unexpected end-of-input, expecting `end'
app/controllers/users_controller.rb:76: syntax error, unexpected end-of-input, expecting `end'
Finished "/cable/" [WebSocket] for ::1 at 2020-07-16 16:14:59 +0700
ProductsChannel stopped streaming from products
Started GET "/users/new" for ::1 at 2020-07-16 16:19:27 +0700
  
SyntaxError (/home/khanh/Desktop/depot/app/controllers/users_controller.rb:76: syntax error, unexpected end-of-input, expecting `end'):
  
app/controllers/users_controller.rb:76: syntax error, unexpected end-of-input, expecting `end'
app/controllers/users_controller.rb:76: syntax error, unexpected end-of-input, expecting `end'
app/controllers/users_controller.rb:76: syntax error, unexpected end-of-input, expecting `end'
Started GET "/users/new" for ::1 at 2020-07-16 16:19:28 +0700
  
SyntaxError (/home/khanh/Desktop/depot/app/controllers/users_controller.rb:76: syntax error, unexpected end-of-input, expecting `end'):
  
app/controllers/users_controller.rb:76: syntax error, unexpected end-of-input, expecting `end'
app/controllers/users_controller.rb:76: syntax error, unexpected end-of-input, expecting `end'
app/controllers/users_controller.rb:76: syntax error, unexpected end-of-input, expecting `end'
Started GET "/users/new" for ::1 at 2020-07-16 16:19:29 +0700
  
SyntaxError (/home/khanh/Desktop/depot/app/controllers/users_controller.rb:76: syntax error, unexpected end-of-input, expecting `end'):
  
app/controllers/users_controller.rb:76: syntax error, unexpected end-of-input, expecting `end'
app/controllers/users_controller.rb:76: syntax error, unexpected end-of-input, expecting `end'
app/controllers/users_controller.rb:76: syntax error, unexpected end-of-input, expecting `end'
Started GET "/users/new" for ::1 at 2020-07-16 16:19:29 +0700
  
SyntaxError (/home/khanh/Desktop/depot/app/controllers/users_controller.rb:76: syntax error, unexpected end-of-input, expecting `end'):
  
app/controllers/users_controller.rb:76: syntax error, unexpected end-of-input, expecting `end'
app/controllers/users_controller.rb:76: syntax error, unexpected end-of-input, expecting `end'
app/controllers/users_controller.rb:76: syntax error, unexpected end-of-input, expecting `end'
Started GET "/users/new" for ::1 at 2020-07-16 16:19:29 +0700
  
SyntaxError (/home/khanh/Desktop/depot/app/controllers/users_controller.rb:76: syntax error, unexpected end-of-input, expecting `end'):
  
app/controllers/users_controller.rb:76: syntax error, unexpected end-of-input, expecting `end'
app/controllers/users_controller.rb:76: syntax error, unexpected end-of-input, expecting `end'
app/controllers/users_controller.rb:76: syntax error, unexpected end-of-input, expecting `end'
Started GET "/users/new" for ::1 at 2020-07-16 16:21:55 +0700
  [1m[35m (0.4ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by UsersController#new as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:17:in `authorize'
Redirected to http://localhost:3000/login
Filter chain halted as :authorize rendered or redirected
Completed 302 Found in 11ms (ActiveRecord: 0.8ms | Allocations: 2088)


Started GET "/login" for ::1 at 2020-07-16 16:21:56 +0700
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 4.8ms | Allocations: 1189)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 34ms (Views: 30.0ms | ActiveRecord: 0.0ms | Allocations: 6669)


Started GET "/cable" for ::1 at 2020-07-16 16:21:56 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-16 16:21:56 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/login" for ::1 at 2020-07-16 16:21:57 +0700
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 2.6ms | Allocations: 317)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 25ms (Views: 23.4ms | ActiveRecord: 0.0ms | Allocations: 4583)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-16 16:21:57 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-16 16:21:57 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-16 16:21:57 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/login" for ::1 at 2020-07-16 16:21:57 +0700
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.2ms | Allocations: 310)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 17ms (Views: 14.7ms | ActiveRecord: 0.0ms | Allocations: 4563)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-16 16:21:57 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-16 16:21:57 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-16 16:21:57 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/login" for ::1 at 2020-07-16 16:21:57 +0700
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 2.1ms | Allocations: 310)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 25ms (Views: 22.4ms | ActiveRecord: 0.0ms | Allocations: 4563)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-16 16:21:57 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-16 16:21:57 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-16 16:21:57 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/login" for ::1 at 2020-07-16 16:21:57 +0700
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.5ms | Allocations: 310)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 25ms (Views: 22.9ms | ActiveRecord: 0.0ms | Allocations: 4561)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-16 16:21:57 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-16 16:21:57 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-16 16:21:57 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/login" for ::1 at 2020-07-16 16:21:58 +0700
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.0ms | Allocations: 310)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 16ms (Views: 14.1ms | ActiveRecord: 0.0ms | Allocations: 4582)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-16 16:21:58 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-16 16:21:58 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-16 16:21:58 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/login" for ::1 at 2020-07-16 16:47:26 +0700
  [1m[35m (24.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (10.0ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 6.7ms | Allocations: 1428)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 2226ms (Views: 2166.0ms | ActiveRecord: 0.0ms | Allocations: 25583)


Started GET "/cable" for ::1 at 2020-07-16 16:47:28 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-16 16:47:29 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/products" for ::1 at 2020-07-16 16:47:36 +0700
Processing by ProductsController#index as HTML
  [1m[36mUser Load (40.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:17:in `authorize'
Redirected to http://localhost:3000/login
Filter chain halted as :authorize rendered or redirected
Completed 302 Found in 109ms (ActiveRecord: 41.1ms | Allocations: 2389)


Started GET "/login" for ::1 at 2020-07-16 16:47:36 +0700
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.7ms | Allocations: 319)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 20ms (Views: 18.1ms | ActiveRecord: 0.0ms | Allocations: 4588)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-16 16:47:40 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-16 16:47:40 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-16 16:47:40 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/" for ::1 at 2020-07-16 16:47:43 +0700
Processing by StoreController#index as HTML
  [1m[36mCart Load (41.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 75], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (108.3ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 422.1ms | Allocations: 8975)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 75], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:16
Completed 200 OK in 689ms (Views: 366.4ms | ActiveRecord: 154.3ms | Allocations: 23117)


Started GET "/" for ::1 at 2020-07-16 16:47:49 +0700
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 75], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 7.7ms | Allocations: 3198)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 75], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:16
Completed 200 OK in 22ms (Views: 18.1ms | ActiveRecord: 0.6ms | Allocations: 8700)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-16 16:47:49 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-16 16:47:49 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-16 16:47:49 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/products" for ::1 at 2020-07-16 16:47:53 +0700
Processing by ProductsController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:17:in `authorize'
Redirected to http://localhost:3000/login
Filter chain halted as :authorize rendered or redirected
Completed 302 Found in 12ms (ActiveRecord: 0.1ms | Allocations: 991)


Started GET "/login" for ::1 at 2020-07-16 16:47:53 +0700
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.2ms | Allocations: 321)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 8ms (Views: 7.6ms | ActiveRecord: 0.0ms | Allocations: 4623)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-16 16:47:54 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-16 16:47:54 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-16 16:47:54 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started POST "/login" for ::1 at 2020-07-16 16:48:06 +0700
Processing by SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"FdGoYnI/h0WA3iu8eaFUBgyBh55PO4Ax9yGE9UYPn4TXZlw/BjQMs1U3aOZIVj3kJ1rEX/uxEEWB/kgQVmpJaw==", "name"=>"khanh", "password"=>"[FILTERED]", "commit"=>"Login"}
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "khanh"], ["LIMIT", 1]]
  ↳ app/controllers/sessions_controller.rb:7:in `create'
Redirected to http://localhost:3000/login
Completed 302 Found in 10ms (ActiveRecord: 0.9ms | Allocations: 979)


Started GET "/login" for ::1 at 2020-07-16 16:48:06 +0700
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.8ms | Allocations: 316)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 12ms (Views: 11.2ms | ActiveRecord: 0.0ms | Allocations: 4596)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-16 16:48:06 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-16 16:48:06 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-16 16:48:06 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started POST "/login" for ::1 at 2020-07-16 16:48:15 +0700
Processing by SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"V5HxAKCr/q0im+XktFOTA92SLmFI9n6HBPc2CdrISeqVJgVd1KB1W/dypr6FpPrh9kltoPx87vNyKPrsyq2fBQ==", "name"=>"khanh", "password"=>"[FILTERED]", "commit"=>"Login"}
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "khanh"], ["LIMIT", 1]]
  ↳ app/controllers/sessions_controller.rb:7:in `create'
Redirected to http://localhost:3000/login
Completed 302 Found in 6ms (ActiveRecord: 0.6ms | Allocations: 866)


Started GET "/login" for ::1 at 2020-07-16 16:48:15 +0700
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.5ms | Allocations: 317)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 7ms (Views: 6.0ms | ActiveRecord: 0.0ms | Allocations: 4602)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-16 16:48:15 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-16 16:48:15 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-16 16:48:15 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started POST "/login" for ::1 at 2020-07-16 16:48:16 +0700
Processing by SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"n8VpVITnmqhayc4vuXd7nR6Td92rV2seLGIqsut1MYNdcp0J8OwRXo8gjXWIgBJ/NUg0HB/d+2paveZX+xDnbA==", "name"=>"", "password"=>"[FILTERED]", "commit"=>"Login"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", ""], ["LIMIT", 1]]
  ↳ app/controllers/sessions_controller.rb:7:in `create'
Redirected to http://localhost:3000/login
Completed 302 Found in 7ms (ActiveRecord: 0.4ms | Allocations: 865)


Started GET "/login" for ::1 at 2020-07-16 16:48:16 +0700
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 2.6ms | Allocations: 315)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 17ms (Views: 14.5ms | ActiveRecord: 0.0ms | Allocations: 4601)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-16 16:48:16 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-16 16:48:16 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-16 16:48:16 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started POST "/login" for ::1 at 2020-07-16 16:48:16 +0700
Processing by SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"ve6NZNNhnb2PdbcXUJ1INC77hKnGpK19PBfvVaMBqv5/WXk5p2oWS1qc9E1haiHWBSDHaHIuPQlKyCOws2R8EQ==", "name"=>"", "password"=>"[FILTERED]", "commit"=>"Login"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", ""], ["LIMIT", 1]]
  ↳ app/controllers/sessions_controller.rb:7:in `create'
Redirected to http://localhost:3000/login
Completed 302 Found in 5ms (ActiveRecord: 0.3ms | Allocations: 862)


Started GET "/login" for ::1 at 2020-07-16 16:48:16 +0700
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.8ms | Allocations: 315)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 15ms (Views: 12.9ms | ActiveRecord: 0.0ms | Allocations: 4581)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-16 16:48:16 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-16 16:48:16 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-16 16:48:16 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started POST "/login" for ::1 at 2020-07-16 16:48:17 +0700
Processing by SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"JPBf5AOLwdtbz7zliOgsRanR+/RNheU+yrROHnGpKBvmR6u5d4BKLY4m/7+5H0Wnggq4NfkPdUq8a4L7Ycz+9A==", "name"=>"", "password"=>"[FILTERED]", "commit"=>"Login"}
  [1m[36mUser Load (1.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", ""], ["LIMIT", 1]]
  ↳ app/controllers/sessions_controller.rb:7:in `create'
Redirected to http://localhost:3000/login
Completed 302 Found in 8ms (ActiveRecord: 1.3ms | Allocations: 866)


Started GET "/login" for ::1 at 2020-07-16 16:48:17 +0700
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 2.4ms | Allocations: 315)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 24ms (Views: 21.2ms | ActiveRecord: 0.0ms | Allocations: 4612)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-16 16:48:17 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-16 16:48:17 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-16 16:48:17 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started POST "/login" for ::1 at 2020-07-16 16:48:17 +0700
Processing by SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"3OZOx9YURiSfvh3oMMJPdw/Vq4yKeLMjppA+ihSBgQseUbqaoh/N0kpXXrIBNSaVJA7oTT7yI1fQT/JvBORX5A==", "name"=>"", "password"=>"[FILTERED]", "commit"=>"Login"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", ""], ["LIMIT", 1]]
  ↳ app/controllers/sessions_controller.rb:7:in `create'
Redirected to http://localhost:3000/login
Completed 302 Found in 8ms (ActiveRecord: 0.5ms | Allocations: 852)


Started GET "/login" for ::1 at 2020-07-16 16:48:17 +0700
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 2.8ms | Allocations: 315)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 29ms (Views: 26.4ms | ActiveRecord: 0.0ms | Allocations: 4595)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-16 16:48:17 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-16 16:48:17 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-16 16:48:17 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/session/new" for ::1 at 2020-07-16 16:48:25 +0700
  
ActionController::RoutingError (No route matches [GET] "/session/new"):
  
actionpack (6.0.3.2) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
web-console (4.0.3) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.3) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.3) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.3) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.3.2) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.3.2) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.3.2) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.3.2) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.3.2) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.3.2) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.3) lib/rack/method_override.rb:24:in `call'
rack (2.2.3) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.3.2) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.3) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
webpacker (4.2.2) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.3.2) lib/rails/engine.rb:527:in `call'
puma (4.3.5) lib/puma/configuration.rb:228:in `call'
puma (4.3.5) lib/puma/server.rb:713:in `handle_request'
puma (4.3.5) lib/puma/server.rb:472:in `process_client'
puma (4.3.5) lib/puma/server.rb:328:in `block in run'
puma (4.3.5) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Finished "/cable/" [WebSocket] for ::1 at 2020-07-16 16:48:26 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-16 16:48:30 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-16 16:48:30 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/login" for ::1 at 2020-07-16 16:50:52 +0700
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.2ms | Allocations: 311)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 13ms (Views: 12.0ms | ActiveRecord: 0.0ms | Allocations: 4621)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-16 16:50:52 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-16 16:50:52 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-16 16:50:52 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/login" for ::1 at 2020-07-16 16:50:53 +0700
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.8ms | Allocations: 310)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 15ms (Views: 12.1ms | ActiveRecord: 0.0ms | Allocations: 4571)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-16 16:50:53 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-16 16:50:53 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-16 16:50:53 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/login" for ::1 at 2020-07-16 16:50:53 +0700
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.6ms | Allocations: 310)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 14ms (Views: 13.5ms | ActiveRecord: 0.0ms | Allocations: 4573)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-16 16:50:53 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-16 16:50:53 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-16 16:50:53 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/login" for ::1 at 2020-07-16 16:50:53 +0700
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 2.6ms | Allocations: 310)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 28ms (Views: 26.8ms | ActiveRecord: 0.0ms | Allocations: 4553)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-16 16:50:53 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-16 16:50:53 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-16 16:50:53 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/login" for ::1 at 2020-07-16 16:50:53 +0700
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.6ms | Allocations: 310)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 26ms (Views: 24.6ms | ActiveRecord: 0.0ms | Allocations: 4575)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-16 16:50:53 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-16 16:50:53 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-16 16:50:53 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/login" for ::1 at 2020-07-16 16:50:53 +0700
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.2ms | Allocations: 310)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 21ms (Views: 18.5ms | ActiveRecord: 0.0ms | Allocations: 4575)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-16 16:50:53 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-16 16:50:53 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-16 16:50:53 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/login" for ::1 at 2020-07-16 16:50:53 +0700
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 2.3ms | Allocations: 310)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 29ms (Views: 25.2ms | ActiveRecord: 0.0ms | Allocations: 4579)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-16 16:50:53 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-16 16:50:53 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-16 16:50:53 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
  [1m[35m (0.4ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mUser Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "dave"], ["LIMIT", 1]]
  [1m[35m (0.0ms)[0m  [1m[31mrollback transaction[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT COUNT(*) FROM "users"[0m
Started POST "/login" for ::1 at 2020-07-16 16:53:30 +0700
  [1m[35m (0.6ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"0NOtvx6QEx0BLXtV5e7JlSzoPeMZZsNnwzy4PONqt5sSZFniapuY69TEOA/UGaB3BzN+Iq3sUxO143TZ8w9hdA==", "name"=>"save", "password"=>"[FILTERED]", "commit"=>"Login"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "save"], ["LIMIT", 1]]
  ↳ app/controllers/sessions_controller.rb:7:in `create'
Redirected to http://localhost:3000/login
Completed 302 Found in 11ms (ActiveRecord: 0.5ms | Allocations: 2412)


Started GET "/login" for ::1 at 2020-07-16 16:53:30 +0700
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 2.4ms | Allocations: 1471)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 37ms (Views: 33.3ms | ActiveRecord: 0.0ms | Allocations: 16574)


Started GET "/cable" for ::1 at 2020-07-16 16:53:30 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-16 16:53:30 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started POST "/login" for ::1 at 2020-07-16 16:53:38 +0700
Processing by SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"TG6aP+JwqdZMGOVBQcV/DGFljCaLB57fss4p2mZPG2KO2W5ilnsiIJnxphtwMhbuSr7P5z+NDqvEEeU/dirNjQ==", "name"=>"dave", "password"=>"[FILTERED]", "commit"=>"Login"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "dave"], ["LIMIT", 1]]
  ↳ app/controllers/sessions_controller.rb:7:in `create'
Redirected to http://localhost:3000/login
Completed 302 Found in 276ms (ActiveRecord: 0.8ms | Allocations: 3601)


Started GET "/login" for ::1 at 2020-07-16 16:53:38 +0700
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.6ms | Allocations: 324)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 11ms (Views: 10.4ms | ActiveRecord: 0.0ms | Allocations: 4599)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-16 16:53:38 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-16 16:53:38 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-16 16:53:38 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started POST "/login" for ::1 at 2020-07-16 16:55:11 +0700
Processing by SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"/gz23B8ctEMfHAR3YuC8ICTLD1j2jxASGjLNW1Nu1D08uwKBaxc/tcr1Ry1TF9XCDxBMmUIFgGZs7QG+QwsC0g==", "name"=>"dave", "password"=>"[FILTERED]", "commit"=>"Login"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "dave"], ["LIMIT", 1]]
  ↳ app/controllers/sessions_controller.rb:7:in `create'
Redirected to http://localhost:3000/admin
Completed 302 Found in 265ms (ActiveRecord: 0.1ms | Allocations: 901)


Started GET "/admin" for ::1 at 2020-07-16 16:55:11 +0700
Processing by AdminController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:17:in `authorize'
  [1m[35m (15.0ms)[0m  [1m[34mSELECT COUNT(*) FROM "orders"[0m
  ↳ app/controllers/admin_controller.rb:3:in `index'
  Rendering admin/index.html.erb within layouts/application
  Rendered admin/index.html.erb within layouts/application (Duration: 14.5ms | Allocations: 132)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 92ms (Views: 39.3ms | ActiveRecord: 15.9ms | Allocations: 8309)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-16 16:55:11 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-16 16:55:11 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-16 16:55:11 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/orders" for ::1 at 2020-07-16 16:57:05 +0700
Processing by OrdersController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:17:in `authorize'
  Rendering orders/index.html.erb within layouts/application
  [1m[36mOrder Load (0.6ms)[0m  [1m[34mSELECT "orders".* FROM "orders"[0m
  ↳ app/views/orders/index.html.erb:17
  Rendered orders/index.html.erb within layouts/application (Duration: 72.1ms | Allocations: 5694)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 82ms (Views: 77.9ms | ActiveRecord: 1.6ms | Allocations: 11390)


Started GET "/products" for ::1 at 2020-07-16 16:57:11 +0700
Processing by ProductsController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:17:in `authorize'
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/products/index.html.erb:12
  Rendered products/index.html.erb within layouts/application (Duration: 197.5ms | Allocations: 6873)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 233ms (Views: 214.3ms | ActiveRecord: 2.9ms | Allocations: 14199)


Started GET "/users" for ::1 at 2020-07-16 16:57:13 +0700
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:17:in `authorize'
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."name" ASC[0m
  ↳ app/views/users/index.html.erb:14
  Rendered users/index.html.erb within layouts/application (Duration: 13.3ms | Allocations: 1068)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 36ms (Views: 29.4ms | ActiveRecord: 0.9ms | Allocations: 6756)


Started GET "/orders" for ::1 at 2020-07-16 16:57:15 +0700
Processing by OrdersController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:17:in `authorize'
  Rendering orders/index.html.erb within layouts/application
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders"[0m
  ↳ app/views/orders/index.html.erb:17
  Rendered orders/index.html.erb within layouts/application (Duration: 9.7ms | Allocations: 1835)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 30ms (Views: 24.7ms | ActiveRecord: 0.6ms | Allocations: 6858)


Started DELETE "/orders/6" for ::1 at 2020-07-16 16:57:25 +0700
Processing by OrdersController#destroy as HTML
  Parameters: {"authenticity_token"=>"4TnsKu6MXZZLCmcwgvXqvUZ4fT/0gkg79cbLP4y9Hp8jjhh3mofWYJ7jJGqzAoNfbaM+/kAI2E+DGQfanNjIcA==", "id"=>"6"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:17:in `authorize'
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 6], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:86:in `set_order'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/orders_controller.rb:76:in `destroy'
  [1m[36mLineItem Load (88.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."order_id" = ?[0m  [["order_id", 6]]
  ↳ app/controllers/orders_controller.rb:76:in `destroy'
  [1m[36mLineItem Destroy (3.2ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 85]]
  ↳ app/controllers/orders_controller.rb:76:in `destroy'
  [1m[36mOrder Destroy (0.7ms)[0m  [1m[31mDELETE FROM "orders" WHERE "orders"."id" = ?[0m  [["id", 6]]
  ↳ app/controllers/orders_controller.rb:76:in `destroy'
  [1m[35m (90.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/orders_controller.rb:76:in `destroy'
Redirected to http://localhost:3000/orders
Completed 302 Found in 329ms (ActiveRecord: 184.3ms | Allocations: 14513)


Started GET "/orders" for ::1 at 2020-07-16 16:57:25 +0700
Processing by OrdersController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:17:in `authorize'
  Rendering orders/index.html.erb within layouts/application
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT "orders".* FROM "orders"[0m
  ↳ app/views/orders/index.html.erb:17
  Rendered orders/index.html.erb within layouts/application (Duration: 6.3ms | Allocations: 1695)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 20ms (Views: 14.1ms | ActiveRecord: 0.5ms | Allocations: 6761)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-16 16:57:26 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-16 16:57:26 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-16 16:57:26 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started DELETE "/orders/7" for ::1 at 2020-07-16 16:57:27 +0700
Processing by OrdersController#destroy as HTML
  Parameters: {"authenticity_token"=>"f/OH33mALhJZM6b1JDqjBpixKU5tjDSEj5FXi1piMj29RHOCDYul5Iza5a8Vzcrks2pqj9kGpPD5TptuSgfk0g==", "id"=>"7"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:17:in `authorize'
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:86:in `set_order'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/orders_controller.rb:76:in `destroy'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."order_id" = ?[0m  [["order_id", 7]]
  ↳ app/controllers/orders_controller.rb:76:in `destroy'
  [1m[36mOrder Destroy (0.2ms)[0m  [1m[31mDELETE FROM "orders" WHERE "orders"."id" = ?[0m  [["id", 7]]
  ↳ app/controllers/orders_controller.rb:76:in `destroy'
  [1m[35m (73.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/orders_controller.rb:76:in `destroy'
Redirected to http://localhost:3000/orders
Completed 302 Found in 90ms (ActiveRecord: 73.6ms | Allocations: 5322)


Started GET "/orders" for ::1 at 2020-07-16 16:57:28 +0700
Processing by OrdersController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:17:in `authorize'
  Rendering orders/index.html.erb within layouts/application
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders"[0m
  ↳ app/views/orders/index.html.erb:17
  Rendered orders/index.html.erb within layouts/application (Duration: 7.9ms | Allocations: 1563)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 33ms (Views: 26.2ms | ActiveRecord: 0.5ms | Allocations: 6748)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-16 16:57:28 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-16 16:57:28 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-16 16:57:28 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started DELETE "/orders/11" for ::1 at 2020-07-16 16:57:29 +0700
Processing by OrdersController#destroy as HTML
  Parameters: {"authenticity_token"=>"Sh8rloz7vdZKTqpmJ0PTevoucMACviu8CAmEdtfZIB+IqN/L+PA2IJ+n6TwWtLqY0fUzAbY0u8h+1kiTx7z28A==", "id"=>"11"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:17:in `authorize'
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 11], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:86:in `set_order'
  [1m[35m (0.6ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/orders_controller.rb:76:in `destroy'
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."order_id" = ?[0m  [["order_id", 11]]
  ↳ app/controllers/orders_controller.rb:76:in `destroy'
  [1m[36mOrder Destroy (0.7ms)[0m  [1m[31mDELETE FROM "orders" WHERE "orders"."id" = ?[0m  [["id", 11]]
  ↳ app/controllers/orders_controller.rb:76:in `destroy'
  [1m[35m (158.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/orders_controller.rb:76:in `destroy'
Redirected to http://localhost:3000/orders
Completed 302 Found in 183ms (ActiveRecord: 160.3ms | Allocations: 5407)


Started GET "/orders" for ::1 at 2020-07-16 16:57:29 +0700
Processing by OrdersController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:17:in `authorize'
  Rendering orders/index.html.erb within layouts/application
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT "orders".* FROM "orders"[0m
  ↳ app/views/orders/index.html.erb:17
  Rendered orders/index.html.erb within layouts/application (Duration: 7.1ms | Allocations: 1431)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 23ms (Views: 16.3ms | ActiveRecord: 0.8ms | Allocations: 6489)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-16 16:57:29 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-16 16:57:29 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-16 16:57:29 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started DELETE "/orders/9" for ::1 at 2020-07-16 16:57:31 +0700
Processing by OrdersController#destroy as HTML
  Parameters: {"authenticity_token"=>"OWyGR6QiJOPwXYGiAEnjPpiYRMbTIxp9CLXVGY/8Mhj723Ia0CmvFSW0wvgxvorcs0MHB2epigl+ahn8n5nk9w==", "id"=>"9"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:17:in `authorize'
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 9], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:86:in `set_order'
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/orders_controller.rb:76:in `destroy'
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."order_id" = ?[0m  [["order_id", 9]]
  ↳ app/controllers/orders_controller.rb:76:in `destroy'
  [1m[36mOrder Destroy (0.4ms)[0m  [1m[31mDELETE FROM "orders" WHERE "orders"."id" = ?[0m  [["id", 9]]
  ↳ app/controllers/orders_controller.rb:76:in `destroy'
  [1m[35m (71.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/orders_controller.rb:76:in `destroy'
Redirected to http://localhost:3000/orders
Completed 302 Found in 93ms (ActiveRecord: 73.0ms | Allocations: 5316)


Started GET "/orders" for ::1 at 2020-07-16 16:57:31 +0700
Processing by OrdersController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:17:in `authorize'
  Rendering orders/index.html.erb within layouts/application
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders"[0m
  ↳ app/views/orders/index.html.erb:17
  Rendered orders/index.html.erb within layouts/application (Duration: 4.9ms | Allocations: 1299)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 24ms (Views: 19.1ms | ActiveRecord: 0.4ms | Allocations: 6482)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-16 16:57:31 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-16 16:57:31 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-16 16:57:31 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started DELETE "/orders/10" for ::1 at 2020-07-16 16:57:32 +0700
Processing by OrdersController#destroy as HTML
  Parameters: {"authenticity_token"=>"RJuyEM4tpem06puXtg5VlHjxKG8T5tC67nfLv6eaGWuGLEZNuiYuH2ED2M2H+Tx2UyprrqdsQM6YqAdat//PhA==", "id"=>"10"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:17:in `authorize'
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 10], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:86:in `set_order'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/orders_controller.rb:76:in `destroy'
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."order_id" = ?[0m  [["order_id", 10]]
  ↳ app/controllers/orders_controller.rb:76:in `destroy'
  [1m[36mOrder Destroy (0.7ms)[0m  [1m[31mDELETE FROM "orders" WHERE "orders"."id" = ?[0m  [["id", 10]]
  ↳ app/controllers/orders_controller.rb:76:in `destroy'
  [1m[35m (185.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/orders_controller.rb:76:in `destroy'
Redirected to http://localhost:3000/orders
Completed 302 Found in 211ms (ActiveRecord: 187.2ms | Allocations: 5399)


Started GET "/orders" for ::1 at 2020-07-16 16:57:32 +0700
Processing by OrdersController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:17:in `authorize'
  Rendering orders/index.html.erb within layouts/application
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT "orders".* FROM "orders"[0m
  ↳ app/views/orders/index.html.erb:17
  Rendered orders/index.html.erb within layouts/application (Duration: 4.1ms | Allocations: 1167)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 20ms (Views: 12.9ms | ActiveRecord: 0.7ms | Allocations: 6199)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-16 16:57:32 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-16 16:57:33 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-16 16:57:33 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started DELETE "/orders/8" for ::1 at 2020-07-16 16:57:34 +0700
Processing by OrdersController#destroy as HTML
  Parameters: {"authenticity_token"=>"S2b64fdEmL9M4QJyYdq49WaOOxMhT7iFdivBzfA/pqqJ0Q68g08TSZkIQShQLdEXTVV40pXFKPEA9A0o4FpwRQ==", "id"=>"8"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:17:in `authorize'
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 8], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:86:in `set_order'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/orders_controller.rb:76:in `destroy'
  [1m[36mLineItem Load (0.7ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."order_id" = ?[0m  [["order_id", 8]]
  ↳ app/controllers/orders_controller.rb:76:in `destroy'
  [1m[36mOrder Destroy (0.5ms)[0m  [1m[31mDELETE FROM "orders" WHERE "orders"."id" = ?[0m  [["id", 8]]
  ↳ app/controllers/orders_controller.rb:76:in `destroy'
  [1m[35m (72.8ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/orders_controller.rb:76:in `destroy'
Redirected to http://localhost:3000/orders
Completed 302 Found in 96ms (ActiveRecord: 74.5ms | Allocations: 5303)


Started GET "/orders" for ::1 at 2020-07-16 16:57:34 +0700
Processing by OrdersController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:17:in `authorize'
  Rendering orders/index.html.erb within layouts/application
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders"[0m
  ↳ app/views/orders/index.html.erb:17
  Rendered orders/index.html.erb within layouts/application (Duration: 4.6ms | Allocations: 1034)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 23ms (Views: 18.9ms | ActiveRecord: 0.5ms | Allocations: 6246)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-16 16:57:34 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-16 16:57:34 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-16 16:57:34 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started DELETE "/orders/13" for ::1 at 2020-07-16 16:57:36 +0700
Processing by OrdersController#destroy as HTML
  Parameters: {"authenticity_token"=>"e98SOSk4y2WoDvTUIecFlPh4JNOct0ze9x7ywZjTFdS5aOZkXTNAk33nt44QEGx206NnEig93KqBwT4kiLbDOw==", "id"=>"13"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:17:in `authorize'
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 13], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:86:in `set_order'
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/orders_controller.rb:76:in `destroy'
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."order_id" = ?[0m  [["order_id", 13]]
  ↳ app/controllers/orders_controller.rb:76:in `destroy'
  [1m[36mLineItem Destroy (0.7ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 87]]
  ↳ app/controllers/orders_controller.rb:76:in `destroy'
  [1m[36mOrder Destroy (0.3ms)[0m  [1m[31mDELETE FROM "orders" WHERE "orders"."id" = ?[0m  [["id", 13]]
  ↳ app/controllers/orders_controller.rb:76:in `destroy'
  [1m[35m (64.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/orders_controller.rb:76:in `destroy'
Redirected to http://localhost:3000/orders
Completed 302 Found in 95ms (ActiveRecord: 66.1ms | Allocations: 6263)


Started GET "/orders" for ::1 at 2020-07-16 16:57:36 +0700
Processing by OrdersController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:17:in `authorize'
  Rendering orders/index.html.erb within layouts/application
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT "orders".* FROM "orders"[0m
  ↳ app/views/orders/index.html.erb:17
  Rendered orders/index.html.erb within layouts/application (Duration: 5.8ms | Allocations: 1049)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 26ms (Views: 21.0ms | ActiveRecord: 0.5ms | Allocations: 6087)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-16 16:57:36 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-16 16:57:36 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-16 16:57:36 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started DELETE "/orders/12" for ::1 at 2020-07-16 16:57:39 +0700
Processing by OrdersController#destroy as HTML
  Parameters: {"authenticity_token"=>"KRcJung54637uKSGM+ihXyII1Nm5Rq6SKWhTDchok1nroP3nDDJoWy5R59wCH8i9CdOXGA3MPuZft5/o2A1Ftg==", "id"=>"12"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:17:in `authorize'
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 12], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:86:in `set_order'
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/orders_controller.rb:76:in `destroy'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."order_id" = ?[0m  [["order_id", 12]]
  ↳ app/controllers/orders_controller.rb:76:in `destroy'
  [1m[36mLineItem Destroy (0.3ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 86]]
  ↳ app/controllers/orders_controller.rb:76:in `destroy'
  [1m[36mOrder Destroy (0.6ms)[0m  [1m[31mDELETE FROM "orders" WHERE "orders"."id" = ?[0m  [["id", 12]]
  ↳ app/controllers/orders_controller.rb:76:in `destroy'
  [1m[35m (160.7ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/orders_controller.rb:76:in `destroy'
Redirected to http://localhost:3000/orders
Completed 302 Found in 186ms (ActiveRecord: 162.3ms | Allocations: 6352)


Started GET "/orders" for ::1 at 2020-07-16 16:57:39 +0700
Processing by OrdersController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:17:in `authorize'
  Rendering orders/index.html.erb within layouts/application
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT "orders".* FROM "orders"[0m
  ↳ app/views/orders/index.html.erb:17
  Rendered orders/index.html.erb within layouts/application (Duration: 4.0ms | Allocations: 770)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 17ms (Views: 12.7ms | ActiveRecord: 0.7ms | Allocations: 5830)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-16 16:57:39 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-16 16:57:39 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-16 16:57:39 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for ::1 at 2020-07-16 17:14:57 +0700
ProductsChannel stopped streaming from products
DEPRECATION WARNING: Using `bin/rake routes` is deprecated and will be removed in Rails 6.1. Use `bin/rails routes` instead.
 (called from load at /home/khanh/.rbenv/versions/2.7.1/bin/rake:23)
Started GET "/" for ::1 at 2020-07-17 09:35:39 +0700
  [1m[35m (2.6ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by StoreController#index as HTML
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[36mCart Create (16.0ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2020-07-17 02:35:40.136610"], ["updated_at", "2020-07-17 02:35:40.136610"]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[35m (120.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (1.6ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 686.7ms | Allocations: 14011)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 76], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:16
Completed 200 OK in 1246ms (Views: 967.2ms | ActiveRecord: 143.2ms | Allocations: 33296)


Started GET "/cable" for ::1 at 2020-07-17 09:35:41 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-17 09:35:41 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started POST "/line_items?product_id=4" for ::1 at 2020-07-17 09:36:10 +0700
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"9ZsB2Wbs4n6+CKASRJMc4W3m/0t1Ejnw2Meg3Qi7kiNuYxn9G4W6+HfCLF0QHarXjaqpqTip71OkpRdhyQD2ug==", "product_id"=>"4"}
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 76], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:38:in `create'
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 76], ["product_id", 4], ["LIMIT", 1]]
  ↳ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/line_items_controller.rb:42:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:42:in `block in create'
  [1m[36mLineItem Create (41.7ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 4], ["cart_id", 76], ["created_at", "2020-07-17 02:36:10.847402"], ["updated_at", "2020-07-17 02:36:10.847402"]]
  ↳ app/controllers/line_items_controller.rb:42:in `block in create'
  [1m[35m (88.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/line_items_controller.rb:42:in `block in create'
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 76]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 32.4ms | Allocations: 302)
  Rendered carts/_cart.html.erb (Duration: 56.9ms | Allocations: 2177)
  Rendered line_items/create.js.erb (Duration: 82.4ms | Allocations: 2601)
Completed 200 OK in 264ms (Views: 88.6ms | ActiveRecord: 133.4ms | Allocations: 16163)


Started GET "/orders/new" for ::1 at 2020-07-17 09:36:12 +0700
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 76], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 76], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:97:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 43.3ms | Allocations: 2188)
  Rendered orders/new.html.erb within layouts/application (Duration: 53.8ms | Allocations: 2516)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 76], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:16
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 76]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 1.6ms | Allocations: 891)
  Rendered carts/_cart.html.erb (Duration: 3.9ms | Allocations: 2155)
Completed 200 OK in 165ms (Views: 85.6ms | ActiveRecord: 2.1ms | Allocations: 16848)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-17 09:36:12 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-17 09:36:12 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-17 09:36:12 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started POST "/orders" for ::1 at 2020-07-17 09:36:26 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"TcmtxCK+6bLcMcWvecCIJU+mTVe7Z3y1IwEKqPVzEYjWMbXgX9exNBX7SeAtTj4Tr+obtfbcqhZfY70UNMh1EQ==", "order"=>{"name"=>"KHanh", "address"=>"222222", "email"=>"01673khanh@gmail.com", "pay_type"=>"Credit cart"}, "commit"=>"Place Order"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 76], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 76]]
  ↳ app/models/order.rb:15:in `add_line_items_from_cart'
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/orders_controller.rb:43:in `block in create'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:43:in `block in create'
  [1m[36mOrder Create (0.5ms)[0m  [1m[32mINSERT INTO "orders" ("name", "address", "email", "pay_type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "KHanh"], ["address", "222222"], ["email", "01673khanh@gmail.com"], ["pay_type", 1], ["created_at", "2020-07-17 02:36:26.247497"], ["updated_at", "2020-07-17 02:36:26.247497"]]
  ↳ app/controllers/orders_controller.rb:43:in `block in create'
  [1m[36mLineItem Update (0.3ms)[0m  [1m[33mUPDATE "line_items" SET "cart_id" = ?, "order_id" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["cart_id", nil], ["order_id", 14], ["updated_at", "2020-07-17 02:36:26.251494"], ["id", 85]]
  ↳ app/controllers/orders_controller.rb:43:in `block in create'
  [1m[35m (132.7ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/orders_controller.rb:43:in `block in create'
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 76], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:44:in `block in create'
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/orders_controller.rb:44:in `block in create'
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 76]]
  ↳ app/controllers/orders_controller.rb:44:in `block in create'
  [1m[36mCart Destroy (0.7ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 76]]
  ↳ app/controllers/orders_controller.rb:44:in `block in create'
  [1m[35m (62.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/orders_controller.rb:44:in `block in create'
[ActiveJob] Enqueued ChargeOrderJob (Job ID: 394d7fa5-1e68-4ba7-8ee1-802354e90541) to Async(default) with arguments: #<GlobalID:0x00007fd78c0288a0 @uri=#<URI::GID gid://depot/Order/14>>, {}
Redirected to http://localhost:3000/
Completed 302 Found in 411ms (ActiveRecord: 198.3ms | Allocations: 18093)


  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[36mOrder Load (0.5ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 14], ["LIMIT", 1]]
[ActiveJob] [ChargeOrderJob] [394d7fa5-1e68-4ba7-8ee1-802354e90541] Performing ChargeOrderJob (Job ID: 394d7fa5-1e68-4ba7-8ee1-802354e90541) from Async(default) enqueued at 2020-07-17T02:36:26Z with arguments: #<GlobalID:0x00007fd778b62d10 @uri=#<URI::GID gid://depot/Order/14>>, {}
[ActiveJob] [ChargeOrderJob] [394d7fa5-1e68-4ba7-8ee1-802354e90541] Error performing ChargeOrderJob (Job ID: 394d7fa5-1e68-4ba7-8ee1-802354e90541) from Async(default) in 0.6ms: RuntimeError (Unknown payment_method ):
/home/khanh/Desktop/depot/lib/pago.rb:21:in `make_payment'
/home/khanh/Desktop/depot/app/models/order.rb:39:in `charge!'
/home/khanh/Desktop/depot/app/jobs/charge_order_job.rb:6:in `perform'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/execution.rb:40:in `block in perform_now'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:112:in `block in run_callbacks'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/i18n-1.8.3/lib/i18n.rb:313:in `with_locale'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/translation.rb:9:in `block (2 levels) in <module:Translation>'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `instance_exec'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/core_ext/time/zones.rb:66:in `use_zone'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/timezones.rb:9:in `block (2 levels) in <module:Timezones>'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `instance_exec'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/logging.rb:25:in `block (4 levels) in <module:Logging>'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/notifications.rb:180:in `block in instrument'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/notifications.rb:180:in `instrument'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/logging.rb:24:in `block (3 levels) in <module:Logging>'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/logging.rb:45:in `block in tag_logger'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/tagged_logging.rb:28:in `tagged'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/tagged_logging.rb:80:in `tagged'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/logging.rb:45:in `tag_logger'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/logging.rb:21:in `block (2 levels) in <module:Logging>'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `instance_exec'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:139:in `run_callbacks'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/execution.rb:39:in `perform_now'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/execution.rb:25:in `block in execute'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:112:in `block in run_callbacks'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/railtie.rb:43:in `block (4 levels) in <class:Railtie>'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/execution_wrapper.rb:88:in `wrap'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/reloader.rb:72:in `block in wrap'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/execution_wrapper.rb:88:in `wrap'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/reloader.rb:71:in `wrap'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/railtie.rb:42:in `block (3 levels) in <class:Railtie>'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `instance_exec'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:139:in `run_callbacks'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/execution.rb:23:in `execute'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/queue_adapters/async_adapter.rb:70:in `perform'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/concurrent-ruby-1.1.6/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:353:in `run_task'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/concurrent-ruby-1.1.6/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:342:in `block (3 levels) in create_worker'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/concurrent-ruby-1.1.6/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:325:in `loop'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/concurrent-ruby-1.1.6/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:325:in `block (2 levels) in create_worker'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/concurrent-ruby-1.1.6/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:324:in `catch'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/concurrent-ruby-1.1.6/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:324:in `block in create_worker'
Started GET "/" for ::1 at 2020-07-17 09:36:26 +0700
Processing by StoreController#index as HTML
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[36mCart Create (0.3ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2020-07-17 02:36:26.679120"], ["updated_at", "2020-07-17 02:36:26.679120"]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[35m (81.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 19.9ms | Allocations: 3382)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 77], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:16
Completed 200 OK in 133ms (Views: 35.5ms | ActiveRecord: 82.4ms | Allocations: 12067)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-17 09:36:26 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-17 09:36:26 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-17 09:36:26 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started POST "/line_items?product_id=4" for ::1 at 2020-07-17 09:41:22 +0700
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"Juvr7nyqnnsCwZzU8so6cBEmCDwY0qDNzx59ohgKHZu9E/PKAcPG/csLEJumRIxG8Wpe3lVpdm6zfMoe2bF5Ag==", "product_id"=>"4"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 77], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:38:in `create'
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 77], ["product_id", 4], ["LIMIT", 1]]
  ↳ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/line_items_controller.rb:42:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:42:in `block in create'
  [1m[36mLineItem Create (109.4ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 4], ["cart_id", 77], ["created_at", "2020-07-17 02:41:22.934547"], ["updated_at", "2020-07-17 02:41:22.934547"]]
  ↳ app/controllers/line_items_controller.rb:42:in `block in create'
  [1m[35m (259.7ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/line_items_controller.rb:42:in `block in create'
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 77]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 0.5ms | Allocations: 134)
  Rendered carts/_cart.html.erb (Duration: 3.4ms | Allocations: 1392)
  Rendered line_items/create.js.erb (Duration: 4.3ms | Allocations: 1557)
Completed 200 OK in 390ms (Views: 4.5ms | ActiveRecord: 370.1ms | Allocations: 8623)


Started GET "/orders/new" for ::1 at 2020-07-17 09:41:25 +0700
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 77], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 77], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:97:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 9.5ms | Allocations: 1043)
  Rendered orders/new.html.erb within layouts/application (Duration: 10.5ms | Allocations: 1126)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 77], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:16
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 77]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 5.0ms | Allocations: 891)
  Rendered carts/_cart.html.erb (Duration: 7.7ms | Allocations: 2038)
Completed 200 OK in 50ms (Views: 40.0ms | ActiveRecord: 1.0ms | Allocations: 9458)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-17 09:41:25 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-17 09:41:25 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-17 09:41:25 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started POST "/orders" for ::1 at 2020-07-17 09:41:32 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"u/rB2c+1KQgc2UW1EgCczXHBPcDFH0e2BaiCVLduFDQgAtn9stxxjtUTyfpGjir7kY1rIoikkRV5yjXodtVwrQ==", "order"=>{"name"=>"HUỳnh Quốc Khánh", "address"=>"2222222222222", "email"=>"01673khanh@gmail.com", "pay_type"=>"Check"}, "commit"=>"Place Order"}
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 77], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 77]]
  ↳ app/models/order.rb:15:in `add_line_items_from_cart'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/orders_controller.rb:43:in `block in create'
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:43:in `block in create'
  [1m[36mOrder Create (1.5ms)[0m  [1m[32mINSERT INTO "orders" ("name", "address", "email", "pay_type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "HUỳnh Quốc Khánh"], ["address", "2222222222222"], ["email", "01673khanh@gmail.com"], ["pay_type", 0], ["created_at", "2020-07-17 02:41:32.509298"], ["updated_at", "2020-07-17 02:41:32.509298"]]
  ↳ app/controllers/orders_controller.rb:43:in `block in create'
  [1m[36mLineItem Update (0.3ms)[0m  [1m[33mUPDATE "line_items" SET "cart_id" = ?, "order_id" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["cart_id", nil], ["order_id", 15], ["updated_at", "2020-07-17 02:41:32.518445"], ["id", 86]]
  ↳ app/controllers/orders_controller.rb:43:in `block in create'
  [1m[35m (76.7ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/orders_controller.rb:43:in `block in create'
  [1m[36mCart Load (0.7ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 77], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:44:in `block in create'
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/orders_controller.rb:44:in `block in create'
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 77]]
  ↳ app/controllers/orders_controller.rb:44:in `block in create'
  [1m[36mCart Destroy (0.4ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 77]]
  ↳ app/controllers/orders_controller.rb:44:in `block in create'
  [1m[35m (67.8ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/orders_controller.rb:44:in `block in create'
[31mUnpermitted parameters: :name, :address, :email, :pay_type[0m
[ActiveJob] Enqueued ChargeOrderJob (Job ID: 5d7d7a70-6f79-4789-944f-ce18b268b363) to Async(default) with arguments: #<GlobalID:0x00007fd748014100 @uri=#<URI::GID gid://depot/Order/15>>, {}
Redirected to http://localhost:3000/
  [1m[36mOrder Load (0.6ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 15], ["LIMIT", 1]]
Completed 302 Found in 221ms (ActiveRecord: 149.7ms | Allocations: 13498)


[ActiveJob] [ChargeOrderJob] [5d7d7a70-6f79-4789-944f-ce18b268b363] Performing ChargeOrderJob (Job ID: 5d7d7a70-6f79-4789-944f-ce18b268b363) from Async(default) enqueued at 2020-07-17T02:41:32Z with arguments: #<GlobalID:0x00007fd7940b7200 @uri=#<URI::GID gid://depot/Order/15>>, {}
[ActiveJob] [ChargeOrderJob] [5d7d7a70-6f79-4789-944f-ce18b268b363] Processing check: /
Started GET "/" for ::1 at 2020-07-17 09:41:32 +0700
Processing by StoreController#index as HTML
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[36mCart Create (0.8ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2020-07-17 02:41:32.726914"], ["updated_at", "2020-07-17 02:41:32.726914"]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[35m (175.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 25.1ms | Allocations: 3211)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 78], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:16
Completed 200 OK in 230ms (Views: 35.5ms | ActiveRecord: 177.1ms | Allocations: 12044)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-17 09:41:32 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-17 09:41:32 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-17 09:41:32 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
[ActiveJob] [ChargeOrderJob] [5d7d7a70-6f79-4789-944f-ce18b268b363] Done Processing Payment
[ActiveJob] [ChargeOrderJob] [5d7d7a70-6f79-4789-944f-ce18b268b363] Enqueued ActionMailer::MailDeliveryJob (Job ID: 1df01928-a567-4fd9-8017-83bf6f717d62) to Async(mailers) with arguments: "OrderMailer", "received", "deliver_now", {:args=>[#<GlobalID:0x00007fd7788f43a8 @uri=#<URI::GID gid://depot/Order/15>>]}
[ActiveJob] [ChargeOrderJob] [5d7d7a70-6f79-4789-944f-ce18b268b363] Performed ChargeOrderJob (Job ID: 5d7d7a70-6f79-4789-944f-ce18b268b363) from Async(default) in 4165.74ms
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 15], ["LIMIT", 1]]
[ActiveJob] [ActionMailer::MailDeliveryJob] [1df01928-a567-4fd9-8017-83bf6f717d62] Performing ActionMailer::MailDeliveryJob (Job ID: 1df01928-a567-4fd9-8017-83bf6f717d62) from Async(mailers) enqueued at 2020-07-17T02:41:36Z with arguments: "OrderMailer", "received", "deliver_now", {:args=>[#<GlobalID:0x00007fd7788b71b0 @uri=#<URI::GID gid://depot/Order/15>>]}
[ActiveJob] [ActionMailer::MailDeliveryJob] [1df01928-a567-4fd9-8017-83bf6f717d62]   Rendering order_mailer/received.html.erb within layouts/mailer
[ActiveJob] [ActionMailer::MailDeliveryJob] [1df01928-a567-4fd9-8017-83bf6f717d62]   Rendered order_mailer/received.html.erb within layouts/mailer (Duration: 13.5ms | Allocations: 102)
[ActiveJob] [ActionMailer::MailDeliveryJob] [1df01928-a567-4fd9-8017-83bf6f717d62]   Rendering order_mailer/received.text.erb within layouts/mailer
[ActiveJob] [ActionMailer::MailDeliveryJob] [1df01928-a567-4fd9-8017-83bf6f717d62]   [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."order_id" = ?[0m  [["order_id", 15]]
[ActiveJob] [ActionMailer::MailDeliveryJob] [1df01928-a567-4fd9-8017-83bf6f717d62]   ↳ app/views/order_mailer/received.text.erb:4
[ActiveJob] [ActionMailer::MailDeliveryJob] [1df01928-a567-4fd9-8017-83bf6f717d62]   [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
[ActiveJob] [ActionMailer::MailDeliveryJob] [1df01928-a567-4fd9-8017-83bf6f717d62]   ↳ app/views/line_items/_line_item.text.erb:3
[ActiveJob] [ActionMailer::MailDeliveryJob] [1df01928-a567-4fd9-8017-83bf6f717d62]   Rendered collection of line_items/_line_item.text.erb [1 times] (Duration: 34.6ms | Allocations: 862)
[ActiveJob] [ActionMailer::MailDeliveryJob] [1df01928-a567-4fd9-8017-83bf6f717d62]   Rendered order_mailer/received.text.erb within layouts/mailer (Duration: 72.6ms | Allocations: 2208)
[ActiveJob] [ActionMailer::MailDeliveryJob] [1df01928-a567-4fd9-8017-83bf6f717d62] OrderMailer#received: processed outbound mail in 123.7ms
[ActiveJob] [ActionMailer::MailDeliveryJob] [1df01928-a567-4fd9-8017-83bf6f717d62] Delivered mail 5f110fe15d88_2132695097770@khanh-X510UAR.mail (57.6ms)
[ActiveJob] [ActionMailer::MailDeliveryJob] [1df01928-a567-4fd9-8017-83bf6f717d62] Date: Fri, 17 Jul 2020 09:41:37 +0700
From: Sam ruby <depot@example.com>
To: 01673khanh@gmail.com
Message-ID: <5f110fe15d88_2132695097770@khanh-X510UAR.mail>
Subject: Pragmatic Store Order Confirmation
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5f110fe16dc_2132695097636";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5f110fe16dc_2132695097636
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: quoted-printable

Dear HU=E1=BB=B3nh Qu=E1=BB=91c Kh=C3=A1nh=0D
Thank you for your recent order from The Pragmatic Store.=0D
You ordered the following items:=0D
 1 x =C4=90i=E1=BB=87n Tho=E1=BA=A1i Samsung Galaxy Note 10 Lite (128GB/8=
GB)We'll send you a separate email when your order ships.=0D

----==_mimepart_5f110fe16dc_2132695097636
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <style>
      /* Email styles need to be inline */
    </style>
  </head>

  <body>
    <h1>Order#received</h1>

<p>
  , find me in app/views/order_mailer/received.html.erb
</p>

  </body>
</html>

----==_mimepart_5f110fe16dc_2132695097636--

[ActiveJob] [ActionMailer::MailDeliveryJob] [1df01928-a567-4fd9-8017-83bf6f717d62] Error performing ActionMailer::MailDeliveryJob (Job ID: 1df01928-a567-4fd9-8017-83bf6f717d62) from Async(mailers) in 182.92ms: Errno::ECONNREFUSED (Connection refused - connect(2) for "localhost" port 587):
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/2.7.0/net/smtp.rb:539:in `initialize'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/2.7.0/net/smtp.rb:539:in `open'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/2.7.0/net/smtp.rb:539:in `tcp_socket'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/2.7.0/net/smtp.rb:549:in `block in do_start'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/2.7.0/timeout.rb:95:in `block in timeout'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/2.7.0/timeout.rb:105:in `timeout'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/2.7.0/net/smtp.rb:548:in `do_start'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/2.7.0/net/smtp.rb:518:in `start'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/mail-2.7.1/lib/mail/network/delivery_methods/smtp.rb:109:in `start_smtp_session'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/mail-2.7.1/lib/mail/network/delivery_methods/smtp.rb:100:in `deliver!'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/mail-2.7.1/lib/mail/message.rb:2159:in `do_delivery'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/mail-2.7.1/lib/mail/message.rb:260:in `block in deliver'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/actionmailer-6.0.3.2/lib/action_mailer/base.rb:589:in `block in deliver_mail'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/notifications.rb:180:in `block in instrument'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/notifications.rb:180:in `instrument'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/actionmailer-6.0.3.2/lib/action_mailer/base.rb:587:in `deliver_mail'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/mail-2.7.1/lib/mail/message.rb:260:in `deliver'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/actionmailer-6.0.3.2/lib/action_mailer/message_delivery.rb:115:in `block in deliver_now'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/actionmailer-6.0.3.2/lib/action_mailer/rescuable.rb:17:in `handle_exceptions'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/actionmailer-6.0.3.2/lib/action_mailer/message_delivery.rb:114:in `deliver_now'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/actionmailer-6.0.3.2/lib/action_mailer/mail_delivery_job.rb:23:in `perform'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/execution.rb:40:in `block in perform_now'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:112:in `block in run_callbacks'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/i18n-1.8.3/lib/i18n.rb:313:in `with_locale'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/translation.rb:9:in `block (2 levels) in <module:Translation>'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `instance_exec'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/core_ext/time/zones.rb:66:in `use_zone'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/timezones.rb:9:in `block (2 levels) in <module:Timezones>'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `instance_exec'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/logging.rb:25:in `block (4 levels) in <module:Logging>'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/notifications.rb:180:in `block in instrument'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/notifications.rb:180:in `instrument'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/logging.rb:24:in `block (3 levels) in <module:Logging>'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/logging.rb:45:in `block in tag_logger'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/tagged_logging.rb:28:in `tagged'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/tagged_logging.rb:80:in `tagged'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/logging.rb:45:in `tag_logger'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/logging.rb:21:in `block (2 levels) in <module:Logging>'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `instance_exec'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:139:in `run_callbacks'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/execution.rb:39:in `perform_now'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/execution.rb:25:in `block in execute'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:112:in `block in run_callbacks'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/railtie.rb:43:in `block (4 levels) in <class:Railtie>'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/execution_wrapper.rb:88:in `wrap'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/reloader.rb:72:in `block in wrap'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/execution_wrapper.rb:88:in `wrap'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/reloader.rb:71:in `wrap'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/railtie.rb:42:in `block (3 levels) in <class:Railtie>'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `instance_exec'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:139:in `run_callbacks'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/execution.rb:23:in `execute'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/queue_adapters/async_adapter.rb:70:in `perform'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/concurrent-ruby-1.1.6/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:353:in `run_task'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/concurrent-ruby-1.1.6/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:342:in `block (3 levels) in create_worker'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/concurrent-ruby-1.1.6/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:325:in `loop'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/concurrent-ruby-1.1.6/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:325:in `block (2 levels) in create_worker'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/concurrent-ruby-1.1.6/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:324:in `catch'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/concurrent-ruby-1.1.6/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:324:in `block in create_worker'
Started GET "/" for ::1 at 2020-07-17 09:44:16 +0700
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 78], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 14.3ms | Allocations: 3214)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 78], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:16
Completed 200 OK in 43ms (Views: 36.0ms | ActiveRecord: 0.7ms | Allocations: 8744)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-17 09:44:16 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-17 09:44:16 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-17 09:44:16 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started POST "/line_items?product_id=4" for ::1 at 2020-07-17 09:44:17 +0700
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"31L3fRvjNvW4WigVCNKV7UqcEun3GPF00G6qRNgC5LJEqu9ZZopuc3GQpFpcXCPbqtBEC7qjJ9esDB34GbmAKw==", "product_id"=>"4"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 78], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:38:in `create'
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 78], ["product_id", 4], ["LIMIT", 1]]
  ↳ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/line_items_controller.rb:42:in `block in create'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:42:in `block in create'
  [1m[36mLineItem Create (0.4ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 4], ["cart_id", 78], ["created_at", "2020-07-17 02:44:17.541607"], ["updated_at", "2020-07-17 02:44:17.541607"]]
  ↳ app/controllers/line_items_controller.rb:42:in `block in create'
  [1m[35m (235.6ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/line_items_controller.rb:42:in `block in create'
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 78]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 1.0ms | Allocations: 134)
  Rendered carts/_cart.html.erb (Duration: 7.5ms | Allocations: 1373)
  Rendered line_items/create.js.erb (Duration: 8.7ms | Allocations: 1539)
Completed 200 OK in 269ms (Views: 10.1ms | ActiveRecord: 237.3ms | Allocations: 8560)


Started GET "/orders/new" for ::1 at 2020-07-17 09:44:19 +0700
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 78], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 78], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:97:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 4.7ms | Allocations: 1051)
  Rendered orders/new.html.erb within layouts/application (Duration: 5.4ms | Allocations: 1134)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 78], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:16
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 78]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 5.9ms | Allocations: 891)
  Rendered carts/_cart.html.erb (Duration: 10.2ms | Allocations: 2042)
Completed 200 OK in 38ms (Views: 28.5ms | ActiveRecord: 1.3ms | Allocations: 9470)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-17 09:44:19 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-17 09:44:19 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-17 09:44:19 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started POST "/orders" for ::1 at 2020-07-17 09:44:32 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"rk2ClTab6F0HqtpR4wLvugYKKPD3dm4HrwGw701Xf5k1tZqxS/Kw285gVh63jFmM5kZ+ErrNuKTTYwdTjOwbAA==", "order"=>{"name"=>"HUỳnh Quốc Khánh", "address"=>"222222222222", "email"=>"01673khanh@gmail.com", "pay_type"=>"Check"}, "commit"=>"Place Order"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 78], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 78]]
  ↳ app/models/order.rb:15:in `add_line_items_from_cart'
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/orders_controller.rb:43:in `block in create'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:43:in `block in create'
  [1m[36mOrder Create (0.6ms)[0m  [1m[32mINSERT INTO "orders" ("name", "address", "email", "pay_type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "HUỳnh Quốc Khánh"], ["address", "222222222222"], ["email", "01673khanh@gmail.com"], ["pay_type", 0], ["created_at", "2020-07-17 02:44:32.617772"], ["updated_at", "2020-07-17 02:44:32.617772"]]
  ↳ app/controllers/orders_controller.rb:43:in `block in create'
  [1m[36mLineItem Update (0.3ms)[0m  [1m[33mUPDATE "line_items" SET "cart_id" = ?, "order_id" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["cart_id", nil], ["order_id", 16], ["updated_at", "2020-07-17 02:44:32.623741"], ["id", 87]]
  ↳ app/controllers/orders_controller.rb:43:in `block in create'
  [1m[35m (198.7ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/orders_controller.rb:43:in `block in create'
  [1m[36mCart Load (0.7ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 78], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:44:in `block in create'
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/orders_controller.rb:44:in `block in create'
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 78]]
  ↳ app/controllers/orders_controller.rb:44:in `block in create'
  [1m[36mCart Destroy (1.7ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 78]]
  ↳ app/controllers/orders_controller.rb:44:in `block in create'
  [1m[35m (70.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/orders_controller.rb:44:in `block in create'
[31mUnpermitted parameters: :name, :address, :email, :pay_type[0m
[ActiveJob] Enqueued ChargeOrderJob (Job ID: ede59b78-d849-4cf7-b112-0d12a5792466) to Async(default) with arguments: #<GlobalID:0x00007fd79801d6b0 @uri=#<URI::GID gid://depot/Order/16>>, {}
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 16], ["LIMIT", 1]]
Redirected to http://localhost:3000/
[ActiveJob] [ChargeOrderJob] [ede59b78-d849-4cf7-b112-0d12a5792466] Performing ChargeOrderJob (Job ID: ede59b78-d849-4cf7-b112-0d12a5792466) from Async(default) enqueued at 2020-07-17T02:44:32Z with arguments: #<GlobalID:0x00007fd778946db0 @uri=#<URI::GID gid://depot/Order/16>>, {}
Completed 302 Found in 337ms (ActiveRecord: 273.6ms | Allocations: 14497)


[ActiveJob] [ChargeOrderJob] [ede59b78-d849-4cf7-b112-0d12a5792466] Processing check: /
Started GET "/" for ::1 at 2020-07-17 09:44:32 +0700
Processing by StoreController#index as HTML
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[36mCart Create (0.4ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2020-07-17 02:44:32.957003"], ["updated_at", "2020-07-17 02:44:32.957003"]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[35m (97.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 16.9ms | Allocations: 3210)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 79], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:16
Completed 200 OK in 180ms (Views: 66.2ms | ActiveRecord: 98.8ms | Allocations: 11835)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-17 09:44:33 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-17 09:44:33 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-17 09:44:33 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
[ActiveJob] [ChargeOrderJob] [ede59b78-d849-4cf7-b112-0d12a5792466] Done Processing Payment
[ActiveJob] [ChargeOrderJob] [ede59b78-d849-4cf7-b112-0d12a5792466] Enqueued ActionMailer::MailDeliveryJob (Job ID: 4af656ec-9fbf-4114-97c9-1a265bc8d1ae) to Async(mailers) with arguments: "OrderMailer", "received", "deliver_now", {:args=>[#<GlobalID:0x00007fd7785dc878 @uri=#<URI::GID gid://depot/Order/16>>]}
[ActiveJob] [ChargeOrderJob] [ede59b78-d849-4cf7-b112-0d12a5792466] Performed ChargeOrderJob (Job ID: ede59b78-d849-4cf7-b112-0d12a5792466) from Async(default) in 3004.25ms
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 16], ["LIMIT", 1]]
[ActiveJob] [ActionMailer::MailDeliveryJob] [4af656ec-9fbf-4114-97c9-1a265bc8d1ae] Performing ActionMailer::MailDeliveryJob (Job ID: 4af656ec-9fbf-4114-97c9-1a265bc8d1ae) from Async(mailers) enqueued at 2020-07-17T02:44:35Z with arguments: "OrderMailer", "received", "deliver_now", {:args=>[#<GlobalID:0x000056190bfc02e0 @uri=#<URI::GID gid://depot/Order/16>>]}
[ActiveJob] [ActionMailer::MailDeliveryJob] [4af656ec-9fbf-4114-97c9-1a265bc8d1ae]   Rendering order_mailer/received.html.erb within layouts/mailer
[ActiveJob] [ActionMailer::MailDeliveryJob] [4af656ec-9fbf-4114-97c9-1a265bc8d1ae]   Rendered order_mailer/received.html.erb within layouts/mailer (Duration: 0.1ms | Allocations: 5)
[ActiveJob] [ActionMailer::MailDeliveryJob] [4af656ec-9fbf-4114-97c9-1a265bc8d1ae]   Rendering order_mailer/received.text.erb within layouts/mailer
[ActiveJob] [ActionMailer::MailDeliveryJob] [4af656ec-9fbf-4114-97c9-1a265bc8d1ae]   [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."order_id" = ?[0m  [["order_id", 16]]
[ActiveJob] [ActionMailer::MailDeliveryJob] [4af656ec-9fbf-4114-97c9-1a265bc8d1ae]   ↳ app/views/order_mailer/received.text.erb:4
[ActiveJob] [ActionMailer::MailDeliveryJob] [4af656ec-9fbf-4114-97c9-1a265bc8d1ae]   [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
[ActiveJob] [ActionMailer::MailDeliveryJob] [4af656ec-9fbf-4114-97c9-1a265bc8d1ae]   ↳ app/views/line_items/_line_item.text.erb:3
[ActiveJob] [ActionMailer::MailDeliveryJob] [4af656ec-9fbf-4114-97c9-1a265bc8d1ae]   Rendered collection of line_items/_line_item.text.erb [1 times] (Duration: 3.8ms | Allocations: 775)
[ActiveJob] [ActionMailer::MailDeliveryJob] [4af656ec-9fbf-4114-97c9-1a265bc8d1ae]   Rendered order_mailer/received.text.erb within layouts/mailer (Duration: 8.8ms | Allocations: 1701)
[ActiveJob] [ActionMailer::MailDeliveryJob] [4af656ec-9fbf-4114-97c9-1a265bc8d1ae] OrderMailer#received: processed outbound mail in 19.2ms
[ActiveJob] [ActionMailer::MailDeliveryJob] [4af656ec-9fbf-4114-97c9-1a265bc8d1ae] Delivered mail 5f111093ed955_21326b6c97936@khanh-X510UAR.mail (6.9ms)
[ActiveJob] [ActionMailer::MailDeliveryJob] [4af656ec-9fbf-4114-97c9-1a265bc8d1ae] Date: Fri, 17 Jul 2020 09:44:35 +0700
From: Sam ruby <depot@example.com>
To: 01673khanh@gmail.com
Message-ID: <5f111093ed955_21326b6c97936@khanh-X510UAR.mail>
Subject: Pragmatic Store Order Confirmation
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5f111093eb7d8_21326b6c9782e";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5f111093eb7d8_21326b6c9782e
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: quoted-printable

Dear HU=E1=BB=B3nh Qu=E1=BB=91c Kh=C3=A1nh=0D
Thank you for your recent order from The Pragmatic Store.=0D
You ordered the following items:=0D
 1 x =C4=90i=E1=BB=87n Tho=E1=BA=A1i Samsung Galaxy Note 10 Lite (128GB/8=
GB)We'll send you a separate email when your order ships.=0D

----==_mimepart_5f111093eb7d8_21326b6c9782e
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <style>
      /* Email styles need to be inline */
    </style>
  </head>

  <body>
    <h1>Order#received</h1>

<p>
  , find me in app/views/order_mailer/received.html.erb
</p>

  </body>
</html>

----==_mimepart_5f111093eb7d8_21326b6c9782e--

[ActiveJob] [ActionMailer::MailDeliveryJob] [4af656ec-9fbf-4114-97c9-1a265bc8d1ae] Error performing ActionMailer::MailDeliveryJob (Job ID: 4af656ec-9fbf-4114-97c9-1a265bc8d1ae) from Async(mailers) in 27.99ms: Errno::ECONNREFUSED (Connection refused - connect(2) for "localhost" port 587):
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/2.7.0/net/smtp.rb:539:in `initialize'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/2.7.0/net/smtp.rb:539:in `open'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/2.7.0/net/smtp.rb:539:in `tcp_socket'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/2.7.0/net/smtp.rb:549:in `block in do_start'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/2.7.0/timeout.rb:95:in `block in timeout'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/2.7.0/timeout.rb:105:in `timeout'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/2.7.0/net/smtp.rb:548:in `do_start'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/2.7.0/net/smtp.rb:518:in `start'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/mail-2.7.1/lib/mail/network/delivery_methods/smtp.rb:109:in `start_smtp_session'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/mail-2.7.1/lib/mail/network/delivery_methods/smtp.rb:100:in `deliver!'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/mail-2.7.1/lib/mail/message.rb:2159:in `do_delivery'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/mail-2.7.1/lib/mail/message.rb:260:in `block in deliver'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/actionmailer-6.0.3.2/lib/action_mailer/base.rb:589:in `block in deliver_mail'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/notifications.rb:180:in `block in instrument'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/notifications.rb:180:in `instrument'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/actionmailer-6.0.3.2/lib/action_mailer/base.rb:587:in `deliver_mail'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/mail-2.7.1/lib/mail/message.rb:260:in `deliver'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/actionmailer-6.0.3.2/lib/action_mailer/message_delivery.rb:115:in `block in deliver_now'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/actionmailer-6.0.3.2/lib/action_mailer/rescuable.rb:17:in `handle_exceptions'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/actionmailer-6.0.3.2/lib/action_mailer/message_delivery.rb:114:in `deliver_now'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/actionmailer-6.0.3.2/lib/action_mailer/mail_delivery_job.rb:23:in `perform'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/execution.rb:40:in `block in perform_now'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:112:in `block in run_callbacks'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/i18n-1.8.3/lib/i18n.rb:313:in `with_locale'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/translation.rb:9:in `block (2 levels) in <module:Translation>'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `instance_exec'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/core_ext/time/zones.rb:66:in `use_zone'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/timezones.rb:9:in `block (2 levels) in <module:Timezones>'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `instance_exec'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/logging.rb:25:in `block (4 levels) in <module:Logging>'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/notifications.rb:180:in `block in instrument'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/notifications.rb:180:in `instrument'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/logging.rb:24:in `block (3 levels) in <module:Logging>'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/logging.rb:45:in `block in tag_logger'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/tagged_logging.rb:28:in `tagged'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/tagged_logging.rb:80:in `tagged'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/logging.rb:45:in `tag_logger'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/logging.rb:21:in `block (2 levels) in <module:Logging>'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `instance_exec'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:139:in `run_callbacks'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/execution.rb:39:in `perform_now'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/execution.rb:25:in `block in execute'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:112:in `block in run_callbacks'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/railtie.rb:43:in `block (4 levels) in <class:Railtie>'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/execution_wrapper.rb:88:in `wrap'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/reloader.rb:72:in `block in wrap'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/execution_wrapper.rb:88:in `wrap'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/reloader.rb:71:in `wrap'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/railtie.rb:42:in `block (3 levels) in <class:Railtie>'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `instance_exec'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:139:in `run_callbacks'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/execution.rb:23:in `execute'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/queue_adapters/async_adapter.rb:70:in `perform'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/concurrent-ruby-1.1.6/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:353:in `run_task'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/concurrent-ruby-1.1.6/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:342:in `block (3 levels) in create_worker'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/concurrent-ruby-1.1.6/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:325:in `loop'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/concurrent-ruby-1.1.6/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:325:in `block (2 levels) in create_worker'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/concurrent-ruby-1.1.6/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:324:in `catch'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/concurrent-ruby-1.1.6/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:324:in `block in create_worker'
Started POST "/line_items?product_id=4" for ::1 at 2020-07-17 09:45:18 +0700
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"uGQsVEW84XqNyzHRDS+w9VFpqZXKbwrWYmcDX60FSQ8jnDRwONW5/EQBvZ5ZoQbDsSX/d4fU3HUeBbTjbL4tlg==", "product_id"=>"4"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 79], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:38:in `create'
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 79], ["product_id", 4], ["LIMIT", 1]]
  ↳ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/line_items_controller.rb:42:in `block in create'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:42:in `block in create'
  [1m[36mLineItem Create (0.4ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 4], ["cart_id", 79], ["created_at", "2020-07-17 02:45:18.775988"], ["updated_at", "2020-07-17 02:45:18.775988"]]
  ↳ app/controllers/line_items_controller.rb:42:in `block in create'
  [1m[35m (70.7ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/line_items_controller.rb:42:in `block in create'
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 79]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 1.1ms | Allocations: 134)
  Rendered carts/_cart.html.erb (Duration: 10.6ms | Allocations: 1363)
  Rendered line_items/create.js.erb (Duration: 12.0ms | Allocations: 1528)
Completed 200 OK in 110ms (Views: 13.6ms | ActiveRecord: 72.6ms | Allocations: 8468)


Started GET "/orders/new" for ::1 at 2020-07-17 09:45:20 +0700
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 79], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 79], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:97:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 6.1ms | Allocations: 1043)
  Rendered orders/new.html.erb within layouts/application (Duration: 7.8ms | Allocations: 1125)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 79], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:16
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 79]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 2.9ms | Allocations: 891)
  Rendered carts/_cart.html.erb (Duration: 7.1ms | Allocations: 2038)
Completed 200 OK in 39ms (Views: 29.9ms | ActiveRecord: 1.3ms | Allocations: 9467)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-17 09:45:20 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-17 09:45:20 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-17 09:45:20 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/orders/new" for ::1 at 2020-07-17 09:47:07 +0700
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 79], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 79], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:97:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/new.html.erb within layouts/application (Duration: 81.2ms | Allocations: 2957)
Completed 500 Internal Server Error in 94ms (ActiveRecord: 0.4ms | Allocations: 5413)


  
ActionView::SyntaxErrorInTemplate (Encountered a syntax error while rendering template: check <section class="depot_form">
<h1>Please Enter Your Details</h1>
<%= render 'form', order: @order %>
</section>

<%= <%= javascript_pack_tag ("hello") %>%>
<%= link_to 'Back', orders_path %>
):
1:    <section class="depot_form">
2:    <h1>Please Enter Your Details</h1>
3:    <%= render 'form', order: @order %>
4:    </section>
5:    
6:    <%= <%= javascript_pack_tag ("hello") %>%>
7:    <%= link_to 'Back', orders_path %>
  
app/views/orders/new.html.erb:6: syntax error, unexpected '<'
app/views/orders/new.html.erb:9: syntax error, unexpected `end', expecting ')'
app/views/orders/new.html.erb:6: syntax error, unexpected '<'
app/views/orders/new.html.erb:9: syntax error, unexpected `end', expecting ')'
app/views/orders/new.html.erb:6: syntax error, unexpected '<'
app/views/orders/new.html.erb:9: syntax error, unexpected `end', expecting ')'
app/views/orders/new.html.erb:6: syntax error, unexpected '<'
app/views/orders/new.html.erb:9: syntax error, unexpected `end', expecting ')'
app/views/orders/new.html.erb:6: syntax error, unexpected '<'
app/views/orders/new.html.erb:9: syntax error, unexpected `end', expecting ')'
app/views/orders/new.html.erb:6: syntax error, unexpected '<'
app/views/orders/new.html.erb:9: syntax error, unexpected `end', expecting ')'
Finished "/cable/" [WebSocket] for ::1 at 2020-07-17 09:47:08 +0700
ProductsChannel stopped streaming from products
Started GET "/orders/new" for ::1 at 2020-07-17 09:47:28 +0700
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 79], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 79], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:97:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 33.3ms | Allocations: 1452)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered orders/new.html.erb within layouts/application (Duration: 36.8ms | Allocations: 3487)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 79], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:16
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 79]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 33.1ms | Allocations: 1054)
  Rendered carts/_cart.html.erb (Duration: 41.4ms | Allocations: 2551)
Completed 200 OK in 115ms (Views: 107.9ms | ActiveRecord: 0.7ms | Allocations: 13540)


Started GET "/cable" for ::1 at 2020-07-17 09:47:29 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-17 09:47:29 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/orders/new" for ::1 at 2020-07-17 09:48:57 +0700
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.7ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 79], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Exists? (1.3ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 79], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:97:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 6.0ms | Allocations: 1431)
  Rendered orders/new.html.erb within layouts/application (Duration: 85.1ms | Allocations: 1752)
[Webpacker] Compiling...
[Webpacker] Compiled all packs in /home/khanh/Desktop/depot/public/packs
[Webpacker] Hash: d07940e9b3c4f711620f
Version: webpack 4.43.0
Time: 5940ms
Built at: 07/17/2020 9:49:18 AM
                                     Asset        Size       Chunks                         Chunk Names
    js/application-d687b46ae54878e1a078.js     146 KiB  application  [emitted] [immutable]  application
js/application-d687b46ae54878e1a078.js.map     164 KiB  application  [emitted] [dev]        application
    js/hello_react-7cb607df4b85a32cfe4e.js    1.05 MiB  hello_react  [emitted] [immutable]  hello_react
js/hello_react-7cb607df4b85a32cfe4e.js.map    1.21 MiB  hello_react  [emitted] [dev]        hello_react
       js/pay_type-8f47fc7fdbac8e0a4b4f.js    1.05 MiB     pay_type  [emitted] [immutable]  pay_type
   js/pay_type-8f47fc7fdbac8e0a4b4f.js.map    1.18 MiB     pay_type  [emitted] [dev]        pay_type
                             manifest.json  1020 bytes               [emitted]              
Entrypoint application = js/application-d687b46ae54878e1a078.js js/application-d687b46ae54878e1a078.js.map
Entrypoint hello_react = js/hello_react-7cb607df4b85a32cfe4e.js js/hello_react-7cb607df4b85a32cfe4e.js.map
Entrypoint pay_type = js/pay_type-8f47fc7fdbac8e0a4b4f.js js/pay_type-8f47fc7fdbac8e0a4b4f.js.map
[./app/javascript/PayTypeSelector/CheckPayType.jsx] 4.72 KiB {pay_type} [built]
[./app/javascript/PayTypeSelector/CreditCardPayType.jsx] 4.82 KiB {pay_type} [built]
[./app/javascript/PayTypeSelector/NoPayType.jsx] 3.22 KiB {pay_type} [built]
[./app/javascript/PayTypeSelector/PurchaseOrderPayType.jsx] 4.03 KiB {pay_type} [built]
[./app/javascript/PayTypeSelector/index.jsx] 6.04 KiB {pay_type} [built]
[./app/javascript/channels sync recursive _channel\.js$] ./app/javascript/channels sync _channel\.js$ 186 bytes {application} [built]
[./app/javascript/channels/consumer.js] 265 bytes {application} [built]
[./app/javascript/channels/index.js] 211 bytes {application} [built]
[./app/javascript/channels/products_channel.js] 555 bytes {application} [optional] [built]
[./app/javascript/packs/application.js] 749 bytes {application} [built]
[./app/javascript/packs/hello_react.jsx] 1.06 KiB {hello_react} [built]
[./app/javascript/packs/pay_type.jsx] 564 bytes {pay_type} [built]
[./node_modules/webpack/buildin/module.js] (webpack)/buildin/module.js 552 bytes {application} [built]
    + 19 hidden modules

  [1m[36mCACHE LineItem Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 79], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:16
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 79]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (1.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 73.9ms | Allocations: 1049)
  Rendered carts/_cart.html.erb (Duration: 100.5ms | Allocations: 2545)
Completed 200 OK in 21948ms (Views: 21929.2ms | ActiveRecord: 3.6ms | Allocations: 14486)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-17 09:49:19 +0700
ProductsChannel stopped streaming from products
Started GET "/orders/new" for ::1 at 2020-07-17 09:49:20 +0700
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 79], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 79], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:97:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 542.2ms | Allocations: 1057)
  Rendered orders/new.html.erb within layouts/application (Duration: 544.7ms | Allocations: 1181)
Started GET "/cable" for ::1 at 2020-07-17 09:49:21 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-17 09:49:21 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mCACHE LineItem Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 79], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:16
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 79]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 3.2ms | Allocations: 891)
  Rendered carts/_cart.html.erb (Duration: 7.6ms | Allocations: 2039)
Completed 200 OK in 589ms (Views: 583.4ms | ActiveRecord: 0.9ms | Allocations: 11022)


ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/orders/new" for ::1 at 2020-07-17 09:49:21 +0700
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 79], ["LIMIT", 1]]
Started GET "/orders/new" for ::1 at 2020-07-17 09:49:21 +0700
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 79], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:97:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
Processing by OrdersController#new as HTML
  Rendered orders/_form.html.erb (Duration: 1.9ms | Allocations: 1043)
  [1m[36mCart Load (98.7ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 79], ["LIMIT", 1]]
  Rendered orders/new.html.erb within layouts/application (Duration: 102.0ms | Allocations: 1398)
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Exists? (33.1ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 79], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:97:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 6.2ms | Allocations: 1043)
  Rendered orders/new.html.erb within layouts/application (Duration: 8.3ms | Allocations: 1190)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 79], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:16
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 79]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 2.6ms | Allocations: 1079)
  Rendered carts/_cart.html.erb (Duration: 6.2ms | Allocations: 2320)
Completed 200 OK in 210ms (Views: 204.1ms | ActiveRecord: 0.7ms | Allocations: 16169)


[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mCACHE LineItem Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 79], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:16
  [1m[36mLineItem Load (36.8ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 79]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (106.9ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 111.8ms | Allocations: 891)
  Rendered carts/_cart.html.erb (Duration: 156.9ms | Allocations: 2038)
Completed 200 OK in 370ms (Views: 81.3ms | ActiveRecord: 275.5ms | Allocations: 16556)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-17 09:49:22 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-17 09:49:22 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-17 09:49:22 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/orders/new" for ::1 at 2020-07-17 09:49:22 +0700
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 79], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 79], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:97:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 7.3ms | Allocations: 1043)
  Rendered orders/new.html.erb within layouts/application (Duration: 8.7ms | Allocations: 1125)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mCACHE LineItem Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 79], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:16
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 79]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 1.9ms | Allocations: 891)
  Rendered carts/_cart.html.erb (Duration: 5.5ms | Allocations: 2038)
Completed 200 OK in 40ms (Views: 29.3ms | ActiveRecord: 1.1ms | Allocations: 9486)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-17 09:49:22 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-17 09:49:22 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-17 09:49:22 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
Started GET "/orders/new" for ::1 at 2020-07-17 09:49:22 +0700
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 79], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 79], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:97:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 2.1ms | Allocations: 1043)
  Rendered orders/new.html.erb within layouts/application (Duration: 2.5ms | Allocations: 1125)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 79], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:16
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 79]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 3.6ms | Allocations: 891)
  Rendered carts/_cart.html.erb (Duration: 7.7ms | Allocations: 2038)
Completed 200 OK in 28ms (Views: 19.4ms | ActiveRecord: 1.2ms | Allocations: 9439)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-17 09:49:22 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-17 09:49:22 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-17 09:49:22 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for ::1 at 2020-07-17 09:49:31 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-17 09:49:31 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-17 09:49:31 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/" for ::1 at 2020-07-17 09:49:33 +0700
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 79], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 352.7ms | Allocations: 3697)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 79], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:16
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 79]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 5.0ms | Allocations: 891)
  Rendered carts/_cart.html.erb (Duration: 10.8ms | Allocations: 2035)
Completed 200 OK in 400ms (Views: 392.6ms | ActiveRecord: 1.3ms | Allocations: 11921)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-17 09:49:33 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-17 09:49:33 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-17 09:49:33 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/orders/new" for ::1 at 2020-07-17 09:49:35 +0700
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 79], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 79], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:97:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 3.3ms | Allocations: 1051)
  Rendered orders/new.html.erb within layouts/application (Duration: 3.8ms | Allocations: 1134)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 79], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:16
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 79]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 2.9ms | Allocations: 891)
  Rendered carts/_cart.html.erb (Duration: 5.7ms | Allocations: 2042)
Completed 200 OK in 23ms (Views: 18.7ms | ActiveRecord: 0.7ms | Allocations: 9468)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-17 09:49:35 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-17 09:49:36 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-17 09:49:36 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/orders/new" for ::1 at 2020-07-17 09:50:52 +0700
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 79], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 79], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:97:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 5.2ms | Allocations: 1431)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered orders/new.html.erb within layouts/application (Duration: 13.4ms | Allocations: 3488)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 79], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:16
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 79]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 3.1ms | Allocations: 1049)
  Rendered carts/_cart.html.erb (Duration: 9.1ms | Allocations: 2546)
Completed 200 OK in 66ms (Views: 51.0ms | ActiveRecord: 1.4ms | Allocations: 13486)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-17 09:50:52 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-17 09:50:52 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-17 09:50:52 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started POST "/orders" for ::1 at 2020-07-17 09:51:32 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"p8JKeiHqKG0ZqB+MdMIi7zr1rWbYi/k9wquDUPJG7388OlJeXINw69Bik8MgTJTZ2rn7hJUwL56+yTTsM/2L5g==", "order"=>{"name"=>"HUỳnh Quốc Khánh", "address"=>"22222222222", "email"=>"01673khanh@gmail.com", "pay_type"=>"Check", "routing_number"=>"1111111", "account_number"=>"11111111"}, "commit"=>"Place Order"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 79], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
[31mUnpermitted parameters: :routing_number, :account_number[0m
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 79]]
  ↳ app/models/order.rb:15:in `add_line_items_from_cart'
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/orders_controller.rb:43:in `block in create'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:43:in `block in create'
  [1m[36mOrder Create (42.2ms)[0m  [1m[32mINSERT INTO "orders" ("name", "address", "email", "pay_type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "HUỳnh Quốc Khánh"], ["address", "22222222222"], ["email", "01673khanh@gmail.com"], ["pay_type", 0], ["created_at", "2020-07-17 02:51:32.840813"], ["updated_at", "2020-07-17 02:51:32.840813"]]
  ↳ app/controllers/orders_controller.rb:43:in `block in create'
  [1m[36mLineItem Update (4.3ms)[0m  [1m[33mUPDATE "line_items" SET "cart_id" = ?, "order_id" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["cart_id", nil], ["order_id", 17], ["updated_at", "2020-07-17 02:51:32.916738"], ["id", 88]]
  ↳ app/controllers/orders_controller.rb:43:in `block in create'
  [1m[35m (106.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/orders_controller.rb:43:in `block in create'
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 79], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:44:in `block in create'
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/orders_controller.rb:44:in `block in create'
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 79]]
  ↳ app/controllers/orders_controller.rb:44:in `block in create'
  [1m[36mCart Destroy (0.6ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 79]]
  ↳ app/controllers/orders_controller.rb:44:in `block in create'
  [1m[35m (70.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/orders_controller.rb:44:in `block in create'
[31mUnpermitted parameters: :routing_number, :account_number[0m
[31mUnpermitted parameters: :routing_number, :account_number[0m
[31mUnpermitted parameters: :name, :address, :email, :pay_type[0m
[ActiveJob] Enqueued ChargeOrderJob (Job ID: 7006c650-e742-4d70-ada3-3f5d4107152b) to Async(default) with arguments: #<GlobalID:0x00007fd78c09ea28 @uri=#<URI::GID gid://depot/Order/17>>, {"routing_number"=>"1111111", "account_number"=>"11111111"}
Redirected to http://localhost:3000/
  [1m[36mOrder Load (0.5ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 17], ["LIMIT", 1]]
Completed 302 Found in 340ms (ActiveRecord: 226.0ms | Allocations: 13733)


[ActiveJob] [ChargeOrderJob] [7006c650-e742-4d70-ada3-3f5d4107152b] Performing ChargeOrderJob (Job ID: 7006c650-e742-4d70-ada3-3f5d4107152b) from Async(default) enqueued at 2020-07-17T02:51:33Z with arguments: #<GlobalID:0x00007fd78c072a18 @uri=#<URI::GID gid://depot/Order/17>>, {"routing_number"=>"1111111", "account_number"=>"11111111"}
[ActiveJob] [ChargeOrderJob] [7006c650-e742-4d70-ada3-3f5d4107152b] Processing check: 1111111/11111111
Started GET "/" for ::1 at 2020-07-17 09:51:33 +0700
Processing by StoreController#index as HTML
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[36mCart Create (0.8ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2020-07-17 02:51:33.207608"], ["updated_at", "2020-07-17 02:51:33.207608"]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[35m (103.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 23.5ms | Allocations: 3507)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 80], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:16
Completed 200 OK in 165ms (Views: 37.1ms | ActiveRecord: 105.5ms | Allocations: 12690)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-17 09:51:33 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-17 09:51:33 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-17 09:51:33 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
[ActiveJob] [ChargeOrderJob] [7006c650-e742-4d70-ada3-3f5d4107152b] Done Processing Payment
[ActiveJob] [ChargeOrderJob] [7006c650-e742-4d70-ada3-3f5d4107152b] Enqueued ActionMailer::MailDeliveryJob (Job ID: 829faf4b-6f31-4017-9382-72e72bcc6c59) to Async(mailers) with arguments: "OrderMailer", "received", "deliver_now", {:args=>[#<GlobalID:0x00007fd7940c9798 @uri=#<URI::GID gid://depot/Order/17>>]}
[ActiveJob] [ChargeOrderJob] [7006c650-e742-4d70-ada3-3f5d4107152b] Performed ChargeOrderJob (Job ID: 7006c650-e742-4d70-ada3-3f5d4107152b) from Async(default) in 3003.66ms
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 17], ["LIMIT", 1]]
[ActiveJob] [ActionMailer::MailDeliveryJob] [829faf4b-6f31-4017-9382-72e72bcc6c59] Performing ActionMailer::MailDeliveryJob (Job ID: 829faf4b-6f31-4017-9382-72e72bcc6c59) from Async(mailers) enqueued at 2020-07-17T02:51:36Z with arguments: "OrderMailer", "received", "deliver_now", {:args=>[#<GlobalID:0x00007fd79402bea8 @uri=#<URI::GID gid://depot/Order/17>>]}
[ActiveJob] [ActionMailer::MailDeliveryJob] [829faf4b-6f31-4017-9382-72e72bcc6c59]   Rendering order_mailer/received.html.erb within layouts/mailer
[ActiveJob] [ActionMailer::MailDeliveryJob] [829faf4b-6f31-4017-9382-72e72bcc6c59]   Rendered order_mailer/received.html.erb within layouts/mailer (Duration: 25.5ms | Allocations: 94)
[ActiveJob] [ActionMailer::MailDeliveryJob] [829faf4b-6f31-4017-9382-72e72bcc6c59]   Rendering order_mailer/received.text.erb within layouts/mailer
[ActiveJob] [ActionMailer::MailDeliveryJob] [829faf4b-6f31-4017-9382-72e72bcc6c59]   [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."order_id" = ?[0m  [["order_id", 17]]
[ActiveJob] [ActionMailer::MailDeliveryJob] [829faf4b-6f31-4017-9382-72e72bcc6c59]   ↳ app/views/order_mailer/received.text.erb:4
[ActiveJob] [ActionMailer::MailDeliveryJob] [829faf4b-6f31-4017-9382-72e72bcc6c59]   [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
[ActiveJob] [ActionMailer::MailDeliveryJob] [829faf4b-6f31-4017-9382-72e72bcc6c59]   ↳ app/views/line_items/_line_item.text.erb:3
[ActiveJob] [ActionMailer::MailDeliveryJob] [829faf4b-6f31-4017-9382-72e72bcc6c59]   Rendered collection of line_items/_line_item.text.erb [1 times] (Duration: 35.5ms | Allocations: 860)
[ActiveJob] [ActionMailer::MailDeliveryJob] [829faf4b-6f31-4017-9382-72e72bcc6c59]   Rendered order_mailer/received.text.erb within layouts/mailer (Duration: 70.7ms | Allocations: 2015)
[ActiveJob] [ActionMailer::MailDeliveryJob] [829faf4b-6f31-4017-9382-72e72bcc6c59] OrderMailer#received: processed outbound mail in 123.6ms
[ActiveJob] [ActionMailer::MailDeliveryJob] [829faf4b-6f31-4017-9382-72e72bcc6c59] Delivered mail 5f1112384d75b_21327314981c0@khanh-X510UAR.mail (29.2ms)
[ActiveJob] [ActionMailer::MailDeliveryJob] [829faf4b-6f31-4017-9382-72e72bcc6c59] Date: Fri, 17 Jul 2020 09:51:36 +0700
From: Sam ruby <depot@example.com>
To: 01673khanh@gmail.com
Message-ID: <5f1112384d75b_21327314981c0@khanh-X510UAR.mail>
Subject: Pragmatic Store Order Confirmation
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5f11123846e5f_2132731498083";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5f11123846e5f_2132731498083
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: quoted-printable

Dear HU=E1=BB=B3nh Qu=E1=BB=91c Kh=C3=A1nh=0D
Thank you for your recent order from The Pragmatic Store.=0D
You ordered the following items:=0D
 1 x =C4=90i=E1=BB=87n Tho=E1=BA=A1i Samsung Galaxy Note 10 Lite (128GB/8=
GB)We'll send you a separate email when your order ships.=0D

----==_mimepart_5f11123846e5f_2132731498083
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <style>
      /* Email styles need to be inline */
    </style>
  </head>

  <body>
    <h1>Order#received</h1>

<p>
  , find me in app/views/order_mailer/received.html.erb
</p>

  </body>
</html>

----==_mimepart_5f11123846e5f_2132731498083--

[ActiveJob] [ActionMailer::MailDeliveryJob] [829faf4b-6f31-4017-9382-72e72bcc6c59] Error performing ActionMailer::MailDeliveryJob (Job ID: 829faf4b-6f31-4017-9382-72e72bcc6c59) from Async(mailers) in 154.28ms: Errno::ECONNREFUSED (Connection refused - connect(2) for "localhost" port 587):
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/2.7.0/net/smtp.rb:539:in `initialize'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/2.7.0/net/smtp.rb:539:in `open'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/2.7.0/net/smtp.rb:539:in `tcp_socket'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/2.7.0/net/smtp.rb:549:in `block in do_start'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/2.7.0/timeout.rb:95:in `block in timeout'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/2.7.0/timeout.rb:105:in `timeout'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/2.7.0/net/smtp.rb:548:in `do_start'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/2.7.0/net/smtp.rb:518:in `start'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/mail-2.7.1/lib/mail/network/delivery_methods/smtp.rb:109:in `start_smtp_session'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/mail-2.7.1/lib/mail/network/delivery_methods/smtp.rb:100:in `deliver!'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/mail-2.7.1/lib/mail/message.rb:2159:in `do_delivery'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/mail-2.7.1/lib/mail/message.rb:260:in `block in deliver'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/actionmailer-6.0.3.2/lib/action_mailer/base.rb:589:in `block in deliver_mail'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/notifications.rb:180:in `block in instrument'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/notifications.rb:180:in `instrument'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/actionmailer-6.0.3.2/lib/action_mailer/base.rb:587:in `deliver_mail'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/mail-2.7.1/lib/mail/message.rb:260:in `deliver'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/actionmailer-6.0.3.2/lib/action_mailer/message_delivery.rb:115:in `block in deliver_now'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/actionmailer-6.0.3.2/lib/action_mailer/rescuable.rb:17:in `handle_exceptions'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/actionmailer-6.0.3.2/lib/action_mailer/message_delivery.rb:114:in `deliver_now'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/actionmailer-6.0.3.2/lib/action_mailer/mail_delivery_job.rb:23:in `perform'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/execution.rb:40:in `block in perform_now'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:112:in `block in run_callbacks'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/i18n-1.8.3/lib/i18n.rb:313:in `with_locale'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/translation.rb:9:in `block (2 levels) in <module:Translation>'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `instance_exec'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/core_ext/time/zones.rb:66:in `use_zone'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/timezones.rb:9:in `block (2 levels) in <module:Timezones>'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `instance_exec'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/logging.rb:25:in `block (4 levels) in <module:Logging>'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/notifications.rb:180:in `block in instrument'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/notifications.rb:180:in `instrument'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/logging.rb:24:in `block (3 levels) in <module:Logging>'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/logging.rb:45:in `block in tag_logger'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/tagged_logging.rb:28:in `tagged'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/tagged_logging.rb:80:in `tagged'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/logging.rb:45:in `tag_logger'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/logging.rb:21:in `block (2 levels) in <module:Logging>'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `instance_exec'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:139:in `run_callbacks'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/execution.rb:39:in `perform_now'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/execution.rb:25:in `block in execute'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:112:in `block in run_callbacks'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/railtie.rb:43:in `block (4 levels) in <class:Railtie>'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/execution_wrapper.rb:88:in `wrap'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/reloader.rb:72:in `block in wrap'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/execution_wrapper.rb:88:in `wrap'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/reloader.rb:71:in `wrap'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/railtie.rb:42:in `block (3 levels) in <class:Railtie>'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `instance_exec'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:139:in `run_callbacks'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/execution.rb:23:in `execute'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/queue_adapters/async_adapter.rb:70:in `perform'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/concurrent-ruby-1.1.6/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:353:in `run_task'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/concurrent-ruby-1.1.6/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:342:in `block (3 levels) in create_worker'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/concurrent-ruby-1.1.6/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:325:in `loop'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/concurrent-ruby-1.1.6/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:325:in `block (2 levels) in create_worker'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/concurrent-ruby-1.1.6/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:324:in `catch'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/concurrent-ruby-1.1.6/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:324:in `block in create_worker'
Started POST "/line_items?product_id=4" for ::1 at 2020-07-17 09:52:47 +0700
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"XxUV4ZV63f58wPYD/oGTFnBJAAxh6NdlnMBPxp0k34jE7Q3F6BOFeLUKekyqDyUgkAVW7ixTAcbgovh6XJ+7EQ==", "product_id"=>"4"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 80], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:38:in `create'
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 80], ["product_id", 4], ["LIMIT", 1]]
  ↳ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/line_items_controller.rb:42:in `block in create'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:42:in `block in create'
  [1m[36mLineItem Create (27.9ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 4], ["cart_id", 80], ["created_at", "2020-07-17 02:52:47.767618"], ["updated_at", "2020-07-17 02:52:47.767618"]]
  ↳ app/controllers/line_items_controller.rb:42:in `block in create'
  [1m[35m (68.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/line_items_controller.rb:42:in `block in create'
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 80]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 1.7ms | Allocations: 134)
  Rendered carts/_cart.html.erb (Duration: 14.8ms | Allocations: 1487)
  Rendered line_items/create.js.erb (Duration: 39.3ms | Allocations: 2001)
Completed 200 OK in 179ms (Views: 47.9ms | ActiveRecord: 98.1ms | Allocations: 10074)


Started GET "/orders/new" for ::1 at 2020-07-17 09:52:52 +0700
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 80], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 80], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:97:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 5.4ms | Allocations: 1051)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered orders/new.html.erb within layouts/application (Duration: 16.2ms | Allocations: 2850)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 80], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:16
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 80]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 3.6ms | Allocations: 891)
  Rendered carts/_cart.html.erb (Duration: 6.9ms | Allocations: 2042)
Completed 200 OK in 47ms (Views: 36.5ms | ActiveRecord: 1.1ms | Allocations: 11103)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-17 09:52:52 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-17 09:52:52 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-17 09:52:52 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/orders/new" for ::1 at 2020-07-17 09:55:47 +0700
Processing by OrdersController#new as HTML
  [1m[36mCart Load (104.6ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 80], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 80], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:97:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 26.4ms | Allocations: 1043)
[Webpacker] Compiling...
[Webpacker] Compiled all packs in /home/khanh/Desktop/depot/public/packs
[Webpacker] Hash: 91811eb9ff306677bf95
Version: webpack 4.43.0
Time: 5392ms
Built at: 07/17/2020 9:56:07 AM
                                     Asset        Size       Chunks                         Chunk Names
    js/application-d687b46ae54878e1a078.js     146 KiB  application  [emitted] [immutable]  application
js/application-d687b46ae54878e1a078.js.map     164 KiB  application  [emitted] [dev]        application
    js/hello_react-7cb607df4b85a32cfe4e.js    1.05 MiB  hello_react  [emitted] [immutable]  hello_react
js/hello_react-7cb607df4b85a32cfe4e.js.map    1.21 MiB  hello_react  [emitted] [dev]        hello_react
       js/pay_type-d8191d71112dd28150c1.js    1.05 MiB     pay_type  [emitted] [immutable]  pay_type
   js/pay_type-d8191d71112dd28150c1.js.map    1.18 MiB     pay_type  [emitted] [dev]        pay_type
                             manifest.json  1020 bytes               [emitted]              
Entrypoint application = js/application-d687b46ae54878e1a078.js js/application-d687b46ae54878e1a078.js.map
Entrypoint hello_react = js/hello_react-7cb607df4b85a32cfe4e.js js/hello_react-7cb607df4b85a32cfe4e.js.map
Entrypoint pay_type = js/pay_type-d8191d71112dd28150c1.js js/pay_type-d8191d71112dd28150c1.js.map
[./app/javascript/PayTypeSelector/CheckPayType.jsx] 4.72 KiB {pay_type} [built]
[./app/javascript/PayTypeSelector/CreditCardPayType.jsx] 4.82 KiB {pay_type} [built]
[./app/javascript/PayTypeSelector/NoPayType.jsx] 3.22 KiB {pay_type} [built]
[./app/javascript/PayTypeSelector/PurchaseOrderPayType.jsx] 4.03 KiB {pay_type} [built]
[./app/javascript/PayTypeSelector/index.jsx] 6.04 KiB {pay_type} [built]
[./app/javascript/channels sync recursive _channel\.js$] ./app/javascript/channels sync _channel\.js$ 186 bytes {application} [built]
[./app/javascript/channels/consumer.js] 265 bytes {application} [built]
[./app/javascript/channels/index.js] 211 bytes {application} [built]
[./app/javascript/channels/products_channel.js] 555 bytes {application} [optional] [built]
[./app/javascript/packs/application.js] 749 bytes {application} [built]
[./app/javascript/packs/hello_react.jsx] 1.06 KiB {hello_react} [built]
[./app/javascript/packs/pay_type.jsx] 564 bytes {pay_type} [built]
[./node_modules/webpack/buildin/module.js] (webpack)/buildin/module.js 552 bytes {application} [built]
    + 19 hidden modules

  Rendered orders/new.html.erb within layouts/application (Duration: 20069.1ms | Allocations: 5307)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mCACHE LineItem Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 80], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:16
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 80]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 58.4ms | Allocations: 892)
  Rendered carts/_cart.html.erb (Duration: 67.0ms | Allocations: 2042)
Completed 200 OK in 20440ms (Views: 20291.9ms | ActiveRecord: 106.2ms | Allocations: 13562)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-17 09:56:09 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-17 09:56:10 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-17 09:56:10 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/orders/new" for ::1 at 2020-07-17 09:57:11 +0700
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 80], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 80], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:97:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 3.0ms | Allocations: 1043)
[Webpacker] Compiling...
[Webpacker] Compiled all packs in /home/khanh/Desktop/depot/public/packs
[Webpacker] Hash: d07940e9b3c4f711620f
Version: webpack 4.43.0
Time: 3716ms
Built at: 07/17/2020 9:57:21 AM
                                     Asset        Size       Chunks                         Chunk Names
    js/application-d687b46ae54878e1a078.js     146 KiB  application  [emitted] [immutable]  application
js/application-d687b46ae54878e1a078.js.map     164 KiB  application  [emitted] [dev]        application
    js/hello_react-7cb607df4b85a32cfe4e.js    1.05 MiB  hello_react  [emitted] [immutable]  hello_react
js/hello_react-7cb607df4b85a32cfe4e.js.map    1.21 MiB  hello_react  [emitted] [dev]        hello_react
       js/pay_type-8f47fc7fdbac8e0a4b4f.js    1.05 MiB     pay_type  [emitted] [immutable]  pay_type
   js/pay_type-8f47fc7fdbac8e0a4b4f.js.map    1.18 MiB     pay_type  [emitted] [dev]        pay_type
                             manifest.json  1020 bytes               [emitted]              
Entrypoint application = js/application-d687b46ae54878e1a078.js js/application-d687b46ae54878e1a078.js.map
Entrypoint hello_react = js/hello_react-7cb607df4b85a32cfe4e.js js/hello_react-7cb607df4b85a32cfe4e.js.map
Entrypoint pay_type = js/pay_type-8f47fc7fdbac8e0a4b4f.js js/pay_type-8f47fc7fdbac8e0a4b4f.js.map
[./app/javascript/PayTypeSelector/CheckPayType.jsx] 4.72 KiB {pay_type} [built]
[./app/javascript/PayTypeSelector/CreditCardPayType.jsx] 4.82 KiB {pay_type} [built]
[./app/javascript/PayTypeSelector/NoPayType.jsx] 3.22 KiB {pay_type} [built]
[./app/javascript/PayTypeSelector/PurchaseOrderPayType.jsx] 4.03 KiB {pay_type} [built]
[./app/javascript/PayTypeSelector/index.jsx] 6.04 KiB {pay_type} [built]
[./app/javascript/channels sync recursive _channel\.js$] ./app/javascript/channels sync _channel\.js$ 186 bytes {application} [built]
[./app/javascript/channels/consumer.js] 265 bytes {application} [built]
[./app/javascript/channels/index.js] 211 bytes {application} [built]
[./app/javascript/channels/products_channel.js] 555 bytes {application} [optional] [built]
[./app/javascript/packs/application.js] 749 bytes {application} [built]
[./app/javascript/packs/hello_react.jsx] 1.06 KiB {hello_react} [built]
[./app/javascript/packs/pay_type.jsx] 564 bytes {pay_type} [built]
[./node_modules/webpack/buildin/module.js] (webpack)/buildin/module.js 552 bytes {application} [built]
    + 19 hidden modules

  Rendered orders/new.html.erb within layouts/application (Duration: 10539.4ms | Allocations: 4912)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 80], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:16
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 80]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 2.1ms | Allocations: 891)
  Rendered carts/_cart.html.erb (Duration: 5.6ms | Allocations: 2038)
Completed 200 OK in 10577ms (Views: 10570.0ms | ActiveRecord: 0.7ms | Allocations: 13134)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-17 09:57:21 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-17 09:57:21 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-17 09:57:21 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/" for ::1 at 2020-07-17 10:03:34 +0700
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by StoreController#index as HTML
  [1m[36mCart Load (24.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 80], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (11.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 279.8ms | Allocations: 6510)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (69.0ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 80], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:16
  [1m[36mLineItem Load (37.7ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 80]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 7.5ms | Allocations: 1656)
  Rendered carts/_cart.html.erb (Duration: 75.7ms | Allocations: 6917)
Completed 200 OK in 592ms (Views: 374.1ms | ActiveRecord: 142.2ms | Allocations: 24632)


Started GET "/cable" for ::1 at 2020-07-17 10:03:35 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-17 10:03:35 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/es" for ::1 at 2020-07-17 10:03:39 +0700
Processing by StoreController#index as HTML
  Parameters: {"locale"=>"es"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 80], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 7.6ms | Allocations: 3202)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 80], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:16
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 80]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 4.0ms | Allocations: 891)
  Rendered carts/_cart.html.erb (Duration: 9.6ms | Allocations: 2033)
Completed 200 OK in 37ms (Views: 34.5ms | ActiveRecord: 0.7ms | Allocations: 10832)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-17 10:03:39 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-17 10:03:39 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-17 10:03:39 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/en" for ::1 at 2020-07-17 10:03:48 +0700
Processing by StoreController#index as HTML
  Parameters: {"locale"=>"en"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 80], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 16.0ms | Allocations: 3200)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 80], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:16
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 80]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 5.0ms | Allocations: 891)
  Rendered carts/_cart.html.erb (Duration: 12.4ms | Allocations: 2033)
Completed 200 OK in 55ms (Views: 49.6ms | ActiveRecord: 0.9ms | Allocations: 10818)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-17 10:03:48 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-17 10:03:48 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-17 10:03:48 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/es" for ::1 at 2020-07-17 10:03:54 +0700
Processing by StoreController#index as HTML
  Parameters: {"locale"=>"es"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 80], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 34.6ms | Allocations: 3206)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 80], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:16
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 80]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 2.8ms | Allocations: 891)
  Rendered carts/_cart.html.erb (Duration: 6.7ms | Allocations: 2033)
Completed 200 OK in 61ms (Views: 53.3ms | ActiveRecord: 1.1ms | Allocations: 10814)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-17 10:03:54 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-17 10:03:54 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-17 10:03:54 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/en" for ::1 at 2020-07-17 10:12:04 +0700
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by StoreController#index as HTML
  Parameters: {"locale"=>"en"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 80], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 17.0ms | Allocations: 6494)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 80], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:16
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 80]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 2.3ms | Allocations: 1656)
  Rendered carts/_cart.html.erb (Duration: 12.7ms | Allocations: 6917)
Completed 200 OK in 51ms (Views: 39.5ms | ActiveRecord: 1.0ms | Allocations: 24602)


Started GET "/cable" for ::1 at 2020-07-17 10:12:04 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-17 10:12:04 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/en" for ::1 at 2020-07-17 10:12:08 +0700
Processing by StoreController#index as HTML
  Parameters: {"locale"=>"en"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 80], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 7.8ms | Allocations: 3200)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 80], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:16
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 80]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 1.5ms | Allocations: 891)
  Rendered carts/_cart.html.erb (Duration: 3.4ms | Allocations: 2033)
Completed 200 OK in 24ms (Views: 20.5ms | ActiveRecord: 0.6ms | Allocations: 10861)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-17 10:12:08 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-17 10:12:08 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-17 10:12:08 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/orders/new" for ::1 at 2020-07-17 10:12:37 +0700
Processing by OrdersController#new as HTML
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 80], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 80], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:97:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 3.3ms | Allocations: 1112)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered orders/new.html.erb within layouts/application (Duration: 7.4ms | Allocations: 2866)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 80], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:16
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 80]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 4.8ms | Allocations: 891)
  Rendered carts/_cart.html.erb (Duration: 9.9ms | Allocations: 2046)
Completed 200 OK in 199ms (Views: 31.5ms | ActiveRecord: 1.1ms | Allocations: 15746)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-17 10:12:37 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-17 10:12:37 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-17 10:12:37 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for ::1 at 2020-07-17 10:12:40 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-17 10:12:40 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-17 10:12:40 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/en" for ::1 at 2020-07-17 10:12:41 +0700
Processing by StoreController#index as HTML
  Parameters: {"locale"=>"en"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 80], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 16.0ms | Allocations: 3209)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 80], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:16
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 80]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 2.8ms | Allocations: 891)
  Rendered carts/_cart.html.erb (Duration: 6.5ms | Allocations: 2033)
Completed 200 OK in 41ms (Views: 34.8ms | ActiveRecord: 1.3ms | Allocations: 10869)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-17 10:12:41 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-17 10:12:41 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-17 10:12:41 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/en" for ::1 at 2020-07-17 10:12:42 +0700
Processing by StoreController#index as HTML
  Parameters: {"locale"=>"en"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 80], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 18.4ms | Allocations: 3209)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 80], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:16
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 80]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 4.7ms | Allocations: 891)
  Rendered carts/_cart.html.erb (Duration: 10.4ms | Allocations: 2033)
Completed 200 OK in 49ms (Views: 41.2ms | ActiveRecord: 2.1ms | Allocations: 10861)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-17 10:12:42 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-17 10:12:42 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-17 10:12:42 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/en" for ::1 at 2020-07-17 10:12:42 +0700
Processing by StoreController#index as HTML
  Parameters: {"locale"=>"en"}
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 80], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 16.6ms | Allocations: 3200)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 80], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:16
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 80]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 4.8ms | Allocations: 891)
  Rendered carts/_cart.html.erb (Duration: 10.7ms | Allocations: 2033)
Completed 200 OK in 47ms (Views: 40.6ms | ActiveRecord: 1.4ms | Allocations: 10840)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-17 10:12:42 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-17 10:12:42 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-17 10:12:42 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/en" for ::1 at 2020-07-17 10:13:42 +0700
Processing by StoreController#index as HTML
  Parameters: {"locale"=>"en"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 80], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 19.1ms | Allocations: 3200)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 80], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:16
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 80]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 3.6ms | Allocations: 891)
  Rendered carts/_cart.html.erb (Duration: 8.6ms | Allocations: 2033)
Completed 200 OK in 55ms (Views: 49.4ms | ActiveRecord: 1.8ms | Allocations: 10869)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-17 10:13:42 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-17 10:13:42 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-17 10:13:42 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/en" for ::1 at 2020-07-17 10:13:43 +0700
Processing by StoreController#index as HTML
  Parameters: {"locale"=>"en"}
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 80], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 13.1ms | Allocations: 3209)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 80], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:16
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 80]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 1.9ms | Allocations: 891)
  Rendered carts/_cart.html.erb (Duration: 7.4ms | Allocations: 2033)
Completed 200 OK in 46ms (Views: 37.1ms | ActiveRecord: 1.6ms | Allocations: 10869)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-17 10:13:44 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-17 10:13:44 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-17 10:13:44 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/en" for ::1 at 2020-07-17 10:13:44 +0700
Processing by StoreController#index as HTML
  Parameters: {"locale"=>"en"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 80], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 13.3ms | Allocations: 3209)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 80], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:16
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 80]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 4.6ms | Allocations: 891)
  Rendered carts/_cart.html.erb (Duration: 10.1ms | Allocations: 2033)
Completed 200 OK in 45ms (Views: 37.8ms | ActiveRecord: 1.1ms | Allocations: 10872)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-17 10:13:44 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-17 10:13:44 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-17 10:13:44 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/en" for ::1 at 2020-07-17 10:13:44 +0700
Processing by StoreController#index as HTML
  Parameters: {"locale"=>"en"}
  [1m[36mCart Load (0.7ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 80], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 14.4ms | Allocations: 3200)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 80], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:16
  [1m[36mLineItem Load (0.8ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 80]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 4.1ms | Allocations: 891)
  Rendered carts/_cart.html.erb (Duration: 10.4ms | Allocations: 2033)
Completed 200 OK in 45ms (Views: 37.5ms | ActiveRecord: 2.3ms | Allocations: 10834)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-17 10:13:44 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-17 10:13:44 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-17 10:13:44 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/en" for ::1 at 2020-07-17 10:21:38 +0700
  [1m[35m (1.8ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (7.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by StoreController#index as HTML
  Parameters: {"locale"=>"en"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 80], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 353.1ms | Allocations: 15602)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 80], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:16
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 80]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 27.5ms | Allocations: 1826)
  Rendered carts/_cart.html.erb (Duration: 63.0ms | Allocations: 7993)
Completed 200 OK in 565ms (Views: 485.3ms | ActiveRecord: 4.7ms | Allocations: 41689)


Started GET "/cable" for ::1 at 2020-07-17 10:21:39 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-17 10:21:39 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/" for ::1 at 2020-07-17 10:21:43 +0700
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 80], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 12.5ms | Allocations: 3206)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 80], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:16
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 80]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 1.8ms | Allocations: 891)
  Rendered carts/_cart.html.erb (Duration: 6.9ms | Allocations: 2033)
Completed 200 OK in 34ms (Views: 30.2ms | ActiveRecord: 1.1ms | Allocations: 10856)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-17 10:21:44 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-17 10:21:44 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-17 10:21:44 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/en" for ::1 at 2020-07-17 10:21:49 +0700
Processing by StoreController#index as HTML
  Parameters: {"locale"=>"en"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 80], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 7.1ms | Allocations: 3204)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 80], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:16
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 80]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 4.0ms | Allocations: 891)
  Rendered carts/_cart.html.erb (Duration: 7.4ms | Allocations: 2033)
Completed 200 OK in 26ms (Views: 23.1ms | ActiveRecord: 0.9ms | Allocations: 10858)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-17 10:21:49 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-17 10:21:49 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-17 10:21:49 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/cable" for ::1 at 2020-07-17 10:22:32 +0700
  [1m[35m (0.5ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-17 10:22:32 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/en" for ::1 at 2020-07-17 10:22:32 +0700
Processing by StoreController#index as HTML
  Parameters: {"locale"=>"en"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 80], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 49.5ms | Allocations: 12840)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 80], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:16
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 80]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 5.9ms | Allocations: 1826)
  Rendered carts/_cart.html.erb (Duration: 26.0ms | Allocations: 7992)
Completed 200 OK in 156ms (Views: 115.1ms | ActiveRecord: 6.8ms | Allocations: 38358)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-17 10:22:33 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-17 10:22:33 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-17 10:22:33 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/es" for ::1 at 2020-07-17 10:22:37 +0700
Processing by StoreController#index as HTML
  Parameters: {"locale"=>"es"}
es translation not available
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 80], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 8.3ms | Allocations: 3202)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 80], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:16
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 80]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 1.6ms | Allocations: 891)
  Rendered carts/_cart.html.erb (Duration: 3.8ms | Allocations: 2038)
Completed 200 OK in 27ms (Views: 24.3ms | ActiveRecord: 0.7ms | Allocations: 10880)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-17 10:22:37 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-17 10:22:37 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-17 10:22:37 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/products" for ::1 at 2020-07-17 10:22:47 +0700
Processing by ProductsController#index as HTML
  [1m[36mUser Load (24.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:20:in `authorize'
Redirected to http://localhost:3000/login
Filter chain halted as :authorize rendered or redirected
Completed 302 Found in 50ms (ActiveRecord: 25.5ms | Allocations: 1843)


Started GET "/login" for ::1 at 2020-07-17 10:22:47 +0700
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 40.1ms | Allocations: 1208)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 61ms (Views: 56.1ms | ActiveRecord: 0.0ms | Allocations: 6203)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-17 10:22:49 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-17 10:22:49 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-17 10:22:49 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for ::1 at 2020-07-17 10:22:52 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-17 10:22:52 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-17 10:22:52 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/en" for ::1 at 2020-07-17 10:22:57 +0700
Processing by StoreController#index as HTML
  Parameters: {"locale"=>"en"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 80], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 8.8ms | Allocations: 3209)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 80], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:16
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 80]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 1.6ms | Allocations: 891)
  Rendered carts/_cart.html.erb (Duration: 3.6ms | Allocations: 2038)
Completed 200 OK in 36ms (Views: 33.3ms | ActiveRecord: 0.6ms | Allocations: 10851)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-17 10:22:57 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-17 10:22:57 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-17 10:22:57 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/en" for ::1 at 2020-07-17 10:23:00 +0700
Processing by StoreController#index as HTML
  Parameters: {"locale"=>"en"}
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 80], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 19.7ms | Allocations: 3213)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 80], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:16
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 80]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 1.6ms | Allocations: 891)
  Rendered carts/_cart.html.erb (Duration: 4.3ms | Allocations: 2033)
Completed 200 OK in 45ms (Views: 37.8ms | ActiveRecord: 1.1ms | Allocations: 10858)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-17 10:23:00 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-17 10:23:00 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-17 10:23:00 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
DEPRECATION WARNING: Using `bin/rake routes` is deprecated and will be removed in Rails 6.1. Use `bin/rails routes` instead.
 (called from load at /home/khanh/.rbenv/versions/2.7.1/bin/rake:23)
Started GET "/en" for ::1 at 2020-07-17 10:38:51 +0700
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by StoreController#index as HTML
  Parameters: {"locale"=>"en"}
Completed 500 Internal Server Error in 70ms (ActiveRecord: 0.0ms | Allocations: 2910)


  
NoMethodError (undefined method `deep_symbolize_keys' for "Biblioteca de Pragmatic":String):
  
app/controllers/application_controller.rb:33:in `set_i18n_locale_from_params'
Started GET "/es" for ::1 at 2020-07-17 10:38:59 +0700
Processing by StoreController#index as HTML
  Parameters: {"locale"=>"es"}
Completed 500 Internal Server Error in 14ms (ActiveRecord: 0.0ms | Allocations: 2790)


  
NoMethodError (undefined method `deep_symbolize_keys' for "Biblioteca de Pragmatic":String):
  
app/controllers/application_controller.rb:33:in `set_i18n_locale_from_params'
Started GET "/es" for ::1 at 2020-07-17 10:40:29 +0700
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by StoreController#index as HTML
  Parameters: {"locale"=>"es"}
Completed 500 Internal Server Error in 7ms (ActiveRecord: 0.0ms | Allocations: 2804)


  
NoMethodError (undefined method `deep_symbolize_keys' for "Biblioteca de Pragmatic":String):
  
app/controllers/application_controller.rb:33:in `set_i18n_locale_from_params'
Started GET "/es" for ::1 at 2020-07-17 10:40:31 +0700
Processing by StoreController#index as HTML
  Parameters: {"locale"=>"es"}
Completed 500 Internal Server Error in 15ms (ActiveRecord: 0.0ms | Allocations: 2768)


  
NoMethodError (undefined method `deep_symbolize_keys' for "Biblioteca de Pragmatic":String):
  
app/controllers/application_controller.rb:33:in `set_i18n_locale_from_params'
Started GET "/es" for ::1 at 2020-07-17 10:43:13 +0700
Processing by StoreController#index as HTML
  Parameters: {"locale"=>"es"}
Completed 500 Internal Server Error in 91ms (ActiveRecord: 0.0ms | Allocations: 2770)


  
NoMethodError (undefined method `deep_symbolize_keys' for "Biblioteca de Pragmatic":String):
  
app/controllers/application_controller.rb:33:in `set_i18n_locale_from_params'
Started GET "/es" for ::1 at 2020-07-17 10:48:41 +0700
  [1m[35m (4.9ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by StoreController#index as HTML
  Parameters: {"locale"=>"es"}
  [1m[36mCart Load (32.8ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 80], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (8.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 232.9ms | Allocations: 16244)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (21.8ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 80], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:16
  [1m[36mLineItem Load (5.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 80]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 4.5ms | Allocations: 1838)
  Rendered carts/_cart.html.erb (Duration: 33.4ms | Allocations: 8017)
Completed 200 OK in 778ms (Views: 611.3ms | ActiveRecord: 72.5ms | Allocations: 44398)


Started GET "/cable" for ::1 at 2020-07-17 10:48:42 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-17 10:48:42 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/en" for ::1 at 2020-07-17 10:48:47 +0700
Processing by StoreController#index as HTML
  Parameters: {"locale"=>"en"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 80], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 13.6ms | Allocations: 3210)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 80], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:16
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 80]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 2.3ms | Allocations: 891)
  Rendered carts/_cart.html.erb (Duration: 6.4ms | Allocations: 2145)
Completed 200 OK in 37ms (Views: 33.0ms | ActiveRecord: 1.0ms | Allocations: 12407)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-17 10:48:48 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-17 10:48:48 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-17 10:48:48 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/es" for ::1 at 2020-07-17 10:48:53 +0700
Processing by StoreController#index as HTML
  Parameters: {"locale"=>"es"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 80], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 9.1ms | Allocations: 3236)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 80], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:16
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 80]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 3.6ms | Allocations: 903)
  Rendered carts/_cart.html.erb (Duration: 7.3ms | Allocations: 2057)
Completed 200 OK in 32ms (Views: 27.9ms | ActiveRecord: 0.9ms | Allocations: 11701)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-17 10:48:53 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-17 10:48:53 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-17 10:48:53 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/es" for ::1 at 2020-07-17 10:50:04 +0700
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by StoreController#index as HTML
  Parameters: {"locale"=>"es"}
  [1m[36mCart Load (0.7ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 80], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 25.1ms | Allocations: 6658)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 80], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:16
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 80]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 5.0ms | Allocations: 1668)
  Rendered carts/_cart.html.erb (Duration: 25.8ms | Allocations: 7074)
Completed 200 OK in 117ms (Views: 73.8ms | ActiveRecord: 9.3ms | Allocations: 28400)


Started GET "/cable" for ::1 at 2020-07-17 10:50:04 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-17 10:50:04 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/en" for ::1 at 2020-07-17 10:50:08 +0700
Processing by StoreController#index as HTML
  Parameters: {"locale"=>"en"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 80], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 9.3ms | Allocations: 3211)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 80], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:16
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 80]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 1.5ms | Allocations: 891)
  Rendered carts/_cart.html.erb (Duration: 3.4ms | Allocations: 2033)
Completed 200 OK in 24ms (Views: 21.2ms | ActiveRecord: 0.7ms | Allocations: 11686)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-17 10:50:08 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-17 10:50:08 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-17 10:50:08 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/es" for ::1 at 2020-07-17 10:50:12 +0700
Processing by StoreController#index as HTML
  Parameters: {"locale"=>"es"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 80], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 13.1ms | Allocations: 3242)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 80], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:16
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 80]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 1.5ms | Allocations: 903)
  Rendered carts/_cart.html.erb (Duration: 3.4ms | Allocations: 2057)
Completed 200 OK in 40ms (Views: 35.2ms | ActiveRecord: 1.0ms | Allocations: 11749)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-17 10:50:13 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-17 10:50:13 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-17 10:50:13 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/es" for ::1 at 2020-07-17 10:51:55 +0700
Processing by StoreController#index as HTML
  Parameters: {"locale"=>"es"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 80], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 11.7ms | Allocations: 3541)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 80], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:16
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 80]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 5.3ms | Allocations: 1061)
  Rendered carts/_cart.html.erb (Duration: 11.9ms | Allocations: 2567)
Completed 200 OK in 50ms (Views: 44.7ms | ActiveRecord: 1.1ms | Allocations: 13145)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-17 10:51:55 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-17 10:51:55 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-17 10:51:55 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/es" for ::1 at 2020-07-17 10:57:33 +0700
Processing by StoreController#index as HTML
  Parameters: {"locale"=>"es"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 80], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 24.5ms | Allocations: 4114)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 80], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:16
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 80]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 6.3ms | Allocations: 1064)
  Rendered carts/_cart.html.erb (Duration: 21.4ms | Allocations: 2570)
Completed 200 OK in 84ms (Views: 74.8ms | ActiveRecord: 1.6ms | Allocations: 13700)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-17 10:57:33 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-17 10:57:33 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-17 10:57:33 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/es" for ::1 at 2020-07-17 10:57:53 +0700
Processing by StoreController#index as HTML
  Parameters: {"locale"=>"es"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 80], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 11.4ms | Allocations: 3662)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 80], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:16
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 80]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 5.3ms | Allocations: 1061)
  Rendered carts/_cart.html.erb (Duration: 12.5ms | Allocations: 2566)
Completed 200 OK in 51ms (Views: 45.8ms | ActiveRecord: 0.8ms | Allocations: 13254)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-17 10:57:53 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-17 10:57:53 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-17 10:57:53 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/en" for ::1 at 2020-07-17 10:57:55 +0700
Processing by StoreController#index as HTML
  Parameters: {"locale"=>"en"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 80], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 8.4ms | Allocations: 3304)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 80], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:16
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 80]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 1.6ms | Allocations: 891)
  Rendered carts/_cart.html.erb (Duration: 4.0ms | Allocations: 2145)
Completed 200 OK in 31ms (Views: 27.7ms | ActiveRecord: 0.7ms | Allocations: 11779)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-17 10:57:55 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-17 10:57:56 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-17 10:57:56 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/en" for ::1 at 2020-07-17 10:58:27 +0700
Processing by StoreController#index as HTML
  Parameters: {"locale"=>"en"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 80], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 11.3ms | Allocations: 3617)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 80], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:16
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 80]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 2.3ms | Allocations: 1049)
  Rendered carts/_cart.html.erb (Duration: 8.6ms | Allocations: 2540)
Completed 200 OK in 53ms (Views: 46.3ms | ActiveRecord: 1.1ms | Allocations: 13143)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-17 10:58:27 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-17 10:58:27 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-17 10:58:27 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/en" for ::1 at 2020-07-17 11:10:46 +0700
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by StoreController#index as HTML
  Parameters: {"locale"=>"en"}
  [1m[36mCart Load (0.6ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 80], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 34.6ms | Allocations: 6905)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 80], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:16
  Rendered carts/_cart.html.erb (Duration: 124.3ms | Allocations: 1408)
Completed 500 Internal Server Error in 243ms (ActiveRecord: 1.5ms | Allocations: 22621)


  
ActionView::SyntaxErrorInTemplate (Encountered a syntax error while rendering template: check <article>
<% if notice %>
<aside id="notice"><%= notice %></aside>
<% end %>

<table>
<h2><%= t('.title')%></h2>
<%= render(cart.line_items) %>
<tfoot>
<tr>
<th colspan="2">Total:</th>
<td class="price"><%= number_to_currency(cart.total_price) %></td>
</tr>
</tfoot>
</table>
<div class="actions">
<%= button_to t(.'empty'), cart,
method: :delete,
data: { confirm: 'Are you sure?' } %>
<%= button_to t('.checkout'), new_order_path(locale: I18n.locale),
method: :get,
class: "checkout"%>
</div>               
</article>
):
1:    <article>
2:    <% if notice %>
3:    <aside id="notice"><%= notice %></aside>
4:    <% end %>
5:    
6:    <table>
7:    <h2><%= t('.title')%></h2>
8:    <%= render(cart.line_items) %>
9:    <tfoot>
10:    <tr>
11:    <th colspan="2">Total:</th>
12:    <td class="price"><%= number_to_currency(cart.total_price) %></td>
13:    </tr>
14:    </tfoot>
15:    </table>
16:    <div class="actions">
17:    <%= button_to t(.'empty'), cart,
18:    method: :delete,
19:    data: { confirm: 'Are you sure?' } %>
20:    <%= button_to t('.checkout'), new_order_path(locale: I18n.locale),
21:    method: :get,
22:    class: "checkout"%>
23:    </div>               
24:    </article>
  
app/views/carts/_cart.html.erb:17: syntax error, unexpected '.', expecting ')'
app/views/carts/_cart.html.erb:18: syntax error, unexpected tLABEL
app/views/carts/_cart.html.erb:19: syntax error, unexpected ')', expecting `end'
app/views/carts/_cart.html.erb:17: syntax error, unexpected '.', expecting ')'
app/views/carts/_cart.html.erb:18: syntax error, unexpected tLABEL
app/views/carts/_cart.html.erb:19: syntax error, unexpected ')', expecting `end'
app/views/carts/_cart.html.erb:17: syntax error, unexpected '.', expecting ')'
app/views/carts/_cart.html.erb:18: syntax error, unexpected tLABEL
app/views/carts/_cart.html.erb:19: syntax error, unexpected ')', expecting `end'
app/views/carts/_cart.html.erb:17: syntax error, unexpected '.', expecting ')'
app/views/carts/_cart.html.erb:18: syntax error, unexpected tLABEL
app/views/carts/_cart.html.erb:19: syntax error, unexpected ')', expecting `end'
app/views/carts/_cart.html.erb:17: syntax error, unexpected '.', expecting ')'
app/views/carts/_cart.html.erb:18: syntax error, unexpected tLABEL
app/views/carts/_cart.html.erb:19: syntax error, unexpected ')', expecting `end'
app/views/carts/_cart.html.erb:17: syntax error, unexpected '.', expecting ')'
app/views/carts/_cart.html.erb:18: syntax error, unexpected tLABEL
app/views/carts/_cart.html.erb:19: syntax error, unexpected ')', expecting `end'
app/helpers/application_helper.rb:4:in `render_if'
app/views/layouts/application.html.erb:16
Started GET "/en" for ::1 at 2020-07-17 11:11:01 +0700
Processing by StoreController#index as HTML
  Parameters: {"locale"=>"en"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 80], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 16.8ms | Allocations: 3660)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 80], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:16
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 80]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 4.9ms | Allocations: 1814)
  Rendered carts/_cart.html.erb (Duration: 25.7ms | Allocations: 7598)
Completed 200 OK in 81ms (Views: 73.7ms | ActiveRecord: 1.3ms | Allocations: 18350)


Started GET "/cable" for ::1 at 2020-07-17 11:11:02 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-17 11:11:02 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/es" for ::1 at 2020-07-17 11:11:04 +0700
Processing by StoreController#index as HTML
  Parameters: {"locale"=>"es"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 80], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 17.0ms | Allocations: 3337)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 80], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:16
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 80]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 1.5ms | Allocations: 903)
  Rendered carts/_cart.html.erb (Duration: 4.0ms | Allocations: 2248)
Completed 200 OK in 37ms (Views: 32.7ms | ActiveRecord: 0.8ms | Allocations: 11928)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-17 11:11:05 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-17 11:11:05 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-17 11:11:05 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/es" for ::1 at 2020-07-17 11:19:39 +0700
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by StoreController#index as HTML
  Parameters: {"locale"=>"es"}
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 80], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 21.2ms | Allocations: 6953)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 80], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:16
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 80]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 6.0ms | Allocations: 1826)
  Rendered carts/_cart.html.erb (Duration: 23.5ms | Allocations: 7536)
Completed 200 OK in 94ms (Views: 66.3ms | ActiveRecord: 1.9ms | Allocations: 28966)


Started GET "/cable" for ::1 at 2020-07-17 11:19:39 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-17 11:19:39 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/" for ::1 at 2020-07-17 11:19:41 +0700
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 80], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 17.6ms | Allocations: 3307)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 80], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:16
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 80]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 1.7ms | Allocations: 891)
  Rendered carts/_cart.html.erb (Duration: 4.4ms | Allocations: 2222)
Completed 200 OK in 42ms (Views: 35.8ms | ActiveRecord: 1.1ms | Allocations: 11835)


Started GET "/en/orders/new" for ::1 at 2020-07-17 13:57:06 +0700
  [1m[35m (2.5ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by OrdersController#new as HTML
  Parameters: {"locale"=>"en"}
  [1m[36mCart Load (12.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 80], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Exists? (1.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 80], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:97:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 26.6ms | Allocations: 1927)
[Webpacker] Compiling...
[Webpacker] Compiled all packs in /home/khanh/Desktop/depot/public/packs
[Webpacker] Hash: 2bb6ab022492d8c4a709
Version: webpack 4.43.0
Time: 4222ms
Built at: 07/17/2020 1:57:16 PM
                                     Asset        Size       Chunks                         Chunk Names
    js/application-0c1eb931410a04f6766c.js     187 KiB  application  [emitted] [immutable]  application
js/application-0c1eb931410a04f6766c.js.map     212 KiB  application  [emitted] [dev]        application
    js/hello_react-7cb607df4b85a32cfe4e.js    1.05 MiB  hello_react  [emitted] [immutable]  hello_react
js/hello_react-7cb607df4b85a32cfe4e.js.map    1.21 MiB  hello_react  [emitted] [dev]        hello_react
       js/pay_type-da2cad1390e402b02e90.js    1.05 MiB     pay_type  [emitted] [immutable]  pay_type
   js/pay_type-da2cad1390e402b02e90.js.map    1.18 MiB     pay_type  [emitted] [dev]        pay_type
                             manifest.json  1020 bytes               [emitted]              
Entrypoint application = js/application-0c1eb931410a04f6766c.js js/application-0c1eb931410a04f6766c.js.map
Entrypoint hello_react = js/hello_react-7cb607df4b85a32cfe4e.js js/hello_react-7cb607df4b85a32cfe4e.js.map
Entrypoint pay_type = js/pay_type-da2cad1390e402b02e90.js js/pay_type-da2cad1390e402b02e90.js.map
[./app/javascript/PayTypeSelector/CheckPayType.jsx] 4.8 KiB {pay_type} [built]
[./app/javascript/PayTypeSelector/CreditCardPayType.jsx] 4.92 KiB {pay_type} [built]
[./app/javascript/PayTypeSelector/NoPayType.jsx] 3.22 KiB {pay_type} [built]
[./app/javascript/PayTypeSelector/PurchaseOrderPayType.jsx] 4.08 KiB {pay_type} [built]
[./app/javascript/PayTypeSelector/index.jsx] 6.16 KiB {pay_type} [built]
[./app/javascript/channels sync recursive _channel\.js$] ./app/javascript/channels sync _channel\.js$ 186 bytes {application} [built]
[./app/javascript/channels/consumer.js] 265 bytes {application} [built]
[./app/javascript/channels/index.js] 211 bytes {application} [built]
[./app/javascript/channels/products_channel.js] 555 bytes {application} [optional] [built]
[./app/javascript/packs/application.js] 863 bytes {application} [built]
[./app/javascript/packs/hello_react.jsx] 1.06 KiB {hello_react} [built]
[./app/javascript/packs/pay_type.jsx] 564 bytes {pay_type} [built]
[./node_modules/webpack/buildin/module.js] (webpack)/buildin/module.js 552 bytes {application} [built]
[./public/javascripts/i18n.js] 33.3 KiB {application} [built]
[./public/javascripts/translations.js] 7.05 KiB {application} [built]
    + 19 hidden modules

  Rendered orders/new.html.erb within layouts/application (Duration: 9299.6ms | Allocations: 5512)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 80], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:23
  [1m[36mLineItem Load (6.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 80]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (6.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 128.7ms | Allocations: 7861)
  Rendered carts/_cart.html.erb (Duration: 196.1ms | Allocations: 14148)
Completed 200 OK in 10790ms (Views: 10525.7ms | ActiveRecord: 32.9ms | Allocations: 97169)


Started GET "/cable" for ::1 at 2020-07-17 13:57:22 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-17 13:57:24 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/" for ::1 at 2020-07-17 13:57:41 +0700
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.9ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 80], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 74.1ms | Allocations: 3717)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 80], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:23
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 80]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 4.5ms | Allocations: 892)
  Rendered carts/_cart.html.erb (Duration: 12.2ms | Allocations: 2118)
Completed 200 OK in 148ms (Views: 137.9ms | ActiveRecord: 2.4ms | Allocations: 12182)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-17 13:57:42 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-17 13:57:42 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-17 13:57:42 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/en/orders/new" for ::1 at 2020-07-17 13:57:43 +0700
Processing by OrdersController#new as HTML
  Parameters: {"locale"=>"en"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 80], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 80], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:97:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 5.6ms | Allocations: 815)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered orders/new.html.erb within layouts/application (Duration: 13.7ms | Allocations: 2650)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 80], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:23
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 80]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 3.4ms | Allocations: 892)
  Rendered carts/_cart.html.erb (Duration: 7.5ms | Allocations: 2125)
Completed 200 OK in 45ms (Views: 33.7ms | ActiveRecord: 1.3ms | Allocations: 11117)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-17 13:57:43 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-17 13:57:43 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-17 13:57:43 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/en/orders/new/es" for ::1 at 2020-07-17 13:57:50 +0700
  
ActionController::RoutingError (No route matches [GET] "/en/orders/new/es"):
  
actionpack (6.0.3.2) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
web-console (4.0.3) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.3) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.3) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.3) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.3.2) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.3.2) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.3.2) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.3.2) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.3.2) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.3.2) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.3) lib/rack/method_override.rb:24:in `call'
rack (2.2.3) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.3.2) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.3) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
webpacker (4.2.2) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.3.2) lib/rails/engine.rb:527:in `call'
puma (4.3.5) lib/puma/configuration.rb:228:in `call'
puma (4.3.5) lib/puma/server.rb:713:in `handle_request'
puma (4.3.5) lib/puma/server.rb:472:in `process_client'
puma (4.3.5) lib/puma/server.rb:328:in `block in run'
puma (4.3.5) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Finished "/cable/" [WebSocket] for ::1 at 2020-07-17 13:57:50 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-17 13:57:52 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-17 13:57:52 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for ::1 at 2020-07-17 13:57:53 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-17 13:57:53 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-17 13:57:53 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/es" for ::1 at 2020-07-17 13:58:03 +0700
Processing by StoreController#index as HTML
  Parameters: {"locale"=>"es"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 80], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 12.3ms | Allocations: 3396)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 80], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:23
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 80]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 1.6ms | Allocations: 904)
  Rendered carts/_cart.html.erb (Duration: 4.1ms | Allocations: 2252)
Completed 200 OK in 27ms (Views: 24.5ms | ActiveRecord: 0.6ms | Allocations: 12071)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-17 13:58:04 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-17 13:58:04 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-17 13:58:04 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/es/orders/new" for ::1 at 2020-07-17 13:58:07 +0700
Processing by OrdersController#new as HTML
  Parameters: {"locale"=>"es"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 80], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 80], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:97:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 1.4ms | Allocations: 817)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered orders/new.html.erb within layouts/application (Duration: 4.0ms | Allocations: 2760)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 80], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:23
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 80]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 3.5ms | Allocations: 904)
  Rendered carts/_cart.html.erb (Duration: 6.3ms | Allocations: 2145)
Completed 200 OK in 26ms (Views: 16.2ms | ActiveRecord: 0.6ms | Allocations: 11636)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-17 13:58:07 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-17 13:58:07 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-17 13:58:07 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/es/orders/new" for ::1 at 2020-07-17 14:01:02 +0700
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by OrdersController#new as HTML
  Parameters: {"locale"=>"es"}
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 80], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 80], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:97:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 3.1ms | Allocations: 1284)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered orders/new.html.erb within layouts/application (Duration: 57.5ms | Allocations: 3327)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 80], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:23
  [1m[36mLineItem Load (23.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 80]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (15.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 45.9ms | Allocations: 6911)
  Rendered carts/_cart.html.erb (Duration: 94.1ms | Allocations: 12767)
Completed 200 OK in 252ms (Views: 142.5ms | ActiveRecord: 45.2ms | Allocations: 32960)


Started GET "/cable" for ::1 at 2020-07-17 14:01:03 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-17 14:01:03 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started POST "/orders" for ::1 at 2020-07-17 14:01:06 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"p8HbX8j9ot6UpSLOwNUdGCUbJnEm9nmTb05S+eMbtn08OcN7tZT6WF1vroGUW6suxVdwk2tNrzATLOVFIqDS5A==", "order"=>{"name"=>"", "address"=>"", "email"=>"", "pay_type"=>""}, "commit"=>"Realizar Pedido"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 80], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 80]]
  ↳ app/models/order.rb:15:in `add_line_items_from_cart'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/orders_controller.rb:43:in `block in create'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:43:in `block in create'
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  ↳ app/controllers/orders_controller.rb:43:in `block in create'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 3.5ms | Allocations: 2010)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered orders/new.html.erb within layouts/application (Duration: 6.8ms | Allocations: 3833)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 0.3ms | Allocations: 135)
  Rendered carts/_cart.html.erb (Duration: 1.6ms | Allocations: 763)
Completed 200 OK in 49ms (Views: 17.2ms | ActiveRecord: 1.2ms | Allocations: 17005)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-17 14:01:06 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-17 14:01:06 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-17 14:01:06 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/orders" for ::1 at 2020-07-17 14:01:29 +0700
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by OrdersController#index as HTML
  [1m[36mUser Load (11.0ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:20:in `authorize'
Redirected to http://localhost:3000/login
Filter chain halted as :authorize rendered or redirected
Completed 302 Found in 35ms (ActiveRecord: 12.9ms | Allocations: 2203)


Started GET "/login" for ::1 at 2020-07-17 14:01:29 +0700
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 15.5ms | Allocations: 1198)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 41ms (Views: 36.7ms | ActiveRecord: 0.0ms | Allocations: 6250)


Started GET "/cable" for ::1 at 2020-07-17 14:01:30 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-17 14:01:30 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/login" for ::1 at 2020-07-17 14:01:32 +0700
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.3ms | Allocations: 302)
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 16ms (Views: 12.9ms | ActiveRecord: 0.0ms | Allocations: 5114)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-17 14:01:32 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-17 14:01:32 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-17 14:01:32 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for ::1 at 2020-07-17 14:01:33 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-17 14:01:33 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-17 14:01:33 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started POST "/orders" for ::1 at 2020-07-17 14:01:34 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"p8HbX8j9ot6UpSLOwNUdGCUbJnEm9nmTb05S+eMbtn08OcN7tZT6WF1vroGUW6suxVdwk2tNrzATLOVFIqDS5A==", "order"=>{"name"=>"", "address"=>"", "email"=>"", "pay_type"=>""}, "commit"=>"Realizar Pedido"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 80], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 80]]
  ↳ app/models/order.rb:15:in `add_line_items_from_cart'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/orders_controller.rb:43:in `block in create'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:43:in `block in create'
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  ↳ app/controllers/orders_controller.rb:43:in `block in create'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 2.7ms | Allocations: 1981)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered orders/new.html.erb within layouts/application (Duration: 6.3ms | Allocations: 3697)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 0.4ms | Allocations: 138)
  Rendered carts/_cart.html.erb (Duration: 2.0ms | Allocations: 728)
Completed 200 OK in 119ms (Views: 16.5ms | ActiveRecord: 5.4ms | Allocations: 36096)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-17 14:01:35 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-17 14:01:35 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-17 14:01:35 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/" for ::1 at 2020-07-17 14:03:00 +0700
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 80], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 13.7ms | Allocations: 7200)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 80], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:23
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 80]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 2.4ms | Allocations: 1660)
  Rendered carts/_cart.html.erb (Duration: 12.4ms | Allocations: 7167)
Completed 200 OK in 54ms (Views: 41.2ms | ActiveRecord: 2.5ms | Allocations: 26707)


Started GET "/" for ::1 at 2020-07-17 14:03:01 +0700
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.7ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 80], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 12.0ms | Allocations: 3360)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 80], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:23
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 80]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 5.1ms | Allocations: 904)
  Rendered carts/_cart.html.erb (Duration: 8.8ms | Allocations: 2136)
Completed 200 OK in 47ms (Views: 38.2ms | ActiveRecord: 1.9ms | Allocations: 11579)


Started GET "/cable" for ::1 at 2020-07-17 14:03:01 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-17 14:03:01 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/" for ::1 at 2020-07-17 14:03:02 +0700
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 80], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 18.4ms | Allocations: 3321)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 80], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:23
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 80]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 3.6ms | Allocations: 892)
  Rendered carts/_cart.html.erb (Duration: 8.3ms | Allocations: 2112)
Completed 200 OK in 48ms (Views: 41.5ms | ActiveRecord: 1.0ms | Allocations: 11139)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-17 14:03:02 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-17 14:03:02 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-17 14:03:02 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/" for ::1 at 2020-07-17 14:03:02 +0700
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 80], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 19.0ms | Allocations: 3316)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 80], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:23
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 80]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 3.9ms | Allocations: 892)
  Rendered carts/_cart.html.erb (Duration: 8.4ms | Allocations: 2112)
Completed 200 OK in 45ms (Views: 39.9ms | ActiveRecord: 1.6ms | Allocations: 11119)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-17 14:03:02 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-17 14:03:02 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-17 14:03:02 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/" for ::1 at 2020-07-17 14:03:02 +0700
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 80], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 16.4ms | Allocations: 3316)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 80], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:23
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 80]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 2.3ms | Allocations: 892)
  Rendered carts/_cart.html.erb (Duration: 7.7ms | Allocations: 2112)
Completed 200 OK in 43ms (Views: 38.4ms | ActiveRecord: 1.3ms | Allocations: 11117)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-17 14:03:02 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-17 14:03:02 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-17 14:03:02 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/" for ::1 at 2020-07-17 14:03:04 +0700
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 80], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 10.5ms | Allocations: 3321)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 80], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:23
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 80]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 2.0ms | Allocations: 892)
  Rendered carts/_cart.html.erb (Duration: 6.2ms | Allocations: 2112)
Completed 200 OK in 40ms (Views: 35.3ms | ActiveRecord: 1.3ms | Allocations: 11129)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-17 14:03:04 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-17 14:03:04 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-17 14:03:04 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/" for ::1 at 2020-07-17 14:03:04 +0700
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 80], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 21.8ms | Allocations: 3362)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 80], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:23
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 80]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 3.9ms | Allocations: 904)
  Rendered carts/_cart.html.erb (Duration: 10.6ms | Allocations: 2136)
Completed 200 OK in 54ms (Views: 47.5ms | ActiveRecord: 1.5ms | Allocations: 11200)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-17 14:03:04 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-17 14:03:04 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-17 14:03:04 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/" for ::1 at 2020-07-17 14:03:04 +0700
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 80], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 15.7ms | Allocations: 3359)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 80], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:23
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 80]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 2.9ms | Allocations: 904)
  Rendered carts/_cart.html.erb (Duration: 7.4ms | Allocations: 2136)
Completed 200 OK in 40ms (Views: 37.8ms | ActiveRecord: 1.0ms | Allocations: 11204)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-17 14:03:05 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-17 14:03:05 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-17 14:03:05 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/" for ::1 at 2020-07-17 14:03:05 +0700
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 80], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 17.9ms | Allocations: 3352)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 80], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:23
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 80]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 3.3ms | Allocations: 904)
  Rendered carts/_cart.html.erb (Duration: 10.4ms | Allocations: 2136)
Completed 200 OK in 51ms (Views: 45.0ms | ActiveRecord: 1.5ms | Allocations: 11184)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-17 14:03:05 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-17 14:03:05 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-17 14:03:05 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/" for ::1 at 2020-07-17 14:03:05 +0700
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 80], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 16.4ms | Allocations: 3352)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 80], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:23
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 80]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 3.3ms | Allocations: 904)
  Rendered carts/_cart.html.erb (Duration: 9.1ms | Allocations: 2136)
Completed 200 OK in 48ms (Views: 41.8ms | ActiveRecord: 1.2ms | Allocations: 11187)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-17 14:03:05 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-17 14:03:05 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-17 14:03:05 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/en" for ::1 at 2020-07-17 14:03:08 +0700
Processing by StoreController#index as HTML
  Parameters: {"locale"=>"en"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 80], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 18.5ms | Allocations: 3316)
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 80], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:23
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 80]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (3.6ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 5.4ms | Allocations: 892)
  Rendered carts/_cart.html.erb (Duration: 7.7ms | Allocations: 2112)
Completed 200 OK in 44ms (Views: 35.0ms | ActiveRecord: 4.6ms | Allocations: 11152)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-17 14:03:09 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-17 14:03:09 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-17 14:03:09 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/en" for ::1 at 2020-07-17 14:14:56 +0700
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by StoreController#index as HTML
  Parameters: {"locale"=>"en"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 80], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.8ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 25.9ms | Allocations: 6925)
[Webpacker] Compiling...
Started GET "/cable" for ::1 at 2020-07-17 14:15:02 +0700
[Webpacker] Compiled all packs in /home/khanh/Desktop/depot/public/packs
[Webpacker] Hash: b2ca67094d17f0d98032
Version: webpack 4.43.0
Time: 3588ms
Built at: 07/17/2020 2:15:06 PM
                                         Asset      Size           Chunks                         Chunk Names
        js/application-fb1c903b40ac213557bb.js   188 KiB      application  [emitted] [immutable]  application
    js/application-fb1c903b40ac213557bb.js.map   212 KiB      application  [emitted] [dev]        application
        js/hello_react-7cb607df4b85a32cfe4e.js  1.05 MiB      hello_react  [emitted] [immutable]  hello_react
    js/hello_react-7cb607df4b85a32cfe4e.js.map  1.21 MiB      hello_react  [emitted] [dev]        hello_react
    js/locale_switcher-8bce3d6bd22b19b77098.js  4.06 KiB  locale_switcher  [emitted] [immutable]  locale_switcher
js/locale_switcher-8bce3d6bd22b19b77098.js.map  3.73 KiB  locale_switcher  [emitted] [dev]        locale_switcher
           js/pay_type-da2cad1390e402b02e90.js  1.05 MiB         pay_type  [emitted] [immutable]  pay_type
       js/pay_type-da2cad1390e402b02e90.js.map  1.18 MiB         pay_type  [emitted] [dev]        pay_type
                                 manifest.json  1.36 KiB                   [emitted]              
Entrypoint application = js/application-fb1c903b40ac213557bb.js js/application-fb1c903b40ac213557bb.js.map
Entrypoint hello_react = js/hello_react-7cb607df4b85a32cfe4e.js js/hello_react-7cb607df4b85a32cfe4e.js.map
Entrypoint locale_switcher = js/locale_switcher-8bce3d6bd22b19b77098.js js/locale_switcher-8bce3d6bd22b19b77098.js.map
Entrypoint pay_type = js/pay_type-da2cad1390e402b02e90.js js/pay_type-da2cad1390e402b02e90.js.map
[./app/javascript/PayTypeSelector/CheckPayType.jsx] 4.8 KiB {pay_type} [built]
[./app/javascript/PayTypeSelector/CreditCardPayType.jsx] 4.92 KiB {pay_type} [built]
[./app/javascript/PayTypeSelector/NoPayType.jsx] 3.22 KiB {pay_type} [built]
[./app/javascript/PayTypeSelector/PurchaseOrderPayType.jsx] 4.08 KiB {pay_type} [built]
[./app/javascript/PayTypeSelector/index.jsx] 6.16 KiB {pay_type} [built]
[./app/javascript/channels sync recursive _channel\.js$] ./app/javascript/channels sync _channel\.js$ 186 bytes {application} [built]
[./app/javascript/channels/index.js] 211 bytes {application} [built]
[./app/javascript/channels/products_channel.js] 555 bytes {application} [optional] [built]
[./app/javascript/packs/application.js] 863 bytes {application} [built]
[./app/javascript/packs/hello_react.jsx] 1.06 KiB {hello_react} [built]
[./app/javascript/packs/locale_switcher.js] 143 bytes {locale_switcher} [built]
[./app/javascript/packs/pay_type.jsx] 564 bytes {pay_type} [built]
[./node_modules/webpack/buildin/module.js] (webpack)/buildin/module.js 552 bytes {application} [built]
[./public/javascripts/i18n.js] 33.3 KiB {application} [built]
[./public/javascripts/translations.js] 7.2 KiB {application} [built]
    + 20 hidden modules

[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 80], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:35
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 80]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 4.9ms | Allocations: 1818)
  Rendered carts/_cart.html.erb (Duration: 19.4ms | Allocations: 7541)
Completed 200 OK in 9452ms (Views: 9431.7ms | ActiveRecord: 2.2ms | Allocations: 45112)


  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-17 14:15:06 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
WebSocket error occurred: Broken pipe
Finished "/cable/" [WebSocket] for ::1 at 2020-07-17 14:15:06 +0700
Started GET "/cable" for ::1 at 2020-07-17 14:15:06 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-17 14:15:06 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started POST "/" for ::1 at 2020-07-17 14:15:11 +0700
Processing by StoreController#index as HTML
  Parameters: {"authenticity_token"=>"xZXExDX0uCX6chUJlhRMS8AOtHQInxOCshvALa2sOURebdzgSJ3gozO4mUbCmvp9IELilkUkxSHOeXeRbBdd3Q==", "set_locale"=>"es"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 80], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
Redirected to http://localhost:3000/es
Completed 302 Found in 20ms (ActiveRecord: 1.9ms | Allocations: 3669)


Started GET "/es" for ::1 at 2020-07-17 14:15:11 +0700
Processing by StoreController#index as HTML
  Parameters: {"locale"=>"es"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 80], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 26.4ms | Allocations: 6770)
[Webpacker] Everything's up-to-date. Nothing to do
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 80], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:35
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 80]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 2.4ms | Allocations: 1672)
  Rendered carts/_cart.html.erb (Duration: 19.4ms | Allocations: 7304)
Completed 200 OK in 76ms (Views: 65.9ms | ActiveRecord: 3.7ms | Allocations: 25719)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-17 14:15:11 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-17 14:15:11 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-17 14:15:11 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started POST "/" for ::1 at 2020-07-17 14:15:13 +0700
Processing by StoreController#index as HTML
  Parameters: {"authenticity_token"=>"jVgyROH1dkTzHKHXpMvUyQsQPX2cKeXmYdxpMmfhmFEWoCpgnJwuwjrWLZjwRWL/61xrn9GSM0Udvt6Oplr8yA==", "set_locale"=>"en"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 80], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
Redirected to http://localhost:3000/en
Completed 302 Found in 4ms (ActiveRecord: 0.2ms | Allocations: 871)


Started GET "/en" for ::1 at 2020-07-17 14:15:13 +0700
Processing by StoreController#index as HTML
  Parameters: {"locale"=>"en"}
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 80], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 17.8ms | Allocations: 3325)
[Webpacker] Everything's up-to-date. Nothing to do
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 80], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:35
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 80]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 2.0ms | Allocations: 892)
  Rendered carts/_cart.html.erb (Duration: 6.8ms | Allocations: 2112)
Completed 200 OK in 47ms (Views: 39.2ms | ActiveRecord: 1.2ms | Allocations: 12991)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-17 14:15:13 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-17 14:15:13 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-17 14:15:13 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
  [1m[35m (97.9ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (18.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateActiveStorageTables (20200717071613)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.4ms)[0m  [1m[35mCREATE TABLE "active_storage_blobs" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "key" varchar NOT NULL, "filename" varchar NOT NULL, "content_type" varchar, "metadata" text, "byte_size" bigint NOT NULL, "checksum" varchar NOT NULL, "created_at" datetime NOT NULL)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_blobs_on_key" ON "active_storage_blobs" ("key")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE TABLE "active_storage_attachments" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar NOT NULL, "record_type" varchar NOT NULL, "record_id" integer NOT NULL, "blob_id" integer NOT NULL, "created_at" datetime NOT NULL, CONSTRAINT "fk_rails_c3b3935057"
FOREIGN KEY ("blob_id")
  REFERENCES "active_storage_blobs" ("id")
)[0m
  [1m[35m (0.1ms)[0m  [1m[35mCREATE  INDEX "index_active_storage_attachments_on_blob_id" ON "active_storage_attachments" ("blob_id")[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_active_storage_attachments_uniqueness" ON "active_storage_attachments" ("record_type", "record_id", "name", "blob_id")[0m
  [1m[36mprimary::SchemaMigration Create (11.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20200717071613"]]
  [1m[35m (98.9ms)[0m  [1m[36mcommit transaction[0m
Migrating to CreateActionMailboxTables (20200717071614)
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (25.0ms)[0m  [1m[35mCREATE TABLE "action_mailbox_inbound_emails" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "status" integer DEFAULT 0 NOT NULL, "message_id" varchar NOT NULL, "message_checksum" varchar NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_action_mailbox_inbound_emails_uniqueness" ON "action_mailbox_inbound_emails" ("message_id", "message_checksum")[0m
  [1m[36mprimary::SchemaMigration Create (0.4ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20200717071614"]]
  [1m[35m (104.4ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.5ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/cable" for ::1 at 2020-07-17 14:20:51 +0700
  [1m[35m (0.4ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-17 14:20:51 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/rails/conductor/action_mailbox/inbound_emails" for ::1 at 2020-07-17 14:21:31 +0700
Processing by Rails::Conductor::ActionMailbox::InboundEmailsController#index as HTML
  Rendering /home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/actionmailbox-6.0.3.2/app/views/rails/conductor/action_mailbox/inbound_emails/index.html.erb within layouts/rails/conductor
  [1m[36mActionMailbox::InboundEmail Load (0.6ms)[0m  [1m[34mSELECT "action_mailbox_inbound_emails".* FROM "action_mailbox_inbound_emails" ORDER BY "action_mailbox_inbound_emails"."created_at" DESC[0m
  Rendered /home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/actionmailbox-6.0.3.2/app/views/rails/conductor/action_mailbox/inbound_emails/index.html.erb within layouts/rails/conductor (Duration: 50.3ms | Allocations: 2168)
Completed 200 OK in 658ms (Views: 69.2ms | ActiveRecord: 1.5ms | Allocations: 6657)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-17 14:21:31 +0700
ProductsChannel stopped streaming from products
Started GET "/rails/conductor/action_mailbox/inbound_emails/new" for ::1 at 2020-07-17 14:21:34 +0700
Processing by Rails::Conductor::ActionMailbox::InboundEmailsController#new as HTML
  Rendering /home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/actionmailbox-6.0.3.2/app/views/rails/conductor/action_mailbox/inbound_emails/new.html.erb within layouts/rails/conductor
  Rendered /home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/actionmailbox-6.0.3.2/app/views/rails/conductor/action_mailbox/inbound_emails/new.html.erb within layouts/rails/conductor (Duration: 53.8ms | Allocations: 1712)
Completed 200 OK in 56ms (Views: 54.5ms | ActiveRecord: 0.0ms | Allocations: 2482)


Started GET "/rails/conductor/action_mailbox/inbound_emails/new" for ::1 at 2020-07-17 14:21:52 +0700
Processing by Rails::Conductor::ActionMailbox::InboundEmailsController#new as HTML
  Rendering /home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/actionmailbox-6.0.3.2/app/views/rails/conductor/action_mailbox/inbound_emails/new.html.erb within layouts/rails/conductor
  Rendered /home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/actionmailbox-6.0.3.2/app/views/rails/conductor/action_mailbox/inbound_emails/new.html.erb within layouts/rails/conductor (Duration: 3.1ms | Allocations: 833)
Completed 200 OK in 6ms (Views: 5.4ms | ActiveRecord: 0.0ms | Allocations: 1283)


  [1m[35m (0.4ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateSupportRequests (20200717072232)
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (0.6ms)[0m  [1m[35mCREATE TABLE "support_requests" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "email" varchar, "subject" varchar, "body" text, "order_id" integer, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL, CONSTRAINT "fk_rails_ec665a3e09"
FOREIGN KEY ("order_id")
  REFERENCES "orders" ("id")
)[0m
  [1m[35m (0.2ms)[0m  [1m[35mCREATE  INDEX "index_support_requests_on_order_id" ON "support_requests" ("order_id")[0m
  [1m[36mprimary::SchemaMigration Create (0.3ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20200717072232"]]
  [1m[35m (89.3ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/" for ::1 at 2020-07-17 14:25:28 +0700
  [1m[35m (0.9ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 80], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 766.9ms | Allocations: 27538)
[Webpacker] Everything's up-to-date. Nothing to do
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 80], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:35
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 80]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.8ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 10.1ms | Allocations: 1830)
  Rendered carts/_cart.html.erb (Duration: 76.7ms | Allocations: 8106)
Completed 200 OK in 1381ms (Views: 1019.1ms | ActiveRecord: 7.6ms | Allocations: 54844)


Started GET "/cable" for ::1 at 2020-07-17 14:25:30 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-17 14:25:30 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/" for ::1 at 2020-07-17 14:28:46 +0700
Processing by StoreController#index as HTML
  [1m[36mCart Load (40.8ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 80], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 264.4ms | Allocations: 3322)
[Webpacker] Everything's up-to-date. Nothing to do
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 80], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:35
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 80]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 4.5ms | Allocations: 892)
  Rendered carts/_cart.html.erb (Duration: 11.1ms | Allocations: 2113)
Completed 200 OK in 1615ms (Views: 1531.3ms | ActiveRecord: 42.3ms | Allocations: 13182)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-17 14:28:49 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-17 14:28:49 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-17 14:28:49 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
  [1m[35m (12.8ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[36mSupportRequest Load (1.3ms)[0m  [1m[34mSELECT "support_requests".* FROM "support_requests" ORDER BY "support_requests"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
DEPRECATION WARNING: Using `bin/rake routes` is deprecated and will be removed in Rails 6.1. Use `bin/rails routes` instead.
 (called from load at /home/khanh/.rbenv/versions/2.7.1/bin/rake:23)
Started GET "/cable" for ::1 at 2020-07-17 14:47:03 +0700
  [1m[35m (1.6ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-17 14:47:04 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/" for ::1 at 2020-07-17 14:47:15 +0700
Processing by StoreController#index as HTML
  [1m[36mCart Load (8.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 80], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (15.3ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 538.6ms | Allocations: 13008)
[Webpacker] Everything's up-to-date. Nothing to do
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 80], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:35
  [1m[36mLineItem Load (1.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 80]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 12.8ms | Allocations: 1830)
  Rendered carts/_cart.html.erb (Duration: 46.6ms | Allocations: 8106)
Completed 200 OK in 1034ms (Views: 923.5ms | ActiveRecord: 28.8ms | Allocations: 40077)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-17 14:47:16 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-17 14:47:16 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-17 14:47:16 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/admin" for ::1 at 2020-07-17 14:47:21 +0700
Processing by AdminController#index as HTML
  [1m[36mUser Load (26.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:20:in `authorize'
Redirected to http://localhost:3000/login
Filter chain halted as :authorize rendered or redirected
Completed 302 Found in 41ms (ActiveRecord: 27.9ms | Allocations: 1851)


Started GET "/login" for ::1 at 2020-07-17 14:47:21 +0700
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 45.0ms | Allocations: 1217)
[Webpacker] Everything's up-to-date. Nothing to do
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 78ms (Views: 74.9ms | ActiveRecord: 0.0ms | Allocations: 8116)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-17 14:47:21 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-17 14:47:21 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-17 14:47:21 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started POST "/login" for ::1 at 2020-07-17 14:47:33 +0700
Processing by SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"Lj8xISJvUuNl4VrU0tVrnHzI6xqxjyhBIdChiQ+Rox61xykFXwYKZawr1puGW92qnIS9+Pw0/uJdshY1zirHhw==", "name"=>"dave", "password"=>"[FILTERED]", "commit"=>"Login"}
  [1m[36mUser Load (0.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "dave"], ["LIMIT", 1]]
  ↳ app/controllers/sessions_controller.rb:7:in `create'
Redirected to http://localhost:3000/admin
Completed 302 Found in 290ms (ActiveRecord: 2.0ms | Allocations: 3615)


Started GET "/admin" for ::1 at 2020-07-17 14:47:34 +0700
Processing by AdminController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:20:in `authorize'
  [1m[35m (46.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "orders"[0m
  ↳ app/controllers/admin_controller.rb:3:in `index'
  Rendering admin/index.html.erb within layouts/application
  Rendered admin/index.html.erb within layouts/application (Duration: 48.8ms | Allocations: 132)
[Webpacker] Everything's up-to-date. Nothing to do
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 158ms (Views: 78.9ms | ActiveRecord: 46.7ms | Allocations: 9936)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-17 14:47:34 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-17 14:47:34 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-17 14:47:34 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/support_request" for ::1 at 2020-07-17 14:48:00 +0700
Processing by StoreController#index as HTML
  Parameters: {"locale"=>"support_request"}
support_request translation not available
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 80], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 9.2ms | Allocations: 3322)
[Webpacker] Everything's up-to-date. Nothing to do
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 80], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:35
  [1m[36mLineItem Load (0.8ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 80]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.9ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 6.6ms | Allocations: 892)
  Rendered carts/_cart.html.erb (Duration: 14.9ms | Allocations: 2120)
Completed 200 OK in 49ms (Views: 43.2ms | ActiveRecord: 2.5ms | Allocations: 13245)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-17 14:48:00 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-17 14:48:00 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-17 14:48:00 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/" for ::1 at 2020-07-17 14:48:57 +0700
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 80], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 9.8ms | Allocations: 3332)
[Webpacker] Everything's up-to-date. Nothing to do
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 80], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:35
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 80]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 1.6ms | Allocations: 892)
  Rendered carts/_cart.html.erb (Duration: 5.2ms | Allocations: 2112)
Completed 200 OK in 32ms (Views: 27.9ms | ActiveRecord: 1.0ms | Allocations: 13236)


Started POST "/en/line_items?product_id=4" for ::1 at 2020-07-17 14:48:59 +0700
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"T31vxA9A84M36emMj2lh7wutkRyoVevwpIHeUE2cX+yRd0a01Kd/7pfd5CW39I4attsdIYLRvNp6HRI6vLzvcg==", "product_id"=>"4", "locale"=>"en"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 80], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:38:in `create'
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 80], ["product_id", 4], ["LIMIT", 1]]
  ↳ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/line_items_controller.rb:42:in `block in create'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:42:in `block in create'
  [1m[36mLineItem Update (0.5ms)[0m  [1m[33mUPDATE "line_items" SET "quantity" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["quantity", 2], ["updated_at", "2020-07-17 07:48:59.654701"], ["id", 89]]
  ↳ app/controllers/line_items_controller.rb:42:in `block in create'
  [1m[35m (83.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/line_items_controller.rb:42:in `block in create'
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 80]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 5.5ms | Allocations: 901)
  Rendered carts/_cart.html.erb (Duration: 14.4ms | Allocations: 2270)
  Rendered line_items/create.js.erb (Duration: 46.7ms | Allocations: 2797)
Completed 200 OK in 167ms (Views: 51.8ms | ActiveRecord: 86.5ms | Allocations: 11288)


Started GET "/en/orders/new" for ::1 at 2020-07-17 14:49:01 +0700
Processing by OrdersController#new as HTML
  Parameters: {"locale"=>"en"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 80], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Exists? (1.0ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 80], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:98:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 127.5ms | Allocations: 1896)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered orders/new.html.erb within layouts/application (Duration: 148.5ms | Allocations: 4032)
[Webpacker] Everything's up-to-date. Nothing to do
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 80], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:35
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 80]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 2.7ms | Allocations: 892)
  Rendered carts/_cart.html.erb (Duration: 7.1ms | Allocations: 2126)
Completed 200 OK in 218ms (Views: 186.9ms | ActiveRecord: 3.5ms | Allocations: 18684)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-17 14:49:01 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-17 14:49:01 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-17 14:49:01 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/orders" for ::1 at 2020-07-17 14:49:05 +0700
Processing by OrdersController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:20:in `authorize'
  Rendering orders/index.html.erb within layouts/application
  [1m[36mOrder Load (0.5ms)[0m  [1m[34mSELECT "orders".* FROM "orders"[0m
  ↳ app/views/orders/index.html.erb:17
  Rendered orders/index.html.erb within layouts/application (Duration: 41.3ms | Allocations: 1648)
[Webpacker] Everything's up-to-date. Nothing to do
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 65ms (Views: 58.9ms | ActiveRecord: 0.8ms | Allocations: 8786)


Started DELETE "/orders/17" for ::1 at 2020-07-17 14:49:08 +0700
Processing by OrdersController#destroy as HTML
  Parameters: {"authenticity_token"=>"5tktmiXAtUXcdd+B7QLQFT38pFSiE/hX5wNYCGWghTN9ITW+WKntwxW/U865jGYj3bDytu+oLvSbYe+0pBvhqg==", "id"=>"17"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:20:in `authorize'
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 17], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:87:in `set_order'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/orders_controller.rb:77:in `destroy'
  [1m[36mLineItem Load (318.8ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."order_id" = ?[0m  [["order_id", 17]]
  ↳ app/controllers/orders_controller.rb:77:in `destroy'
  [1m[36mLineItem Destroy (29.0ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 88]]
  ↳ app/controllers/orders_controller.rb:77:in `destroy'
  [1m[36mOrder Destroy (5.7ms)[0m  [1m[31mDELETE FROM "orders" WHERE "orders"."id" = ?[0m  [["id", 17]]
  ↳ app/controllers/orders_controller.rb:77:in `destroy'
  [1m[35m (469.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/orders_controller.rb:77:in `destroy'
Redirected to http://localhost:3000/orders
Completed 302 Found in 846ms (ActiveRecord: 823.1ms | Allocations: 7739)


Started GET "/orders" for ::1 at 2020-07-17 14:49:09 +0700
Processing by OrdersController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:20:in `authorize'
  Rendering orders/index.html.erb within layouts/application
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders"[0m
  ↳ app/views/orders/index.html.erb:17
  Rendered orders/index.html.erb within layouts/application (Duration: 5.4ms | Allocations: 1194)
[Webpacker] Everything's up-to-date. Nothing to do
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 32ms (Views: 27.2ms | ActiveRecord: 0.6ms | Allocations: 8248)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-17 14:49:09 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-17 14:49:09 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-17 14:49:09 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started DELETE "/orders/15" for ::1 at 2020-07-17 14:49:11 +0700
Processing by OrdersController#destroy as HTML
  Parameters: {"authenticity_token"=>"z9TD3GMMd04RoH3NmZqwZ1WVnbN9EFWmCtX17PIuNxRULNv4HmUvyNhq8YLNFAZRtdnLUTCrgwV2t0JQM5VTjQ==", "id"=>"15"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:20:in `authorize'
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 15], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:87:in `set_order'
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/orders_controller.rb:77:in `destroy'
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."order_id" = ?[0m  [["order_id", 15]]
  ↳ app/controllers/orders_controller.rb:77:in `destroy'
  [1m[36mLineItem Destroy (0.4ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 86]]
  ↳ app/controllers/orders_controller.rb:77:in `destroy'
  [1m[36mOrder Destroy (0.9ms)[0m  [1m[31mDELETE FROM "orders" WHERE "orders"."id" = ?[0m  [["id", 15]]
  ↳ app/controllers/orders_controller.rb:77:in `destroy'
  [1m[35m (70.6ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/orders_controller.rb:77:in `destroy'
Redirected to http://localhost:3000/orders
Completed 302 Found in 98ms (ActiveRecord: 73.1ms | Allocations: 6292)


Started GET "/orders" for ::1 at 2020-07-17 14:49:12 +0700
Processing by OrdersController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:20:in `authorize'
  Rendering orders/index.html.erb within layouts/application
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT "orders".* FROM "orders"[0m
  ↳ app/views/orders/index.html.erb:17
  Rendered orders/index.html.erb within layouts/application (Duration: 2.5ms | Allocations: 1055)
[Webpacker] Everything's up-to-date. Nothing to do
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 32ms (Views: 24.6ms | ActiveRecord: 0.6ms | Allocations: 8237)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-17 14:49:12 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-17 14:49:12 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-17 14:49:12 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started DELETE "/orders/16" for ::1 at 2020-07-17 14:49:14 +0700
Processing by OrdersController#destroy as HTML
  Parameters: {"authenticity_token"=>"wLXeo3JMLRnUB8EfmjwMRffA1ok64bQFsP+12y7lwmtbTcaHDyV1nx3NTVDOsrpzF4yAa3daYqbMnQJn716m8g==", "id"=>"16"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:20:in `authorize'
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 16], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:87:in `set_order'
  [1m[35m (0.4ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/orders_controller.rb:77:in `destroy'
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."order_id" = ?[0m  [["order_id", 16]]
  ↳ app/controllers/orders_controller.rb:77:in `destroy'
  [1m[36mLineItem Destroy (1.1ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 87]]
  ↳ app/controllers/orders_controller.rb:77:in `destroy'
  [1m[36mOrder Destroy (0.2ms)[0m  [1m[31mDELETE FROM "orders" WHERE "orders"."id" = ?[0m  [["id", 16]]
  ↳ app/controllers/orders_controller.rb:77:in `destroy'
  [1m[35m (673.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/orders_controller.rb:77:in `destroy'
Redirected to http://localhost:3000/orders
Completed 302 Found in 699ms (ActiveRecord: 675.4ms | Allocations: 6384)


Started GET "/orders" for ::1 at 2020-07-17 14:49:14 +0700
Processing by OrdersController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:20:in `authorize'
  Rendering orders/index.html.erb within layouts/application
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT "orders".* FROM "orders"[0m
  ↳ app/views/orders/index.html.erb:17
  Rendered orders/index.html.erb within layouts/application (Duration: 5.8ms | Allocations: 917)
[Webpacker] Everything's up-to-date. Nothing to do
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 26ms (Views: 20.1ms | ActiveRecord: 0.4ms | Allocations: 7991)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-17 14:49:14 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-17 14:49:14 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-17 14:49:14 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started DELETE "/orders/14" for ::1 at 2020-07-17 14:49:16 +0700
Processing by OrdersController#destroy as HTML
  Parameters: {"authenticity_token"=>"PYAAR4OwLZEF82oGpD9I0TjyN/2uhQyvWmYBiDHCjEumeBhj/tl1F8w55knwsf7n2L5hH+M+2gwmBLY08Hno0g==", "id"=>"14"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:20:in `authorize'
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 14], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:87:in `set_order'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/orders_controller.rb:77:in `destroy'
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."order_id" = ?[0m  [["order_id", 14]]
  ↳ app/controllers/orders_controller.rb:77:in `destroy'
  [1m[36mLineItem Destroy (0.5ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 85]]
  ↳ app/controllers/orders_controller.rb:77:in `destroy'
  [1m[36mOrder Destroy (0.6ms)[0m  [1m[31mDELETE FROM "orders" WHERE "orders"."id" = ?[0m  [["id", 14]]
  ↳ app/controllers/orders_controller.rb:77:in `destroy'
  [1m[35m (143.8ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/orders_controller.rb:77:in `destroy'
Redirected to http://localhost:3000/orders
Completed 302 Found in 165ms (ActiveRecord: 145.6ms | Allocations: 6371)


Started GET "/orders" for ::1 at 2020-07-17 14:49:16 +0700
Processing by OrdersController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:20:in `authorize'
  Rendering orders/index.html.erb within layouts/application
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT "orders".* FROM "orders"[0m
  ↳ app/views/orders/index.html.erb:17
  Rendered orders/index.html.erb within layouts/application (Duration: 3.9ms | Allocations: 779)
[Webpacker] Everything's up-to-date. Nothing to do
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 21ms (Views: 17.7ms | ActiveRecord: 0.4ms | Allocations: 7806)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-17 14:49:16 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-17 14:49:16 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-17 14:49:16 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/" for ::1 at 2020-07-17 14:49:19 +0700
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 80], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 14.3ms | Allocations: 3333)
[Webpacker] Everything's up-to-date. Nothing to do
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 80], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:35
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 80]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 1.3ms | Allocations: 892)
  Rendered carts/_cart.html.erb (Duration: 3.4ms | Allocations: 2115)
Completed 200 OK in 36ms (Views: 31.0ms | ActiveRecord: 0.9ms | Allocations: 13204)


Started GET "/questions" for ::1 at 2020-07-17 14:49:20 +0700
Processing by StoreController#index as HTML
  Parameters: {"locale"=>"questions"}
questions translation not available
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 80], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 12.4ms | Allocations: 3312)
[Webpacker] Everything's up-to-date. Nothing to do
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 80], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:35
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 80]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 2.0ms | Allocations: 892)
  Rendered carts/_cart.html.erb (Duration: 6.2ms | Allocations: 2117)
Completed 200 OK in 45ms (Views: 37.5ms | ActiveRecord: 1.2ms | Allocations: 13221)


Started GET "/ralis/conductor/action_mailbox/inbound_emails" for ::1 at 2020-07-17 14:49:59 +0700
  
ActionController::RoutingError (No route matches [GET] "/ralis/conductor/action_mailbox/inbound_emails"):
  
actionpack (6.0.3.2) lib/action_dispatch/middleware/debug_exceptions.rb:36:in `call'
web-console (4.0.3) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.3) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.3) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.3) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.3.2) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.3.2) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.3.2) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.3.2) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.3.2) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.3.2) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.3) lib/rack/method_override.rb:24:in `call'
rack (2.2.3) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.3.2) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.3) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
webpacker (4.2.2) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.3.2) lib/rails/engine.rb:527:in `call'
puma (4.3.5) lib/puma/configuration.rb:228:in `call'
puma (4.3.5) lib/puma/server.rb:713:in `handle_request'
puma (4.3.5) lib/puma/server.rb:472:in `process_client'
puma (4.3.5) lib/puma/server.rb:328:in `block in run'
puma (4.3.5) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Finished "/cable/" [WebSocket] for ::1 at 2020-07-17 14:50:04 +0700
ProductsChannel stopped streaming from products
Started GET "/rails/conductor/action_mailbox/inbound_emails" for ::1 at 2020-07-17 14:50:16 +0700
Processing by Rails::Conductor::ActionMailbox::InboundEmailsController#index as HTML
  Rendering /home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/actionmailbox-6.0.3.2/app/views/rails/conductor/action_mailbox/inbound_emails/index.html.erb within layouts/rails/conductor
  [1m[36mActionMailbox::InboundEmail Load (16.8ms)[0m  [1m[34mSELECT "action_mailbox_inbound_emails".* FROM "action_mailbox_inbound_emails" ORDER BY "action_mailbox_inbound_emails"."created_at" DESC[0m
  Rendered /home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/actionmailbox-6.0.3.2/app/views/rails/conductor/action_mailbox/inbound_emails/index.html.erb within layouts/rails/conductor (Duration: 60.6ms | Allocations: 1900)
Completed 200 OK in 399ms (Views: 76.0ms | ActiveRecord: 17.9ms | Allocations: 5529)


Started GET "/rails/conductor/action_mailbox/inbound_emails/new" for ::1 at 2020-07-17 14:50:19 +0700
Processing by Rails::Conductor::ActionMailbox::InboundEmailsController#new as HTML
  Rendering /home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/actionmailbox-6.0.3.2/app/views/rails/conductor/action_mailbox/inbound_emails/new.html.erb within layouts/rails/conductor
  Rendered /home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/actionmailbox-6.0.3.2/app/views/rails/conductor/action_mailbox/inbound_emails/new.html.erb within layouts/rails/conductor (Duration: 24.1ms | Allocations: 1331)
Completed 200 OK in 26ms (Views: 24.7ms | ActiveRecord: 0.0ms | Allocations: 2080)


Started POST "/rails/conductor/action_mailbox/inbound_emails" for ::1 at 2020-07-17 14:50:29 +0700
Processing by Rails::Conductor::ActionMailbox::InboundEmailsController#create as HTML
  Parameters: {"authenticity_token"=>"yS5TF7Mk3YOBl3qO69qNXsUrBUa7z4lTM2Uy1BbK0t6OYyoDOkAog12xrJgykqN7/79XZr6sepXqh6zSzTN83g==", "mail"=>{"from"=>"1", "to"=>"1", "cc"=>"11", "bcc"=>"", "in_reply_to"=>"1", "subject"=>"1", "body"=>"11111"}, "commit"=>"Deliver inbound email"}
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActionMailbox::InboundEmail Create (13.3ms)[0m  [1m[32mINSERT INTO "action_mailbox_inbound_emails" ("message_id", "message_checksum", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["message_id", "5f11584574abd_690b6acc9684c@khanh-X510UAR.mail"], ["message_checksum", "fda3fb1ee298990f70c782137fffe6798dfec48d"], ["created_at", "2020-07-17 07:50:29.525682"], ["updated_at", "2020-07-17 07:50:29.525682"]]
  [1m[36mActiveStorage::Blob Load (26.5ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "ActionMailbox::InboundEmail"], ["name", "raw_email"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "ActionMailbox::InboundEmail"], ["name", "raw_email"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (13.1ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["key", "uqu8863ommd636qim9jtdugynxc2"], ["filename", "message.eml"], ["content_type", "message/rfc822"], ["metadata", "{\"identified\":true}"], ["byte_size", 255], ["checksum", "raEzdR2YAe7MCocG1gOYkg=="], ["created_at", "2020-07-17 07:50:29.972930"]]
  [1m[36mActiveStorage::Attachment Create (0.4ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "raw_email"], ["record_type", "ActionMailbox::InboundEmail"], ["record_id", 1], ["blob_id", 1], ["created_at", "2020-07-17 07:50:29.991850"]]
  [1m[36mActionMailbox::InboundEmail Update (0.2ms)[0m  [1m[33mUPDATE "action_mailbox_inbound_emails" SET "updated_at" = ? WHERE "action_mailbox_inbound_emails"."id" = ?[0m  [["updated_at", "2020-07-17 07:50:29.997005"], ["id", 1]]
  [1m[35m (90.9ms)[0m  [1m[36mcommit transaction[0m
[36m  Disk Storage (49.0ms) [0m[32mUploaded file to key: uqu8863ommd636qim9jtdugynxc2 (checksum: raEzdR2YAe7MCocG1gOYkg==)[0m
[ActiveJob] Enqueued ActionMailbox::RoutingJob (Job ID: 3146f2db-fdc0-4da8-be57-64d4e6ac7461) to Async(action_mailbox_routing) with arguments: #<GlobalID:0x00007f66c4113820 @uri=#<URI::GID gid://depot/ActionMailbox::InboundEmail/1>>
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: f0e1ab4a-6b36-4d25-9487-bb5791013824) to Async(active_storage_analysis) with arguments: #<GlobalID:0x00007f66c4109c30 @uri=#<URI::GID gid://depot/ActiveStorage::Blob/1>>
Redirected to http://localhost:3000/rails/conductor/action_mailbox/inbound_emails/1
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Completed 302 Found in 1225ms (ActiveRecord: 148.6ms | Allocations: 61792)


  [1m[36mActionMailbox::InboundEmail Load (0.6ms)[0m  [1m[34mSELECT "action_mailbox_inbound_emails".* FROM "action_mailbox_inbound_emails" WHERE "action_mailbox_inbound_emails"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[36mActiveStorage::Blob Load (0.5ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActionMailbox::RoutingJob] [3146f2db-fdc0-4da8-be57-64d4e6ac7461] Performing ActionMailbox::RoutingJob (Job ID: 3146f2db-fdc0-4da8-be57-64d4e6ac7461) from Async(action_mailbox_routing) enqueued at 2020-07-17T07:50:30Z with arguments: #<GlobalID:0x00007f66c4074068 @uri=#<URI::GID gid://depot/ActionMailbox::InboundEmail/1>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [f0e1ab4a-6b36-4d25-9487-bb5791013824] Performing ActiveStorage::AnalyzeJob (Job ID: f0e1ab4a-6b36-4d25-9487-bb5791013824) from Async(active_storage_analysis) enqueued at 2020-07-17T07:50:30Z with arguments: #<GlobalID:0x00007f66c4040268 @uri=#<URI::GID gid://depot/ActiveStorage::Blob/1>>
[ActiveJob] [ActionMailbox::RoutingJob] [3146f2db-fdc0-4da8-be57-64d4e6ac7461]   [1m[36mActiveStorage::Attachment Load (0.7ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "ActionMailbox::InboundEmail"], ["name", "raw_email"], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [f0e1ab4a-6b36-4d25-9487-bb5791013824]   [1m[35m (0.6ms)[0m  [1m[36mbegin transaction[0m
Started GET "/rails/conductor/action_mailbox/inbound_emails/1" for ::1 at 2020-07-17 14:50:30 +0700
[ActiveJob] [ActionMailbox::RoutingJob] [3146f2db-fdc0-4da8-be57-64d4e6ac7461]   [1m[36mActiveStorage::Blob Load (0.5ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [f0e1ab4a-6b36-4d25-9487-bb5791013824]   [1m[36mActiveStorage::Blob Update (0.4ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [f0e1ab4a-6b36-4d25-9487-bb5791013824]   [1m[35m (70.3ms)[0m  [1m[36mcommit transaction[0m
[ActiveJob] [ActionMailbox::RoutingJob] [3146f2db-fdc0-4da8-be57-64d4e6ac7461] [36m  Disk Storage (75.2ms) [0m[34mDownloaded file from key: uqu8863ommd636qim9jtdugynxc2[0m
[ActiveJob] [ActionMailbox::RoutingJob] [3146f2db-fdc0-4da8-be57-64d4e6ac7461]   [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
Processing by Rails::Conductor::ActionMailbox::InboundEmailsController#show as HTML
[ActiveJob] [ActionMailbox::RoutingJob] [3146f2db-fdc0-4da8-be57-64d4e6ac7461]   [1m[36mActionMailbox::InboundEmail Update (1.2ms)[0m  [1m[33mUPDATE "action_mailbox_inbound_emails" SET "status" = ?, "updated_at" = ? WHERE "action_mailbox_inbound_emails"."id" = ?[0m  [["status", 4], ["updated_at", "2020-07-17 07:50:30.685445"], ["id", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [f0e1ab4a-6b36-4d25-9487-bb5791013824] Performed ActiveStorage::AnalyzeJob (Job ID: f0e1ab4a-6b36-4d25-9487-bb5791013824) from Async(active_storage_analysis) in 108.41ms
[ActiveJob] [ActionMailbox::RoutingJob] [3146f2db-fdc0-4da8-be57-64d4e6ac7461]   [1m[35m (66.0ms)[0m  [1m[36mcommit transaction[0m
  Parameters: {"id"=>"1"}
  [1m[36mActionMailbox::InboundEmail Load (0.9ms)[0m  [1m[34mSELECT "action_mailbox_inbound_emails".* FROM "action_mailbox_inbound_emails" WHERE "action_mailbox_inbound_emails"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[ActiveJob] [ActionMailbox::RoutingJob] [3146f2db-fdc0-4da8-be57-64d4e6ac7461] Enqueued ActionMailbox::IncinerationJob (Job ID: 8197e96f-352e-48f6-8220-c93f53c83816) to Async(action_mailbox_incineration) at 2020-08-16 07:50:30 UTC with arguments: #<GlobalID:0x00007f66b0817888 @uri=#<URI::GID gid://depot/ActionMailbox::InboundEmail/1>>
[ActiveJob] [ActionMailbox::RoutingJob] [3146f2db-fdc0-4da8-be57-64d4e6ac7461] Error performing ActionMailbox::RoutingJob (Job ID: 3146f2db-fdc0-4da8-be57-64d4e6ac7461) from Async(action_mailbox_routing) in 316.89ms: ActionMailbox::Router::RoutingError (ActionMailbox::Router::RoutingError):
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/actionmailbox-6.0.3.2/lib/action_mailbox/router.rb:29:in `route'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/actionmailbox-6.0.3.2/lib/action_mailbox/routing.rb:18:in `route'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/actionmailbox-6.0.3.2/app/models/action_mailbox/inbound_email/routable.rb:22:in `route'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/actionmailbox-6.0.3.2/app/jobs/action_mailbox/routing_job.rb:10:in `perform'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/execution.rb:40:in `block in perform_now'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:112:in `block in run_callbacks'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/i18n-1.8.3/lib/i18n.rb:313:in `with_locale'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/translation.rb:9:in `block (2 levels) in <module:Translation>'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `instance_exec'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/core_ext/time/zones.rb:66:in `use_zone'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/timezones.rb:9:in `block (2 levels) in <module:Timezones>'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `instance_exec'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/logging.rb:25:in `block (4 levels) in <module:Logging>'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/notifications.rb:180:in `block in instrument'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/notifications.rb:180:in `instrument'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/logging.rb:24:in `block (3 levels) in <module:Logging>'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/logging.rb:45:in `block in tag_logger'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/tagged_logging.rb:28:in `tagged'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/tagged_logging.rb:80:in `tagged'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/logging.rb:45:in `tag_logger'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/logging.rb:21:in `block (2 levels) in <module:Logging>'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `instance_exec'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:139:in `run_callbacks'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/execution.rb:39:in `perform_now'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/execution.rb:25:in `block in execute'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:112:in `block in run_callbacks'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/railtie.rb:43:in `block (4 levels) in <class:Railtie>'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/execution_wrapper.rb:88:in `wrap'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/reloader.rb:72:in `block in wrap'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/execution_wrapper.rb:88:in `wrap'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/reloader.rb:71:in `wrap'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/railtie.rb:42:in `block (3 levels) in <class:Railtie>'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `instance_exec'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:139:in `run_callbacks'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/execution.rb:23:in `execute'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/queue_adapters/async_adapter.rb:70:in `perform'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/concurrent-ruby-1.1.6/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:353:in `run_task'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/concurrent-ruby-1.1.6/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:342:in `block (3 levels) in create_worker'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/concurrent-ruby-1.1.6/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:325:in `loop'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/concurrent-ruby-1.1.6/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:325:in `block (2 levels) in create_worker'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/concurrent-ruby-1.1.6/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:324:in `catch'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/concurrent-ruby-1.1.6/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:324:in `block in create_worker'
  Rendering /home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/actionmailbox-6.0.3.2/app/views/rails/conductor/action_mailbox/inbound_emails/show.html.erb within layouts/rails/conductor
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "ActionMailbox::InboundEmail"], ["name", "raw_email"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.4ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[36m  Disk Storage (0.2ms) [0m[34mDownloaded file from key: uqu8863ommd636qim9jtdugynxc2[0m
  Rendered /home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/actionmailbox-6.0.3.2/app/views/rails/conductor/action_mailbox/inbound_emails/show.html.erb within layouts/rails/conductor (Duration: 12.6ms | Allocations: 3942)
Completed 200 OK in 47ms (Views: 14.0ms | ActiveRecord: 1.6ms | Allocations: 6924)


Started GET "/rails/conductor/action_mailbox/inbound_emails" for ::1 at 2020-07-17 14:50:35 +0700
Processing by Rails::Conductor::ActionMailbox::InboundEmailsController#index as HTML
  Rendering /home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/actionmailbox-6.0.3.2/app/views/rails/conductor/action_mailbox/inbound_emails/index.html.erb within layouts/rails/conductor
  [1m[36mActionMailbox::InboundEmail Load (0.3ms)[0m  [1m[34mSELECT "action_mailbox_inbound_emails".* FROM "action_mailbox_inbound_emails" ORDER BY "action_mailbox_inbound_emails"."created_at" DESC[0m
  Rendered /home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/actionmailbox-6.0.3.2/app/views/rails/conductor/action_mailbox/inbound_emails/index.html.erb within layouts/rails/conductor (Duration: 7.5ms | Allocations: 1585)
Completed 200 OK in 12ms (Views: 8.6ms | ActiveRecord: 0.3ms | Allocations: 2077)


Started GET "/rails/conductor/action_mailbox/inbound_emails/1" for ::1 at 2020-07-17 14:50:37 +0700
Processing by Rails::Conductor::ActionMailbox::InboundEmailsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mActionMailbox::InboundEmail Load (0.3ms)[0m  [1m[34mSELECT "action_mailbox_inbound_emails".* FROM "action_mailbox_inbound_emails" WHERE "action_mailbox_inbound_emails"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering /home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/actionmailbox-6.0.3.2/app/views/rails/conductor/action_mailbox/inbound_emails/show.html.erb within layouts/rails/conductor
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "ActionMailbox::InboundEmail"], ["name", "raw_email"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[36m  Disk Storage (0.3ms) [0m[34mDownloaded file from key: uqu8863ommd636qim9jtdugynxc2[0m
  Rendered /home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/actionmailbox-6.0.3.2/app/views/rails/conductor/action_mailbox/inbound_emails/show.html.erb within layouts/rails/conductor (Duration: 16.7ms | Allocations: 3723)
Completed 200 OK in 25ms (Views: 17.7ms | ActiveRecord: 1.0ms | Allocations: 5249)


Started GET "/rails/conductor/action_mailbox/inbound_emails" for ::1 at 2020-07-17 14:50:38 +0700
Processing by Rails::Conductor::ActionMailbox::InboundEmailsController#index as HTML
  Rendering /home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/actionmailbox-6.0.3.2/app/views/rails/conductor/action_mailbox/inbound_emails/index.html.erb within layouts/rails/conductor
  [1m[36mActionMailbox::InboundEmail Load (0.7ms)[0m  [1m[34mSELECT "action_mailbox_inbound_emails".* FROM "action_mailbox_inbound_emails" ORDER BY "action_mailbox_inbound_emails"."created_at" DESC[0m
  Rendered /home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/actionmailbox-6.0.3.2/app/views/rails/conductor/action_mailbox/inbound_emails/index.html.erb within layouts/rails/conductor (Duration: 9.1ms | Allocations: 1556)
Completed 200 OK in 14ms (Views: 10.5ms | ActiveRecord: 0.7ms | Allocations: 2045)


Started GET "/support_request" for ::1 at 2020-07-17 14:50:52 +0700
Processing by StoreController#index as HTML
  Parameters: {"locale"=>"support_request"}
support_request translation not available
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 80], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 15.1ms | Allocations: 3357)
[Webpacker] Everything's up-to-date. Nothing to do
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 80], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:35
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 80]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 4.5ms | Allocations: 892)
  Rendered carts/_cart.html.erb (Duration: 8.2ms | Allocations: 2121)
Completed 200 OK in 47ms (Views: 43.3ms | ActiveRecord: 0.7ms | Allocations: 13289)


Started GET "/cable" for ::1 at 2020-07-17 14:50:52 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-17 14:50:52 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/orders" for ::1 at 2020-07-17 14:50:56 +0700
Processing by OrdersController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:20:in `authorize'
  Rendering orders/index.html.erb within layouts/application
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders"[0m
  ↳ app/views/orders/index.html.erb:17
  Rendered orders/index.html.erb within layouts/application (Duration: 5.6ms | Allocations: 786)
[Webpacker] Everything's up-to-date. Nothing to do
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 31ms (Views: 25.4ms | ActiveRecord: 0.6ms | Allocations: 7800)


Started GET "/products" for ::1 at 2020-07-17 14:50:57 +0700
Processing by ProductsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:20:in `authorize'
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/products/index.html.erb:12
  Rendered products/index.html.erb within layouts/application (Duration: 18.5ms | Allocations: 3267)
[Webpacker] Everything's up-to-date. Nothing to do
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 42ms (Views: 34.6ms | ActiveRecord: 0.7ms | Allocations: 10820)


Started GET "/users" for ::1 at 2020-07-17 14:50:58 +0700
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:20:in `authorize'
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."name" ASC[0m
  ↳ app/views/users/index.html.erb:14
  Rendered users/index.html.erb within layouts/application (Duration: 32.8ms | Allocations: 1069)
[Webpacker] Everything's up-to-date. Nothing to do
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 67ms (Views: 60.7ms | ActiveRecord: 0.8ms | Allocations: 8740)


Started GET "/contact" for ::1 at 2020-07-17 14:51:01 +0700
Processing by StoreController#index as HTML
  Parameters: {"locale"=>"contact"}
contact translation not available
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 80], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 20.3ms | Allocations: 3327)
[Webpacker] Everything's up-to-date. Nothing to do
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 80], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:35
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 80]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 4.0ms | Allocations: 892)
  Rendered carts/_cart.html.erb (Duration: 6.9ms | Allocations: 2120)
Completed 200 OK in 49ms (Views: 42.4ms | ActiveRecord: 1.2ms | Allocations: 13233)


  [1m[35m (0.4ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (25.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Migrating to CreateActionTextTables (20200717075251)
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[35m (1.2ms)[0m  [1m[35mCREATE TABLE "action_text_rich_texts" ("id" integer PRIMARY KEY AUTOINCREMENT NOT NULL, "name" varchar NOT NULL, "body" text, "record_type" varchar NOT NULL, "record_id" integer NOT NULL, "created_at" datetime(6) NOT NULL, "updated_at" datetime(6) NOT NULL)[0m
  [1m[35m (0.5ms)[0m  [1m[35mCREATE UNIQUE INDEX "index_action_text_rich_texts_uniqueness" ON "action_text_rich_texts" ("record_type", "record_id", "name")[0m
  [1m[36mprimary::SchemaMigration Create (23.6ms)[0m  [1m[32mINSERT INTO "schema_migrations" ("version") VALUES (?)[0m  [["version", "20200717075251"]]
  [1m[35m (124.2ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActiveRecord::InternalMetadata Load (0.4ms)[0m  [1m[34mSELECT "ar_internal_metadata".* FROM "ar_internal_metadata" WHERE "ar_internal_metadata"."key" = ? LIMIT ?[0m  [["key", "environment"], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/contact" for ::1 at 2020-07-17 14:59:46 +0700
  [1m[35m (2.9ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by StoreController#index as HTML
  Parameters: {"locale"=>"contact"}
contact translation not available
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 80], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 3892.0ms | Allocations: 39536)
[Webpacker] Compiling...
Started GET "/cable" for ::1 at 2020-07-17 14:59:54 +0700
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-17 14:59:55 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
[Webpacker] Compiled all packs in /home/khanh/Desktop/depot/public/packs
[Webpacker] Hash: 8302c0385ebb2bfc5d08
Version: webpack 4.43.0
Time: 2342ms
Built at: 07/17/2020 2:59:57 PM
                                         Asset      Size           Chunks                         Chunk Names
        js/application-9eea995274e9f9539ea4.js   527 KiB      application  [emitted] [immutable]  application
    js/application-9eea995274e9f9539ea4.js.map   595 KiB      application  [emitted] [dev]        application
        js/hello_react-7cb607df4b85a32cfe4e.js  1.05 MiB      hello_react  [emitted] [immutable]  hello_react
    js/hello_react-7cb607df4b85a32cfe4e.js.map  1.21 MiB      hello_react  [emitted] [dev]        hello_react
    js/locale_switcher-8bce3d6bd22b19b77098.js  4.06 KiB  locale_switcher  [emitted] [immutable]  locale_switcher
js/locale_switcher-8bce3d6bd22b19b77098.js.map  3.73 KiB  locale_switcher  [emitted] [dev]        locale_switcher
           js/pay_type-da2cad1390e402b02e90.js  1.05 MiB         pay_type  [emitted] [immutable]  pay_type
       js/pay_type-da2cad1390e402b02e90.js.map  1.18 MiB         pay_type  [emitted] [dev]        pay_type
                                 manifest.json  1.36 KiB                   [emitted]              
Entrypoint application = js/application-9eea995274e9f9539ea4.js js/application-9eea995274e9f9539ea4.js.map
Entrypoint hello_react = js/hello_react-7cb607df4b85a32cfe4e.js js/hello_react-7cb607df4b85a32cfe4e.js.map
Entrypoint locale_switcher = js/locale_switcher-8bce3d6bd22b19b77098.js js/locale_switcher-8bce3d6bd22b19b77098.js.map
Entrypoint pay_type = js/pay_type-da2cad1390e402b02e90.js js/pay_type-da2cad1390e402b02e90.js.map
[./app/javascript/PayTypeSelector/CheckPayType.jsx] 4.8 KiB {pay_type} [built]
[./app/javascript/PayTypeSelector/CreditCardPayType.jsx] 4.92 KiB {pay_type} [built]
[./app/javascript/PayTypeSelector/NoPayType.jsx] 3.22 KiB {pay_type} [built]
[./app/javascript/PayTypeSelector/PurchaseOrderPayType.jsx] 4.08 KiB {pay_type} [built]
[./app/javascript/PayTypeSelector/index.jsx] 6.16 KiB {pay_type} [built]
[./app/javascript/channels sync recursive _channel\.js$] ./app/javascript/channels sync _channel\.js$ 186 bytes {application} [built]
[./app/javascript/channels/index.js] 211 bytes {application} [built]
[./app/javascript/channels/products_channel.js] 555 bytes {application} [optional] [built]
[./app/javascript/packs/application.js] 913 bytes {application} [built]
[./app/javascript/packs/hello_react.jsx] 1.06 KiB {hello_react} [built]
[./app/javascript/packs/locale_switcher.js] 143 bytes {locale_switcher} [built]
[./app/javascript/packs/pay_type.jsx] 564 bytes {pay_type} [built]
[./node_modules/webpack/buildin/module.js] (webpack)/buildin/module.js 552 bytes {application} [built]
[./public/javascripts/i18n.js] 33.3 KiB {application} [built]
[./public/javascripts/translations.js] 7.2 KiB {application} [built]
    + 27 hidden modules

[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (21.6ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 80], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:35
  [1m[36mLineItem Load (22.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 80]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 32.1ms | Allocations: 1995)
  Rendered carts/_cart.html.erb (Duration: 118.1ms | Allocations: 8301)
Completed 200 OK in 10769ms (Views: 10607.7ms | ActiveRecord: 50.0ms | Allocations: 87891)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-17 14:59:58 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-17 14:59:58 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-17 14:59:58 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/contact" for ::1 at 2020-07-17 15:00:04 +0700
Processing by StoreController#index as HTML
  Parameters: {"locale"=>"contact"}
contact translation not available
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 80], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 11.3ms | Allocations: 3318)
[Webpacker] Everything's up-to-date. Nothing to do
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 80], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:35
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 80]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 2.7ms | Allocations: 892)
  Rendered carts/_cart.html.erb (Duration: 7.3ms | Allocations: 2117)
Completed 200 OK in 56ms (Views: 49.3ms | ActiveRecord: 1.2ms | Allocations: 13781)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-17 15:00:04 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-17 15:00:04 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-17 15:00:04 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/support_request" for ::1 at 2020-07-17 15:00:13 +0700
Processing by StoreController#index as HTML
  Parameters: {"locale"=>"support_request"}
support_request translation not available
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 80], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 19.4ms | Allocations: 3318)
[Webpacker] Everything's up-to-date. Nothing to do
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 80], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:35
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 80]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 2.2ms | Allocations: 892)
  Rendered carts/_cart.html.erb (Duration: 6.1ms | Allocations: 2117)
Completed 200 OK in 53ms (Views: 46.7ms | ActiveRecord: 1.7ms | Allocations: 13768)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-17 15:00:13 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-17 15:00:13 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-17 15:00:13 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/support_request" for ::1 at 2020-07-17 15:00:17 +0700
Processing by StoreController#index as HTML
  Parameters: {"locale"=>"support_request"}
support_request translation not available
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 80], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 12.3ms | Allocations: 3312)
[Webpacker] Everything's up-to-date. Nothing to do
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 80], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:35
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 80]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 1.9ms | Allocations: 892)
  Rendered carts/_cart.html.erb (Duration: 4.6ms | Allocations: 2117)
Completed 200 OK in 60ms (Views: 58.0ms | ActiveRecord: 0.6ms | Allocations: 13753)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-17 15:00:17 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-17 15:00:17 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-17 15:00:17 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/support_request" for ::1 at 2020-07-17 15:00:19 +0700
Processing by StoreController#index as HTML
  Parameters: {"locale"=>"support_request"}
support_request translation not available
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 80], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 7.9ms | Allocations: 3319)
[Webpacker] Everything's up-to-date. Nothing to do
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 80], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:35
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 80]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 1.5ms | Allocations: 892)
  Rendered carts/_cart.html.erb (Duration: 3.9ms | Allocations: 2117)
Completed 200 OK in 26ms (Views: 23.7ms | ActiveRecord: 0.6ms | Allocations: 13766)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-17 15:00:20 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-17 15:00:20 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-17 15:00:20 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/en/orders/new" for ::1 at 2020-07-17 15:00:22 +0700
Processing by OrdersController#new as HTML
  Parameters: {"locale"=>"en"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 80], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 80], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:98:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 216.7ms | Allocations: 1897)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered orders/new.html.erb within layouts/application (Duration: 267.8ms | Allocations: 3990)
[Webpacker] Everything's up-to-date. Nothing to do
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 80], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:35
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 80]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 4.1ms | Allocations: 892)
  Rendered carts/_cart.html.erb (Duration: 9.4ms | Allocations: 2126)
Completed 200 OK in 425ms (Views: 302.9ms | ActiveRecord: 3.8ms | Allocations: 20715)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-17 15:00:22 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-17 15:00:22 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-17 15:00:22 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/products" for ::1 at 2020-07-17 15:00:25 +0700
Processing by ProductsController#index as HTML
  [1m[36mUser Load (25.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:20:in `authorize'
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/products/index.html.erb:12
  Rendered products/index.html.erb within layouts/application (Duration: 20.9ms | Allocations: 3275)
[Webpacker] Everything's up-to-date. Nothing to do
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 101ms (Views: 39.3ms | ActiveRecord: 28.0ms | Allocations: 14712)


Started GET "/" for ::1 at 2020-07-17 15:01:22 +0700
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 80], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 7.0ms | Allocations: 3328)
[Webpacker] Everything's up-to-date. Nothing to do
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 80], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:35
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 80]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 1.5ms | Allocations: 892)
  Rendered carts/_cart.html.erb (Duration: 4.6ms | Allocations: 2115)
Completed 200 OK in 26ms (Views: 24.0ms | ActiveRecord: 0.8ms | Allocations: 13741)


Started GET "/support_request" for ::1 at 2020-07-17 15:01:26 +0700
Processing by StoreController#index as HTML
  Parameters: {"locale"=>"support_request"}
support_request translation not available
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 80], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 11.3ms | Allocations: 3318)
[Webpacker] Everything's up-to-date. Nothing to do
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 80], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:35
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 80]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 3.2ms | Allocations: 892)
  Rendered carts/_cart.html.erb (Duration: 9.9ms | Allocations: 2117)
Completed 200 OK in 49ms (Views: 43.5ms | ActiveRecord: 1.4ms | Allocations: 13774)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-17 15:01:26 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-17 15:01:26 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-17 15:01:26 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/rails/conductor/action_mailbox/inbound_emails" for ::1 at 2020-07-17 15:04:18 +0700
Processing by Rails::Conductor::ActionMailbox::InboundEmailsController#index as HTML
  Rendering /home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/actionmailbox-6.0.3.2/app/views/rails/conductor/action_mailbox/inbound_emails/index.html.erb within layouts/rails/conductor
  [1m[36mActionMailbox::InboundEmail Load (21.3ms)[0m  [1m[34mSELECT "action_mailbox_inbound_emails".* FROM "action_mailbox_inbound_emails" ORDER BY "action_mailbox_inbound_emails"."created_at" DESC[0m
  Rendered /home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/actionmailbox-6.0.3.2/app/views/rails/conductor/action_mailbox/inbound_emails/index.html.erb within layouts/rails/conductor (Duration: 81.1ms | Allocations: 5005)
Completed 200 OK in 450ms (Views: 77.0ms | ActiveRecord: 23.4ms | Allocations: 8584)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-17 15:04:19 +0700
ProductsChannel stopped streaming from products
Started GET "/rails/conductor/action_mailbox/inbound_emails/new" for ::1 at 2020-07-17 15:04:22 +0700
Processing by Rails::Conductor::ActionMailbox::InboundEmailsController#new as HTML
  Rendering /home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/actionmailbox-6.0.3.2/app/views/rails/conductor/action_mailbox/inbound_emails/new.html.erb within layouts/rails/conductor
  Rendered /home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/actionmailbox-6.0.3.2/app/views/rails/conductor/action_mailbox/inbound_emails/new.html.erb within layouts/rails/conductor (Duration: 8.2ms | Allocations: 1332)
Completed 200 OK in 15ms (Views: 10.6ms | ActiveRecord: 0.0ms | Allocations: 2102)


Started POST "/rails/conductor/action_mailbox/inbound_emails" for ::1 at 2020-07-17 15:04:51 +0700
Processing by Rails::Conductor::ActionMailbox::InboundEmailsController#create as HTML
  Parameters: {"authenticity_token"=>"Soz34zZrVUJDi8TDKVcvmGuQH9WEjU4xfQHgaF0mzngNwY73vw+gQp+tEtXwHwG9UQRN9YHuvfek435uht9geA==", "mail"=>{"from"=>"hi", "to"=>"email", "cc"=>"sfsd", "bcc"=>"sdfdfdfd", "in_reply_to"=>"dddddddddddddddde", "subject"=>"eeeeeeehijs", "body"=>"gien làm thê m", "attachments"=>[#<ActionDispatch::Http::UploadedFile:0x000055e1ab7fda90 @tempfile=#<Tempfile:/tmp/RackMultipart20200717-28135-103ho1z.rb>, @original_filename="application.rb", @content_type="application/x-ruby", @headers="Content-Disposition: form-data; name=\"mail[attachments][]\"; filename=\"application.rb\"\r\nContent-Type: application/x-ruby\r\n">]}, "commit"=>"Deliver inbound email"}
[31mUnpermitted parameter: :attachments[0m
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActionMailbox::InboundEmail Create (29.3ms)[0m  [1m[32mINSERT INTO "action_mailbox_inbound_emails" ("message_id", "message_checksum", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["message_id", "5f115ba3c1346_6de76cc0-396@khanh-X510UAR.mail"], ["message_checksum", "f0763c9ae5882b35fb2aaa1811ffed19d8a1aade"], ["created_at", "2020-07-17 08:04:51.972551"], ["updated_at", "2020-07-17 08:04:51.972551"]]
  [1m[36mActiveStorage::Blob Load (27.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 2], ["record_type", "ActionMailbox::InboundEmail"], ["name", "raw_email"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 2], ["record_type", "ActionMailbox::InboundEmail"], ["name", "raw_email"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (32.8ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["key", "mk6otccxu9e6ymeto116remqy4zw"], ["filename", "message.eml"], ["content_type", "message/rfc822"], ["metadata", "{\"identified\":true}"], ["byte_size", 2476], ["checksum", "+OL8ik0HayL2mAVQRGXGLg=="], ["created_at", "2020-07-17 08:04:52.403889"]]
  [1m[36mActiveStorage::Attachment Create (0.5ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "raw_email"], ["record_type", "ActionMailbox::InboundEmail"], ["record_id", 2], ["blob_id", 2], ["created_at", "2020-07-17 08:04:52.442596"]]
  [1m[36mActionMailbox::InboundEmail Update (0.1ms)[0m  [1m[33mUPDATE "action_mailbox_inbound_emails" SET "updated_at" = ? WHERE "action_mailbox_inbound_emails"."id" = ?[0m  [["updated_at", "2020-07-17 08:04:52.446537"], ["id", 2]]
  [1m[35m (76.5ms)[0m  [1m[36mcommit transaction[0m
[36m  Disk Storage (28.2ms) [0m[32mUploaded file to key: mk6otccxu9e6ymeto116remqy4zw (checksum: +OL8ik0HayL2mAVQRGXGLg==)[0m
[ActiveJob] Enqueued ActionMailbox::RoutingJob (Job ID: 65135815-462f-4188-a3ec-7e2b73bf110a) to Async(action_mailbox_routing) with arguments: #<GlobalID:0x00007f86a03487e8 @uri=#<URI::GID gid://depot/ActionMailbox::InboundEmail/2>>
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: f53a2782-08a6-4f11-80c4-ddfc3cb32d42) to Async(active_storage_analysis) with arguments: #<GlobalID:0x00007f86a033a3a0 @uri=#<URI::GID gid://depot/ActiveStorage::Blob/2>>
Redirected to http://localhost:3000/rails/conductor/action_mailbox/inbound_emails/2
  [1m[36mActionMailbox::InboundEmail Load (0.6ms)[0m  [1m[34mSELECT "action_mailbox_inbound_emails".* FROM "action_mailbox_inbound_emails" WHERE "action_mailbox_inbound_emails"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Completed 302 Found in 2147ms (ActiveRecord: 169.6ms | Allocations: 61044)


  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[36mActiveStorage::Blob Load (0.5ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
[ActiveJob] [ActionMailbox::RoutingJob] [65135815-462f-4188-a3ec-7e2b73bf110a] Performing ActionMailbox::RoutingJob (Job ID: 65135815-462f-4188-a3ec-7e2b73bf110a) from Async(action_mailbox_routing) enqueued at 2020-07-17T08:04:53Z with arguments: #<GlobalID:0x00007f86a027ab40 @uri=#<URI::GID gid://depot/ActionMailbox::InboundEmail/2>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [f53a2782-08a6-4f11-80c4-ddfc3cb32d42] Performing ActiveStorage::AnalyzeJob (Job ID: f53a2782-08a6-4f11-80c4-ddfc3cb32d42) from Async(active_storage_analysis) enqueued at 2020-07-17T08:04:53Z with arguments: #<GlobalID:0x00007f86a0136040 @uri=#<URI::GID gid://depot/ActiveStorage::Blob/2>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [f53a2782-08a6-4f11-80c4-ddfc3cb32d42]   [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
[ActiveJob] [ActionMailbox::RoutingJob] [65135815-462f-4188-a3ec-7e2b73bf110a]   [1m[36mActiveStorage::Attachment Load (0.6ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 2], ["record_type", "ActionMailbox::InboundEmail"], ["name", "raw_email"], ["LIMIT", 1]]
Started GET "/rails/conductor/action_mailbox/inbound_emails/2" for ::1 at 2020-07-17 15:04:53 +0700
[ActiveJob] [ActiveStorage::AnalyzeJob] [f53a2782-08a6-4f11-80c4-ddfc3cb32d42]   [1m[36mActiveStorage::Blob Update (0.7ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 2]]
[ActiveJob] [ActionMailbox::RoutingJob] [65135815-462f-4188-a3ec-7e2b73bf110a]   [1m[36mActiveStorage::Blob Load (0.5ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [f53a2782-08a6-4f11-80c4-ddfc3cb32d42]   [1m[35m (123.4ms)[0m  [1m[36mcommit transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [f53a2782-08a6-4f11-80c4-ddfc3cb32d42] Performed ActiveStorage::AnalyzeJob (Job ID: f53a2782-08a6-4f11-80c4-ddfc3cb32d42) from Async(active_storage_analysis) in 154.77ms
[ActiveJob] [ActionMailbox::RoutingJob] [65135815-462f-4188-a3ec-7e2b73bf110a] [36m  Disk Storage (2.3ms) [0m[34mDownloaded file from key: mk6otccxu9e6ymeto116remqy4zw[0m
[ActiveJob] [ActionMailbox::RoutingJob] [65135815-462f-4188-a3ec-7e2b73bf110a]   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
[ActiveJob] [ActionMailbox::RoutingJob] [65135815-462f-4188-a3ec-7e2b73bf110a]   [1m[36mActionMailbox::InboundEmail Update (0.4ms)[0m  [1m[33mUPDATE "action_mailbox_inbound_emails" SET "status" = ?, "updated_at" = ? WHERE "action_mailbox_inbound_emails"."id" = ?[0m  [["status", 4], ["updated_at", "2020-07-17 08:04:53.879362"], ["id", 2]]
[ActiveJob] [ActionMailbox::RoutingJob] [65135815-462f-4188-a3ec-7e2b73bf110a]   [1m[35m (64.8ms)[0m  [1m[36mcommit transaction[0m
Processing by Rails::Conductor::ActionMailbox::InboundEmailsController#show as HTML
[ActiveJob] [ActionMailbox::RoutingJob] [65135815-462f-4188-a3ec-7e2b73bf110a] Enqueued ActionMailbox::IncinerationJob (Job ID: e181dc31-7263-475b-b137-63f69ba42d82) to Async(action_mailbox_incineration) at 2020-08-16 08:04:53 UTC with arguments: #<GlobalID:0x00007f86cc87ba40 @uri=#<URI::GID gid://depot/ActionMailbox::InboundEmail/2>>
  Parameters: {"id"=>"2"}
[ActiveJob] [ActionMailbox::RoutingJob] [65135815-462f-4188-a3ec-7e2b73bf110a] Error performing ActionMailbox::RoutingJob (Job ID: 65135815-462f-4188-a3ec-7e2b73bf110a) from Async(action_mailbox_routing) in 335.26ms: ActionMailbox::Router::RoutingError (ActionMailbox::Router::RoutingError):
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/actionmailbox-6.0.3.2/lib/action_mailbox/router.rb:29:in `route'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/actionmailbox-6.0.3.2/lib/action_mailbox/routing.rb:18:in `route'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/actionmailbox-6.0.3.2/app/models/action_mailbox/inbound_email/routable.rb:22:in `route'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/actionmailbox-6.0.3.2/app/jobs/action_mailbox/routing_job.rb:10:in `perform'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/execution.rb:40:in `block in perform_now'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:112:in `block in run_callbacks'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/i18n-1.8.3/lib/i18n.rb:313:in `with_locale'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/translation.rb:9:in `block (2 levels) in <module:Translation>'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `instance_exec'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/core_ext/time/zones.rb:66:in `use_zone'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/timezones.rb:9:in `block (2 levels) in <module:Timezones>'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `instance_exec'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/logging.rb:25:in `block (4 levels) in <module:Logging>'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/notifications.rb:180:in `block in instrument'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/notifications.rb:180:in `instrument'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/logging.rb:24:in `block (3 levels) in <module:Logging>'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/logging.rb:45:in `block in tag_logger'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/tagged_logging.rb:28:in `tagged'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/tagged_logging.rb:80:in `tagged'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/logging.rb:45:in `tag_logger'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/logging.rb:21:in `block (2 levels) in <module:Logging>'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `instance_exec'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:139:in `run_callbacks'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/execution.rb:39:in `perform_now'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/execution.rb:25:in `block in execute'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:112:in `block in run_callbacks'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/railtie.rb:43:in `block (4 levels) in <class:Railtie>'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/execution_wrapper.rb:88:in `wrap'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/reloader.rb:72:in `block in wrap'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/execution_wrapper.rb:88:in `wrap'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/reloader.rb:71:in `wrap'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/railtie.rb:42:in `block (3 levels) in <class:Railtie>'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `instance_exec'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:139:in `run_callbacks'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/execution.rb:23:in `execute'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/queue_adapters/async_adapter.rb:70:in `perform'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/concurrent-ruby-1.1.6/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:353:in `run_task'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/concurrent-ruby-1.1.6/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:342:in `block (3 levels) in create_worker'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/concurrent-ruby-1.1.6/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:325:in `loop'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/concurrent-ruby-1.1.6/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:325:in `block (2 levels) in create_worker'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/concurrent-ruby-1.1.6/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:324:in `catch'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/concurrent-ruby-1.1.6/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:324:in `block in create_worker'
  [1m[36mActionMailbox::InboundEmail Load (0.7ms)[0m  [1m[34mSELECT "action_mailbox_inbound_emails".* FROM "action_mailbox_inbound_emails" WHERE "action_mailbox_inbound_emails"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering /home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/actionmailbox-6.0.3.2/app/views/rails/conductor/action_mailbox/inbound_emails/show.html.erb within layouts/rails/conductor
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 2], ["record_type", "ActionMailbox::InboundEmail"], ["name", "raw_email"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.6ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
[36m  Disk Storage (0.2ms) [0m[34mDownloaded file from key: mk6otccxu9e6ymeto116remqy4zw[0m
  Rendered /home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/actionmailbox-6.0.3.2/app/views/rails/conductor/action_mailbox/inbound_emails/show.html.erb within layouts/rails/conductor (Duration: 30.3ms | Allocations: 3938)
Completed 200 OK in 43ms (Views: 30.8ms | ActiveRecord: 1.6ms | Allocations: 5963)


Started POST "/rails/conductor/action_mailbox/2/reroute" for ::1 at 2020-07-17 15:04:57 +0700
Processing by Rails::Conductor::ActionMailbox::ReroutesController#create as HTML
  Parameters: {"authenticity_token"=>"kb0SlB02egGxm1MUn1yGWjInPRI9blf/S5VqadE7DitEWNZR1nBc0Gw1OuAINY5UKSqqJRDVwlvfpyQt5I1gzw==", "inbound_email_id"=>"2"}
  [1m[36mActionMailbox::InboundEmail Load (0.3ms)[0m  [1m[34mSELECT "action_mailbox_inbound_emails".* FROM "action_mailbox_inbound_emails" WHERE "action_mailbox_inbound_emails"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActionMailbox::InboundEmail Update (0.5ms)[0m  [1m[33mUPDATE "action_mailbox_inbound_emails" SET "status" = ?, "updated_at" = ? WHERE "action_mailbox_inbound_emails"."id" = ?[0m  [["status", 0], ["updated_at", "2020-07-17 08:04:57.948574"], ["id", 2]]
  [1m[35m (86.1ms)[0m  [1m[36mcommit transaction[0m
[ActiveJob] Enqueued ActionMailbox::RoutingJob (Job ID: 4ccff6d4-5efa-445c-a004-5227a4237c92) to Async(action_mailbox_routing) with arguments: #<GlobalID:0x000055e1abef40d8 @uri=#<URI::GID gid://depot/ActionMailbox::InboundEmail/2>>
Redirected to http://localhost:3000/rails/conductor/action_mailbox/inbound_emails/2
  [1m[36mActionMailbox::InboundEmail Load (0.4ms)[0m  [1m[34mSELECT "action_mailbox_inbound_emails".* FROM "action_mailbox_inbound_emails" WHERE "action_mailbox_inbound_emails"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Completed 302 Found in 115ms (ActiveRecord: 87.0ms | Allocations: 7047)


[ActiveJob] [ActionMailbox::RoutingJob] [4ccff6d4-5efa-445c-a004-5227a4237c92] Performing ActionMailbox::RoutingJob (Job ID: 4ccff6d4-5efa-445c-a004-5227a4237c92) from Async(action_mailbox_routing) enqueued at 2020-07-17T08:04:58Z with arguments: #<GlobalID:0x000055e1abe30610 @uri=#<URI::GID gid://depot/ActionMailbox::InboundEmail/2>>
[ActiveJob] [ActionMailbox::RoutingJob] [4ccff6d4-5efa-445c-a004-5227a4237c92]   [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 2], ["record_type", "ActionMailbox::InboundEmail"], ["name", "raw_email"], ["LIMIT", 1]]
[ActiveJob] [ActionMailbox::RoutingJob] [4ccff6d4-5efa-445c-a004-5227a4237c92]   [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
[ActiveJob] [ActionMailbox::RoutingJob] [4ccff6d4-5efa-445c-a004-5227a4237c92] [36m  Disk Storage (0.2ms) [0m[34mDownloaded file from key: mk6otccxu9e6ymeto116remqy4zw[0m
[ActiveJob] [ActionMailbox::RoutingJob] [4ccff6d4-5efa-445c-a004-5227a4237c92]   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
[ActiveJob] [ActionMailbox::RoutingJob] [4ccff6d4-5efa-445c-a004-5227a4237c92]   [1m[36mActionMailbox::InboundEmail Update (0.4ms)[0m  [1m[33mUPDATE "action_mailbox_inbound_emails" SET "status" = ?, "updated_at" = ? WHERE "action_mailbox_inbound_emails"."id" = ?[0m  [["status", 4], ["updated_at", "2020-07-17 08:04:58.080689"], ["id", 2]]
[ActiveJob] [ActionMailbox::RoutingJob] [4ccff6d4-5efa-445c-a004-5227a4237c92]   [1m[35m (180.9ms)[0m  [1m[36mcommit transaction[0m
Started GET "/rails/conductor/action_mailbox/inbound_emails/2" for ::1 at 2020-07-17 15:04:58 +0700
[ActiveJob] [ActionMailbox::RoutingJob] [4ccff6d4-5efa-445c-a004-5227a4237c92] Enqueued ActionMailbox::IncinerationJob (Job ID: 10a92707-e2d2-4e11-85d9-68e843b15b0d) to Async(action_mailbox_incineration) at 2020-08-16 08:04:58 UTC with arguments: #<GlobalID:0x000055e1aae57ef0 @uri=#<URI::GID gid://depot/ActionMailbox::InboundEmail/2>>
[ActiveJob] [ActionMailbox::RoutingJob] [4ccff6d4-5efa-445c-a004-5227a4237c92] Error performing ActionMailbox::RoutingJob (Job ID: 4ccff6d4-5efa-445c-a004-5227a4237c92) from Async(action_mailbox_routing) in 216.35ms: ActionMailbox::Router::RoutingError (ActionMailbox::Router::RoutingError):
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/actionmailbox-6.0.3.2/lib/action_mailbox/router.rb:29:in `route'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/actionmailbox-6.0.3.2/lib/action_mailbox/routing.rb:18:in `route'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/actionmailbox-6.0.3.2/app/models/action_mailbox/inbound_email/routable.rb:22:in `route'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/actionmailbox-6.0.3.2/app/jobs/action_mailbox/routing_job.rb:10:in `perform'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/execution.rb:40:in `block in perform_now'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:112:in `block in run_callbacks'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/i18n-1.8.3/lib/i18n.rb:313:in `with_locale'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/translation.rb:9:in `block (2 levels) in <module:Translation>'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `instance_exec'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/core_ext/time/zones.rb:66:in `use_zone'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/timezones.rb:9:in `block (2 levels) in <module:Timezones>'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `instance_exec'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/logging.rb:25:in `block (4 levels) in <module:Logging>'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/notifications.rb:180:in `block in instrument'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/notifications.rb:180:in `instrument'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/logging.rb:24:in `block (3 levels) in <module:Logging>'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/logging.rb:45:in `block in tag_logger'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/tagged_logging.rb:28:in `tagged'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/tagged_logging.rb:80:in `tagged'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/logging.rb:45:in `tag_logger'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/logging.rb:21:in `block (2 levels) in <module:Logging>'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `instance_exec'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:139:in `run_callbacks'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/execution.rb:39:in `perform_now'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/execution.rb:25:in `block in execute'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:112:in `block in run_callbacks'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/railtie.rb:43:in `block (4 levels) in <class:Railtie>'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/execution_wrapper.rb:88:in `wrap'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/reloader.rb:72:in `block in wrap'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/execution_wrapper.rb:88:in `wrap'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/reloader.rb:71:in `wrap'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/railtie.rb:42:in `block (3 levels) in <class:Railtie>'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `instance_exec'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:139:in `run_callbacks'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/execution.rb:23:in `execute'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/queue_adapters/async_adapter.rb:70:in `perform'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/concurrent-ruby-1.1.6/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:353:in `run_task'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/concurrent-ruby-1.1.6/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:342:in `block (3 levels) in create_worker'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/concurrent-ruby-1.1.6/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:325:in `loop'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/concurrent-ruby-1.1.6/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:325:in `block (2 levels) in create_worker'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/concurrent-ruby-1.1.6/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:324:in `catch'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/concurrent-ruby-1.1.6/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:324:in `block in create_worker'
Processing by Rails::Conductor::ActionMailbox::InboundEmailsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mActionMailbox::InboundEmail Load (0.4ms)[0m  [1m[34mSELECT "action_mailbox_inbound_emails".* FROM "action_mailbox_inbound_emails" WHERE "action_mailbox_inbound_emails"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering /home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/actionmailbox-6.0.3.2/app/views/rails/conductor/action_mailbox/inbound_emails/show.html.erb within layouts/rails/conductor
  [1m[36mActiveStorage::Attachment Load (11.6ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 2], ["record_type", "ActionMailbox::InboundEmail"], ["name", "raw_email"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
[36m  Disk Storage (0.1ms) [0m[34mDownloaded file from key: mk6otccxu9e6ymeto116remqy4zw[0m
  Rendered /home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/actionmailbox-6.0.3.2/app/views/rails/conductor/action_mailbox/inbound_emails/show.html.erb within layouts/rails/conductor (Duration: 20.1ms | Allocations: 3723)
Completed 200 OK in 31ms (Views: 10.1ms | ActiveRecord: 12.1ms | Allocations: 5254)


Started GET "/rails/conductor/action_mailbox/inbound_emails" for ::1 at 2020-07-17 15:04:59 +0700
Processing by Rails::Conductor::ActionMailbox::InboundEmailsController#index as HTML
  Rendering /home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/actionmailbox-6.0.3.2/app/views/rails/conductor/action_mailbox/inbound_emails/index.html.erb within layouts/rails/conductor
  [1m[36mActionMailbox::InboundEmail Load (0.8ms)[0m  [1m[34mSELECT "action_mailbox_inbound_emails".* FROM "action_mailbox_inbound_emails" ORDER BY "action_mailbox_inbound_emails"."created_at" DESC[0m
  Rendered /home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/actionmailbox-6.0.3.2/app/views/rails/conductor/action_mailbox/inbound_emails/index.html.erb within layouts/rails/conductor (Duration: 9.5ms | Allocations: 1622)
Completed 200 OK in 14ms (Views: 10.4ms | ActiveRecord: 0.8ms | Allocations: 2104)


Started GET "/rails/conductor/action_mailbox/inbound_emails/1" for ::1 at 2020-07-17 15:05:01 +0700
Processing by Rails::Conductor::ActionMailbox::InboundEmailsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mActionMailbox::InboundEmail Load (0.4ms)[0m  [1m[34mSELECT "action_mailbox_inbound_emails".* FROM "action_mailbox_inbound_emails" WHERE "action_mailbox_inbound_emails"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering /home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/actionmailbox-6.0.3.2/app/views/rails/conductor/action_mailbox/inbound_emails/show.html.erb within layouts/rails/conductor
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "ActionMailbox::InboundEmail"], ["name", "raw_email"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.5ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[36m  Disk Storage (29.5ms) [0m[34mDownloaded file from key: uqu8863ommd636qim9jtdugynxc2[0m
  Rendered /home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/actionmailbox-6.0.3.2/app/views/rails/conductor/action_mailbox/inbound_emails/show.html.erb within layouts/rails/conductor (Duration: 45.4ms | Allocations: 3723)
Completed 200 OK in 57ms (Views: 46.1ms | ActiveRecord: 1.2ms | Allocations: 5363)


Started GET "/support_request" for ::1 at 2020-07-17 15:05:14 +0700
Processing by StoreController#index as HTML
  Parameters: {"locale"=>"support_request"}
support_request translation not available
  [1m[36mCart Load (439.7ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 80], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (154.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 175.1ms | Allocations: 3648)
[Webpacker] Everything's up-to-date. Nothing to do
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 80], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:35
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 80]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 2.2ms | Allocations: 1050)
  Rendered carts/_cart.html.erb (Duration: 5.8ms | Allocations: 2638)
Completed 200 OK in 655ms (Views: 55.8ms | ActiveRecord: 594.3ms | Allocations: 16084)


Started GET "/cable" for ::1 at 2020-07-17 15:05:16 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-17 15:05:16 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/support_request" for ::1 at 2020-07-17 15:06:57 +0700
Processing by StoreController#index as HTML
  Parameters: {"locale"=>"support_request"}
support_request translation not available
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 80], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 10.1ms | Allocations: 3316)
[Webpacker] Everything's up-to-date. Nothing to do
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 80], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:35
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 80]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 2.4ms | Allocations: 892)
  Rendered carts/_cart.html.erb (Duration: 7.8ms | Allocations: 2117)
Completed 200 OK in 41ms (Views: 36.2ms | ActiveRecord: 1.1ms | Allocations: 13734)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-17 15:06:57 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-17 15:06:57 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-17 15:06:57 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/support_request" for ::1 at 2020-07-17 15:06:59 +0700
Processing by StoreController#index as HTML
  Parameters: {"locale"=>"support_request"}
support_request translation not available
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 80], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 15.4ms | Allocations: 3313)
[Webpacker] Everything's up-to-date. Nothing to do
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 80], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:35
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 80]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 2.6ms | Allocations: 892)
  Rendered carts/_cart.html.erb (Duration: 6.8ms | Allocations: 2117)
Completed 200 OK in 55ms (Views: 49.5ms | ActiveRecord: 1.0ms | Allocations: 13745)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-17 15:06:59 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-17 15:06:59 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-17 15:06:59 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/admin" for ::1 at 2020-07-17 15:07:32 +0700
Processing by AdminController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:20:in `authorize'
  [1m[35m (34.8ms)[0m  [1m[34mSELECT COUNT(*) FROM "orders"[0m
  ↳ app/controllers/admin_controller.rb:3:in `index'
  Rendering admin/index.html.erb within layouts/application
  Rendered admin/index.html.erb within layouts/application (Duration: 145.6ms | Allocations: 128)
[Webpacker] Everything's up-to-date. Nothing to do
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 236ms (Views: 194.3ms | ActiveRecord: 35.1ms | Allocations: 8949)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-17 15:07:32 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-17 15:07:32 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-17 15:07:32 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/support_request" for ::1 at 2020-07-17 15:08:25 +0700
Processing by StoreController#index as HTML
  Parameters: {"locale"=>"support_request"}
support_request translation not available
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 80], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 15.2ms | Allocations: 3324)
[Webpacker] Everything's up-to-date. Nothing to do
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 80], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:35
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 80]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 1.9ms | Allocations: 892)
  Rendered carts/_cart.html.erb (Duration: 6.1ms | Allocations: 2120)
Completed 200 OK in 43ms (Views: 37.1ms | ActiveRecord: 1.2ms | Allocations: 13793)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-17 15:08:29 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-17 15:08:29 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-17 15:08:29 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/en/orders/new" for ::1 at 2020-07-17 15:08:35 +0700
Processing by OrdersController#new as HTML
  Parameters: {"locale"=>"en"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 80], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 80], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:98:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 3.6ms | Allocations: 1218)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered orders/new.html.erb within layouts/application (Duration: 13.4ms | Allocations: 3344)
[Webpacker] Everything's up-to-date. Nothing to do
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mCACHE LineItem Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 80], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:35
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 80]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 3.6ms | Allocations: 892)
  Rendered carts/_cart.html.erb (Duration: 7.6ms | Allocations: 2125)
Completed 200 OK in 54ms (Views: 41.3ms | ActiveRecord: 1.5ms | Allocations: 14969)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-17 15:08:35 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-17 15:08:35 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-17 15:08:35 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started DELETE "/carts/80" for ::1 at 2020-07-17 15:08:48 +0700
Processing by CartsController#destroy as HTML
  Parameters: {"authenticity_token"=>"6AKyYpYqpKqDSygDI5U+1A7PAYzahCGfZM7Xn7+LtMFz+qpG60P8LEqBpEx3G4ji7oNXbpc/9zwYrGAjfjDQWA==", "id"=>"80"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 80], ["LIMIT", 1]]
  ↳ app/controllers/carts_controller.rb:80:in `set_cart'
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/carts_controller.rb:66:in `destroy'
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 80]]
  ↳ app/controllers/carts_controller.rb:66:in `destroy'
  [1m[36mLineItem Destroy (50.3ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 89]]
  ↳ app/controllers/carts_controller.rb:66:in `destroy'
  [1m[36mCart Destroy (0.6ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 80]]
  ↳ app/controllers/carts_controller.rb:66:in `destroy'
  [1m[35m (73.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/carts_controller.rb:66:in `destroy'
Redirected to http://localhost:3000/
Completed 302 Found in 152ms (ActiveRecord: 124.8ms | Allocations: 5870)


Started GET "/" for ::1 at 2020-07-17 15:08:49 +0700
Processing by StoreController#index as HTML
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[36mCart Create (0.7ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2020-07-17 08:08:49.388336"], ["updated_at", "2020-07-17 08:08:49.388336"]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[35m (74.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 25.9ms | Allocations: 3534)
[Webpacker] Everything's up-to-date. Nothing to do
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 81], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:35
Completed 200 OK in 144ms (Views: 45.9ms | ActiveRecord: 76.4ms | Allocations: 15109)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-17 15:08:49 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-17 15:08:49 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-17 15:08:49 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/" for ::1 at 2020-07-17 15:12:26 +0700
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 81], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 22.6ms | Allocations: 3325)
[Webpacker] Everything's up-to-date. Nothing to do
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 81], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:35
Completed 200 OK in 41ms (Views: 36.7ms | ActiveRecord: 0.6ms | Allocations: 11578)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-17 15:12:26 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-17 15:12:26 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-17 15:12:26 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started DELETE "/logout" for ::1 at 2020-07-17 15:12:29 +0700
Processing by SessionsController#destroy as HTML
  Parameters: {"authenticity_token"=>"VfHZ1nKSdqYvlhhTpJ7gmMYmzOdxSLeuqqEACRulhG/OCcHyD/suIOZclBzwEFauJmqaBTzzYQ3Ww7e12h7g9g=="}
Redirected to http://localhost:3000/
Completed 302 Found in 2ms (ActiveRecord: 0.0ms | Allocations: 402)


Started GET "/" for ::1 at 2020-07-17 15:12:29 +0700
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 81], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 8.9ms | Allocations: 3327)
[Webpacker] Everything's up-to-date. Nothing to do
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 81], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:35
Completed 200 OK in 25ms (Views: 22.1ms | ActiveRecord: 0.5ms | Allocations: 11360)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-17 15:12:29 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-17 15:12:29 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-17 15:12:29 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/support_request" for ::1 at 2020-07-17 15:12:34 +0700
Processing by StoreController#index as HTML
  Parameters: {"locale"=>"support_request"}
support_request translation not available
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 81], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 9.8ms | Allocations: 3365)
[Webpacker] Everything's up-to-date. Nothing to do
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 81], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:35
Completed 200 OK in 26ms (Views: 22.2ms | ActiveRecord: 0.5ms | Allocations: 11550)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-17 15:12:35 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-17 15:12:35 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-17 15:12:35 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/rails/conductor/action_mailbox/inbound_emails" for ::1 at 2020-07-17 15:12:41 +0700
Processing by Rails::Conductor::ActionMailbox::InboundEmailsController#index as HTML
  Rendering /home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/actionmailbox-6.0.3.2/app/views/rails/conductor/action_mailbox/inbound_emails/index.html.erb within layouts/rails/conductor
  [1m[36mActionMailbox::InboundEmail Load (0.1ms)[0m  [1m[34mSELECT "action_mailbox_inbound_emails".* FROM "action_mailbox_inbound_emails" ORDER BY "action_mailbox_inbound_emails"."created_at" DESC[0m
  Rendered /home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/actionmailbox-6.0.3.2/app/views/rails/conductor/action_mailbox/inbound_emails/index.html.erb within layouts/rails/conductor (Duration: 2.2ms | Allocations: 1627)
Completed 200 OK in 4ms (Views: 2.7ms | ActiveRecord: 0.1ms | Allocations: 2115)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-17 15:12:42 +0700
ProductsChannel stopped streaming from products
Started GET "/rails/conductor/action_mailbox/inbound_emails/2" for ::1 at 2020-07-17 15:12:47 +0700
Processing by Rails::Conductor::ActionMailbox::InboundEmailsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mActionMailbox::InboundEmail Load (0.1ms)[0m  [1m[34mSELECT "action_mailbox_inbound_emails".* FROM "action_mailbox_inbound_emails" WHERE "action_mailbox_inbound_emails"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering /home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/actionmailbox-6.0.3.2/app/views/rails/conductor/action_mailbox/inbound_emails/show.html.erb within layouts/rails/conductor
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 2], ["record_type", "ActionMailbox::InboundEmail"], ["name", "raw_email"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
[36m  Disk Storage (0.1ms) [0m[34mDownloaded file from key: mk6otccxu9e6ymeto116remqy4zw[0m
  Rendered /home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/actionmailbox-6.0.3.2/app/views/rails/conductor/action_mailbox/inbound_emails/show.html.erb within layouts/rails/conductor (Duration: 11.0ms | Allocations: 3725)
Completed 200 OK in 18ms (Views: 12.5ms | ActiveRecord: 0.5ms | Allocations: 5251)


Started GET "/rails/conductor/action_mailbox/inbound_emails/2" for ::1 at 2020-07-17 15:16:03 +0700
Processing by Rails::Conductor::ActionMailbox::InboundEmailsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mActionMailbox::InboundEmail Load (0.3ms)[0m  [1m[34mSELECT "action_mailbox_inbound_emails".* FROM "action_mailbox_inbound_emails" WHERE "action_mailbox_inbound_emails"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering /home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/actionmailbox-6.0.3.2/app/views/rails/conductor/action_mailbox/inbound_emails/show.html.erb within layouts/rails/conductor
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 2], ["record_type", "ActionMailbox::InboundEmail"], ["name", "raw_email"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
[36m  Disk Storage (0.2ms) [0m[34mDownloaded file from key: mk6otccxu9e6ymeto116remqy4zw[0m
  Rendered /home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/actionmailbox-6.0.3.2/app/views/rails/conductor/action_mailbox/inbound_emails/show.html.erb within layouts/rails/conductor (Duration: 11.7ms | Allocations: 3884)
Completed 200 OK in 21ms (Views: 14.6ms | ActiveRecord: 0.7ms | Allocations: 6340)


Started POST "/rails/conductor/action_mailbox/2/reroute" for ::1 at 2020-07-17 15:16:04 +0700
Processing by Rails::Conductor::ActionMailbox::ReroutesController#create as HTML
  Parameters: {"authenticity_token"=>"oV73gJflCWjsGtUJtC+l2/gD+1UH2y43fj9LIUL8Dlh0uzNFXKMvuTG0vP0jRq3V4w5sYipgu5PqDQVld0pgvA==", "inbound_email_id"=>"2"}
  [1m[36mActionMailbox::InboundEmail Load (0.2ms)[0m  [1m[34mSELECT "action_mailbox_inbound_emails".* FROM "action_mailbox_inbound_emails" WHERE "action_mailbox_inbound_emails"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActionMailbox::InboundEmail Update (0.6ms)[0m  [1m[33mUPDATE "action_mailbox_inbound_emails" SET "status" = ?, "updated_at" = ? WHERE "action_mailbox_inbound_emails"."id" = ?[0m  [["status", 0], ["updated_at", "2020-07-17 08:16:04.521133"], ["id", 2]]
  [1m[35m (445.3ms)[0m  [1m[36mcommit transaction[0m
[ActiveJob] Enqueued ActionMailbox::RoutingJob (Job ID: f482dd5f-615f-47ab-9dd5-1916373251fa) to Async(action_mailbox_routing) with arguments: #<GlobalID:0x00007f86cca6bdc8 @uri=#<URI::GID gid://depot/ActionMailbox::InboundEmail/2>>
Redirected to http://localhost:3000/rails/conductor/action_mailbox/inbound_emails/2
Completed 302 Found in 469ms (ActiveRecord: 446.2ms | Allocations: 6939)


  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[36mActionMailbox::InboundEmail Load (0.8ms)[0m  [1m[34mSELECT "action_mailbox_inbound_emails".* FROM "action_mailbox_inbound_emails" WHERE "action_mailbox_inbound_emails"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
[ActiveJob] [ActionMailbox::RoutingJob] [f482dd5f-615f-47ab-9dd5-1916373251fa] Performing ActionMailbox::RoutingJob (Job ID: f482dd5f-615f-47ab-9dd5-1916373251fa) from Async(action_mailbox_routing) enqueued at 2020-07-17T08:16:04Z with arguments: #<GlobalID:0x00007f86cc9d56e8 @uri=#<URI::GID gid://depot/ActionMailbox::InboundEmail/2>>
[ActiveJob] [ActionMailbox::RoutingJob] [f482dd5f-615f-47ab-9dd5-1916373251fa]   [1m[36mActiveStorage::Attachment Load (0.8ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 2], ["record_type", "ActionMailbox::InboundEmail"], ["name", "raw_email"], ["LIMIT", 1]]
[ActiveJob] [ActionMailbox::RoutingJob] [f482dd5f-615f-47ab-9dd5-1916373251fa]   [1m[36mActiveStorage::Blob Load (0.4ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
[ActiveJob] [ActionMailbox::RoutingJob] [f482dd5f-615f-47ab-9dd5-1916373251fa] [36m  Disk Storage (0.7ms) [0m[34mDownloaded file from key: mk6otccxu9e6ymeto116remqy4zw[0m
[ActiveJob] [ActionMailbox::RoutingJob] [f482dd5f-615f-47ab-9dd5-1916373251fa]   [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
Started GET "/rails/conductor/action_mailbox/inbound_emails/2" for ::1 at 2020-07-17 15:16:05 +0700
[ActiveJob] [ActionMailbox::RoutingJob] [f482dd5f-615f-47ab-9dd5-1916373251fa]   [1m[36mActionMailbox::InboundEmail Update (0.6ms)[0m  [1m[33mUPDATE "action_mailbox_inbound_emails" SET "status" = ?, "updated_at" = ? WHERE "action_mailbox_inbound_emails"."id" = ?[0m  [["status", 4], ["updated_at", "2020-07-17 08:16:05.023047"], ["id", 2]]
[ActiveJob] [ActionMailbox::RoutingJob] [f482dd5f-615f-47ab-9dd5-1916373251fa]   [1m[35m (107.7ms)[0m  [1m[36mcommit transaction[0m
Started POST "/rails/conductor/action_mailbox/2/reroute" for ::1 at 2020-07-17 15:16:05 +0700
[ActiveJob] [ActionMailbox::RoutingJob] [f482dd5f-615f-47ab-9dd5-1916373251fa] Enqueued ActionMailbox::IncinerationJob (Job ID: b1525d31-4bd7-42f6-975d-635d16b374c5) to Async(action_mailbox_incineration) at 2020-08-16 08:16:05 UTC with arguments: #<GlobalID:0x00007f86a03ff808 @uri=#<URI::GID gid://depot/ActionMailbox::InboundEmail/2>>
[ActiveJob] [ActionMailbox::RoutingJob] [f482dd5f-615f-47ab-9dd5-1916373251fa] Error performing ActionMailbox::RoutingJob (Job ID: f482dd5f-615f-47ab-9dd5-1916373251fa) from Async(action_mailbox_routing) in 147.24ms: ActionMailbox::Router::RoutingError (ActionMailbox::Router::RoutingError):
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/actionmailbox-6.0.3.2/lib/action_mailbox/router.rb:29:in `route'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/actionmailbox-6.0.3.2/lib/action_mailbox/routing.rb:18:in `route'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/actionmailbox-6.0.3.2/app/models/action_mailbox/inbound_email/routable.rb:22:in `route'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/actionmailbox-6.0.3.2/app/jobs/action_mailbox/routing_job.rb:10:in `perform'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/execution.rb:40:in `block in perform_now'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:112:in `block in run_callbacks'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/i18n-1.8.3/lib/i18n.rb:313:in `with_locale'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/translation.rb:9:in `block (2 levels) in <module:Translation>'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `instance_exec'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/core_ext/time/zones.rb:66:in `use_zone'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/timezones.rb:9:in `block (2 levels) in <module:Timezones>'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `instance_exec'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/logging.rb:25:in `block (4 levels) in <module:Logging>'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/notifications.rb:180:in `block in instrument'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/notifications.rb:180:in `instrument'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/logging.rb:24:in `block (3 levels) in <module:Logging>'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/logging.rb:45:in `block in tag_logger'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/tagged_logging.rb:28:in `tagged'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/tagged_logging.rb:80:in `tagged'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/logging.rb:45:in `tag_logger'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/logging.rb:21:in `block (2 levels) in <module:Logging>'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `instance_exec'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:139:in `run_callbacks'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/execution.rb:39:in `perform_now'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/execution.rb:25:in `block in execute'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:112:in `block in run_callbacks'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/railtie.rb:43:in `block (4 levels) in <class:Railtie>'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/execution_wrapper.rb:88:in `wrap'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/reloader.rb:72:in `block in wrap'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/execution_wrapper.rb:88:in `wrap'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/reloader.rb:71:in `wrap'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/railtie.rb:42:in `block (3 levels) in <class:Railtie>'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `instance_exec'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:139:in `run_callbacks'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/execution.rb:23:in `execute'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/queue_adapters/async_adapter.rb:70:in `perform'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/concurrent-ruby-1.1.6/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:353:in `run_task'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/concurrent-ruby-1.1.6/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:342:in `block (3 levels) in create_worker'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/concurrent-ruby-1.1.6/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:325:in `loop'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/concurrent-ruby-1.1.6/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:325:in `block (2 levels) in create_worker'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/concurrent-ruby-1.1.6/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:324:in `catch'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/concurrent-ruby-1.1.6/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:324:in `block in create_worker'
  [1m[35m (0.5ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by Rails::Conductor::ActionMailbox::InboundEmailsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mActionMailbox::InboundEmail Load (0.6ms)[0m  [1m[34mSELECT "action_mailbox_inbound_emails".* FROM "action_mailbox_inbound_emails" WHERE "action_mailbox_inbound_emails"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering /home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/actionmailbox-6.0.3.2/app/views/rails/conductor/action_mailbox/inbound_emails/show.html.erb within layouts/rails/conductor
  [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 2], ["record_type", "ActionMailbox::InboundEmail"], ["name", "raw_email"], ["LIMIT", 1]]
Processing by Rails::Conductor::ActionMailbox::ReroutesController#create as HTML
  Parameters: {"authenticity_token"=>"oV73gJflCWjsGtUJtC+l2/gD+1UH2y43fj9LIUL8Dlh0uzNFXKMvuTG0vP0jRq3V4w5sYipgu5PqDQVld0pgvA==", "inbound_email_id"=>"2"}
  [1m[36mActiveStorage::Blob Load (0.4ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[36mActionMailbox::InboundEmail Load (0.5ms)[0m  [1m[34mSELECT "action_mailbox_inbound_emails".* FROM "action_mailbox_inbound_emails" WHERE "action_mailbox_inbound_emails"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
[36m  Disk Storage (6.9ms) [0m[34mDownloaded file from key: mk6otccxu9e6ymeto116remqy4zw[0m
  [1m[36mActionMailbox::InboundEmail Update (0.8ms)[0m  [1m[33mUPDATE "action_mailbox_inbound_emails" SET "status" = ?, "updated_at" = ? WHERE "action_mailbox_inbound_emails"."id" = ?[0m  [["status", 0], ["updated_at", "2020-07-17 08:16:05.215509"], ["id", 2]]
  Rendered /home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/actionmailbox-6.0.3.2/app/views/rails/conductor/action_mailbox/inbound_emails/show.html.erb within layouts/rails/conductor (Duration: 42.6ms | Allocations: 7454)
  [1m[35m (118.5ms)[0m  [1m[36mcommit transaction[0m
[ActiveJob] Enqueued ActionMailbox::RoutingJob (Job ID: 11e0d698-b5b8-4efc-9f24-6e59d760fb2f) to Async(action_mailbox_routing) with arguments: #<GlobalID:0x00007f86a0070688 @uri=#<URI::GID gid://depot/ActionMailbox::InboundEmail/2>>
Completed 200 OK in 182ms (Views: 170.0ms | ActiveRecord: 1.5ms | Allocations: 10480)


Redirected to http://localhost:3000/rails/conductor/action_mailbox/inbound_emails/2
Started POST "/rails/conductor/action_mailbox/2/reroute" for ::1 at 2020-07-17 15:16:05 +0700
  [1m[36mActionMailbox::InboundEmail Load (0.9ms)[0m  [1m[34mSELECT "action_mailbox_inbound_emails".* FROM "action_mailbox_inbound_emails" WHERE "action_mailbox_inbound_emails"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Completed 302 Found in 168ms (ActiveRecord: 120.0ms | Allocations: 9436)


[ActiveJob] [ActionMailbox::RoutingJob] [11e0d698-b5b8-4efc-9f24-6e59d760fb2f] Performing ActionMailbox::RoutingJob (Job ID: 11e0d698-b5b8-4efc-9f24-6e59d760fb2f) from Async(action_mailbox_routing) enqueued at 2020-07-17T08:16:05Z with arguments: #<GlobalID:0x00007f86cc8eff08 @uri=#<URI::GID gid://depot/ActionMailbox::InboundEmail/2>>
Started POST "/rails/conductor/action_mailbox/2/reroute" for ::1 at 2020-07-17 15:16:05 +0700
[ActiveJob] [ActionMailbox::RoutingJob] [11e0d698-b5b8-4efc-9f24-6e59d760fb2f]   [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 2], ["record_type", "ActionMailbox::InboundEmail"], ["name", "raw_email"], ["LIMIT", 1]]
[ActiveJob] [ActionMailbox::RoutingJob] [11e0d698-b5b8-4efc-9f24-6e59d760fb2f]   [1m[36mActiveStorage::Blob Load (0.8ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Processing by Rails::Conductor::ActionMailbox::ReroutesController#create as HTML
  Parameters: {"authenticity_token"=>"oV73gJflCWjsGtUJtC+l2/gD+1UH2y43fj9LIUL8Dlh0uzNFXKMvuTG0vP0jRq3V4w5sYipgu5PqDQVld0pgvA==", "inbound_email_id"=>"2"}
  [1m[36mActionMailbox::InboundEmail Load (0.5ms)[0m  [1m[34mSELECT "action_mailbox_inbound_emails".* FROM "action_mailbox_inbound_emails" WHERE "action_mailbox_inbound_emails"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Processing by Rails::Conductor::ActionMailbox::ReroutesController#create as HTML
[ActiveJob] Enqueued ActionMailbox::RoutingJob (Job ID: eacd398a-2a7d-4643-86cb-e7176a6394e6) to Async(action_mailbox_routing) with arguments: #<GlobalID:0x00007f86cc7ea8b0 @uri=#<URI::GID gid://depot/ActionMailbox::InboundEmail/2>>
[ActiveJob] [ActionMailbox::RoutingJob] [11e0d698-b5b8-4efc-9f24-6e59d760fb2f] [36m  Disk Storage (5.0ms) [0m[34mDownloaded file from key: mk6otccxu9e6ymeto116remqy4zw[0m
  Parameters: {"authenticity_token"=>"oV73gJflCWjsGtUJtC+l2/gD+1UH2y43fj9LIUL8Dlh0uzNFXKMvuTG0vP0jRq3V4w5sYipgu5PqDQVld0pgvA==", "inbound_email_id"=>"2"}
[ActiveJob] [ActionMailbox::RoutingJob] [11e0d698-b5b8-4efc-9f24-6e59d760fb2f]   [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActionMailbox::InboundEmail Load (0.3ms)[0m  [1m[34mSELECT "action_mailbox_inbound_emails".* FROM "action_mailbox_inbound_emails" WHERE "action_mailbox_inbound_emails"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Redirected to http://localhost:3000/rails/conductor/action_mailbox/inbound_emails/2
[ActiveJob] Enqueued ActionMailbox::RoutingJob (Job ID: d04e06e4-6fa8-4bb0-9f37-c668a2925d3a) to Async(action_mailbox_routing) with arguments: #<GlobalID:0x00007f86cc74b378 @uri=#<URI::GID gid://depot/ActionMailbox::InboundEmail/2>>
[ActiveJob] [ActionMailbox::RoutingJob] [11e0d698-b5b8-4efc-9f24-6e59d760fb2f]   [1m[36mActionMailbox::InboundEmail Update (0.8ms)[0m  [1m[33mUPDATE "action_mailbox_inbound_emails" SET "status" = ?, "updated_at" = ? WHERE "action_mailbox_inbound_emails"."id" = ?[0m  [["status", 4], ["updated_at", "2020-07-17 08:16:05.443497"], ["id", 2]]
Completed 302 Found in 56ms (ActiveRecord: 0.5ms | Allocations: 7853)


[ActiveJob] [ActionMailbox::RoutingJob] [11e0d698-b5b8-4efc-9f24-6e59d760fb2f]   [1m[35m (66.5ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActionMailbox::InboundEmail Load (0.6ms)[0m  [1m[34mSELECT "action_mailbox_inbound_emails".* FROM "action_mailbox_inbound_emails" WHERE "action_mailbox_inbound_emails"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
[ActiveJob] [ActionMailbox::RoutingJob] [eacd398a-2a7d-4643-86cb-e7176a6394e6] Performing ActionMailbox::RoutingJob (Job ID: eacd398a-2a7d-4643-86cb-e7176a6394e6) from Async(action_mailbox_routing) enqueued at 2020-07-17T08:16:05Z with arguments: #<GlobalID:0x000055e1abf4e330 @uri=#<URI::GID gid://depot/ActionMailbox::InboundEmail/2>>
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
[ActiveJob] [ActionMailbox::RoutingJob] [11e0d698-b5b8-4efc-9f24-6e59d760fb2f] Enqueued ActionMailbox::IncinerationJob (Job ID: 99161e6b-07ab-41c4-8e6f-2bab962e438d) to Async(action_mailbox_incineration) at 2020-08-16 08:16:05 UTC with arguments: #<GlobalID:0x000055e1abf44b50 @uri=#<URI::GID gid://depot/ActionMailbox::InboundEmail/2>>
[ActiveJob] [ActionMailbox::RoutingJob] [11e0d698-b5b8-4efc-9f24-6e59d760fb2f] Error performing ActionMailbox::RoutingJob (Job ID: 11e0d698-b5b8-4efc-9f24-6e59d760fb2f) from Async(action_mailbox_routing) in 187.52ms: ActionMailbox::Router::RoutingError (ActionMailbox::Router::RoutingError):
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/actionmailbox-6.0.3.2/lib/action_mailbox/router.rb:29:in `route'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/actionmailbox-6.0.3.2/lib/action_mailbox/routing.rb:18:in `route'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/actionmailbox-6.0.3.2/app/models/action_mailbox/inbound_email/routable.rb:22:in `route'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/actionmailbox-6.0.3.2/app/jobs/action_mailbox/routing_job.rb:10:in `perform'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/execution.rb:40:in `block in perform_now'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:112:in `block in run_callbacks'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/i18n-1.8.3/lib/i18n.rb:313:in `with_locale'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/translation.rb:9:in `block (2 levels) in <module:Translation>'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `instance_exec'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/core_ext/time/zones.rb:66:in `use_zone'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/timezones.rb:9:in `block (2 levels) in <module:Timezones>'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `instance_exec'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/logging.rb:25:in `block (4 levels) in <module:Logging>'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/notifications.rb:180:in `block in instrument'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/notifications.rb:180:in `instrument'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/logging.rb:24:in `block (3 levels) in <module:Logging>'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/logging.rb:45:in `block in tag_logger'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/tagged_logging.rb:28:in `tagged'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/tagged_logging.rb:80:in `tagged'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/logging.rb:45:in `tag_logger'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/logging.rb:21:in `block (2 levels) in <module:Logging>'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `instance_exec'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:139:in `run_callbacks'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/execution.rb:39:in `perform_now'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/execution.rb:25:in `block in execute'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:112:in `block in run_callbacks'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/railtie.rb:43:in `block (4 levels) in <class:Railtie>'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/execution_wrapper.rb:88:in `wrap'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/reloader.rb:72:in `block in wrap'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/execution_wrapper.rb:88:in `wrap'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/reloader.rb:71:in `wrap'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/railtie.rb:42:in `block (3 levels) in <class:Railtie>'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `instance_exec'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:139:in `run_callbacks'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/execution.rb:23:in `execute'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/queue_adapters/async_adapter.rb:70:in `perform'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/concurrent-ruby-1.1.6/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:353:in `run_task'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/concurrent-ruby-1.1.6/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:342:in `block (3 levels) in create_worker'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/concurrent-ruby-1.1.6/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:325:in `loop'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/concurrent-ruby-1.1.6/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:325:in `block (2 levels) in create_worker'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/concurrent-ruby-1.1.6/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:324:in `catch'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/concurrent-ruby-1.1.6/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:324:in `block in create_worker'
[ActiveJob] [ActionMailbox::RoutingJob] [eacd398a-2a7d-4643-86cb-e7176a6394e6]   [1m[36mActiveStorage::Attachment Load (0.6ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 2], ["record_type", "ActionMailbox::InboundEmail"], ["name", "raw_email"], ["LIMIT", 1]]
  [1m[36mActionMailbox::InboundEmail Load (0.7ms)[0m  [1m[34mSELECT "action_mailbox_inbound_emails".* FROM "action_mailbox_inbound_emails" WHERE "action_mailbox_inbound_emails"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Redirected to http://localhost:3000/rails/conductor/action_mailbox/inbound_emails/2
Started POST "/rails/conductor/action_mailbox/2/reroute" for ::1 at 2020-07-17 15:16:05 +0700
Completed 302 Found in 157ms (ActiveRecord: 0.3ms | Allocations: 13997)


[ActiveJob] [ActionMailbox::RoutingJob] [eacd398a-2a7d-4643-86cb-e7176a6394e6]   [1m[36mActiveStorage::Blob Load (0.6ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
[ActiveJob] [ActionMailbox::RoutingJob] [d04e06e4-6fa8-4bb0-9f37-c668a2925d3a] Performing ActionMailbox::RoutingJob (Job ID: d04e06e4-6fa8-4bb0-9f37-c668a2925d3a) from Async(action_mailbox_routing) enqueued at 2020-07-17T08:16:05Z with arguments: #<GlobalID:0x000055e1abbb9508 @uri=#<URI::GID gid://depot/ActionMailbox::InboundEmail/2>>
[ActiveJob] [ActionMailbox::RoutingJob] [d04e06e4-6fa8-4bb0-9f37-c668a2925d3a]   [1m[36mActiveStorage::Attachment Load (0.9ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 2], ["record_type", "ActionMailbox::InboundEmail"], ["name", "raw_email"], ["LIMIT", 1]]
[ActiveJob] [ActionMailbox::RoutingJob] [eacd398a-2a7d-4643-86cb-e7176a6394e6] [36m  Disk Storage (5.9ms) [0m[34mDownloaded file from key: mk6otccxu9e6ymeto116remqy4zw[0m
Processing by Rails::Conductor::ActionMailbox::ReroutesController#create as HTML
  Parameters: {"authenticity_token"=>"oV73gJflCWjsGtUJtC+l2/gD+1UH2y43fj9LIUL8Dlh0uzNFXKMvuTG0vP0jRq3V4w5sYipgu5PqDQVld0pgvA==", "inbound_email_id"=>"2"}
  [1m[36mActionMailbox::InboundEmail Load (0.3ms)[0m  [1m[34mSELECT "action_mailbox_inbound_emails".* FROM "action_mailbox_inbound_emails" WHERE "action_mailbox_inbound_emails"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
[ActiveJob] [ActionMailbox::RoutingJob] [eacd398a-2a7d-4643-86cb-e7176a6394e6]   [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
[ActiveJob] [ActionMailbox::RoutingJob] [d04e06e4-6fa8-4bb0-9f37-c668a2925d3a]   [1m[36mActiveStorage::Blob Load (0.6ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
[ActiveJob] [ActionMailbox::RoutingJob] [eacd398a-2a7d-4643-86cb-e7176a6394e6]   [1m[36mActionMailbox::InboundEmail Update (1.5ms)[0m  [1m[33mUPDATE "action_mailbox_inbound_emails" SET "status" = ?, "updated_at" = ? WHERE "action_mailbox_inbound_emails"."id" = ?[0m  [["status", 4], ["updated_at", "2020-07-17 08:16:05.628037"], ["id", 2]]
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
[ActiveJob] [ActionMailbox::RoutingJob] [eacd398a-2a7d-4643-86cb-e7176a6394e6]   [1m[35m (78.1ms)[0m  [1m[36mcommit transaction[0m
  [1m[36mActionMailbox::InboundEmail Update (1.1ms)[0m  [1m[33mUPDATE "action_mailbox_inbound_emails" SET "status" = ?, "updated_at" = ? WHERE "action_mailbox_inbound_emails"."id" = ?[0m  [["status", 0], ["updated_at", "2020-07-17 08:16:05.638600"], ["id", 2]]
[ActiveJob] [ActionMailbox::RoutingJob] [eacd398a-2a7d-4643-86cb-e7176a6394e6] Enqueued ActionMailbox::IncinerationJob (Job ID: 4950e46e-86e8-4119-9c9b-9e2e49362c1b) to Async(action_mailbox_incineration) at 2020-08-16 08:16:05 UTC with arguments: #<GlobalID:0x00007f86ccdbd1e8 @uri=#<URI::GID gid://depot/ActionMailbox::InboundEmail/2>>
  [1m[35m (73.4ms)[0m  [1m[36mcommit transaction[0m
[ActiveJob] [ActionMailbox::RoutingJob] [eacd398a-2a7d-4643-86cb-e7176a6394e6] Error performing ActionMailbox::RoutingJob (Job ID: eacd398a-2a7d-4643-86cb-e7176a6394e6) from Async(action_mailbox_routing) in 267.84ms: ActionMailbox::Router::RoutingError (ActionMailbox::Router::RoutingError):
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/actionmailbox-6.0.3.2/lib/action_mailbox/router.rb:29:in `route'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/actionmailbox-6.0.3.2/lib/action_mailbox/routing.rb:18:in `route'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/actionmailbox-6.0.3.2/app/models/action_mailbox/inbound_email/routable.rb:22:in `route'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/actionmailbox-6.0.3.2/app/jobs/action_mailbox/routing_job.rb:10:in `perform'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/execution.rb:40:in `block in perform_now'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:112:in `block in run_callbacks'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/i18n-1.8.3/lib/i18n.rb:313:in `with_locale'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/translation.rb:9:in `block (2 levels) in <module:Translation>'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `instance_exec'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/core_ext/time/zones.rb:66:in `use_zone'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/timezones.rb:9:in `block (2 levels) in <module:Timezones>'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `instance_exec'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/logging.rb:25:in `block (4 levels) in <module:Logging>'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/notifications.rb:180:in `block in instrument'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/notifications.rb:180:in `instrument'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/logging.rb:24:in `block (3 levels) in <module:Logging>'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/logging.rb:45:in `block in tag_logger'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/tagged_logging.rb:28:in `tagged'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/tagged_logging.rb:80:in `tagged'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/logging.rb:45:in `tag_logger'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/logging.rb:21:in `block (2 levels) in <module:Logging>'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `instance_exec'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:139:in `run_callbacks'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/execution.rb:39:in `perform_now'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/execution.rb:25:in `block in execute'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:112:in `block in run_callbacks'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/railtie.rb:43:in `block (4 levels) in <class:Railtie>'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/execution_wrapper.rb:88:in `wrap'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/reloader.rb:72:in `block in wrap'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/execution_wrapper.rb:88:in `wrap'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/reloader.rb:71:in `wrap'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/railtie.rb:42:in `block (3 levels) in <class:Railtie>'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `instance_exec'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:139:in `run_callbacks'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/execution.rb:23:in `execute'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/queue_adapters/async_adapter.rb:70:in `perform'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/concurrent-ruby-1.1.6/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:353:in `run_task'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/concurrent-ruby-1.1.6/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:342:in `block (3 levels) in create_worker'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/concurrent-ruby-1.1.6/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:325:in `loop'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/concurrent-ruby-1.1.6/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:325:in `block (2 levels) in create_worker'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/concurrent-ruby-1.1.6/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:324:in `catch'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/concurrent-ruby-1.1.6/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:324:in `block in create_worker'
[ActiveJob] [ActionMailbox::RoutingJob] [d04e06e4-6fa8-4bb0-9f37-c668a2925d3a] [36m  Disk Storage (91.1ms) [0m[34mDownloaded file from key: mk6otccxu9e6ymeto116remqy4zw[0m
[ActiveJob] Enqueued ActionMailbox::RoutingJob (Job ID: 73f177c4-e7e5-444d-ac27-a58d4e278c9a) to Async(action_mailbox_routing) with arguments: #<GlobalID:0x00007f86ccd80860 @uri=#<URI::GID gid://depot/ActionMailbox::InboundEmail/2>>
[ActiveJob] [ActionMailbox::RoutingJob] [d04e06e4-6fa8-4bb0-9f37-c668a2925d3a] Error performing ActionMailbox::RoutingJob (Job ID: d04e06e4-6fa8-4bb0-9f37-c668a2925d3a) from Async(action_mailbox_routing) in 249.96ms: ActionMailbox::Router::RoutingError (ActionMailbox::Router::RoutingError):
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/actionmailbox-6.0.3.2/lib/action_mailbox/router.rb:29:in `route'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/actionmailbox-6.0.3.2/lib/action_mailbox/routing.rb:18:in `route'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/actionmailbox-6.0.3.2/app/models/action_mailbox/inbound_email/routable.rb:22:in `route'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/actionmailbox-6.0.3.2/app/jobs/action_mailbox/routing_job.rb:10:in `perform'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/execution.rb:40:in `block in perform_now'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:112:in `block in run_callbacks'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/i18n-1.8.3/lib/i18n.rb:313:in `with_locale'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/translation.rb:9:in `block (2 levels) in <module:Translation>'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `instance_exec'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/core_ext/time/zones.rb:66:in `use_zone'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/timezones.rb:9:in `block (2 levels) in <module:Timezones>'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `instance_exec'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/logging.rb:25:in `block (4 levels) in <module:Logging>'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/notifications.rb:180:in `block in instrument'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/notifications.rb:180:in `instrument'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/logging.rb:24:in `block (3 levels) in <module:Logging>'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/logging.rb:45:in `block in tag_logger'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/tagged_logging.rb:28:in `tagged'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/tagged_logging.rb:80:in `tagged'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/logging.rb:45:in `tag_logger'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/logging.rb:21:in `block (2 levels) in <module:Logging>'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `instance_exec'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:139:in `run_callbacks'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/execution.rb:39:in `perform_now'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/execution.rb:25:in `block in execute'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:112:in `block in run_callbacks'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/railtie.rb:43:in `block (4 levels) in <class:Railtie>'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/execution_wrapper.rb:88:in `wrap'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/reloader.rb:72:in `block in wrap'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/execution_wrapper.rb:88:in `wrap'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/reloader.rb:71:in `wrap'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/railtie.rb:42:in `block (3 levels) in <class:Railtie>'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `instance_exec'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:139:in `run_callbacks'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/execution.rb:23:in `execute'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/queue_adapters/async_adapter.rb:70:in `perform'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/concurrent-ruby-1.1.6/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:353:in `run_task'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/concurrent-ruby-1.1.6/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:342:in `block (3 levels) in create_worker'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/concurrent-ruby-1.1.6/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:325:in `loop'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/concurrent-ruby-1.1.6/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:325:in `block (2 levels) in create_worker'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/concurrent-ruby-1.1.6/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:324:in `catch'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/concurrent-ruby-1.1.6/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:324:in `block in create_worker'
Redirected to http://localhost:3000/rails/conductor/action_mailbox/inbound_emails/2
  [1m[36mActionMailbox::InboundEmail Load (0.4ms)[0m  [1m[34mSELECT "action_mailbox_inbound_emails".* FROM "action_mailbox_inbound_emails" WHERE "action_mailbox_inbound_emails"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Completed 302 Found in 238ms (ActiveRecord: 75.0ms | Allocations: 14728)


[ActiveJob] [ActionMailbox::RoutingJob] [73f177c4-e7e5-444d-ac27-a58d4e278c9a] Performing ActionMailbox::RoutingJob (Job ID: 73f177c4-e7e5-444d-ac27-a58d4e278c9a) from Async(action_mailbox_routing) enqueued at 2020-07-17T08:16:05Z with arguments: #<GlobalID:0x00007f86ccd0f160 @uri=#<URI::GID gid://depot/ActionMailbox::InboundEmail/2>>
[ActiveJob] [ActionMailbox::RoutingJob] [73f177c4-e7e5-444d-ac27-a58d4e278c9a]   [1m[36mActiveStorage::Attachment Load (0.5ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 2], ["record_type", "ActionMailbox::InboundEmail"], ["name", "raw_email"], ["LIMIT", 1]]
[ActiveJob] [ActionMailbox::RoutingJob] [73f177c4-e7e5-444d-ac27-a58d4e278c9a]   [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
[ActiveJob] [ActionMailbox::RoutingJob] [73f177c4-e7e5-444d-ac27-a58d4e278c9a] [36m  Disk Storage (0.2ms) [0m[34mDownloaded file from key: mk6otccxu9e6ymeto116remqy4zw[0m
[ActiveJob] [ActionMailbox::RoutingJob] [73f177c4-e7e5-444d-ac27-a58d4e278c9a]   [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
[ActiveJob] [ActionMailbox::RoutingJob] [73f177c4-e7e5-444d-ac27-a58d4e278c9a]   [1m[36mActionMailbox::InboundEmail Update (1.3ms)[0m  [1m[33mUPDATE "action_mailbox_inbound_emails" SET "status" = ?, "updated_at" = ? WHERE "action_mailbox_inbound_emails"."id" = ?[0m  [["status", 4], ["updated_at", "2020-07-17 08:16:05.894425"], ["id", 2]]
[ActiveJob] [ActionMailbox::RoutingJob] [73f177c4-e7e5-444d-ac27-a58d4e278c9a]   [1m[35m (72.1ms)[0m  [1m[36mcommit transaction[0m
Started GET "/rails/conductor/action_mailbox/inbound_emails/2" for ::1 at 2020-07-17 15:16:05 +0700
[ActiveJob] [ActionMailbox::RoutingJob] [73f177c4-e7e5-444d-ac27-a58d4e278c9a] Enqueued ActionMailbox::IncinerationJob (Job ID: 3b8445a7-2ae9-4000-b325-ac018ef04076) to Async(action_mailbox_incineration) at 2020-08-16 08:16:05 UTC with arguments: #<GlobalID:0x00007f86cca6ea78 @uri=#<URI::GID gid://depot/ActionMailbox::InboundEmail/2>>
[ActiveJob] [ActionMailbox::RoutingJob] [73f177c4-e7e5-444d-ac27-a58d4e278c9a] Error performing ActionMailbox::RoutingJob (Job ID: 73f177c4-e7e5-444d-ac27-a58d4e278c9a) from Async(action_mailbox_routing) in 123.05ms: ActionMailbox::Router::RoutingError (ActionMailbox::Router::RoutingError):
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/actionmailbox-6.0.3.2/lib/action_mailbox/router.rb:29:in `route'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/actionmailbox-6.0.3.2/lib/action_mailbox/routing.rb:18:in `route'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/actionmailbox-6.0.3.2/app/models/action_mailbox/inbound_email/routable.rb:22:in `route'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/actionmailbox-6.0.3.2/app/jobs/action_mailbox/routing_job.rb:10:in `perform'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/execution.rb:40:in `block in perform_now'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:112:in `block in run_callbacks'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/i18n-1.8.3/lib/i18n.rb:313:in `with_locale'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/translation.rb:9:in `block (2 levels) in <module:Translation>'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `instance_exec'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/core_ext/time/zones.rb:66:in `use_zone'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/timezones.rb:9:in `block (2 levels) in <module:Timezones>'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `instance_exec'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/logging.rb:25:in `block (4 levels) in <module:Logging>'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/notifications.rb:180:in `block in instrument'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/notifications.rb:180:in `instrument'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/logging.rb:24:in `block (3 levels) in <module:Logging>'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/logging.rb:45:in `block in tag_logger'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/tagged_logging.rb:28:in `tagged'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/tagged_logging.rb:80:in `tagged'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/logging.rb:45:in `tag_logger'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/logging.rb:21:in `block (2 levels) in <module:Logging>'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `instance_exec'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:139:in `run_callbacks'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/execution.rb:39:in `perform_now'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/execution.rb:25:in `block in execute'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:112:in `block in run_callbacks'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/railtie.rb:43:in `block (4 levels) in <class:Railtie>'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/execution_wrapper.rb:88:in `wrap'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/reloader.rb:72:in `block in wrap'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/execution_wrapper.rb:88:in `wrap'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/reloader.rb:71:in `wrap'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/railtie.rb:42:in `block (3 levels) in <class:Railtie>'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `instance_exec'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:139:in `run_callbacks'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/execution.rb:23:in `execute'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/queue_adapters/async_adapter.rb:70:in `perform'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/concurrent-ruby-1.1.6/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:353:in `run_task'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/concurrent-ruby-1.1.6/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:342:in `block (3 levels) in create_worker'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/concurrent-ruby-1.1.6/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:325:in `loop'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/concurrent-ruby-1.1.6/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:325:in `block (2 levels) in create_worker'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/concurrent-ruby-1.1.6/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:324:in `catch'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/concurrent-ruby-1.1.6/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:324:in `block in create_worker'
Processing by Rails::Conductor::ActionMailbox::InboundEmailsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mActionMailbox::InboundEmail Load (0.8ms)[0m  [1m[34mSELECT "action_mailbox_inbound_emails".* FROM "action_mailbox_inbound_emails" WHERE "action_mailbox_inbound_emails"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering /home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/actionmailbox-6.0.3.2/app/views/rails/conductor/action_mailbox/inbound_emails/show.html.erb within layouts/rails/conductor
  [1m[36mActiveStorage::Attachment Load (0.7ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 2], ["record_type", "ActionMailbox::InboundEmail"], ["name", "raw_email"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.8ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
[36m  Disk Storage (0.2ms) [0m[34mDownloaded file from key: mk6otccxu9e6ymeto116remqy4zw[0m
  Rendered /home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/actionmailbox-6.0.3.2/app/views/rails/conductor/action_mailbox/inbound_emails/show.html.erb within layouts/rails/conductor (Duration: 19.6ms | Allocations: 3761)
Completed 200 OK in 32ms (Views: 20.5ms | ActiveRecord: 2.3ms | Allocations: 5284)


Started GET "/rails/conductor/action_mailbox/inbound_emails" for ::1 at 2020-07-17 15:16:07 +0700
Processing by Rails::Conductor::ActionMailbox::InboundEmailsController#index as HTML
  Rendering /home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/actionmailbox-6.0.3.2/app/views/rails/conductor/action_mailbox/inbound_emails/index.html.erb within layouts/rails/conductor
  [1m[36mActionMailbox::InboundEmail Load (1.0ms)[0m  [1m[34mSELECT "action_mailbox_inbound_emails".* FROM "action_mailbox_inbound_emails" ORDER BY "action_mailbox_inbound_emails"."created_at" DESC[0m
  Rendered /home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/actionmailbox-6.0.3.2/app/views/rails/conductor/action_mailbox/inbound_emails/index.html.erb within layouts/rails/conductor (Duration: 8.8ms | Allocations: 1816)
Completed 200 OK in 14ms (Views: 9.4ms | ActiveRecord: 1.0ms | Allocations: 2629)


Started GET "/rails/conductor/action_mailbox/inbound_emails/1" for ::1 at 2020-07-17 15:16:08 +0700
Processing by Rails::Conductor::ActionMailbox::InboundEmailsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mActionMailbox::InboundEmail Load (0.6ms)[0m  [1m[34mSELECT "action_mailbox_inbound_emails".* FROM "action_mailbox_inbound_emails" WHERE "action_mailbox_inbound_emails"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering /home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/actionmailbox-6.0.3.2/app/views/rails/conductor/action_mailbox/inbound_emails/show.html.erb within layouts/rails/conductor
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "ActionMailbox::InboundEmail"], ["name", "raw_email"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.5ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[36m  Disk Storage (0.1ms) [0m[34mDownloaded file from key: uqu8863ommd636qim9jtdugynxc2[0m
  Rendered /home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/actionmailbox-6.0.3.2/app/views/rails/conductor/action_mailbox/inbound_emails/show.html.erb within layouts/rails/conductor (Duration: 15.4ms | Allocations: 3724)
Completed 200 OK in 26ms (Views: 16.1ms | ActiveRecord: 1.4ms | Allocations: 5246)


Started GET "/support_request" for ::1 at 2020-07-17 15:16:57 +0700
  [1m[35m (0.6ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by StoreController#index as HTML
  Parameters: {"locale"=>"support_request"}
support_request translation not available
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 81], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 177.4ms | Allocations: 14208)
[Webpacker] Everything's up-to-date. Nothing to do
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 81], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:35
Completed 200 OK in 328ms (Views: 205.9ms | ActiveRecord: 2.3ms | Allocations: 33341)


Started GET "/support_requests" for ::1 at 2020-07-17 15:16:58 +0700
Processing by SupportRequestsController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:20:in `authorize'
Redirected to http://localhost:3000/login
Filter chain halted as :authorize rendered or redirected
Completed 302 Found in 10ms (ActiveRecord: 0.7ms | Allocations: 1856)


Started GET "/login" for ::1 at 2020-07-17 15:16:58 +0700
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 293.3ms | Allocations: 1218)
[Webpacker] Everything's up-to-date. Nothing to do
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 323ms (Views: 322.3ms | ActiveRecord: 0.0ms | Allocations: 8655)


Started GET "/cable" for ::1 at 2020-07-17 15:16:59 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-17 15:16:59 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started POST "/login" for ::1 at 2020-07-17 15:17:07 +0700
Processing by SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"aUSLfbNXdnXg3ZeJnhzGmtNk5XtUk5no+EMtW6Uq0tDyvJNZzj4u8ykXG8bKknCsMyizmRkoT0uEIZrnZJG2SQ==", "name"=>"dave", "password"=>"[FILTERED]", "commit"=>"Login"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "dave"], ["LIMIT", 1]]
  ↳ app/controllers/sessions_controller.rb:7:in `create'
Redirected to http://localhost:3000/login
Completed 302 Found in 285ms (ActiveRecord: 1.5ms | Allocations: 3507)


Started GET "/login" for ::1 at 2020-07-17 15:17:07 +0700
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.5ms | Allocations: 307)
[Webpacker] Everything's up-to-date. Nothing to do
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 11ms (Views: 9.7ms | ActiveRecord: 0.0ms | Allocations: 7112)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-17 15:17:07 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-17 15:17:07 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-17 15:17:07 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started POST "/login" for ::1 at 2020-07-17 15:17:14 +0700
Processing by SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"fgDCD2K1Zg1y3oi3kHRB600chSMdK1RWU+FkZePBsCHl+NorH9w+i7sUBPjE+vfdrVDTwVCQgvUvg9PZInrUuA==", "name"=>"dave", "password"=>"[FILTERED]", "commit"=>"Login"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "dave"], ["LIMIT", 1]]
  ↳ app/controllers/sessions_controller.rb:7:in `create'
Redirected to http://localhost:3000/login
Completed 302 Found in 290ms (ActiveRecord: 0.3ms | Allocations: 912)


Started GET "/login" for ::1 at 2020-07-17 15:17:15 +0700
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.5ms | Allocations: 308)
[Webpacker] Everything's up-to-date. Nothing to do
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 10ms (Views: 9.4ms | ActiveRecord: 0.0ms | Allocations: 7113)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-17 15:17:15 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-17 15:17:15 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-17 15:17:15 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started POST "/login" for ::1 at 2020-07-17 15:17:26 +0700
Processing by SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"ocdzAsnuvBpFxKfxIISWXnS1F+yNOmKCYr+uWj9+EoU6P2smtIfknIwOK750CiBolPlBDsCBtCEe3Rnm/sV2HA==", "name"=>"dave", "password"=>"[FILTERED]", "commit"=>"Login"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "dave"], ["LIMIT", 1]]
  ↳ app/controllers/sessions_controller.rb:7:in `create'
Redirected to http://localhost:3000/login
Completed 302 Found in 272ms (ActiveRecord: 0.1ms | Allocations: 910)


Started GET "/login" for ::1 at 2020-07-17 15:17:26 +0700
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.6ms | Allocations: 306)
[Webpacker] Everything's up-to-date. Nothing to do
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 21ms (Views: 20.5ms | ActiveRecord: 0.0ms | Allocations: 7115)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-17 15:17:26 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-17 15:17:26 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-17 15:17:26 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started POST "/login" for ::1 at 2020-07-17 15:17:57 +0700
Processing by SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"hLHeF4sqT/H7B5vNKiP55j7JHHDT9f/FpX8jNFTV2RkfScYz9kMXdzLNF4J+rU/Q3oVKkp5OKWbZHZSIlW69gA==", "name"=>"dave", "password"=>"[FILTERED]", "commit"=>"Login"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "dave"], ["LIMIT", 1]]
  ↳ app/controllers/sessions_controller.rb:7:in `create'
Redirected to http://localhost:3000/login
Completed 302 Found in 271ms (ActiveRecord: 0.1ms | Allocations: 906)


Started GET "/login" for ::1 at 2020-07-17 15:17:58 +0700
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.5ms | Allocations: 306)
[Webpacker] Everything's up-to-date. Nothing to do
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 10ms (Views: 9.4ms | ActiveRecord: 0.0ms | Allocations: 7136)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-17 15:17:58 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-17 15:17:58 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-17 15:17:58 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started POST "/login" for ::1 at 2020-07-17 15:18:06 +0700
Processing by SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"MGhH3uWKaETr89Xmf1O9B0hmhH5Vot5bO1vExWX1ew6rkF/6mOMwwiI5Wakr3QsxqCrSnBgZCPhHOXN5pE4flw==", "name"=>"dave", "password"=>"[FILTERED]", "commit"=>"Login"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "dave"], ["LIMIT", 1]]
  ↳ app/controllers/sessions_controller.rb:7:in `create'
Redirected to http://localhost:3000/admin
Completed 302 Found in 268ms (ActiveRecord: 0.1ms | Allocations: 913)


Started GET "/admin" for ::1 at 2020-07-17 15:18:06 +0700
Processing by AdminController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:20:in `authorize'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT COUNT(*) FROM "orders"[0m
  ↳ app/controllers/admin_controller.rb:3:in `index'
  Rendering admin/index.html.erb within layouts/application
  Rendered admin/index.html.erb within layouts/application (Duration: 0.4ms | Allocations: 127)
[Webpacker] Everything's up-to-date. Nothing to do
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 21ms (Views: 14.0ms | ActiveRecord: 0.6ms | Allocations: 10451)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-17 15:18:06 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-17 15:18:06 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-17 15:18:06 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/users" for ::1 at 2020-07-17 15:18:12 +0700
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:20:in `authorize'
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."name" ASC[0m
  ↳ app/views/users/index.html.erb:14
  Rendered users/index.html.erb within layouts/application (Duration: 3.2ms | Allocations: 1082)
[Webpacker] Everything's up-to-date. Nothing to do
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 19ms (Views: 15.3ms | ActiveRecord: 0.4ms | Allocations: 9308)


Started GET "/orders" for ::1 at 2020-07-17 15:18:13 +0700
Processing by OrdersController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:20:in `authorize'
  Rendering orders/index.html.erb within layouts/application
  [1m[36mOrder Load (0.5ms)[0m  [1m[34mSELECT "orders".* FROM "orders"[0m
  ↳ app/views/orders/index.html.erb:17
  Rendered orders/index.html.erb within layouts/application (Duration: 28.0ms | Allocations: 4623)
[Webpacker] Everything's up-to-date. Nothing to do
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 48ms (Views: 39.8ms | ActiveRecord: 1.9ms | Allocations: 12879)


Started GET "/support_requests" for ::1 at 2020-07-17 15:18:28 +0700
Processing by SupportRequestsController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:20:in `authorize'
  Rendering support_requests/index.html.erb within layouts/application
  [1m[36mSupportRequest Load (0.4ms)[0m  [1m[34mSELECT "support_requests".* FROM "support_requests"[0m
  ↳ app/views/support_requests/index.html.erb:2
  Rendered support_requests/index.html.erb within layouts/application (Duration: 9.0ms | Allocations: 1339)
[Webpacker] Everything's up-to-date. Nothing to do
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 366ms (Views: 31.8ms | ActiveRecord: 2.0ms | Allocations: 10394)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-17 15:18:28 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-17 15:18:28 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-17 15:18:28 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/support_requests" for ::1 at 2020-07-17 15:21:50 +0700
Processing by SupportRequestsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:20:in `authorize'
  Rendering support_requests/index.html.erb within layouts/application
  [1m[36mSupportRequest Load (0.2ms)[0m  [1m[34mSELECT "support_requests".* FROM "support_requests"[0m
  ↳ app/views/support_requests/index.html.erb:3
  Rendered support_requests/index.html.erb within layouts/application (Duration: 5.2ms | Allocations: 1011)
[Webpacker] Everything's up-to-date. Nothing to do
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 37ms (Views: 30.6ms | ActiveRecord: 0.6ms | Allocations: 9891)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-17 15:21:50 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-17 15:21:50 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-17 15:21:50 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/support_requests" for ::1 at 2020-07-17 15:21:51 +0700
Processing by SupportRequestsController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:20:in `authorize'
  Rendering support_requests/index.html.erb within layouts/application
  [1m[36mSupportRequest Load (0.3ms)[0m  [1m[34mSELECT "support_requests".* FROM "support_requests"[0m
  ↳ app/views/support_requests/index.html.erb:3
  Rendered support_requests/index.html.erb within layouts/application (Duration: 4.0ms | Allocations: 592)
[Webpacker] Everything's up-to-date. Nothing to do
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 26ms (Views: 18.6ms | ActiveRecord: 0.8ms | Allocations: 8197)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-17 15:21:51 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-17 15:21:51 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-17 15:21:51 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/support_requests" for ::1 at 2020-07-17 15:21:51 +0700
Processing by SupportRequestsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:20:in `authorize'
  Rendering support_requests/index.html.erb within layouts/application
  [1m[36mSupportRequest Load (0.2ms)[0m  [1m[34mSELECT "support_requests".* FROM "support_requests"[0m
  ↳ app/views/support_requests/index.html.erb:3
  Rendered support_requests/index.html.erb within layouts/application (Duration: 2.3ms | Allocations: 591)
[Webpacker] Everything's up-to-date. Nothing to do
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 26ms (Views: 19.9ms | ActiveRecord: 0.5ms | Allocations: 8164)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-17 15:21:51 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-17 15:21:51 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-17 15:21:51 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/support_requests" for ::1 at 2020-07-17 15:21:51 +0700
Processing by SupportRequestsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:20:in `authorize'
  Rendering support_requests/index.html.erb within layouts/application
  [1m[36mSupportRequest Load (0.2ms)[0m  [1m[34mSELECT "support_requests".* FROM "support_requests"[0m
  ↳ app/views/support_requests/index.html.erb:3
  Rendered support_requests/index.html.erb within layouts/application (Duration: 2.5ms | Allocations: 591)
[Webpacker] Everything's up-to-date. Nothing to do
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 31ms (Views: 26.2ms | ActiveRecord: 0.5ms | Allocations: 8134)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-17 15:21:51 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-17 15:21:51 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-17 15:21:51 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/support_requests" for ::1 at 2020-07-17 15:21:51 +0700
Processing by SupportRequestsController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:20:in `authorize'
  Rendering support_requests/index.html.erb within layouts/application
  [1m[36mSupportRequest Load (0.1ms)[0m  [1m[34mSELECT "support_requests".* FROM "support_requests"[0m
  ↳ app/views/support_requests/index.html.erb:3
  Rendered support_requests/index.html.erb within layouts/application (Duration: 1.8ms | Allocations: 591)
[Webpacker] Everything's up-to-date. Nothing to do
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 28ms (Views: 22.6ms | ActiveRecord: 0.7ms | Allocations: 8148)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-17 15:21:51 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-17 15:21:51 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-17 15:21:51 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/support_requests" for ::1 at 2020-07-17 15:21:51 +0700
Processing by SupportRequestsController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:20:in `authorize'
  Rendering support_requests/index.html.erb within layouts/application
  [1m[36mSupportRequest Load (0.1ms)[0m  [1m[34mSELECT "support_requests".* FROM "support_requests"[0m
  ↳ app/views/support_requests/index.html.erb:3
  Rendered support_requests/index.html.erb within layouts/application (Duration: 1.5ms | Allocations: 591)
[Webpacker] Everything's up-to-date. Nothing to do
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 26ms (Views: 21.6ms | ActiveRecord: 0.3ms | Allocations: 8140)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-17 15:21:51 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-17 15:21:51 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-17 15:21:51 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/support_requests" for ::1 at 2020-07-17 15:25:47 +0700
Processing by SupportRequestsController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:20:in `authorize'
  Rendering support_requests/index.html.erb within layouts/application
  [1m[36mSupportRequest Load (0.1ms)[0m  [1m[34mSELECT "support_requests".* FROM "support_requests"[0m
  ↳ app/views/support_requests/index.html.erb:2
  Rendered support_requests/index.html.erb within layouts/application (Duration: 1.7ms | Allocations: 978)
[Webpacker] Everything's up-to-date. Nothing to do
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 22ms (Views: 20.0ms | ActiveRecord: 0.2ms | Allocations: 9922)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-17 15:25:47 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-17 15:25:47 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-17 15:25:47 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/support_requests" for ::1 at 2020-07-17 15:25:47 +0700
Processing by SupportRequestsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:20:in `authorize'
  Rendering support_requests/index.html.erb within layouts/application
  [1m[36mSupportRequest Load (0.4ms)[0m  [1m[34mSELECT "support_requests".* FROM "support_requests"[0m
  ↳ app/views/support_requests/index.html.erb:2
  Rendered support_requests/index.html.erb within layouts/application (Duration: 4.4ms | Allocations: 592)
[Webpacker] Everything's up-to-date. Nothing to do
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 35ms (Views: 26.7ms | ActiveRecord: 0.8ms | Allocations: 8200)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-17 15:25:47 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-17 15:25:47 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-17 15:25:47 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/support_requests" for ::1 at 2020-07-17 15:25:47 +0700
Processing by SupportRequestsController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:20:in `authorize'
  Rendering support_requests/index.html.erb within layouts/application
  [1m[36mSupportRequest Load (0.2ms)[0m  [1m[34mSELECT "support_requests".* FROM "support_requests"[0m
  ↳ app/views/support_requests/index.html.erb:2
  Rendered support_requests/index.html.erb within layouts/application (Duration: 3.3ms | Allocations: 591)
[Webpacker] Everything's up-to-date. Nothing to do
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 20ms (Views: 15.4ms | ActiveRecord: 0.5ms | Allocations: 8146)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-17 15:25:48 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-17 15:25:48 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-17 15:25:48 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/support_requests" for ::1 at 2020-07-17 15:25:48 +0700
Processing by SupportRequestsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:20:in `authorize'
  Rendering support_requests/index.html.erb within layouts/application
  [1m[36mSupportRequest Load (0.2ms)[0m  [1m[34mSELECT "support_requests".* FROM "support_requests"[0m
  ↳ app/views/support_requests/index.html.erb:2
  Rendered support_requests/index.html.erb within layouts/application (Duration: 2.3ms | Allocations: 591)
[Webpacker] Everything's up-to-date. Nothing to do
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 28ms (Views: 23.5ms | ActiveRecord: 0.5ms | Allocations: 8144)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-17 15:25:48 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-17 15:25:48 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-17 15:25:48 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/support_requests" for ::1 at 2020-07-17 15:25:48 +0700
Processing by SupportRequestsController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:20:in `authorize'
  Rendering support_requests/index.html.erb within layouts/application
  [1m[36mSupportRequest Load (0.2ms)[0m  [1m[34mSELECT "support_requests".* FROM "support_requests"[0m
  ↳ app/views/support_requests/index.html.erb:2
  Rendered support_requests/index.html.erb within layouts/application (Duration: 2.5ms | Allocations: 592)
[Webpacker] Everything's up-to-date. Nothing to do
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 32ms (Views: 29.1ms | ActiveRecord: 0.4ms | Allocations: 8140)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-17 15:25:48 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-17 15:25:48 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-17 15:25:48 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/" for ::1 at 2020-07-17 15:26:50 +0700
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 81], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 15.7ms | Allocations: 3672)
[Webpacker] Everything's up-to-date. Nothing to do
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 81], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:35
Completed 200 OK in 37ms (Views: 33.7ms | ActiveRecord: 1.1ms | Allocations: 12619)


Started GET "/rails/conductor/action_mailbox/inbound_emails" for ::1 at 2020-07-17 15:26:52 +0700
Processing by Rails::Conductor::ActionMailbox::InboundEmailsController#index as HTML
  Rendering /home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/actionmailbox-6.0.3.2/app/views/rails/conductor/action_mailbox/inbound_emails/index.html.erb within layouts/rails/conductor
  [1m[36mActionMailbox::InboundEmail Load (0.3ms)[0m  [1m[34mSELECT "action_mailbox_inbound_emails".* FROM "action_mailbox_inbound_emails" ORDER BY "action_mailbox_inbound_emails"."created_at" DESC[0m
  Rendered /home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/actionmailbox-6.0.3.2/app/views/rails/conductor/action_mailbox/inbound_emails/index.html.erb within layouts/rails/conductor (Duration: 11.2ms | Allocations: 5065)
Completed 200 OK in 30ms (Views: 13.1ms | ActiveRecord: 1.3ms | Allocations: 8479)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-17 15:26:52 +0700
ProductsChannel stopped streaming from products
Started GET "/rails/conductor/action_mailbox/inbound_emails/2" for ::1 at 2020-07-17 15:26:54 +0700
Processing by Rails::Conductor::ActionMailbox::InboundEmailsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mActionMailbox::InboundEmail Load (0.2ms)[0m  [1m[34mSELECT "action_mailbox_inbound_emails".* FROM "action_mailbox_inbound_emails" WHERE "action_mailbox_inbound_emails"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering /home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/actionmailbox-6.0.3.2/app/views/rails/conductor/action_mailbox/inbound_emails/show.html.erb within layouts/rails/conductor
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 2], ["record_type", "ActionMailbox::InboundEmail"], ["name", "raw_email"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
[36m  Disk Storage (0.1ms) [0m[34mDownloaded file from key: mk6otccxu9e6ymeto116remqy4zw[0m
  Rendered /home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/actionmailbox-6.0.3.2/app/views/rails/conductor/action_mailbox/inbound_emails/show.html.erb within layouts/rails/conductor (Duration: 154.4ms | Allocations: 19531)
Completed 200 OK in 160ms (Views: 153.2ms | ActiveRecord: 2.0ms | Allocations: 21498)


Started POST "/rails/conductor/action_mailbox/2/reroute" for ::1 at 2020-07-17 15:26:58 +0700
Processing by Rails::Conductor::ActionMailbox::ReroutesController#create as HTML
  Parameters: {"authenticity_token"=>"EGjAX18o3vye9wHU2XjFi9doUcR4fUVfe5c4aV36tErFjQSalG74LUNZaCBOEc2FzGXG81XG0PvvpXYtaEzarg==", "inbound_email_id"=>"2"}
  [1m[36mActionMailbox::InboundEmail Load (0.3ms)[0m  [1m[34mSELECT "action_mailbox_inbound_emails".* FROM "action_mailbox_inbound_emails" WHERE "action_mailbox_inbound_emails"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActionMailbox::InboundEmail Update (0.5ms)[0m  [1m[33mUPDATE "action_mailbox_inbound_emails" SET "status" = ?, "updated_at" = ? WHERE "action_mailbox_inbound_emails"."id" = ?[0m  [["status", 0], ["updated_at", "2020-07-17 08:26:58.130307"], ["id", 2]]
  [1m[35m (158.8ms)[0m  [1m[36mcommit transaction[0m
[ActiveJob] Enqueued ActionMailbox::RoutingJob (Job ID: cc01c2bb-d5b8-4a77-8339-dd533e931971) to Async(action_mailbox_routing) with arguments: #<GlobalID:0x00007fa5c403bf08 @uri=#<URI::GID gid://depot/ActionMailbox::InboundEmail/2>>
Redirected to http://localhost:3000/rails/conductor/action_mailbox/inbound_emails/2
Completed 302 Found in 201ms (ActiveRecord: 159.8ms | Allocations: 10763)


  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[36mActionMailbox::InboundEmail Load (0.3ms)[0m  [1m[34mSELECT "action_mailbox_inbound_emails".* FROM "action_mailbox_inbound_emails" WHERE "action_mailbox_inbound_emails"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
[ActiveJob] [ActionMailbox::RoutingJob] [cc01c2bb-d5b8-4a77-8339-dd533e931971] Performing ActionMailbox::RoutingJob (Job ID: cc01c2bb-d5b8-4a77-8339-dd533e931971) from Async(action_mailbox_routing) enqueued at 2020-07-17T08:26:58Z with arguments: #<GlobalID:0x00007fa5bc1bd780 @uri=#<URI::GID gid://depot/ActionMailbox::InboundEmail/2>>
[ActiveJob] [ActionMailbox::RoutingJob] [cc01c2bb-d5b8-4a77-8339-dd533e931971]   [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 2], ["record_type", "ActionMailbox::InboundEmail"], ["name", "raw_email"], ["LIMIT", 1]]
[ActiveJob] [ActionMailbox::RoutingJob] [cc01c2bb-d5b8-4a77-8339-dd533e931971]   [1m[36mActiveStorage::Blob Load (0.4ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Started GET "/rails/conductor/action_mailbox/inbound_emails/2" for ::1 at 2020-07-17 15:26:58 +0700
[ActiveJob] [ActionMailbox::RoutingJob] [cc01c2bb-d5b8-4a77-8339-dd533e931971] [36m  Disk Storage (0.6ms) [0m[34mDownloaded file from key: mk6otccxu9e6ymeto116remqy4zw[0m
[ActiveJob] [ActionMailbox::RoutingJob] [cc01c2bb-d5b8-4a77-8339-dd533e931971]   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
[ActiveJob] [ActionMailbox::RoutingJob] [cc01c2bb-d5b8-4a77-8339-dd533e931971]   [1m[36mActionMailbox::InboundEmail Update (0.5ms)[0m  [1m[33mUPDATE "action_mailbox_inbound_emails" SET "status" = ?, "updated_at" = ? WHERE "action_mailbox_inbound_emails"."id" = ?[0m  [["status", 4], ["updated_at", "2020-07-17 08:26:58.358886"], ["id", 2]]
[ActiveJob] [ActionMailbox::RoutingJob] [cc01c2bb-d5b8-4a77-8339-dd533e931971]   [1m[35m (63.2ms)[0m  [1m[36mcommit transaction[0m
[ActiveJob] [ActionMailbox::RoutingJob] [cc01c2bb-d5b8-4a77-8339-dd533e931971] Enqueued ActionMailbox::IncinerationJob (Job ID: 31db4877-d332-42a6-8e7b-d16b92d2c6a1) to Async(action_mailbox_incineration) at 2020-08-16 08:26:58 UTC with arguments: #<GlobalID:0x00007fa5c0b7cf38 @uri=#<URI::GID gid://depot/ActionMailbox::InboundEmail/2>>
[ActiveJob] [ActionMailbox::RoutingJob] [cc01c2bb-d5b8-4a77-8339-dd533e931971] Error performing ActionMailbox::RoutingJob (Job ID: cc01c2bb-d5b8-4a77-8339-dd533e931971) from Async(action_mailbox_routing) in 108.7ms: ActionMailbox::Router::RoutingError (ActionMailbox::Router::RoutingError):
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/actionmailbox-6.0.3.2/lib/action_mailbox/router.rb:29:in `route'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/actionmailbox-6.0.3.2/lib/action_mailbox/routing.rb:18:in `route'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/actionmailbox-6.0.3.2/app/models/action_mailbox/inbound_email/routable.rb:22:in `route'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/actionmailbox-6.0.3.2/app/jobs/action_mailbox/routing_job.rb:10:in `perform'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/execution.rb:40:in `block in perform_now'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:112:in `block in run_callbacks'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/i18n-1.8.3/lib/i18n.rb:313:in `with_locale'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/translation.rb:9:in `block (2 levels) in <module:Translation>'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `instance_exec'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/core_ext/time/zones.rb:66:in `use_zone'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/timezones.rb:9:in `block (2 levels) in <module:Timezones>'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `instance_exec'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/logging.rb:25:in `block (4 levels) in <module:Logging>'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/notifications.rb:180:in `block in instrument'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/notifications.rb:180:in `instrument'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/logging.rb:24:in `block (3 levels) in <module:Logging>'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/logging.rb:45:in `block in tag_logger'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/tagged_logging.rb:28:in `tagged'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/tagged_logging.rb:80:in `tagged'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/logging.rb:45:in `tag_logger'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/logging.rb:21:in `block (2 levels) in <module:Logging>'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `instance_exec'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:139:in `run_callbacks'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/execution.rb:39:in `perform_now'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/execution.rb:25:in `block in execute'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:112:in `block in run_callbacks'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/railtie.rb:43:in `block (4 levels) in <class:Railtie>'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/execution_wrapper.rb:88:in `wrap'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/reloader.rb:72:in `block in wrap'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/execution_wrapper.rb:88:in `wrap'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/reloader.rb:71:in `wrap'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/railtie.rb:42:in `block (3 levels) in <class:Railtie>'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `instance_exec'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:139:in `run_callbacks'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/execution.rb:23:in `execute'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/queue_adapters/async_adapter.rb:70:in `perform'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/concurrent-ruby-1.1.6/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:353:in `run_task'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/concurrent-ruby-1.1.6/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:342:in `block (3 levels) in create_worker'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/concurrent-ruby-1.1.6/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:325:in `loop'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/concurrent-ruby-1.1.6/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:325:in `block (2 levels) in create_worker'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/concurrent-ruby-1.1.6/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:324:in `catch'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/concurrent-ruby-1.1.6/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:324:in `block in create_worker'
Processing by Rails::Conductor::ActionMailbox::InboundEmailsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mActionMailbox::InboundEmail Load (0.5ms)[0m  [1m[34mSELECT "action_mailbox_inbound_emails".* FROM "action_mailbox_inbound_emails" WHERE "action_mailbox_inbound_emails"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering /home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/actionmailbox-6.0.3.2/app/views/rails/conductor/action_mailbox/inbound_emails/show.html.erb within layouts/rails/conductor
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 2], ["record_type", "ActionMailbox::InboundEmail"], ["name", "raw_email"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.7ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
[36m  Disk Storage (0.2ms) [0m[34mDownloaded file from key: mk6otccxu9e6ymeto116remqy4zw[0m
  Rendered /home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/actionmailbox-6.0.3.2/app/views/rails/conductor/action_mailbox/inbound_emails/show.html.erb within layouts/rails/conductor (Duration: 18.2ms | Allocations: 3726)
Completed 200 OK in 28ms (Views: 18.7ms | ActiveRecord: 1.6ms | Allocations: 5250)


Started GET "/rails/conductor/action_mailbox/inbound_emails" for ::1 at 2020-07-17 15:26:59 +0700
Processing by Rails::Conductor::ActionMailbox::InboundEmailsController#index as HTML
  Rendering /home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/actionmailbox-6.0.3.2/app/views/rails/conductor/action_mailbox/inbound_emails/index.html.erb within layouts/rails/conductor
  [1m[36mActionMailbox::InboundEmail Load (0.5ms)[0m  [1m[34mSELECT "action_mailbox_inbound_emails".* FROM "action_mailbox_inbound_emails" ORDER BY "action_mailbox_inbound_emails"."created_at" DESC[0m
  Rendered /home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/actionmailbox-6.0.3.2/app/views/rails/conductor/action_mailbox/inbound_emails/index.html.erb within layouts/rails/conductor (Duration: 11.1ms | Allocations: 1622)
Completed 200 OK in 17ms (Views: 14.4ms | ActiveRecord: 0.5ms | Allocations: 2123)


Started GET "/rails/conductor/action_mailbox/inbound_emails/1" for ::1 at 2020-07-17 15:27:01 +0700
Processing by Rails::Conductor::ActionMailbox::InboundEmailsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mActionMailbox::InboundEmail Load (0.3ms)[0m  [1m[34mSELECT "action_mailbox_inbound_emails".* FROM "action_mailbox_inbound_emails" WHERE "action_mailbox_inbound_emails"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering /home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/actionmailbox-6.0.3.2/app/views/rails/conductor/action_mailbox/inbound_emails/show.html.erb within layouts/rails/conductor
  [1m[36mActiveStorage::Attachment Load (1.0ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "ActionMailbox::InboundEmail"], ["name", "raw_email"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.4ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[36m  Disk Storage (0.4ms) [0m[34mDownloaded file from key: uqu8863ommd636qim9jtdugynxc2[0m
  Rendered /home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/actionmailbox-6.0.3.2/app/views/rails/conductor/action_mailbox/inbound_emails/show.html.erb within layouts/rails/conductor (Duration: 18.4ms | Allocations: 3723)
Completed 200 OK in 28ms (Views: 19.1ms | ActiveRecord: 1.7ms | Allocations: 5247)


Started GET "/rails/conductor/action_mailbox/inbound_emails/1" for ::1 at 2020-07-17 15:27:01 +0700
Processing by Rails::Conductor::ActionMailbox::InboundEmailsController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mActionMailbox::InboundEmail Load (0.2ms)[0m  [1m[34mSELECT "action_mailbox_inbound_emails".* FROM "action_mailbox_inbound_emails" WHERE "action_mailbox_inbound_emails"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  Rendering /home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/actionmailbox-6.0.3.2/app/views/rails/conductor/action_mailbox/inbound_emails/show.html.erb within layouts/rails/conductor
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 1], ["record_type", "ActionMailbox::InboundEmail"], ["name", "raw_email"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.4ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
[36m  Disk Storage (0.1ms) [0m[34mDownloaded file from key: uqu8863ommd636qim9jtdugynxc2[0m
  Rendered /home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/actionmailbox-6.0.3.2/app/views/rails/conductor/action_mailbox/inbound_emails/show.html.erb within layouts/rails/conductor (Duration: 12.4ms | Allocations: 3723)
Completed 200 OK in 18ms (Views: 12.6ms | ActiveRecord: 0.9ms | Allocations: 5246)


Started GET "/rails/conductor/action_mailbox/inbound_emails" for ::1 at 2020-07-17 15:27:02 +0700
Processing by Rails::Conductor::ActionMailbox::InboundEmailsController#index as HTML
  Rendering /home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/actionmailbox-6.0.3.2/app/views/rails/conductor/action_mailbox/inbound_emails/index.html.erb within layouts/rails/conductor
  [1m[36mActionMailbox::InboundEmail Load (0.6ms)[0m  [1m[34mSELECT "action_mailbox_inbound_emails".* FROM "action_mailbox_inbound_emails" ORDER BY "action_mailbox_inbound_emails"."created_at" DESC[0m
  Rendered /home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/actionmailbox-6.0.3.2/app/views/rails/conductor/action_mailbox/inbound_emails/index.html.erb within layouts/rails/conductor (Duration: 10.4ms | Allocations: 1622)
Completed 200 OK in 16ms (Views: 13.0ms | ActiveRecord: 0.6ms | Allocations: 2109)


Started GET "/rails/conductor/action_mailbox/inbound_emails/new" for ::1 at 2020-07-17 15:27:02 +0700
Processing by Rails::Conductor::ActionMailbox::InboundEmailsController#new as HTML
  Rendering /home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/actionmailbox-6.0.3.2/app/views/rails/conductor/action_mailbox/inbound_emails/new.html.erb within layouts/rails/conductor
  Rendered /home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/actionmailbox-6.0.3.2/app/views/rails/conductor/action_mailbox/inbound_emails/new.html.erb within layouts/rails/conductor (Duration: 67.3ms | Allocations: 1609)
Completed 200 OK in 76ms (Views: 69.8ms | ActiveRecord: 0.0ms | Allocations: 2379)


Started GET "/rails/conductor/action_mailbox/inbound_emails/2" for ::1 at 2020-07-17 15:27:05 +0700
Processing by Rails::Conductor::ActionMailbox::InboundEmailsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mActionMailbox::InboundEmail Load (0.5ms)[0m  [1m[34mSELECT "action_mailbox_inbound_emails".* FROM "action_mailbox_inbound_emails" WHERE "action_mailbox_inbound_emails"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering /home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/actionmailbox-6.0.3.2/app/views/rails/conductor/action_mailbox/inbound_emails/show.html.erb within layouts/rails/conductor
  [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 2], ["record_type", "ActionMailbox::InboundEmail"], ["name", "raw_email"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
[36m  Disk Storage (0.1ms) [0m[34mDownloaded file from key: mk6otccxu9e6ymeto116remqy4zw[0m
  Rendered /home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/actionmailbox-6.0.3.2/app/views/rails/conductor/action_mailbox/inbound_emails/show.html.erb within layouts/rails/conductor (Duration: 12.9ms | Allocations: 3722)
Completed 200 OK in 24ms (Views: 14.3ms | ActiveRecord: 1.0ms | Allocations: 5250)


Started POST "/rails/conductor/action_mailbox/2/reroute" for ::1 at 2020-07-17 15:27:06 +0700
Processing by Rails::Conductor::ActionMailbox::ReroutesController#create as HTML
  Parameters: {"authenticity_token"=>"aBK08Z73yJkoZnmw6L/47YPT/MYRcdLfd47ffk97AUi993A0VbHuSPXIEER/1vDjmN5r8TzKR3vjvJE6es1vrA==", "inbound_email_id"=>"2"}
  [1m[36mActionMailbox::InboundEmail Load (0.6ms)[0m  [1m[34mSELECT "action_mailbox_inbound_emails".* FROM "action_mailbox_inbound_emails" WHERE "action_mailbox_inbound_emails"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActionMailbox::InboundEmail Update (0.7ms)[0m  [1m[33mUPDATE "action_mailbox_inbound_emails" SET "status" = ?, "updated_at" = ? WHERE "action_mailbox_inbound_emails"."id" = ?[0m  [["status", 0], ["updated_at", "2020-07-17 08:27:06.749779"], ["id", 2]]
  [1m[35m (177.7ms)[0m  [1m[36mcommit transaction[0m
[ActiveJob] Enqueued ActionMailbox::RoutingJob (Job ID: 671704ae-c035-4e38-a2ce-a5fb3f01e899) to Async(action_mailbox_routing) with arguments: #<GlobalID:0x00005559419e50a8 @uri=#<URI::GID gid://depot/ActionMailbox::InboundEmail/2>>
Redirected to http://localhost:3000/rails/conductor/action_mailbox/inbound_emails/2
  [1m[36mActionMailbox::InboundEmail Load (0.4ms)[0m  [1m[34mSELECT "action_mailbox_inbound_emails".* FROM "action_mailbox_inbound_emails" WHERE "action_mailbox_inbound_emails"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Completed 302 Found in 213ms (ActiveRecord: 179.3ms | Allocations: 7035)


[ActiveJob] [ActionMailbox::RoutingJob] [671704ae-c035-4e38-a2ce-a5fb3f01e899] Performing ActionMailbox::RoutingJob (Job ID: 671704ae-c035-4e38-a2ce-a5fb3f01e899) from Async(action_mailbox_routing) enqueued at 2020-07-17T08:27:06Z with arguments: #<GlobalID:0x00005559411adc28 @uri=#<URI::GID gid://depot/ActionMailbox::InboundEmail/2>>
[ActiveJob] [ActionMailbox::RoutingJob] [671704ae-c035-4e38-a2ce-a5fb3f01e899]   [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 2], ["record_type", "ActionMailbox::InboundEmail"], ["name", "raw_email"], ["LIMIT", 1]]
[ActiveJob] [ActionMailbox::RoutingJob] [671704ae-c035-4e38-a2ce-a5fb3f01e899]   [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
Started GET "/rails/conductor/action_mailbox/inbound_emails/2" for ::1 at 2020-07-17 15:27:06 +0700
[ActiveJob] [ActionMailbox::RoutingJob] [671704ae-c035-4e38-a2ce-a5fb3f01e899] [36m  Disk Storage (1.5ms) [0m[34mDownloaded file from key: mk6otccxu9e6ymeto116remqy4zw[0m
[ActiveJob] [ActionMailbox::RoutingJob] [671704ae-c035-4e38-a2ce-a5fb3f01e899]   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
[ActiveJob] [ActionMailbox::RoutingJob] [671704ae-c035-4e38-a2ce-a5fb3f01e899]   [1m[36mActionMailbox::InboundEmail Update (0.4ms)[0m  [1m[33mUPDATE "action_mailbox_inbound_emails" SET "status" = ?, "updated_at" = ? WHERE "action_mailbox_inbound_emails"."id" = ?[0m  [["status", 4], ["updated_at", "2020-07-17 08:27:06.994594"], ["id", 2]]
[ActiveJob] [ActionMailbox::RoutingJob] [671704ae-c035-4e38-a2ce-a5fb3f01e899]   [1m[35m (103.2ms)[0m  [1m[36mcommit transaction[0m
[ActiveJob] [ActionMailbox::RoutingJob] [671704ae-c035-4e38-a2ce-a5fb3f01e899] Enqueued ActionMailbox::IncinerationJob (Job ID: 465a2798-1f5b-4b96-a0d1-9f56300b0bff) to Async(action_mailbox_incineration) at 2020-08-16 08:27:07 UTC with arguments: #<GlobalID:0x00007fa5c4234cb0 @uri=#<URI::GID gid://depot/ActionMailbox::InboundEmail/2>>
[ActiveJob] [ActionMailbox::RoutingJob] [671704ae-c035-4e38-a2ce-a5fb3f01e899] Error performing ActionMailbox::RoutingJob (Job ID: 671704ae-c035-4e38-a2ce-a5fb3f01e899) from Async(action_mailbox_routing) in 153.17ms: ActionMailbox::Router::RoutingError (ActionMailbox::Router::RoutingError):
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/actionmailbox-6.0.3.2/lib/action_mailbox/router.rb:29:in `route'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/actionmailbox-6.0.3.2/lib/action_mailbox/routing.rb:18:in `route'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/actionmailbox-6.0.3.2/app/models/action_mailbox/inbound_email/routable.rb:22:in `route'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/actionmailbox-6.0.3.2/app/jobs/action_mailbox/routing_job.rb:10:in `perform'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/execution.rb:40:in `block in perform_now'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:112:in `block in run_callbacks'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/i18n-1.8.3/lib/i18n.rb:313:in `with_locale'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/translation.rb:9:in `block (2 levels) in <module:Translation>'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `instance_exec'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/core_ext/time/zones.rb:66:in `use_zone'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/timezones.rb:9:in `block (2 levels) in <module:Timezones>'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `instance_exec'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/logging.rb:25:in `block (4 levels) in <module:Logging>'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/notifications.rb:180:in `block in instrument'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/notifications.rb:180:in `instrument'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/logging.rb:24:in `block (3 levels) in <module:Logging>'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/logging.rb:45:in `block in tag_logger'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/tagged_logging.rb:28:in `tagged'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/tagged_logging.rb:80:in `tagged'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/logging.rb:45:in `tag_logger'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/logging.rb:21:in `block (2 levels) in <module:Logging>'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `instance_exec'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:139:in `run_callbacks'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/execution.rb:39:in `perform_now'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/execution.rb:25:in `block in execute'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:112:in `block in run_callbacks'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/railtie.rb:43:in `block (4 levels) in <class:Railtie>'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/execution_wrapper.rb:88:in `wrap'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/reloader.rb:72:in `block in wrap'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/execution_wrapper.rb:88:in `wrap'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/reloader.rb:71:in `wrap'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/railtie.rb:42:in `block (3 levels) in <class:Railtie>'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `instance_exec'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:139:in `run_callbacks'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/execution.rb:23:in `execute'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/queue_adapters/async_adapter.rb:70:in `perform'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/concurrent-ruby-1.1.6/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:353:in `run_task'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/concurrent-ruby-1.1.6/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:342:in `block (3 levels) in create_worker'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/concurrent-ruby-1.1.6/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:325:in `loop'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/concurrent-ruby-1.1.6/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:325:in `block (2 levels) in create_worker'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/concurrent-ruby-1.1.6/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:324:in `catch'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/concurrent-ruby-1.1.6/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:324:in `block in create_worker'
Processing by Rails::Conductor::ActionMailbox::InboundEmailsController#show as HTML
  Parameters: {"id"=>"2"}
  [1m[36mActionMailbox::InboundEmail Load (0.3ms)[0m  [1m[34mSELECT "action_mailbox_inbound_emails".* FROM "action_mailbox_inbound_emails" WHERE "action_mailbox_inbound_emails"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
  Rendering /home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/actionmailbox-6.0.3.2/app/views/rails/conductor/action_mailbox/inbound_emails/show.html.erb within layouts/rails/conductor
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 2], ["record_type", "ActionMailbox::InboundEmail"], ["name", "raw_email"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.3ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 2], ["LIMIT", 1]]
[36m  Disk Storage (0.1ms) [0m[34mDownloaded file from key: mk6otccxu9e6ymeto116remqy4zw[0m
  Rendered /home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/actionmailbox-6.0.3.2/app/views/rails/conductor/action_mailbox/inbound_emails/show.html.erb within layouts/rails/conductor (Duration: 13.5ms | Allocations: 3722)
Completed 200 OK in 22ms (Views: 14.4ms | ActiveRecord: 1.0ms | Allocations: 5253)


Started GET "/support_request" for ::1 at 2020-07-17 15:27:18 +0700
Processing by StoreController#index as HTML
  Parameters: {"locale"=>"support_request"}
support_request translation not available
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 81], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 13.6ms | Allocations: 3331)
[Webpacker] Everything's up-to-date. Nothing to do
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 81], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:35
Completed 200 OK in 36ms (Views: 32.7ms | ActiveRecord: 0.5ms | Allocations: 11654)


Started GET "/cable" for ::1 at 2020-07-17 15:27:19 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-17 15:27:19 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/support_requests" for ::1 at 2020-07-17 15:27:25 +0700
Processing by SupportRequestsController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:20:in `authorize'
  Rendering support_requests/index.html.erb within layouts/application
  [1m[36mSupportRequest Load (0.1ms)[0m  [1m[34mSELECT "support_requests".* FROM "support_requests"[0m
  ↳ app/views/support_requests/index.html.erb:2
  Rendered support_requests/index.html.erb within layouts/application (Duration: 1.6ms | Allocations: 592)
[Webpacker] Everything's up-to-date. Nothing to do
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 21ms (Views: 18.3ms | ActiveRecord: 0.2ms | Allocations: 8163)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-17 15:27:25 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-17 15:27:25 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-17 15:27:25 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/support_requests" for ::1 at 2020-07-17 15:36:27 +0700
  [1m[35m (0.4ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (1.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by SupportRequestsController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:20:in `authorize'
  Rendering support_requests/index.html.erb within layouts/application
  [1m[36mSupportRequest Load (0.7ms)[0m  [1m[34mSELECT "support_requests".* FROM "support_requests"[0m
  ↳ app/views/support_requests/index.html.erb:2
  Rendered support_requests/index.html.erb within layouts/application (Duration: 6.9ms | Allocations: 1644)
[Webpacker] Everything's up-to-date. Nothing to do
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 84ms (Views: 51.5ms | ActiveRecord: 2.5ms | Allocations: 25465)


Started GET "/cable" for ::1 at 2020-07-17 15:36:27 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-17 15:36:27 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/support_requests" for ::1 at 2020-07-17 15:37:25 +0700
Processing by SupportRequestsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:20:in `authorize'
Completed 406 Not Acceptable in 9ms (ActiveRecord: 0.3ms | Allocations: 2542)


  
ActionController::MissingExactTemplate (SupportRequestsController#index is missing a template for request formats: text/html):
  
actionpack (6.0.3.2) lib/action_controller/metal/implicit_render.rb:45:in `default_render'
actionpack (6.0.3.2) lib/action_controller/metal/basic_implicit_render.rb:6:in `block in send_action'
actionpack (6.0.3.2) lib/action_controller/metal/basic_implicit_render.rb:6:in `tap'
actionpack (6.0.3.2) lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
actionpack (6.0.3.2) lib/abstract_controller/base.rb:195:in `process_action'
actionpack (6.0.3.2) lib/action_controller/metal/rendering.rb:30:in `process_action'
actionpack (6.0.3.2) lib/abstract_controller/callbacks.rb:42:in `block in process_action'
activesupport (6.0.3.2) lib/active_support/callbacks.rb:135:in `run_callbacks'
actionpack (6.0.3.2) lib/abstract_controller/callbacks.rb:41:in `process_action'
actionpack (6.0.3.2) lib/action_controller/metal/rescue.rb:22:in `process_action'
actionpack (6.0.3.2) lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
activesupport (6.0.3.2) lib/active_support/notifications.rb:180:in `block in instrument'
activesupport (6.0.3.2) lib/active_support/notifications/instrumenter.rb:24:in `instrument'
activesupport (6.0.3.2) lib/active_support/notifications.rb:180:in `instrument'
actionpack (6.0.3.2) lib/action_controller/metal/instrumentation.rb:32:in `process_action'
actionpack (6.0.3.2) lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
activerecord (6.0.3.2) lib/active_record/railties/controller_runtime.rb:27:in `process_action'
actionpack (6.0.3.2) lib/abstract_controller/base.rb:136:in `process'
actionview (6.0.3.2) lib/action_view/rendering.rb:39:in `process'
actionpack (6.0.3.2) lib/action_controller/metal.rb:190:in `dispatch'
actionpack (6.0.3.2) lib/action_controller/metal.rb:254:in `dispatch'
actionpack (6.0.3.2) lib/action_dispatch/routing/route_set.rb:50:in `dispatch'
actionpack (6.0.3.2) lib/action_dispatch/routing/route_set.rb:33:in `serve'
actionpack (6.0.3.2) lib/action_dispatch/journey/router.rb:49:in `block in serve'
actionpack (6.0.3.2) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (6.0.3.2) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (6.0.3.2) lib/action_dispatch/routing/route_set.rb:834:in `call'
i18n-js (3.7.1) lib/i18n/js/middleware.rb:14:in `call'
rack (2.2.3) lib/rack/tempfile_reaper.rb:15:in `call'
rack (2.2.3) lib/rack/etag.rb:27:in `call'
rack (2.2.3) lib/rack/conditional_get.rb:27:in `call'
rack (2.2.3) lib/rack/head.rb:12:in `call'
actionpack (6.0.3.2) lib/action_dispatch/http/content_security_policy.rb:18:in `call'
rack (2.2.3) lib/rack/session/abstract/id.rb:266:in `context'
rack (2.2.3) lib/rack/session/abstract/id.rb:260:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/cookies.rb:648:in `call'
activerecord (6.0.3.2) lib/active_record/migration.rb:567:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.0.3.2) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (6.0.3.2) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
web-console (4.0.3) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.3) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.3) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.3) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.3.2) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.3.2) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.3.2) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.3.2) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.3.2) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.3.2) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.3) lib/rack/method_override.rb:24:in `call'
rack (2.2.3) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.3.2) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.3) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
webpacker (4.2.2) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.3.2) lib/rails/engine.rb:527:in `call'
puma (4.3.5) lib/puma/configuration.rb:228:in `call'
puma (4.3.5) lib/puma/server.rb:713:in `handle_request'
puma (4.3.5) lib/puma/server.rb:472:in `process_client'
puma (4.3.5) lib/puma/server.rb:328:in `block in run'
puma (4.3.5) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Finished "/cable/" [WebSocket] for ::1 at 2020-07-17 15:37:26 +0700
ProductsChannel stopped streaming from products
Started GET "/support_requests" for ::1 at 2020-07-17 15:37:39 +0700
Processing by SupportRequestsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:20:in `authorize'
Completed 406 Not Acceptable in 12ms (ActiveRecord: 0.3ms | Allocations: 2557)


  
ActionController::MissingExactTemplate (SupportRequestsController#index is missing a template for request formats: text/html):
  
actionpack (6.0.3.2) lib/action_controller/metal/implicit_render.rb:45:in `default_render'
actionpack (6.0.3.2) lib/action_controller/metal/basic_implicit_render.rb:6:in `block in send_action'
actionpack (6.0.3.2) lib/action_controller/metal/basic_implicit_render.rb:6:in `tap'
actionpack (6.0.3.2) lib/action_controller/metal/basic_implicit_render.rb:6:in `send_action'
actionpack (6.0.3.2) lib/abstract_controller/base.rb:195:in `process_action'
actionpack (6.0.3.2) lib/action_controller/metal/rendering.rb:30:in `process_action'
actionpack (6.0.3.2) lib/abstract_controller/callbacks.rb:42:in `block in process_action'
activesupport (6.0.3.2) lib/active_support/callbacks.rb:135:in `run_callbacks'
actionpack (6.0.3.2) lib/abstract_controller/callbacks.rb:41:in `process_action'
actionpack (6.0.3.2) lib/action_controller/metal/rescue.rb:22:in `process_action'
actionpack (6.0.3.2) lib/action_controller/metal/instrumentation.rb:33:in `block in process_action'
activesupport (6.0.3.2) lib/active_support/notifications.rb:180:in `block in instrument'
activesupport (6.0.3.2) lib/active_support/notifications/instrumenter.rb:24:in `instrument'
activesupport (6.0.3.2) lib/active_support/notifications.rb:180:in `instrument'
actionpack (6.0.3.2) lib/action_controller/metal/instrumentation.rb:32:in `process_action'
actionpack (6.0.3.2) lib/action_controller/metal/params_wrapper.rb:245:in `process_action'
activerecord (6.0.3.2) lib/active_record/railties/controller_runtime.rb:27:in `process_action'
actionpack (6.0.3.2) lib/abstract_controller/base.rb:136:in `process'
actionview (6.0.3.2) lib/action_view/rendering.rb:39:in `process'
actionpack (6.0.3.2) lib/action_controller/metal.rb:190:in `dispatch'
actionpack (6.0.3.2) lib/action_controller/metal.rb:254:in `dispatch'
actionpack (6.0.3.2) lib/action_dispatch/routing/route_set.rb:50:in `dispatch'
actionpack (6.0.3.2) lib/action_dispatch/routing/route_set.rb:33:in `serve'
actionpack (6.0.3.2) lib/action_dispatch/journey/router.rb:49:in `block in serve'
actionpack (6.0.3.2) lib/action_dispatch/journey/router.rb:32:in `each'
actionpack (6.0.3.2) lib/action_dispatch/journey/router.rb:32:in `serve'
actionpack (6.0.3.2) lib/action_dispatch/routing/route_set.rb:834:in `call'
i18n-js (3.7.1) lib/i18n/js/middleware.rb:14:in `call'
rack (2.2.3) lib/rack/tempfile_reaper.rb:15:in `call'
rack (2.2.3) lib/rack/etag.rb:27:in `call'
rack (2.2.3) lib/rack/conditional_get.rb:27:in `call'
rack (2.2.3) lib/rack/head.rb:12:in `call'
actionpack (6.0.3.2) lib/action_dispatch/http/content_security_policy.rb:18:in `call'
rack (2.2.3) lib/rack/session/abstract/id.rb:266:in `context'
rack (2.2.3) lib/rack/session/abstract/id.rb:260:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/cookies.rb:648:in `call'
activerecord (6.0.3.2) lib/active_record/migration.rb:567:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/callbacks.rb:27:in `block in call'
activesupport (6.0.3.2) lib/active_support/callbacks.rb:101:in `run_callbacks'
actionpack (6.0.3.2) lib/action_dispatch/middleware/callbacks.rb:26:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/actionable_exceptions.rb:17:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/debug_exceptions.rb:32:in `call'
web-console (4.0.3) lib/web_console/middleware.rb:132:in `call_app'
web-console (4.0.3) lib/web_console/middleware.rb:28:in `block in call'
web-console (4.0.3) lib/web_console/middleware.rb:17:in `catch'
web-console (4.0.3) lib/web_console/middleware.rb:17:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/show_exceptions.rb:33:in `call'
railties (6.0.3.2) lib/rails/rack/logger.rb:37:in `call_app'
railties (6.0.3.2) lib/rails/rack/logger.rb:26:in `block in call'
activesupport (6.0.3.2) lib/active_support/tagged_logging.rb:80:in `block in tagged'
activesupport (6.0.3.2) lib/active_support/tagged_logging.rb:28:in `tagged'
activesupport (6.0.3.2) lib/active_support/tagged_logging.rb:80:in `tagged'
railties (6.0.3.2) lib/rails/rack/logger.rb:26:in `call'
sprockets-rails (3.2.1) lib/sprockets/rails/quiet_assets.rb:13:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/remote_ip.rb:81:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/request_id.rb:27:in `call'
rack (2.2.3) lib/rack/method_override.rb:24:in `call'
rack (2.2.3) lib/rack/runtime.rb:22:in `call'
activesupport (6.0.3.2) lib/active_support/cache/strategy/local_cache_middleware.rb:29:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/executor.rb:14:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/static.rb:126:in `call'
rack (2.2.3) lib/rack/sendfile.rb:110:in `call'
actionpack (6.0.3.2) lib/action_dispatch/middleware/host_authorization.rb:82:in `call'
webpacker (4.2.2) lib/webpacker/dev_server_proxy.rb:23:in `perform_request'
rack-proxy (0.6.5) lib/rack/proxy.rb:57:in `call'
railties (6.0.3.2) lib/rails/engine.rb:527:in `call'
puma (4.3.5) lib/puma/configuration.rb:228:in `call'
puma (4.3.5) lib/puma/server.rb:713:in `handle_request'
puma (4.3.5) lib/puma/server.rb:472:in `process_client'
puma (4.3.5) lib/puma/server.rb:328:in `block in run'
puma (4.3.5) lib/puma/thread_pool.rb:134:in `block in spawn_thread'
Started GET "/support_requests" for ::1 at 2020-07-17 15:40:57 +0700
Processing by SupportRequestsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:20:in `authorize'
  Rendering support_requests/index.html.erb within layouts/application
  [1m[36mSupportRequest Load (0.2ms)[0m  [1m[34mSELECT "support_requests".* FROM "support_requests"[0m
  ↳ app/views/support_requests/index.html.erb:2
  Rendered support_requests/index.html.erb within layouts/application (Duration: 4.7ms | Allocations: 979)
[Webpacker] Everything's up-to-date. Nothing to do
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 32ms (Views: 25.8ms | ActiveRecord: 0.5ms | Allocations: 9975)


Started GET "/cable" for ::1 at 2020-07-17 15:40:57 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-17 15:40:57 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/support_requests" for ::1 at 2020-07-17 15:40:58 +0700
Processing by SupportRequestsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:20:in `authorize'
  Rendering support_requests/index.html.erb within layouts/application
  [1m[36mSupportRequest Load (0.2ms)[0m  [1m[34mSELECT "support_requests".* FROM "support_requests"[0m
  ↳ app/views/support_requests/index.html.erb:2
  Rendered support_requests/index.html.erb within layouts/application (Duration: 2.7ms | Allocations: 593)
[Webpacker] Everything's up-to-date. Nothing to do
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 34ms (Views: 29.2ms | ActiveRecord: 0.5ms | Allocations: 8172)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-17 15:40:58 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-17 15:40:58 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-17 15:40:58 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/support_requests" for ::1 at 2020-07-17 15:40:58 +0700
Processing by SupportRequestsController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:20:in `authorize'
  Rendering support_requests/index.html.erb within layouts/application
  [1m[36mSupportRequest Load (0.3ms)[0m  [1m[34mSELECT "support_requests".* FROM "support_requests"[0m
  ↳ app/views/support_requests/index.html.erb:2
  Rendered support_requests/index.html.erb within layouts/application (Duration: 3.8ms | Allocations: 591)
[Webpacker] Everything's up-to-date. Nothing to do
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 27ms (Views: 23.1ms | ActiveRecord: 0.4ms | Allocations: 8148)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-17 15:40:58 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-17 15:40:58 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-17 15:40:58 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/support_requests" for ::1 at 2020-07-17 15:40:58 +0700
Processing by SupportRequestsController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:20:in `authorize'
  Rendering support_requests/index.html.erb within layouts/application
  [1m[36mSupportRequest Load (0.2ms)[0m  [1m[34mSELECT "support_requests".* FROM "support_requests"[0m
  ↳ app/views/support_requests/index.html.erb:2
  Rendered support_requests/index.html.erb within layouts/application (Duration: 2.9ms | Allocations: 591)
[Webpacker] Everything's up-to-date. Nothing to do
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 24ms (Views: 21.6ms | ActiveRecord: 0.3ms | Allocations: 8138)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-17 15:40:58 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-17 15:40:58 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-17 15:40:58 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/support_requests" for ::1 at 2020-07-17 15:40:58 +0700
Processing by SupportRequestsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:20:in `authorize'
  Rendering support_requests/index.html.erb within layouts/application
  [1m[36mSupportRequest Load (0.4ms)[0m  [1m[34mSELECT "support_requests".* FROM "support_requests"[0m
  ↳ app/views/support_requests/index.html.erb:2
  Rendered support_requests/index.html.erb within layouts/application (Duration: 5.4ms | Allocations: 591)
[Webpacker] Everything's up-to-date. Nothing to do
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 36ms (Views: 28.8ms | ActiveRecord: 0.6ms | Allocations: 8146)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-17 15:40:58 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-17 15:40:58 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-17 15:40:58 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/support_requests" for ::1 at 2020-07-17 15:40:58 +0700
Processing by SupportRequestsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:20:in `authorize'
  Rendering support_requests/index.html.erb within layouts/application
  [1m[36mSupportRequest Load (0.4ms)[0m  [1m[34mSELECT "support_requests".* FROM "support_requests"[0m
  ↳ app/views/support_requests/index.html.erb:2
  Rendered support_requests/index.html.erb within layouts/application (Duration: 3.7ms | Allocations: 593)
[Webpacker] Everything's up-to-date. Nothing to do
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 44ms (Views: 37.5ms | ActiveRecord: 0.7ms | Allocations: 8139)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-17 15:40:58 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-17 15:40:58 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-17 15:40:58 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/support_requests" for ::1 at 2020-07-17 15:40:59 +0700
Processing by SupportRequestsController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:20:in `authorize'
  Rendering support_requests/index.html.erb within layouts/application
  [1m[36mSupportRequest Load (0.1ms)[0m  [1m[34mSELECT "support_requests".* FROM "support_requests"[0m
  ↳ app/views/support_requests/index.html.erb:2
  Rendered support_requests/index.html.erb within layouts/application (Duration: 1.3ms | Allocations: 593)
[Webpacker] Everything's up-to-date. Nothing to do
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 23ms (Views: 17.7ms | ActiveRecord: 0.7ms | Allocations: 8161)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-17 15:40:59 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-17 15:40:59 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-17 15:40:59 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/support_requests" for ::1 at 2020-07-17 15:40:59 +0700
Processing by SupportRequestsController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:20:in `authorize'
  Rendering support_requests/index.html.erb within layouts/application
  [1m[36mSupportRequest Load (0.2ms)[0m  [1m[34mSELECT "support_requests".* FROM "support_requests"[0m
  ↳ app/views/support_requests/index.html.erb:2
  Rendered support_requests/index.html.erb within layouts/application (Duration: 3.3ms | Allocations: 592)
[Webpacker] Everything's up-to-date. Nothing to do
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 35ms (Views: 29.5ms | ActiveRecord: 0.5ms | Allocations: 8143)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-17 15:40:59 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-17 15:40:59 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-17 15:40:59 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/support_requests" for ::1 at 2020-07-17 15:40:59 +0700
Processing by SupportRequestsController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:20:in `authorize'
  Rendering support_requests/index.html.erb within layouts/application
  [1m[36mSupportRequest Load (0.1ms)[0m  [1m[34mSELECT "support_requests".* FROM "support_requests"[0m
  ↳ app/views/support_requests/index.html.erb:2
  Rendered support_requests/index.html.erb within layouts/application (Duration: 1.1ms | Allocations: 591)
[Webpacker] Everything's up-to-date. Nothing to do
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 22ms (Views: 18.5ms | ActiveRecord: 0.3ms | Allocations: 8128)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-17 15:40:59 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-17 15:40:59 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-17 15:40:59 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/support_requests" for ::1 at 2020-07-17 15:40:59 +0700
Processing by SupportRequestsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:20:in `authorize'
  Rendering support_requests/index.html.erb within layouts/application
  [1m[36mSupportRequest Load (0.1ms)[0m  [1m[34mSELECT "support_requests".* FROM "support_requests"[0m
  ↳ app/views/support_requests/index.html.erb:2
  Rendered support_requests/index.html.erb within layouts/application (Duration: 2.1ms | Allocations: 593)
[Webpacker] Everything's up-to-date. Nothing to do
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 25ms (Views: 19.4ms | ActiveRecord: 0.5ms | Allocations: 8140)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-17 15:40:59 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-17 15:40:59 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-17 15:40:59 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/support_requests" for ::1 at 2020-07-17 15:40:59 +0700
Processing by SupportRequestsController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:20:in `authorize'
  Rendering support_requests/index.html.erb within layouts/application
  [1m[36mSupportRequest Load (0.3ms)[0m  [1m[34mSELECT "support_requests".* FROM "support_requests"[0m
  ↳ app/views/support_requests/index.html.erb:2
  Rendered support_requests/index.html.erb within layouts/application (Duration: 4.4ms | Allocations: 591)
[Webpacker] Everything's up-to-date. Nothing to do
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 43ms (Views: 36.4ms | ActiveRecord: 0.8ms | Allocations: 8140)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-17 15:40:59 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-17 15:40:59 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-17 15:40:59 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/support_requests" for ::1 at 2020-07-17 15:44:02 +0700
Processing by SupportRequestsController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:20:in `authorize'
  Rendering support_requests/index.html.erb within layouts/application
  Rendered support_requests/index.html.erb within layouts/application (Duration: 0.4ms | Allocations: 147)
[Webpacker] Everything's up-to-date. Nothing to do
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 23ms (Views: 19.2ms | ActiveRecord: 0.2ms | Allocations: 9034)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-17 15:44:02 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-17 15:44:02 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-17 15:44:02 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/support_requests" for ::1 at 2020-07-17 15:45:45 +0700
Processing by SupportRequestsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:20:in `authorize'
  Rendering support_requests/index.html.erb within layouts/application
  Rendered support_requests/index.html.erb within layouts/application (Duration: 1.4ms | Allocations: 145)
[Webpacker] Everything's up-to-date. Nothing to do
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 24ms (Views: 17.4ms | ActiveRecord: 0.3ms | Allocations: 9101)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-17 15:45:45 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-17 15:45:45 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-17 15:45:45 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/support_requests" for ::1 at 2020-07-17 15:49:56 +0700
Processing by SupportRequestsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:20:in `authorize'
  Rendering support_requests/index.html.erb within layouts/application
  Rendered support_requests/index.html.erb within layouts/application (Duration: 2.2ms | Allocations: 1459)
Completed 500 Internal Server Error in 13ms (ActiveRecord: 0.4ms | Allocations: 3176)


  
ActionView::SyntaxErrorInTemplate (Encountered a syntax error while rendering template: check 
<!-- saved from url=(0102)http://media.pragprog.com/titles/rails6/code/rails6/depot_uc/app/views/support_requests/index.html.erb -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=windows-1252"></head><body><ul>
  <% @support_requests.each do |support_request| %>;
    <li>

      <h1>
        On <% support_request.created_at.to_formatted_s(:long) %>;
        <code><%= support_request.email %>;</code> writes:
      </h1>
      <p>
        </p><blockquote>
          <h2><%= support_request.subject %></h2>
          <%= support_request.body %>
        </blockquote>
      <p></p>
      <% if support_request.order %>

      <!-- Current markup -->

        <h3>Recent Order</h3>
        <dl>
          <dt>Name</dt>
          <dd><%= support_request.order.name %></dd>

          <dt>Email</dt>
          <dd><%= support_request.order.email %></dd>

          <dt>Address</dt>
          <dd><%= support_request.order.address %></dd>

          <dt>PayType</dt>
          <dd><%= support_request.order.pay_type %></dd>

          <dt>Line Items</dt>
          <dd>
            <ul>
              <% if support_request.order.line_items.each do |line_item| %>;
                <li><%= line_item.product.title %>; (<%= line_item.product.price %>)</li>
              <% end %>;
            </ul>
          </dd>
        </dl>
      <% else %>
        <h3 class="notice">No associated order</h3>
      <% end %>
      <% if support_request.response.blank? %>;
        <%= form_with(model: support_request,
                      local: true,
                      class: "depot_form") do |form| %>
          <div class="field">
            <%= form.label :response, "Write Response" %>
            <%= form.rich_text_area :response, id: :support_request_response %>
          </div>
          <div class="actions">
            <%= form.submit "Send Response" %>;
          </div>
        <% end %>
      <% else %>
        <h4>Our response:</h4>
        <p>
          </p><blockquote>
            <%= support_request.response %>;
          </blockquote>
        <p></p>
      <% end %>
      <hr>
    </li>
  <% end %>
</ul>

</body></html>
):
1:    
2:    <!-- saved from url=(0102)http://media.pragprog.com/titles/rails6/code/rails6/depot_uc/app/views/support_requests/index.html.erb -->
3:    <html><head><meta http-equiv="Content-Type" content="text/html; charset=windows-1252"></head><body><ul>
4:      <% @support_requests.each do |support_request| %>;
5:        <li>
6:    
7:          <h1>
8:            On <% support_request.created_at.to_formatted_s(:long) %>;
9:            <code><%= support_request.email %>;</code> writes:
10:          </h1>
11:          <p>
12:            </p><blockquote>
13:              <h2><%= support_request.subject %></h2>
14:              <%= support_request.body %>
15:            </blockquote>
16:          <p></p>
17:          <% if support_request.order %>
18:    
19:          <!-- Current markup -->
20:    
21:            <h3>Recent Order</h3>
22:            <dl>
23:              <dt>Name</dt>
24:              <dd><%= support_request.order.name %></dd>
25:    
26:              <dt>Email</dt>
27:              <dd><%= support_request.order.email %></dd>
28:    
29:              <dt>Address</dt>
30:              <dd><%= support_request.order.address %></dd>
31:    
32:              <dt>PayType</dt>
33:              <dd><%= support_request.order.pay_type %></dd>
34:    
35:              <dt>Line Items</dt>
36:              <dd>
37:                <ul>
38:                  <% if support_request.order.line_items.each do |line_item| %>;
39:                    <li><%= line_item.product.title %>; (<%= line_item.product.price %>)</li>
40:                  <% end %>;
41:                </ul>
42:              </dd>
43:            </dl>
44:          <% else %>
45:            <h3 class="notice">No associated order</h3>
46:          <% end %>
47:          <% if support_request.response.blank? %>;
48:            <%= form_with(model: support_request,
49:                          local: true,
50:                          class: "depot_form") do |form| %>
51:              <div class="field">
52:                <%= form.label :response, "Write Response" %>
53:                <%= form.rich_text_area :response, id: :support_request_response %>
54:              </div>
55:              <div class="actions">
56:                <%= form.submit "Send Response" %>;
57:              </div>
58:            <% end %>
59:          <% else %>
60:            <h4>Our response:</h4>
61:            <p>
62:              </p><blockquote>
63:                <%= support_request.response %>;
64:              </blockquote>
65:            <p></p>
66:          <% end %>
67:          <hr>
68:        </li>
69:      <% end %>
70:    </ul>
71:    
72:    </body></html>
  
app/views/support_requests/index.html.erb:74: syntax error, unexpected end-of-input, expecting `end'
app/views/support_requests/index.html.erb:74: syntax error, unexpected end-of-input, expecting `end'
app/views/support_requests/index.html.erb:74: syntax error, unexpected end-of-input, expecting `end'
app/views/support_requests/index.html.erb:74: syntax error, unexpected end-of-input, expecting `end'
app/views/support_requests/index.html.erb:74: syntax error, unexpected end-of-input, expecting `end'
app/views/support_requests/index.html.erb:74: syntax error, unexpected end-of-input, expecting `end'
Finished "/cable/" [WebSocket] for ::1 at 2020-07-17 15:49:57 +0700
ProductsChannel stopped streaming from products
Started GET "/support_requests" for ::1 at 2020-07-17 15:50:59 +0700
Processing by SupportRequestsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:20:in `authorize'
  Rendering support_requests/index.html.erb within layouts/application
  [1m[36mSupportRequest Load (0.7ms)[0m  [1m[34mSELECT "support_requests".* FROM "support_requests"[0m
  ↳ app/views/support_requests/index.html.erb:2
  Rendered support_requests/index.html.erb within layouts/application (Duration: 6.9ms | Allocations: 975)
[Webpacker] Everything's up-to-date. Nothing to do
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 39ms (Views: 33.5ms | ActiveRecord: 1.0ms | Allocations: 9911)


Started GET "/cable" for ::1 at 2020-07-17 15:50:59 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-17 15:50:59 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/support_requests" for ::1 at 2020-07-17 15:51:00 +0700
Processing by SupportRequestsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:20:in `authorize'
  Rendering support_requests/index.html.erb within layouts/application
  [1m[36mSupportRequest Load (0.2ms)[0m  [1m[34mSELECT "support_requests".* FROM "support_requests"[0m
  ↳ app/views/support_requests/index.html.erb:2
  Rendered support_requests/index.html.erb within layouts/application (Duration: 2.8ms | Allocations: 591)
[Webpacker] Everything's up-to-date. Nothing to do
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 38ms (Views: 33.6ms | ActiveRecord: 0.5ms | Allocations: 8150)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-17 15:51:00 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-17 15:51:00 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-17 15:51:00 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/support_requests" for ::1 at 2020-07-17 15:51:00 +0700
Processing by SupportRequestsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:20:in `authorize'
  Rendering support_requests/index.html.erb within layouts/application
  [1m[36mSupportRequest Load (0.1ms)[0m  [1m[34mSELECT "support_requests".* FROM "support_requests"[0m
  ↳ app/views/support_requests/index.html.erb:2
  Rendered support_requests/index.html.erb within layouts/application (Duration: 2.1ms | Allocations: 593)
[Webpacker] Everything's up-to-date. Nothing to do
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 25ms (Views: 19.5ms | ActiveRecord: 0.4ms | Allocations: 8168)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-17 15:51:00 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-17 15:51:00 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-17 15:51:00 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/support_requests" for ::1 at 2020-07-17 15:51:00 +0700
Processing by SupportRequestsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:20:in `authorize'
  Rendering support_requests/index.html.erb within layouts/application
  [1m[36mSupportRequest Load (0.2ms)[0m  [1m[34mSELECT "support_requests".* FROM "support_requests"[0m
  ↳ app/views/support_requests/index.html.erb:2
  Rendered support_requests/index.html.erb within layouts/application (Duration: 2.1ms | Allocations: 591)
[Webpacker] Everything's up-to-date. Nothing to do
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 25ms (Views: 18.8ms | ActiveRecord: 0.4ms | Allocations: 8148)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-17 15:51:00 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-17 15:51:00 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-17 15:51:00 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/support_requests" for ::1 at 2020-07-17 15:51:00 +0700
Processing by SupportRequestsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:20:in `authorize'
  Rendering support_requests/index.html.erb within layouts/application
  [1m[36mSupportRequest Load (0.2ms)[0m  [1m[34mSELECT "support_requests".* FROM "support_requests"[0m
  ↳ app/views/support_requests/index.html.erb:2
  Rendered support_requests/index.html.erb within layouts/application (Duration: 2.4ms | Allocations: 591)
[Webpacker] Everything's up-to-date. Nothing to do
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 54ms (Views: 49.2ms | ActiveRecord: 0.5ms | Allocations: 8337)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-17 15:51:00 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-17 15:51:00 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-17 15:51:00 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/support_requests" for ::1 at 2020-07-17 15:51:01 +0700
Processing by SupportRequestsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:20:in `authorize'
  Rendering support_requests/index.html.erb within layouts/application
  [1m[36mSupportRequest Load (0.2ms)[0m  [1m[34mSELECT "support_requests".* FROM "support_requests"[0m
  ↳ app/views/support_requests/index.html.erb:2
  Rendered support_requests/index.html.erb within layouts/application (Duration: 2.6ms | Allocations: 591)
[Webpacker] Everything's up-to-date. Nothing to do
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 27ms (Views: 22.2ms | ActiveRecord: 0.5ms | Allocations: 8139)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-17 15:51:01 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-17 15:51:01 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-17 15:51:01 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/support_requests" for ::1 at 2020-07-17 15:51:01 +0700
Processing by SupportRequestsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:20:in `authorize'
  Rendering support_requests/index.html.erb within layouts/application
  [1m[36mSupportRequest Load (0.3ms)[0m  [1m[34mSELECT "support_requests".* FROM "support_requests"[0m
  ↳ app/views/support_requests/index.html.erb:2
  Rendered support_requests/index.html.erb within layouts/application (Duration: 3.1ms | Allocations: 591)
[Webpacker] Everything's up-to-date. Nothing to do
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 29ms (Views: 24.2ms | ActiveRecord: 0.6ms | Allocations: 8136)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-17 15:51:01 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-17 15:51:01 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-17 15:51:01 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/support_requests" for ::1 at 2020-07-17 15:51:01 +0700
Processing by SupportRequestsController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:20:in `authorize'
  Rendering support_requests/index.html.erb within layouts/application
  [1m[36mSupportRequest Load (0.2ms)[0m  [1m[34mSELECT "support_requests".* FROM "support_requests"[0m
  ↳ app/views/support_requests/index.html.erb:2
  Rendered support_requests/index.html.erb within layouts/application (Duration: 1.6ms | Allocations: 591)
[Webpacker] Everything's up-to-date. Nothing to do
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 31ms (Views: 27.0ms | ActiveRecord: 0.4ms | Allocations: 8146)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-17 15:51:01 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-17 15:51:01 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-17 15:51:01 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/support_requests" for ::1 at 2020-07-17 15:51:37 +0700
Processing by SupportRequestsController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:20:in `authorize'
  Rendering support_requests/index.html.erb within layouts/application
  [1m[36mSupportRequest Load (0.1ms)[0m  [1m[34mSELECT "support_requests".* FROM "support_requests"[0m
  ↳ app/views/support_requests/index.html.erb:2
  Rendered support_requests/index.html.erb within layouts/application (Duration: 1.7ms | Allocations: 976)
[Webpacker] Everything's up-to-date. Nothing to do
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 17ms (Views: 13.5ms | ActiveRecord: 0.2ms | Allocations: 9854)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-17 15:51:37 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-17 15:51:37 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-17 15:51:37 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/support_requests" for ::1 at 2020-07-17 15:51:38 +0700
Processing by SupportRequestsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:20:in `authorize'
  Rendering support_requests/index.html.erb within layouts/application
  [1m[36mSupportRequest Load (0.2ms)[0m  [1m[34mSELECT "support_requests".* FROM "support_requests"[0m
  ↳ app/views/support_requests/index.html.erb:2
  Rendered support_requests/index.html.erb within layouts/application (Duration: 1.8ms | Allocations: 593)
[Webpacker] Everything's up-to-date. Nothing to do
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 25ms (Views: 20.1ms | ActiveRecord: 0.5ms | Allocations: 8177)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-17 15:51:38 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-17 15:51:38 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-17 15:51:38 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/support_requests" for ::1 at 2020-07-17 15:51:38 +0700
Processing by SupportRequestsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:20:in `authorize'
  Rendering support_requests/index.html.erb within layouts/application
  [1m[36mSupportRequest Load (0.2ms)[0m  [1m[34mSELECT "support_requests".* FROM "support_requests"[0m
  ↳ app/views/support_requests/index.html.erb:2
  Rendered support_requests/index.html.erb within layouts/application (Duration: 2.6ms | Allocations: 593)
[Webpacker] Everything's up-to-date. Nothing to do
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 29ms (Views: 23.7ms | ActiveRecord: 0.5ms | Allocations: 8211)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-17 15:51:38 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-17 15:51:38 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-17 15:51:38 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/support_requests" for ::1 at 2020-07-17 15:51:38 +0700
Processing by SupportRequestsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:20:in `authorize'
  Rendering support_requests/index.html.erb within layouts/application
  [1m[36mSupportRequest Load (0.1ms)[0m  [1m[34mSELECT "support_requests".* FROM "support_requests"[0m
  ↳ app/views/support_requests/index.html.erb:2
  Rendered support_requests/index.html.erb within layouts/application (Duration: 1.6ms | Allocations: 593)
[Webpacker] Everything's up-to-date. Nothing to do
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 28ms (Views: 22.9ms | ActiveRecord: 0.6ms | Allocations: 8173)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-17 15:51:38 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-17 15:51:38 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-17 15:51:38 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/support_requests" for ::1 at 2020-07-17 15:51:38 +0700
Processing by SupportRequestsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:20:in `authorize'
  Rendering support_requests/index.html.erb within layouts/application
  [1m[36mSupportRequest Load (0.2ms)[0m  [1m[34mSELECT "support_requests".* FROM "support_requests"[0m
  ↳ app/views/support_requests/index.html.erb:2
  Rendered support_requests/index.html.erb within layouts/application (Duration: 4.1ms | Allocations: 591)
[Webpacker] Everything's up-to-date. Nothing to do
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 54ms (Views: 48.6ms | ActiveRecord: 0.5ms | Allocations: 8144)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-17 15:51:38 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-17 15:51:38 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-17 15:51:38 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/support_requests" for ::1 at 2020-07-17 15:51:38 +0700
Processing by SupportRequestsController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:20:in `authorize'
  Rendering support_requests/index.html.erb within layouts/application
  [1m[36mSupportRequest Load (0.1ms)[0m  [1m[34mSELECT "support_requests".* FROM "support_requests"[0m
  ↳ app/views/support_requests/index.html.erb:2
  Rendered support_requests/index.html.erb within layouts/application (Duration: 1.2ms | Allocations: 591)
[Webpacker] Everything's up-to-date. Nothing to do
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 24ms (Views: 21.1ms | ActiveRecord: 0.2ms | Allocations: 8142)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-17 15:51:38 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-17 15:51:39 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-17 15:51:39 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/support_requests" for ::1 at 2020-07-17 15:51:39 +0700
Processing by SupportRequestsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:20:in `authorize'
  Rendering support_requests/index.html.erb within layouts/application
  [1m[36mSupportRequest Load (0.3ms)[0m  [1m[34mSELECT "support_requests".* FROM "support_requests"[0m
  ↳ app/views/support_requests/index.html.erb:2
  Rendered support_requests/index.html.erb within layouts/application (Duration: 3.0ms | Allocations: 591)
[Webpacker] Everything's up-to-date. Nothing to do
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 40ms (Views: 35.1ms | ActiveRecord: 0.6ms | Allocations: 8135)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-17 15:51:39 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-17 15:51:39 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-17 15:51:39 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
Started GET "/support_requests" for ::1 at 2020-07-17 15:51:39 +0700
ProductsChannel is streaming from products
Processing by SupportRequestsController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:20:in `authorize'
  Rendering support_requests/index.html.erb within layouts/application
  [1m[36mSupportRequest Load (0.2ms)[0m  [1m[34mSELECT "support_requests".* FROM "support_requests"[0m
  ↳ app/views/support_requests/index.html.erb:2
  Rendered support_requests/index.html.erb within layouts/application (Duration: 2.2ms | Allocations: 591)
[Webpacker] Everything's up-to-date. Nothing to do
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 35ms (Views: 28.4ms | ActiveRecord: 0.6ms | Allocations: 8146)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-17 15:51:39 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-17 15:51:39 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-17 15:51:39 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/support_requests" for ::1 at 2020-07-17 15:52:11 +0700
Processing by SupportRequestsController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:20:in `authorize'
  Rendering support_requests/index.html.erb within layouts/application
  [1m[36mSupportRequest Load (0.2ms)[0m  [1m[34mSELECT "support_requests".* FROM "support_requests"[0m
  ↳ app/views/support_requests/index.html.erb:2
  Rendered support_requests/index.html.erb within layouts/application (Duration: 2.3ms | Allocations: 591)
[Webpacker] Everything's up-to-date. Nothing to do
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 19ms (Views: 14.6ms | ActiveRecord: 0.5ms | Allocations: 8140)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-17 15:52:11 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-17 15:52:11 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-17 15:52:11 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/products" for ::1 at 2020-07-17 15:52:53 +0700
Processing by ProductsController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:20:in `authorize'
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/products/index.html.erb:12
  Rendered products/index.html.erb within layouts/application (Duration: 133.8ms | Allocations: 6974)
[Webpacker] Everything's up-to-date. Nothing to do
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 174ms (Views: 160.9ms | ActiveRecord: 1.4ms | Allocations: 17204)


Started GET "/orders" for ::1 at 2020-07-17 15:53:24 +0700
Processing by OrdersController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:20:in `authorize'
  Rendering orders/index.html.erb within layouts/application
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT "orders".* FROM "orders"[0m
  ↳ app/views/orders/index.html.erb:17
  Rendered orders/index.html.erb within layouts/application (Duration: 49.1ms | Allocations: 4936)
[Webpacker] Everything's up-to-date. Nothing to do
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 66ms (Views: 60.0ms | ActiveRecord: 0.8ms | Allocations: 14369)


Started GET "/rails/conductor/action_mailbox/inbound_emails" for ::1 at 2020-07-17 15:53:34 +0700
Processing by Rails::Conductor::ActionMailbox::InboundEmailsController#index as HTML
  Rendering /home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/actionmailbox-6.0.3.2/app/views/rails/conductor/action_mailbox/inbound_emails/index.html.erb within layouts/rails/conductor
  [1m[36mActionMailbox::InboundEmail Load (0.2ms)[0m  [1m[34mSELECT "action_mailbox_inbound_emails".* FROM "action_mailbox_inbound_emails" ORDER BY "action_mailbox_inbound_emails"."created_at" DESC[0m
  Rendered /home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/actionmailbox-6.0.3.2/app/views/rails/conductor/action_mailbox/inbound_emails/index.html.erb within layouts/rails/conductor (Duration: 10.5ms | Allocations: 5035)
Completed 200 OK in 22ms (Views: 12.5ms | ActiveRecord: 0.9ms | Allocations: 8451)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-17 15:53:35 +0700
ProductsChannel stopped streaming from products
Started GET "/rails/conductor/action_mailbox/inbound_emails/new" for ::1 at 2020-07-17 15:53:39 +0700
Processing by Rails::Conductor::ActionMailbox::InboundEmailsController#new as HTML
  Rendering /home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/actionmailbox-6.0.3.2/app/views/rails/conductor/action_mailbox/inbound_emails/new.html.erb within layouts/rails/conductor
  Rendered /home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/actionmailbox-6.0.3.2/app/views/rails/conductor/action_mailbox/inbound_emails/new.html.erb within layouts/rails/conductor (Duration: 5.3ms | Allocations: 1655)
Completed 200 OK in 8ms (Views: 6.5ms | ActiveRecord: 0.0ms | Allocations: 2431)


Started GET "/rails/conductor/action_mailbox/inbound_emails/new" for ::1 at 2020-07-17 15:53:49 +0700
Processing by Rails::Conductor::ActionMailbox::InboundEmailsController#new as HTML
  Rendering /home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/actionmailbox-6.0.3.2/app/views/rails/conductor/action_mailbox/inbound_emails/new.html.erb within layouts/rails/conductor
  Rendered /home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/actionmailbox-6.0.3.2/app/views/rails/conductor/action_mailbox/inbound_emails/new.html.erb within layouts/rails/conductor (Duration: 4.1ms | Allocations: 832)
Completed 200 OK in 9ms (Views: 5.9ms | ActiveRecord: 0.0ms | Allocations: 1270)


Started POST "/rails/conductor/action_mailbox/inbound_emails" for ::1 at 2020-07-17 15:54:33 +0700
Processing by Rails::Conductor::ActionMailbox::InboundEmailsController#create as HTML
  Parameters: {"authenticity_token"=>"X/1/hLaj2zQAFlqRwnBLgJd4uvIVtgcjh52PYQW/T2cYsAaQP8cuNNwwjIcbOGWlrezo0hDV9OVefxFn3kbhZw==", "mail"=>{"from"=>"01673khanh@gmail.com", "to"=>"01673khanh@gmail.com", "cc"=>"11", "bcc"=>"sdfdfdfd", "in_reply_to"=>"dddddddddddddddde", "subject"=>"eeeeeeehijs", "body"=>"1111111"}, "commit"=>"Deliver inbound email"}
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActionMailbox::InboundEmail Create (0.9ms)[0m  [1m[32mINSERT INTO "action_mailbox_inbound_emails" ("message_id", "message_checksum", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["message_id", "5f116749eb049_76d57198784c4@khanh-X510UAR.mail"], ["message_checksum", "7f7895775b6ac9910f867052caf04185d4771336"], ["created_at", "2020-07-17 08:54:33.966892"], ["updated_at", "2020-07-17 08:54:33.966892"]]
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 3], ["record_type", "ActionMailbox::InboundEmail"], ["name", "raw_email"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 3], ["record_type", "ActionMailbox::InboundEmail"], ["name", "raw_email"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["key", "ho3ejus4m8t1l4ormpt9fd82ndjk"], ["filename", "message.eml"], ["content_type", "message/rfc822"], ["metadata", "{\"identified\":true}"], ["byte_size", 336], ["checksum", "immTVkIxf9vFzA5uIhQZJQ=="], ["created_at", "2020-07-17 08:54:34.025901"]]
  [1m[36mActiveStorage::Attachment Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "raw_email"], ["record_type", "ActionMailbox::InboundEmail"], ["record_id", 3], ["blob_id", 3], ["created_at", "2020-07-17 08:54:34.028731"]]
  [1m[36mActionMailbox::InboundEmail Update (0.5ms)[0m  [1m[33mUPDATE "action_mailbox_inbound_emails" SET "updated_at" = ? WHERE "action_mailbox_inbound_emails"."id" = ?[0m  [["updated_at", "2020-07-17 08:54:34.033802"], ["id", 3]]
  [1m[35m (182.9ms)[0m  [1m[36mcommit transaction[0m
[36m  Disk Storage (3.7ms) [0m[32mUploaded file to key: ho3ejus4m8t1l4ormpt9fd82ndjk (checksum: immTVkIxf9vFzA5uIhQZJQ==)[0m
[ActiveJob] Enqueued ActionMailbox::RoutingJob (Job ID: b88191d6-a321-465f-8712-8954f626b2b7) to Async(action_mailbox_routing) with arguments: #<GlobalID:0x00007f7274488030 @uri=#<URI::GID gid://depot/ActionMailbox::InboundEmail/3>>
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 9a9b7a8c-c145-4c99-881f-85c6badcd326) to Async(active_storage_analysis) with arguments: #<GlobalID:0x00007f7274474ad0 @uri=#<URI::GID gid://depot/ActiveStorage::Blob/3>>
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Redirected to http://localhost:3000/rails/conductor/action_mailbox/inbound_emails/3
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Completed 302 Found in 312ms (ActiveRecord: 186.1ms | Allocations: 59665)


  [1m[36mActiveStorage::Blob Load (0.4ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  [1m[36mActionMailbox::InboundEmail Load (0.2ms)[0m  [1m[34mSELECT "action_mailbox_inbound_emails".* FROM "action_mailbox_inbound_emails" WHERE "action_mailbox_inbound_emails"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
[ActiveJob] [ActionMailbox::RoutingJob] [b88191d6-a321-465f-8712-8954f626b2b7] Performing ActionMailbox::RoutingJob (Job ID: b88191d6-a321-465f-8712-8954f626b2b7) from Async(action_mailbox_routing) enqueued at 2020-07-17T08:54:34Z with arguments: #<GlobalID:0x00007f72744015f8 @uri=#<URI::GID gid://depot/ActionMailbox::InboundEmail/3>>
[ActiveJob] [ActionMailbox::RoutingJob] [b88191d6-a321-465f-8712-8954f626b2b7]   [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 3], ["record_type", "ActionMailbox::InboundEmail"], ["name", "raw_email"], ["LIMIT", 1]]
[ActiveJob] [ActionMailbox::RoutingJob] [b88191d6-a321-465f-8712-8954f626b2b7]   [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [9a9b7a8c-c145-4c99-881f-85c6badcd326] Performing ActiveStorage::AnalyzeJob (Job ID: 9a9b7a8c-c145-4c99-881f-85c6badcd326) from Async(active_storage_analysis) enqueued at 2020-07-17T08:54:34Z with arguments: #<GlobalID:0x00007f72743af528 @uri=#<URI::GID gid://depot/ActiveStorage::Blob/3>>
[ActiveJob] [ActionMailbox::RoutingJob] [b88191d6-a321-465f-8712-8954f626b2b7] [36m  Disk Storage (0.9ms) [0m[34mDownloaded file from key: ho3ejus4m8t1l4ormpt9fd82ndjk[0m
[ActiveJob] [ActionMailbox::RoutingJob] [b88191d6-a321-465f-8712-8954f626b2b7]   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [9a9b7a8c-c145-4c99-881f-85c6badcd326]   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
Started GET "/rails/conductor/action_mailbox/inbound_emails/3" for ::1 at 2020-07-17 15:54:39 +0700
[ActiveJob] [ActiveStorage::AnalyzeJob] [9a9b7a8c-c145-4c99-881f-85c6badcd326]   [1m[36mActiveStorage::Blob Update (5019.7ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 3]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [9a9b7a8c-c145-4c99-881f-85c6badcd326]   [1m[35m (0.2ms)[0m  [1m[31mrollback transaction[0m
[ActiveJob] [ActionMailbox::RoutingJob] [b88191d6-a321-465f-8712-8954f626b2b7]   [1m[36mActionMailbox::InboundEmail Update (0.3ms)[0m  [1m[33mUPDATE "action_mailbox_inbound_emails" SET "status" = ?, "updated_at" = ? WHERE "action_mailbox_inbound_emails"."id" = ?[0m  [["status", 4], ["updated_at", "2020-07-17 08:54:34.289254"], ["id", 3]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [9a9b7a8c-c145-4c99-881f-85c6badcd326] Error performing ActiveStorage::AnalyzeJob (Job ID: 9a9b7a8c-c145-4c99-881f-85c6badcd326) from Async(active_storage_analysis) in 5036.89ms: ActiveRecord::StatementInvalid (SQLite3::BusyException: database is locked):
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/sqlite3-1.4.2/lib/sqlite3/statement.rb:108:in `step'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/sqlite3-1.4.2/lib/sqlite3/statement.rb:108:in `block in each'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/sqlite3-1.4.2/lib/sqlite3/statement.rb:107:in `loop'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/sqlite3-1.4.2/lib/sqlite3/statement.rb:107:in `each'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activerecord-6.0.3.2/lib/active_record/connection_adapters/sqlite3/database_statements.rb:49:in `to_a'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activerecord-6.0.3.2/lib/active_record/connection_adapters/sqlite3/database_statements.rb:49:in `block (2 levels) in exec_query'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/dependencies/interlock.rb:48:in `block in permit_concurrent_loads'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/concurrency/share_lock.rb:187:in `yield_shares'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/dependencies/interlock.rb:47:in `permit_concurrent_loads'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activerecord-6.0.3.2/lib/active_record/connection_adapters/sqlite3/database_statements.rb:40:in `block in exec_query'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activerecord-6.0.3.2/lib/active_record/connection_adapters/abstract_adapter.rb:722:in `block (2 levels) in log'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/concurrency/load_interlock_aware_monitor.rb:26:in `block (2 levels) in synchronize'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/concurrency/load_interlock_aware_monitor.rb:25:in `handle_interrupt'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/concurrency/load_interlock_aware_monitor.rb:25:in `block in synchronize'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/concurrency/load_interlock_aware_monitor.rb:21:in `handle_interrupt'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/concurrency/load_interlock_aware_monitor.rb:21:in `synchronize'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activerecord-6.0.3.2/lib/active_record/connection_adapters/abstract_adapter.rb:721:in `block in log'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activerecord-6.0.3.2/lib/active_record/connection_adapters/abstract_adapter.rb:712:in `log'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activerecord-6.0.3.2/lib/active_record/connection_adapters/sqlite3/database_statements.rb:39:in `exec_query'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activerecord-6.0.3.2/lib/active_record/connection_adapters/sqlite3/database_statements.rb:67:in `exec_delete'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activerecord-6.0.3.2/lib/active_record/connection_adapters/abstract/database_statements.rb:174:in `update'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activerecord-6.0.3.2/lib/active_record/connection_adapters/abstract/query_cache.rb:22:in `update'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activerecord-6.0.3.2/lib/active_record/persistence.rb:385:in `_update_record'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activerecord-6.0.3.2/lib/active_record/persistence.rb:896:in `_update_row'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activerecord-6.0.3.2/lib/active_record/locking/optimistic.rb:79:in `_update_row'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activerecord-6.0.3.2/lib/active_record/persistence.rb:918:in `_update_record'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activerecord-6.0.3.2/lib/active_record/attribute_methods/dirty.rb:205:in `_update_record'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activerecord-6.0.3.2/lib/active_record/callbacks.rb:335:in `block in _update_record'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:135:in `run_callbacks'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:825:in `_run_update_callbacks'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activerecord-6.0.3.2/lib/active_record/callbacks.rb:335:in `_update_record'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activerecord-6.0.3.2/lib/active_record/timestamp.rb:123:in `_update_record'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activerecord-6.0.3.2/lib/active_record/persistence.rb:905:in `create_or_update'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activerecord-6.0.3.2/lib/active_record/callbacks.rb:327:in `block in create_or_update'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:135:in `run_callbacks'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:825:in `_run_save_callbacks'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activerecord-6.0.3.2/lib/active_record/callbacks.rb:327:in `create_or_update'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activerecord-6.0.3.2/lib/active_record/timestamp.rb:128:in `create_or_update'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activerecord-6.0.3.2/lib/active_record/persistence.rb:503:in `save!'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activerecord-6.0.3.2/lib/active_record/validations.rb:53:in `save!'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activerecord-6.0.3.2/lib/active_record/transactions.rb:318:in `block in save!'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activerecord-6.0.3.2/lib/active_record/transactions.rb:375:in `block in with_transaction_returning_status'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activerecord-6.0.3.2/lib/active_record/connection_adapters/abstract/database_statements.rb:278:in `transaction'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activerecord-6.0.3.2/lib/active_record/transactions.rb:212:in `transaction'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activerecord-6.0.3.2/lib/active_record/transactions.rb:366:in `with_transaction_returning_status'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activerecord-6.0.3.2/lib/active_record/transactions.rb:318:in `save!'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activerecord-6.0.3.2/lib/active_record/suppressor.rb:48:in `save!'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activerecord-6.0.3.2/lib/active_record/persistence.rb:635:in `block in update!'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activerecord-6.0.3.2/lib/active_record/transactions.rb:375:in `block in with_transaction_returning_status'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activerecord-6.0.3.2/lib/active_record/connection_adapters/abstract/database_statements.rb:280:in `block in transaction'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activerecord-6.0.3.2/lib/active_record/connection_adapters/abstract/transaction.rb:280:in `block in within_new_transaction'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/concurrency/load_interlock_aware_monitor.rb:26:in `block (2 levels) in synchronize'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/concurrency/load_interlock_aware_monitor.rb:25:in `handle_interrupt'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/concurrency/load_interlock_aware_monitor.rb:25:in `block in synchronize'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/concurrency/load_interlock_aware_monitor.rb:21:in `handle_interrupt'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/concurrency/load_interlock_aware_monitor.rb:21:in `synchronize'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activerecord-6.0.3.2/lib/active_record/connection_adapters/abstract/transaction.rb:278:in `within_new_transaction'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activerecord-6.0.3.2/lib/active_record/connection_adapters/abstract/database_statements.rb:280:in `transaction'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activerecord-6.0.3.2/lib/active_record/transactions.rb:212:in `transaction'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activerecord-6.0.3.2/lib/active_record/transactions.rb:366:in `with_transaction_returning_status'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activerecord-6.0.3.2/lib/active_record/persistence.rb:633:in `update!'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activestorage-6.0.3.2/app/models/active_storage/blob/analyzable.rb:29:in `analyze'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activestorage-6.0.3.2/app/jobs/active_storage/analyze_job.rb:11:in `perform'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/execution.rb:40:in `block in perform_now'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:112:in `block in run_callbacks'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/i18n-1.8.3/lib/i18n.rb:313:in `with_locale'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/translation.rb:9:in `block (2 levels) in <module:Translation>'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `instance_exec'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/core_ext/time/zones.rb:66:in `use_zone'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/timezones.rb:9:in `block (2 levels) in <module:Timezones>'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `instance_exec'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/logging.rb:25:in `block (4 levels) in <module:Logging>'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/notifications.rb:180:in `block in instrument'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/notifications.rb:180:in `instrument'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/logging.rb:24:in `block (3 levels) in <module:Logging>'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/logging.rb:45:in `block in tag_logger'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/tagged_logging.rb:28:in `tagged'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/tagged_logging.rb:80:in `tagged'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/logging.rb:45:in `tag_logger'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/logging.rb:21:in `block (2 levels) in <module:Logging>'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `instance_exec'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:139:in `run_callbacks'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/execution.rb:39:in `perform_now'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/execution.rb:25:in `block in execute'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:112:in `block in run_callbacks'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/railtie.rb:43:in `block (4 levels) in <class:Railtie>'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/execution_wrapper.rb:88:in `wrap'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/reloader.rb:72:in `block in wrap'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/execution_wrapper.rb:88:in `wrap'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/reloader.rb:71:in `wrap'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/railtie.rb:42:in `block (3 levels) in <class:Railtie>'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `instance_exec'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:139:in `run_callbacks'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/execution.rb:23:in `execute'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/queue_adapters/async_adapter.rb:70:in `perform'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/concurrent-ruby-1.1.6/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:353:in `run_task'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/concurrent-ruby-1.1.6/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:342:in `block (3 levels) in create_worker'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/concurrent-ruby-1.1.6/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:325:in `loop'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/concurrent-ruby-1.1.6/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:325:in `block (2 levels) in create_worker'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/concurrent-ruby-1.1.6/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:324:in `catch'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/concurrent-ruby-1.1.6/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:324:in `block in create_worker'
[ActiveJob] [ActionMailbox::RoutingJob] [b88191d6-a321-465f-8712-8954f626b2b7]   [1m[35m (194.0ms)[0m  [1m[36mcommit transaction[0m
[ActiveJob] [ActionMailbox::RoutingJob] [b88191d6-a321-465f-8712-8954f626b2b7] Enqueued ActionMailbox::IncinerationJob (Job ID: bccaefaf-f53c-4809-946a-cef178524360) to Async(action_mailbox_incineration) at 2020-08-16 08:54:39 UTC with arguments: #<GlobalID:0x00007f727428c718 @uri=#<URI::GID gid://depot/ActionMailbox::InboundEmail/3>>
[ActiveJob] [ActionMailbox::RoutingJob] [b88191d6-a321-465f-8712-8954f626b2b7] Error performing ActionMailbox::RoutingJob (Job ID: b88191d6-a321-465f-8712-8954f626b2b7) from Async(action_mailbox_routing) in 5261.59ms: ActionMailbox::Router::RoutingError (ActionMailbox::Router::RoutingError):
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/actionmailbox-6.0.3.2/lib/action_mailbox/router.rb:29:in `route'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/actionmailbox-6.0.3.2/lib/action_mailbox/routing.rb:18:in `route'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/actionmailbox-6.0.3.2/app/models/action_mailbox/inbound_email/routable.rb:22:in `route'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/actionmailbox-6.0.3.2/app/jobs/action_mailbox/routing_job.rb:10:in `perform'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/execution.rb:40:in `block in perform_now'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:112:in `block in run_callbacks'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/i18n-1.8.3/lib/i18n.rb:313:in `with_locale'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/translation.rb:9:in `block (2 levels) in <module:Translation>'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `instance_exec'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/core_ext/time/zones.rb:66:in `use_zone'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/timezones.rb:9:in `block (2 levels) in <module:Timezones>'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `instance_exec'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/logging.rb:25:in `block (4 levels) in <module:Logging>'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/notifications.rb:180:in `block in instrument'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/notifications.rb:180:in `instrument'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/logging.rb:24:in `block (3 levels) in <module:Logging>'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/logging.rb:45:in `block in tag_logger'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/tagged_logging.rb:28:in `tagged'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/tagged_logging.rb:80:in `tagged'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/logging.rb:45:in `tag_logger'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/logging.rb:21:in `block (2 levels) in <module:Logging>'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `instance_exec'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:139:in `run_callbacks'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/execution.rb:39:in `perform_now'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/execution.rb:25:in `block in execute'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:112:in `block in run_callbacks'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/railtie.rb:43:in `block (4 levels) in <class:Railtie>'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/execution_wrapper.rb:88:in `wrap'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/reloader.rb:72:in `block in wrap'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/execution_wrapper.rb:88:in `wrap'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/reloader.rb:71:in `wrap'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/railtie.rb:42:in `block (3 levels) in <class:Railtie>'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `instance_exec'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:139:in `run_callbacks'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/execution.rb:23:in `execute'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/queue_adapters/async_adapter.rb:70:in `perform'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/concurrent-ruby-1.1.6/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:353:in `run_task'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/concurrent-ruby-1.1.6/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:342:in `block (3 levels) in create_worker'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/concurrent-ruby-1.1.6/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:325:in `loop'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/concurrent-ruby-1.1.6/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:325:in `block (2 levels) in create_worker'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/concurrent-ruby-1.1.6/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:324:in `catch'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/concurrent-ruby-1.1.6/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:324:in `block in create_worker'
Processing by Rails::Conductor::ActionMailbox::InboundEmailsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mActionMailbox::InboundEmail Load (0.7ms)[0m  [1m[34mSELECT "action_mailbox_inbound_emails".* FROM "action_mailbox_inbound_emails" WHERE "action_mailbox_inbound_emails"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendering /home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/actionmailbox-6.0.3.2/app/views/rails/conductor/action_mailbox/inbound_emails/show.html.erb within layouts/rails/conductor
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 3], ["record_type", "ActionMailbox::InboundEmail"], ["name", "raw_email"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
[36m  Disk Storage (0.1ms) [0m[34mDownloaded file from key: ho3ejus4m8t1l4ormpt9fd82ndjk[0m
  Rendered /home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/actionmailbox-6.0.3.2/app/views/rails/conductor/action_mailbox/inbound_emails/show.html.erb within layouts/rails/conductor (Duration: 9.5ms | Allocations: 3937)
Completed 200 OK in 23ms (Views: 10.6ms | ActiveRecord: 1.1ms | Allocations: 5898)


Started GET "/rails/conductor/action_mailbox/inbound_emails/3" for ::1 at 2020-07-17 15:56:56 +0700
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by Rails::Conductor::ActionMailbox::InboundEmailsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mActionMailbox::InboundEmail Load (0.3ms)[0m  [1m[34mSELECT "action_mailbox_inbound_emails".* FROM "action_mailbox_inbound_emails" WHERE "action_mailbox_inbound_emails"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendering /home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/actionmailbox-6.0.3.2/app/views/rails/conductor/action_mailbox/inbound_emails/show.html.erb within layouts/rails/conductor
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 3], ["record_type", "ActionMailbox::InboundEmail"], ["name", "raw_email"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
[36m  Disk Storage (0.1ms) [0m[34mDownloaded file from key: ho3ejus4m8t1l4ormpt9fd82ndjk[0m
  Rendered /home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/actionmailbox-6.0.3.2/app/views/rails/conductor/action_mailbox/inbound_emails/show.html.erb within layouts/rails/conductor (Duration: 35.6ms | Allocations: 15986)
Completed 200 OK in 86ms (Views: 34.6ms | ActiveRecord: 4.7ms | Allocations: 23457)


Started GET "/rails/conductor/action_mailbox/inbound_emails" for ::1 at 2020-07-17 15:57:00 +0700
Processing by Rails::Conductor::ActionMailbox::InboundEmailsController#index as HTML
  Rendering /home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/actionmailbox-6.0.3.2/app/views/rails/conductor/action_mailbox/inbound_emails/index.html.erb within layouts/rails/conductor
  [1m[36mActionMailbox::InboundEmail Load (0.8ms)[0m  [1m[34mSELECT "action_mailbox_inbound_emails".* FROM "action_mailbox_inbound_emails" ORDER BY "action_mailbox_inbound_emails"."created_at" DESC[0m
  Rendered /home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/actionmailbox-6.0.3.2/app/views/rails/conductor/action_mailbox/inbound_emails/index.html.erb within layouts/rails/conductor (Duration: 7.5ms | Allocations: 1709)
Completed 200 OK in 11ms (Views: 8.1ms | ActiveRecord: 0.8ms | Allocations: 2200)


Started GET "/rails/conductor/action_mailbox/inbound_emails/3" for ::1 at 2020-07-17 15:57:01 +0700
Processing by Rails::Conductor::ActionMailbox::InboundEmailsController#show as HTML
  Parameters: {"id"=>"3"}
  [1m[36mActionMailbox::InboundEmail Load (0.3ms)[0m  [1m[34mSELECT "action_mailbox_inbound_emails".* FROM "action_mailbox_inbound_emails" WHERE "action_mailbox_inbound_emails"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
  Rendering /home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/actionmailbox-6.0.3.2/app/views/rails/conductor/action_mailbox/inbound_emails/show.html.erb within layouts/rails/conductor
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 3], ["record_type", "ActionMailbox::InboundEmail"], ["name", "raw_email"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 3], ["LIMIT", 1]]
[36m  Disk Storage (0.5ms) [0m[34mDownloaded file from key: ho3ejus4m8t1l4ormpt9fd82ndjk[0m
  Rendered /home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/actionmailbox-6.0.3.2/app/views/rails/conductor/action_mailbox/inbound_emails/show.html.erb within layouts/rails/conductor (Duration: 14.2ms | Allocations: 3723)
Completed 200 OK in 22ms (Views: 15.2ms | ActiveRecord: 0.9ms | Allocations: 5250)


Started GET "/rails/conductor/action_mailbox/inbound_emails/new" for ::1 at 2020-07-17 15:57:04 +0700
Processing by Rails::Conductor::ActionMailbox::InboundEmailsController#new as HTML
  Rendering /home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/actionmailbox-6.0.3.2/app/views/rails/conductor/action_mailbox/inbound_emails/new.html.erb within layouts/rails/conductor
  Rendered /home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/actionmailbox-6.0.3.2/app/views/rails/conductor/action_mailbox/inbound_emails/new.html.erb within layouts/rails/conductor (Duration: 3.9ms | Allocations: 832)
Completed 200 OK in 9ms (Views: 6.2ms | ActiveRecord: 0.0ms | Allocations: 1277)


Started POST "/rails/conductor/action_mailbox/inbound_emails" for ::1 at 2020-07-17 15:57:13 +0700
Processing by Rails::Conductor::ActionMailbox::InboundEmailsController#create as HTML
  Parameters: {"authenticity_token"=>"clWARU5qKj3gKkVpnoUHlySoa23cLAVP1l7vW4wrFYg1GPlRxw7fPTwMk39HzSmyHjw5TdlP9okPvHFdV9K7iA==", "mail"=>{"from"=>"01673khanh@gmail.com", "to"=>"01673khanh@gmail.com", "cc"=>"sfsd", "bcc"=>"sdfdfdfd", "in_reply_to"=>"dddddddddddddddde", "subject"=>"1", "body"=>"111111"}, "commit"=>"Deliver inbound email"}
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActionMailbox::InboundEmail Create (0.9ms)[0m  [1m[32mINSERT INTO "action_mailbox_inbound_emails" ("message_id", "message_checksum", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["message_id", "5f1167e9d4dc7_76d571e878550@khanh-X510UAR.mail"], ["message_checksum", "84e93e2ad86b80602410c352b7c0d257f0b94783"], ["created_at", "2020-07-17 08:57:13.873153"], ["updated_at", "2020-07-17 08:57:13.873153"]]
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 4], ["record_type", "ActionMailbox::InboundEmail"], ["name", "raw_email"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.1ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 4], ["record_type", "ActionMailbox::InboundEmail"], ["name", "raw_email"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (0.2ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["key", "5dmz8zfazuchybmtffagoh8v3liq"], ["filename", "message.eml"], ["content_type", "message/rfc822"], ["metadata", "{\"identified\":true}"], ["byte_size", 327], ["checksum", "ATcpnAwjSc344zAjkIUsag=="], ["created_at", "2020-07-17 08:57:13.888397"]]
  [1m[36mActiveStorage::Attachment Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "raw_email"], ["record_type", "ActionMailbox::InboundEmail"], ["record_id", 4], ["blob_id", 4], ["created_at", "2020-07-17 08:57:13.892043"]]
  [1m[36mActionMailbox::InboundEmail Update (0.1ms)[0m  [1m[33mUPDATE "action_mailbox_inbound_emails" SET "updated_at" = ? WHERE "action_mailbox_inbound_emails"."id" = ?[0m  [["updated_at", "2020-07-17 08:57:13.895227"], ["id", 4]]
  [1m[35m (151.9ms)[0m  [1m[36mcommit transaction[0m
[36m  Disk Storage (1.3ms) [0m[32mUploaded file to key: 5dmz8zfazuchybmtffagoh8v3liq (checksum: ATcpnAwjSc344zAjkIUsag==)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
[ActiveJob] Enqueued ActionMailbox::RoutingJob (Job ID: 7b057456-b26f-463c-ab33-5a746d61f538) to Async(action_mailbox_routing) with arguments: #<GlobalID:0x00007f726875e428 @uri=#<URI::GID gid://depot/ActionMailbox::InboundEmail/4>>
  [1m[36mActionMailbox::InboundEmail Load (0.3ms)[0m  [1m[34mSELECT "action_mailbox_inbound_emails".* FROM "action_mailbox_inbound_emails" WHERE "action_mailbox_inbound_emails"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
[ActiveJob] [ActionMailbox::RoutingJob] [7b057456-b26f-463c-ab33-5a746d61f538] Performing ActionMailbox::RoutingJob (Job ID: 7b057456-b26f-463c-ab33-5a746d61f538) from Async(action_mailbox_routing) enqueued at 2020-07-17T08:57:14Z with arguments: #<GlobalID:0x000055967d4fbf78 @uri=#<URI::GID gid://depot/ActionMailbox::InboundEmail/4>>
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 6ed9c9c1-4b11-4693-9ecd-e64ad1ccccee) to Async(active_storage_analysis) with arguments: #<GlobalID:0x000055967d5f5f28 @uri=#<URI::GID gid://depot/ActiveStorage::Blob/4>>
Redirected to http://localhost:3000/rails/conductor/action_mailbox/inbound_emails/4
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Completed 302 Found in 222ms (ActiveRecord: 153.8ms | Allocations: 25404)


  [1m[36mActiveStorage::Blob Load (0.6ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
[ActiveJob] [ActionMailbox::RoutingJob] [7b057456-b26f-463c-ab33-5a746d61f538]   [1m[36mActiveStorage::Attachment Load (0.8ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 4], ["record_type", "ActionMailbox::InboundEmail"], ["name", "raw_email"], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [6ed9c9c1-4b11-4693-9ecd-e64ad1ccccee] Performing ActiveStorage::AnalyzeJob (Job ID: 6ed9c9c1-4b11-4693-9ecd-e64ad1ccccee) from Async(active_storage_analysis) enqueued at 2020-07-17T08:57:14Z with arguments: #<GlobalID:0x000055967c7d8af8 @uri=#<URI::GID gid://depot/ActiveStorage::Blob/4>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [6ed9c9c1-4b11-4693-9ecd-e64ad1ccccee]   [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
Started GET "/rails/conductor/action_mailbox/inbound_emails/4" for ::1 at 2020-07-17 15:57:14 +0700
[ActiveJob] [ActionMailbox::RoutingJob] [7b057456-b26f-463c-ab33-5a746d61f538]   [1m[36mActiveStorage::Blob Load (0.5ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [6ed9c9c1-4b11-4693-9ecd-e64ad1ccccee]   [1m[36mActiveStorage::Blob Update (1.2ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 4]]
[ActiveJob] [ActionMailbox::RoutingJob] [7b057456-b26f-463c-ab33-5a746d61f538] [36m  Disk Storage (1.3ms) [0m[34mDownloaded file from key: 5dmz8zfazuchybmtffagoh8v3liq[0m
Processing by Rails::Conductor::ActionMailbox::InboundEmailsController#show as HTML
[ActiveJob] [ActionMailbox::RoutingJob] [7b057456-b26f-463c-ab33-5a746d61f538] Error performing ActionMailbox::RoutingJob (Job ID: 7b057456-b26f-463c-ab33-5a746d61f538) from Async(action_mailbox_routing) in 198.27ms: NameError (uninitialized constant SupporteMailbox
Did you mean?  SupportMailbox):
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/inflector/methods.rb:282:in `const_get'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/inflector/methods.rb:282:in `block in constantize'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/inflector/methods.rb:280:in `each'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/inflector/methods.rb:280:in `inject'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/inflector/methods.rb:280:in `constantize'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/core_ext/string/inflections.rb:68:in `constantize'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/actionmailbox-6.0.3.2/lib/action_mailbox/router/route.rb:32:in `mailbox_class'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/core_ext/object/try.rb:15:in `public_send'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/core_ext/object/try.rb:15:in `try'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/actionmailbox-6.0.3.2/lib/action_mailbox/router.rb:37:in `match_to_mailbox'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/actionmailbox-6.0.3.2/lib/action_mailbox/router.rb:24:in `route'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/actionmailbox-6.0.3.2/lib/action_mailbox/routing.rb:18:in `route'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/actionmailbox-6.0.3.2/app/models/action_mailbox/inbound_email/routable.rb:22:in `route'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/actionmailbox-6.0.3.2/app/jobs/action_mailbox/routing_job.rb:10:in `perform'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/execution.rb:40:in `block in perform_now'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:112:in `block in run_callbacks'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/i18n-1.8.3/lib/i18n.rb:313:in `with_locale'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/translation.rb:9:in `block (2 levels) in <module:Translation>'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `instance_exec'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/core_ext/time/zones.rb:66:in `use_zone'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/timezones.rb:9:in `block (2 levels) in <module:Timezones>'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `instance_exec'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/logging.rb:25:in `block (4 levels) in <module:Logging>'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/notifications.rb:180:in `block in instrument'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/notifications.rb:180:in `instrument'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/logging.rb:24:in `block (3 levels) in <module:Logging>'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/logging.rb:45:in `block in tag_logger'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/tagged_logging.rb:28:in `tagged'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/tagged_logging.rb:80:in `tagged'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/logging.rb:45:in `tag_logger'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/logging.rb:21:in `block (2 levels) in <module:Logging>'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `instance_exec'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:139:in `run_callbacks'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/execution.rb:39:in `perform_now'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/execution.rb:25:in `block in execute'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:112:in `block in run_callbacks'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/railtie.rb:43:in `block (4 levels) in <class:Railtie>'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/execution_wrapper.rb:88:in `wrap'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/reloader.rb:72:in `block in wrap'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/execution_wrapper.rb:88:in `wrap'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/reloader.rb:71:in `wrap'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/railtie.rb:42:in `block (3 levels) in <class:Railtie>'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `instance_exec'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:139:in `run_callbacks'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/execution.rb:23:in `execute'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/queue_adapters/async_adapter.rb:70:in `perform'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/concurrent-ruby-1.1.6/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:353:in `run_task'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/concurrent-ruby-1.1.6/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:342:in `block (3 levels) in create_worker'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/concurrent-ruby-1.1.6/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:325:in `loop'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/concurrent-ruby-1.1.6/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:325:in `block (2 levels) in create_worker'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/concurrent-ruby-1.1.6/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:324:in `catch'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/concurrent-ruby-1.1.6/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:324:in `block in create_worker'
[ActiveJob] [ActiveStorage::AnalyzeJob] [6ed9c9c1-4b11-4693-9ecd-e64ad1ccccee]   [1m[35m (78.3ms)[0m  [1m[36mcommit transaction[0m
  Parameters: {"id"=>"4"}
[ActiveJob] [ActiveStorage::AnalyzeJob] [6ed9c9c1-4b11-4693-9ecd-e64ad1ccccee] Performed ActiveStorage::AnalyzeJob (Job ID: 6ed9c9c1-4b11-4693-9ecd-e64ad1ccccee) from Async(active_storage_analysis) in 130.54ms
  [1m[36mActionMailbox::InboundEmail Load (0.2ms)[0m  [1m[34mSELECT "action_mailbox_inbound_emails".* FROM "action_mailbox_inbound_emails" WHERE "action_mailbox_inbound_emails"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  Rendering /home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/actionmailbox-6.0.3.2/app/views/rails/conductor/action_mailbox/inbound_emails/show.html.erb within layouts/rails/conductor
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 4], ["record_type", "ActionMailbox::InboundEmail"], ["name", "raw_email"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
[36m  Disk Storage (0.1ms) [0m[34mDownloaded file from key: 5dmz8zfazuchybmtffagoh8v3liq[0m
  Rendered /home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/actionmailbox-6.0.3.2/app/views/rails/conductor/action_mailbox/inbound_emails/show.html.erb within layouts/rails/conductor (Duration: 7.9ms | Allocations: 3722)
Completed 200 OK in 14ms (Views: 8.5ms | ActiveRecord: 0.5ms | Allocations: 5301)


Started GET "/rails/conductor/action_mailbox/inbound_emails" for ::1 at 2020-07-17 15:59:33 +0700
  [1m[35m (1.5ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (27.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by Rails::Conductor::ActionMailbox::InboundEmailsController#index as HTML
  Rendering /home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/actionmailbox-6.0.3.2/app/views/rails/conductor/action_mailbox/inbound_emails/index.html.erb within layouts/rails/conductor
  [1m[36mActionMailbox::InboundEmail Load (38.6ms)[0m  [1m[34mSELECT "action_mailbox_inbound_emails".* FROM "action_mailbox_inbound_emails" ORDER BY "action_mailbox_inbound_emails"."created_at" DESC[0m
  Rendered /home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/actionmailbox-6.0.3.2/app/views/rails/conductor/action_mailbox/inbound_emails/index.html.erb within layouts/rails/conductor (Duration: 114.3ms | Allocations: 5539)
Completed 200 OK in 314ms (Views: 110.5ms | ActiveRecord: 41.2ms | Allocations: 10651)


Started GET "/rails/conductor/action_mailbox/inbound_emails/4" for ::1 at 2020-07-17 15:59:36 +0700
Processing by Rails::Conductor::ActionMailbox::InboundEmailsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mActionMailbox::InboundEmail Load (0.2ms)[0m  [1m[34mSELECT "action_mailbox_inbound_emails".* FROM "action_mailbox_inbound_emails" WHERE "action_mailbox_inbound_emails"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  Rendering /home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/actionmailbox-6.0.3.2/app/views/rails/conductor/action_mailbox/inbound_emails/show.html.erb within layouts/rails/conductor
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 4], ["record_type", "ActionMailbox::InboundEmail"], ["name", "raw_email"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
[36m  Disk Storage (0.1ms) [0m[34mDownloaded file from key: 5dmz8zfazuchybmtffagoh8v3liq[0m
  Rendered /home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/actionmailbox-6.0.3.2/app/views/rails/conductor/action_mailbox/inbound_emails/show.html.erb within layouts/rails/conductor (Duration: 96.7ms | Allocations: 20770)
Completed 200 OK in 106ms (Views: 96.0ms | ActiveRecord: 1.8ms | Allocations: 24640)


Started POST "/rails/conductor/action_mailbox/4/reroute" for ::1 at 2020-07-17 15:59:39 +0700
Processing by Rails::Conductor::ActionMailbox::ReroutesController#create as HTML
  Parameters: {"authenticity_token"=>"UOc72LEE6bcu8LEzG1yaMDYYkV6CoaYqaiyoDjfkhb9NViJ5/09YpPa4Q4Udeag6WUynJUF3HgiVVMqOQH32PQ==", "inbound_email_id"=>"4"}
  [1m[36mActionMailbox::InboundEmail Load (0.8ms)[0m  [1m[34mSELECT "action_mailbox_inbound_emails".* FROM "action_mailbox_inbound_emails" WHERE "action_mailbox_inbound_emails"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
[ActiveJob] Enqueued ActionMailbox::RoutingJob (Job ID: e01cfc15-c797-42fc-bf95-508408f924b0) to Async(action_mailbox_routing) with arguments: #<GlobalID:0x000055576e686210 @uri=#<URI::GID gid://depot/ActionMailbox::InboundEmail/4>>
Redirected to http://localhost:3000/rails/conductor/action_mailbox/inbound_emails/4
Completed 302 Found in 26ms (ActiveRecord: 0.8ms | Allocations: 5932)


  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[36mActionMailbox::InboundEmail Load (0.2ms)[0m  [1m[34mSELECT "action_mailbox_inbound_emails".* FROM "action_mailbox_inbound_emails" WHERE "action_mailbox_inbound_emails"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
Started GET "/rails/conductor/action_mailbox/inbound_emails/4" for ::1 at 2020-07-17 15:59:39 +0700
[ActiveJob] [ActionMailbox::RoutingJob] [e01cfc15-c797-42fc-bf95-508408f924b0] Performing ActionMailbox::RoutingJob (Job ID: e01cfc15-c797-42fc-bf95-508408f924b0) from Async(action_mailbox_routing) enqueued at 2020-07-17T08:59:39Z with arguments: #<GlobalID:0x00007fdda80626a0 @uri=#<URI::GID gid://depot/ActionMailbox::InboundEmail/4>>
[ActiveJob] [ActionMailbox::RoutingJob] [e01cfc15-c797-42fc-bf95-508408f924b0]   [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 4], ["record_type", "ActionMailbox::InboundEmail"], ["name", "raw_email"], ["LIMIT", 1]]
[ActiveJob] [ActionMailbox::RoutingJob] [e01cfc15-c797-42fc-bf95-508408f924b0]   [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
[ActiveJob] [ActionMailbox::RoutingJob] [e01cfc15-c797-42fc-bf95-508408f924b0] [36m  Disk Storage (0.1ms) [0m[34mDownloaded file from key: 5dmz8zfazuchybmtffagoh8v3liq[0m
[ActiveJob] [ActionMailbox::RoutingJob] [e01cfc15-c797-42fc-bf95-508408f924b0] Error performing ActionMailbox::RoutingJob (Job ID: e01cfc15-c797-42fc-bf95-508408f924b0) from Async(action_mailbox_routing) in 64.71ms: NameError (uninitialized constant SupporteMailbox
Did you mean?  SupportMailbox):
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/inflector/methods.rb:282:in `const_get'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/inflector/methods.rb:282:in `block in constantize'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/inflector/methods.rb:280:in `each'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/inflector/methods.rb:280:in `inject'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/inflector/methods.rb:280:in `constantize'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/core_ext/string/inflections.rb:68:in `constantize'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/actionmailbox-6.0.3.2/lib/action_mailbox/router/route.rb:32:in `mailbox_class'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/core_ext/object/try.rb:15:in `public_send'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/core_ext/object/try.rb:15:in `try'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/actionmailbox-6.0.3.2/lib/action_mailbox/router.rb:37:in `match_to_mailbox'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/actionmailbox-6.0.3.2/lib/action_mailbox/router.rb:24:in `route'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/actionmailbox-6.0.3.2/lib/action_mailbox/routing.rb:18:in `route'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/actionmailbox-6.0.3.2/app/models/action_mailbox/inbound_email/routable.rb:22:in `route'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/actionmailbox-6.0.3.2/app/jobs/action_mailbox/routing_job.rb:10:in `perform'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/execution.rb:40:in `block in perform_now'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:112:in `block in run_callbacks'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/i18n-1.8.3/lib/i18n.rb:313:in `with_locale'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/translation.rb:9:in `block (2 levels) in <module:Translation>'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `instance_exec'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/core_ext/time/zones.rb:66:in `use_zone'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/timezones.rb:9:in `block (2 levels) in <module:Timezones>'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `instance_exec'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/logging.rb:25:in `block (4 levels) in <module:Logging>'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/notifications.rb:180:in `block in instrument'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/notifications.rb:180:in `instrument'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/logging.rb:24:in `block (3 levels) in <module:Logging>'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/logging.rb:45:in `block in tag_logger'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/tagged_logging.rb:28:in `tagged'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/tagged_logging.rb:80:in `tagged'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/logging.rb:45:in `tag_logger'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/logging.rb:21:in `block (2 levels) in <module:Logging>'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `instance_exec'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:139:in `run_callbacks'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/execution.rb:39:in `perform_now'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/execution.rb:25:in `block in execute'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:112:in `block in run_callbacks'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/railtie.rb:43:in `block (4 levels) in <class:Railtie>'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/execution_wrapper.rb:88:in `wrap'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/reloader.rb:72:in `block in wrap'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/execution_wrapper.rb:88:in `wrap'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/reloader.rb:71:in `wrap'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/railtie.rb:42:in `block (3 levels) in <class:Railtie>'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `instance_exec'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:139:in `run_callbacks'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/execution.rb:23:in `execute'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/queue_adapters/async_adapter.rb:70:in `perform'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/concurrent-ruby-1.1.6/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:353:in `run_task'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/concurrent-ruby-1.1.6/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:342:in `block (3 levels) in create_worker'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/concurrent-ruby-1.1.6/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:325:in `loop'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/concurrent-ruby-1.1.6/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:325:in `block (2 levels) in create_worker'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/concurrent-ruby-1.1.6/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:324:in `catch'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/concurrent-ruby-1.1.6/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:324:in `block in create_worker'
Processing by Rails::Conductor::ActionMailbox::InboundEmailsController#show as HTML
  Parameters: {"id"=>"4"}
  [1m[36mActionMailbox::InboundEmail Load (0.3ms)[0m  [1m[34mSELECT "action_mailbox_inbound_emails".* FROM "action_mailbox_inbound_emails" WHERE "action_mailbox_inbound_emails"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  Rendering /home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/actionmailbox-6.0.3.2/app/views/rails/conductor/action_mailbox/inbound_emails/show.html.erb within layouts/rails/conductor
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 4], ["record_type", "ActionMailbox::InboundEmail"], ["name", "raw_email"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
[36m  Disk Storage (0.1ms) [0m[34mDownloaded file from key: 5dmz8zfazuchybmtffagoh8v3liq[0m
  Rendered /home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/actionmailbox-6.0.3.2/app/views/rails/conductor/action_mailbox/inbound_emails/show.html.erb within layouts/rails/conductor (Duration: 8.3ms | Allocations: 3726)
Completed 200 OK in 15ms (Views: 8.7ms | ActiveRecord: 0.8ms | Allocations: 5243)


Started GET "/rails/conductor/action_mailbox/inbound_emails" for ::1 at 2020-07-17 15:59:40 +0700
Processing by Rails::Conductor::ActionMailbox::InboundEmailsController#index as HTML
  Rendering /home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/actionmailbox-6.0.3.2/app/views/rails/conductor/action_mailbox/inbound_emails/index.html.erb within layouts/rails/conductor
  [1m[36mActionMailbox::InboundEmail Load (0.3ms)[0m  [1m[34mSELECT "action_mailbox_inbound_emails".* FROM "action_mailbox_inbound_emails" ORDER BY "action_mailbox_inbound_emails"."created_at" DESC[0m
  Rendered /home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/actionmailbox-6.0.3.2/app/views/rails/conductor/action_mailbox/inbound_emails/index.html.erb within layouts/rails/conductor (Duration: 5.2ms | Allocations: 1764)
Completed 200 OK in 8ms (Views: 5.9ms | ActiveRecord: 0.3ms | Allocations: 2255)


Started GET "/support_request" for ::1 at 2020-07-17 15:59:50 +0700
Processing by StoreController#index as HTML
  Parameters: {"locale"=>"support_request"}
support_request translation not available
  [1m[36mCart Load (60.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 81], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (62.5ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 1529.9ms | Allocations: 14033)
[Webpacker] Everything's up-to-date. Nothing to do
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (26.3ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 81], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:35
Completed 200 OK in 2051ms (Views: 1813.2ms | ActiveRecord: 152.6ms | Allocations: 30679)


Started GET "/cable" for ::1 at 2020-07-17 15:59:52 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-17 15:59:52 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/support_request" for ::1 at 2020-07-17 15:59:59 +0700
Processing by StoreController#index as HTML
  Parameters: {"locale"=>"support_request"}
support_request translation not available
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 81], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 12.9ms | Allocations: 3317)
[Webpacker] Everything's up-to-date. Nothing to do
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 81], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:35
Completed 200 OK in 28ms (Views: 24.8ms | ActiveRecord: 0.5ms | Allocations: 11587)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-17 15:59:59 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-17 15:59:59 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-17 15:59:59 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/support_requests" for ::1 at 2020-07-17 16:00:02 +0700
Processing by SupportRequestsController#index as HTML
  [1m[36mUser Load (13.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:20:in `authorize'
  Rendering support_requests/index.html.erb within layouts/application
  [1m[36mSupportRequest Load (0.5ms)[0m  [1m[34mSELECT "support_requests".* FROM "support_requests"[0m
  ↳ app/views/support_requests/index.html.erb:2
  Rendered support_requests/index.html.erb within layouts/application (Duration: 19.1ms | Allocations: 1339)
[Webpacker] Everything's up-to-date. Nothing to do
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 144ms (Views: 42.7ms | ActiveRecord: 15.6ms | Allocations: 13512)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-17 16:00:02 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-17 16:00:02 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-17 16:00:02 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
  [1m[35m (0.4ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[36mSupportRequest Load (0.1ms)[0m  [1m[34mSELECT "support_requests".* FROM "support_requests" ORDER BY "support_requests"."id" ASC LIMIT ?[0m  [["LIMIT", 1]]
Started GET "/support_requests" for ::1 at 2020-07-17 16:05:07 +0700
  [1m[35m (0.8ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by SupportRequestsController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:20:in `authorize'
  Rendering support_requests/index.html.erb within layouts/application
  [1m[36mSupportRequest Load (0.2ms)[0m  [1m[34mSELECT "support_requests".* FROM "support_requests"[0m
  ↳ app/views/support_requests/index.html.erb:2
  Rendered support_requests/index.html.erb within layouts/application (Duration: 5.5ms | Allocations: 1691)
[Webpacker] Everything's up-to-date. Nothing to do
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 70ms (Views: 43.0ms | ActiveRecord: 1.4ms | Allocations: 25485)


Started GET "/cable" for ::1 at 2020-07-17 16:05:07 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-17 16:05:08 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/support_requests" for ::1 at 2020-07-17 16:05:28 +0700
Processing by SupportRequestsController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:20:in `authorize'
  Rendering support_requests/index.html.erb within layouts/application
  [1m[36mSupportRequest Load (0.1ms)[0m  [1m[34mSELECT "support_requests".* FROM "support_requests"[0m
  ↳ app/views/support_requests/index.html.erb:2
  Rendered support_requests/index.html.erb within layouts/application (Duration: 1.7ms | Allocations: 593)
[Webpacker] Everything's up-to-date. Nothing to do
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 18ms (Views: 15.7ms | ActiveRecord: 0.3ms | Allocations: 8165)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-17 16:05:28 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-17 16:05:28 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-17 16:05:28 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/rails/conductor/action_mailbox/inbound_emails" for ::1 at 2020-07-17 16:05:35 +0700
Processing by Rails::Conductor::ActionMailbox::InboundEmailsController#index as HTML
  Rendering /home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/actionmailbox-6.0.3.2/app/views/rails/conductor/action_mailbox/inbound_emails/index.html.erb within layouts/rails/conductor
  [1m[36mActionMailbox::InboundEmail Load (0.2ms)[0m  [1m[34mSELECT "action_mailbox_inbound_emails".* FROM "action_mailbox_inbound_emails" ORDER BY "action_mailbox_inbound_emails"."created_at" DESC[0m
  Rendered /home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/actionmailbox-6.0.3.2/app/views/rails/conductor/action_mailbox/inbound_emails/index.html.erb within layouts/rails/conductor (Duration: 10.4ms | Allocations: 5171)
Completed 200 OK in 19ms (Views: 12.2ms | ActiveRecord: 0.8ms | Allocations: 8597)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-17 16:05:35 +0700
ProductsChannel stopped streaming from products
Started GET "/rails/conductor/action_mailbox/inbound_emails/new" for ::1 at 2020-07-17 16:05:38 +0700
Processing by Rails::Conductor::ActionMailbox::InboundEmailsController#new as HTML
  Rendering /home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/actionmailbox-6.0.3.2/app/views/rails/conductor/action_mailbox/inbound_emails/new.html.erb within layouts/rails/conductor
  Rendered /home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/actionmailbox-6.0.3.2/app/views/rails/conductor/action_mailbox/inbound_emails/new.html.erb within layouts/rails/conductor (Duration: 84.2ms | Allocations: 1656)
Completed 200 OK in 87ms (Views: 85.4ms | ActiveRecord: 0.0ms | Allocations: 2416)


Started POST "/rails/conductor/action_mailbox/inbound_emails" for ::1 at 2020-07-17 16:05:47 +0700
Processing by Rails::Conductor::ActionMailbox::InboundEmailsController#create as HTML
  Parameters: {"authenticity_token"=>"hClzPQ1kWM/EZkVFYlcS2SkMM49HItJ655/iT73H7JfDZAophACtzxhAk1O7Hzz8E5hhr0JBIbw+fXxJZj5Clw==", "mail"=>{"from"=>"01673khanh@gmail.com", "to"=>"01673khanh@gmail.com", "cc"=>"11", "bcc"=>"sdfdfdfd", "in_reply_to"=>"dddddddddddddddde", "subject"=>"1", "body"=>"1111111111111"}, "commit"=>"Deliver inbound email"}
  [1m[35m (0.5ms)[0m  [1m[36mbegin transaction[0m
  [1m[36mActionMailbox::InboundEmail Create (37.4ms)[0m  [1m[32mINSERT INTO "action_mailbox_inbound_emails" ("message_id", "message_checksum", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["message_id", "5f1169ec18249_82306ec831491@khanh-X510UAR.mail"], ["message_checksum", "601b8de58d2f754bb978b4970051adfb9ee1a63b"], ["created_at", "2020-07-17 09:05:48.285431"], ["updated_at", "2020-07-17 09:05:48.285431"]]
  [1m[36mActiveStorage::Blob Load (0.5ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" INNER JOIN "active_storage_attachments" ON "active_storage_blobs"."id" = "active_storage_attachments"."blob_id" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 5], ["record_type", "ActionMailbox::InboundEmail"], ["name", "raw_email"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 5], ["record_type", "ActionMailbox::InboundEmail"], ["name", "raw_email"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Create (28.6ms)[0m  [1m[32mINSERT INTO "active_storage_blobs" ("key", "filename", "content_type", "metadata", "byte_size", "checksum", "created_at") VALUES (?, ?, ?, ?, ?, ?, ?)[0m  [["key", "7s14nbkmt4w6b0zkjm2eiwtjfdvu"], ["filename", "message.eml"], ["content_type", "message/rfc822"], ["metadata", "{\"identified\":true}"], ["byte_size", 332], ["checksum", "jX/BcP/Es3F+tpZQeoJnNg=="], ["created_at", "2020-07-17 09:05:48.651189"]]
  [1m[36mActiveStorage::Attachment Create (0.3ms)[0m  [1m[32mINSERT INTO "active_storage_attachments" ("name", "record_type", "record_id", "blob_id", "created_at") VALUES (?, ?, ?, ?, ?)[0m  [["name", "raw_email"], ["record_type", "ActionMailbox::InboundEmail"], ["record_id", 5], ["blob_id", 5], ["created_at", "2020-07-17 09:05:48.691160"]]
  [1m[36mActionMailbox::InboundEmail Update (0.1ms)[0m  [1m[33mUPDATE "action_mailbox_inbound_emails" SET "updated_at" = ? WHERE "action_mailbox_inbound_emails"."id" = ?[0m  [["updated_at", "2020-07-17 09:05:48.693389"], ["id", 5]]
  [1m[35m (76.0ms)[0m  [1m[36mcommit transaction[0m
[36m  Disk Storage (4.4ms) [0m[32mUploaded file to key: 7s14nbkmt4w6b0zkjm2eiwtjfdvu (checksum: jX/BcP/Es3F+tpZQeoJnNg==)[0m
[ActiveJob] Enqueued ActionMailbox::RoutingJob (Job ID: f3496cfe-b1c7-447c-b423-2cf772ab5468) to Async(action_mailbox_routing) with arguments: #<GlobalID:0x00007f42081fdc08 @uri=#<URI::GID gid://depot/ActionMailbox::InboundEmail/5>>
[ActiveJob] Enqueued ActiveStorage::AnalyzeJob (Job ID: 33e83ef6-d295-42fa-b665-40fc00784d0a) to Async(active_storage_analysis) with arguments: #<GlobalID:0x00007f42081d4358 @uri=#<URI::GID gid://depot/ActiveStorage::Blob/5>>
Redirected to http://localhost:3000/rails/conductor/action_mailbox/inbound_emails/5
Completed 302 Found in 1144ms (ActiveRecord: 146.3ms | Allocations: 58062)


  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[36mActiveStorage::Blob Load (0.8ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  [1m[36mActionMailbox::InboundEmail Load (0.9ms)[0m  [1m[34mSELECT "action_mailbox_inbound_emails".* FROM "action_mailbox_inbound_emails" WHERE "action_mailbox_inbound_emails"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [33e83ef6-d295-42fa-b665-40fc00784d0a] Performing ActiveStorage::AnalyzeJob (Job ID: 33e83ef6-d295-42fa-b665-40fc00784d0a) from Async(active_storage_analysis) enqueued at 2020-07-17T09:05:48Z with arguments: #<GlobalID:0x00007f42080df420 @uri=#<URI::GID gid://depot/ActiveStorage::Blob/5>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [33e83ef6-d295-42fa-b665-40fc00784d0a]   [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
[ActiveJob] [ActiveStorage::AnalyzeJob] [33e83ef6-d295-42fa-b665-40fc00784d0a]   [1m[36mActiveStorage::Blob Update (4.2ms)[0m  [1m[33mUPDATE "active_storage_blobs" SET "metadata" = ? WHERE "active_storage_blobs"."id" = ?[0m  [["metadata", "{\"identified\":true,\"analyzed\":true}"], ["id", 5]]
[ActiveJob] [ActionMailbox::RoutingJob] [f3496cfe-b1c7-447c-b423-2cf772ab5468] Performing ActionMailbox::RoutingJob (Job ID: f3496cfe-b1c7-447c-b423-2cf772ab5468) from Async(action_mailbox_routing) enqueued at 2020-07-17T09:05:48Z with arguments: #<GlobalID:0x00007f420807f3e0 @uri=#<URI::GID gid://depot/ActionMailbox::InboundEmail/5>>
[ActiveJob] [ActiveStorage::AnalyzeJob] [33e83ef6-d295-42fa-b665-40fc00784d0a]   [1m[35m (71.0ms)[0m  [1m[36mcommit transaction[0m
Started GET "/rails/conductor/action_mailbox/inbound_emails/5" for ::1 at 2020-07-17 16:05:49 +0700
[ActiveJob] [ActionMailbox::RoutingJob] [f3496cfe-b1c7-447c-b423-2cf772ab5468]   [1m[36mActiveStorage::Attachment Load (0.4ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 5], ["record_type", "ActionMailbox::InboundEmail"], ["name", "raw_email"], ["LIMIT", 1]]
[ActiveJob] [ActiveStorage::AnalyzeJob] [33e83ef6-d295-42fa-b665-40fc00784d0a] Performed ActiveStorage::AnalyzeJob (Job ID: 33e83ef6-d295-42fa-b665-40fc00784d0a) from Async(active_storage_analysis) in 144.86ms
[ActiveJob] [ActionMailbox::RoutingJob] [f3496cfe-b1c7-447c-b423-2cf772ab5468]   [1m[36mActiveStorage::Blob Load (0.5ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
[ActiveJob] [ActionMailbox::RoutingJob] [f3496cfe-b1c7-447c-b423-2cf772ab5468] [36m  Disk Storage (0.9ms) [0m[34mDownloaded file from key: 7s14nbkmt4w6b0zkjm2eiwtjfdvu[0m
[ActiveJob] [ActionMailbox::RoutingJob] [f3496cfe-b1c7-447c-b423-2cf772ab5468] Error performing ActionMailbox::RoutingJob (Job ID: f3496cfe-b1c7-447c-b423-2cf772ab5468) from Async(action_mailbox_routing) in 66.99ms: NameError (uninitialized constant SupporteMailbox
Did you mean?  SupportMailbox):
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/inflector/methods.rb:282:in `const_get'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/inflector/methods.rb:282:in `block in constantize'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/inflector/methods.rb:280:in `each'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/inflector/methods.rb:280:in `inject'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/inflector/methods.rb:280:in `constantize'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/core_ext/string/inflections.rb:68:in `constantize'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/actionmailbox-6.0.3.2/lib/action_mailbox/router/route.rb:32:in `mailbox_class'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/core_ext/object/try.rb:15:in `public_send'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/core_ext/object/try.rb:15:in `try'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/actionmailbox-6.0.3.2/lib/action_mailbox/router.rb:37:in `match_to_mailbox'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/actionmailbox-6.0.3.2/lib/action_mailbox/router.rb:24:in `route'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/actionmailbox-6.0.3.2/lib/action_mailbox/routing.rb:18:in `route'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/actionmailbox-6.0.3.2/app/models/action_mailbox/inbound_email/routable.rb:22:in `route'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/actionmailbox-6.0.3.2/app/jobs/action_mailbox/routing_job.rb:10:in `perform'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/execution.rb:40:in `block in perform_now'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:112:in `block in run_callbacks'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/i18n-1.8.3/lib/i18n.rb:313:in `with_locale'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/translation.rb:9:in `block (2 levels) in <module:Translation>'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `instance_exec'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/core_ext/time/zones.rb:66:in `use_zone'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/timezones.rb:9:in `block (2 levels) in <module:Timezones>'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `instance_exec'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/logging.rb:25:in `block (4 levels) in <module:Logging>'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/notifications.rb:180:in `block in instrument'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/notifications.rb:180:in `instrument'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/logging.rb:24:in `block (3 levels) in <module:Logging>'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/logging.rb:45:in `block in tag_logger'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/tagged_logging.rb:28:in `tagged'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/tagged_logging.rb:80:in `tagged'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/logging.rb:45:in `tag_logger'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/logging.rb:21:in `block (2 levels) in <module:Logging>'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `instance_exec'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:139:in `run_callbacks'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/execution.rb:39:in `perform_now'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/execution.rb:25:in `block in execute'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:112:in `block in run_callbacks'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/railtie.rb:43:in `block (4 levels) in <class:Railtie>'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/execution_wrapper.rb:88:in `wrap'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/reloader.rb:72:in `block in wrap'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/execution_wrapper.rb:88:in `wrap'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/reloader.rb:71:in `wrap'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/railtie.rb:42:in `block (3 levels) in <class:Railtie>'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `instance_exec'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:139:in `run_callbacks'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/execution.rb:23:in `execute'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/queue_adapters/async_adapter.rb:70:in `perform'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/concurrent-ruby-1.1.6/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:353:in `run_task'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/concurrent-ruby-1.1.6/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:342:in `block (3 levels) in create_worker'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/concurrent-ruby-1.1.6/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:325:in `loop'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/concurrent-ruby-1.1.6/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:325:in `block (2 levels) in create_worker'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/concurrent-ruby-1.1.6/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:324:in `catch'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/concurrent-ruby-1.1.6/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:324:in `block in create_worker'
Processing by Rails::Conductor::ActionMailbox::InboundEmailsController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mActionMailbox::InboundEmail Load (0.3ms)[0m  [1m[34mSELECT "action_mailbox_inbound_emails".* FROM "action_mailbox_inbound_emails" WHERE "action_mailbox_inbound_emails"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  Rendering /home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/actionmailbox-6.0.3.2/app/views/rails/conductor/action_mailbox/inbound_emails/show.html.erb within layouts/rails/conductor
  [1m[36mActiveStorage::Attachment Load (0.3ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 5], ["record_type", "ActionMailbox::InboundEmail"], ["name", "raw_email"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.2ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
[36m  Disk Storage (0.2ms) [0m[34mDownloaded file from key: 7s14nbkmt4w6b0zkjm2eiwtjfdvu[0m
  Rendered /home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/actionmailbox-6.0.3.2/app/views/rails/conductor/action_mailbox/inbound_emails/show.html.erb within layouts/rails/conductor (Duration: 10.5ms | Allocations: 3936)
Completed 200 OK in 16ms (Views: 11.0ms | ActiveRecord: 0.8ms | Allocations: 5921)


Started GET "/rails/conductor/action_mailbox/inbound_emails" for ::1 at 2020-07-17 16:06:04 +0700
Processing by Rails::Conductor::ActionMailbox::InboundEmailsController#index as HTML
  Rendering /home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/actionmailbox-6.0.3.2/app/views/rails/conductor/action_mailbox/inbound_emails/index.html.erb within layouts/rails/conductor
  [1m[36mActionMailbox::InboundEmail Load (0.5ms)[0m  [1m[34mSELECT "action_mailbox_inbound_emails".* FROM "action_mailbox_inbound_emails" ORDER BY "action_mailbox_inbound_emails"."created_at" DESC[0m
  Rendered /home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/actionmailbox-6.0.3.2/app/views/rails/conductor/action_mailbox/inbound_emails/index.html.erb within layouts/rails/conductor (Duration: 8.8ms | Allocations: 1838)
Completed 200 OK in 14ms (Views: 10.0ms | ActiveRecord: 0.5ms | Allocations: 2322)


Started GET "/rails/conductor/action_mailbox/inbound_emails/5" for ::1 at 2020-07-17 16:06:05 +0700
Processing by Rails::Conductor::ActionMailbox::InboundEmailsController#show as HTML
  Parameters: {"id"=>"5"}
  [1m[36mActionMailbox::InboundEmail Load (0.2ms)[0m  [1m[34mSELECT "action_mailbox_inbound_emails".* FROM "action_mailbox_inbound_emails" WHERE "action_mailbox_inbound_emails"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  Rendering /home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/actionmailbox-6.0.3.2/app/views/rails/conductor/action_mailbox/inbound_emails/show.html.erb within layouts/rails/conductor
  [1m[36mActiveStorage::Attachment Load (0.2ms)[0m  [1m[34mSELECT "active_storage_attachments".* FROM "active_storage_attachments" WHERE "active_storage_attachments"."record_id" = ? AND "active_storage_attachments"."record_type" = ? AND "active_storage_attachments"."name" = ? LIMIT ?[0m  [["record_id", 5], ["record_type", "ActionMailbox::InboundEmail"], ["name", "raw_email"], ["LIMIT", 1]]
  [1m[36mActiveStorage::Blob Load (0.1ms)[0m  [1m[34mSELECT "active_storage_blobs".* FROM "active_storage_blobs" WHERE "active_storage_blobs"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
[36m  Disk Storage (0.1ms) [0m[34mDownloaded file from key: 7s14nbkmt4w6b0zkjm2eiwtjfdvu[0m
  Rendered /home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/actionmailbox-6.0.3.2/app/views/rails/conductor/action_mailbox/inbound_emails/show.html.erb within layouts/rails/conductor (Duration: 6.0ms | Allocations: 3723)
Completed 200 OK in 10ms (Views: 6.6ms | ActiveRecord: 0.4ms | Allocations: 5242)


Started GET "/support_request" for ::1 at 2020-07-17 16:06:49 +0700
Processing by StoreController#index as HTML
  Parameters: {"locale"=>"support_request"}
support_request translation not available
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 81], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 16.6ms | Allocations: 8017)
[Webpacker] Everything's up-to-date. Nothing to do
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 81], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:35
Completed 200 OK in 44ms (Views: 29.9ms | ActiveRecord: 2.0ms | Allocations: 23542)


Started GET "/cable" for ::1 at 2020-07-17 16:06:50 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-17 16:06:50 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/support_requests" for ::1 at 2020-07-17 16:06:53 +0700
Processing by SupportRequestsController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:20:in `authorize'
  Rendering support_requests/index.html.erb within layouts/application
  [1m[36mSupportRequest Load (0.2ms)[0m  [1m[34mSELECT "support_requests".* FROM "support_requests"[0m
  ↳ app/views/support_requests/index.html.erb:2
  Rendered support_requests/index.html.erb within layouts/application (Duration: 1.2ms | Allocations: 612)
[Webpacker] Everything's up-to-date. Nothing to do
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 16ms (Views: 13.2ms | ActiveRecord: 0.4ms | Allocations: 8212)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-17 16:06:53 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-17 16:06:53 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-17 16:06:53 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/support_requests" for ::1 at 2020-07-17 16:13:58 +0700
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by SupportRequestsController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:20:in `authorize'
  Rendering support_requests/index.html.erb within layouts/application
  [1m[36mSupportRequest Load (0.2ms)[0m  [1m[34mSELECT "support_requests".* FROM "support_requests"[0m
  ↳ app/views/support_requests/index.html.erb:2
  Rendered support_requests/index.html.erb within layouts/application (Duration: 1.3ms | Allocations: 614)
[Webpacker] Everything's up-to-date. Nothing to do
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 43ms (Views: 38.4ms | ActiveRecord: 0.4ms | Allocations: 8210)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-17 16:13:59 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-17 16:13:59 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-17 16:13:59 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/" for ::1 at 2020-07-17 16:14:00 +0700
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 81], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 15.4ms | Allocations: 3347)
[Webpacker] Everything's up-to-date. Nothing to do
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 81], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:35
Completed 200 OK in 33ms (Views: 27.8ms | ActiveRecord: 1.2ms | Allocations: 11587)


Started POST "/en/line_items?product_id=4" for ::1 at 2020-07-17 16:14:01 +0700
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"zMSa4YnH5LjVtzOzMsL4EHrl6OLEqurtSU6z4xe3UTYSzrORUiBo1XWDPhoKXxflx5Nk3+4uvceX0n+J5pfhqA==", "product_id"=>"4", "locale"=>"en"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 81], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:38:in `create'
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 81], ["product_id", 4], ["LIMIT", 1]]
  ↳ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/line_items_controller.rb:42:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:42:in `block in create'
  [1m[36mLineItem Create (80.9ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 4], ["cart_id", 81], ["created_at", "2020-07-17 09:14:01.612669"], ["updated_at", "2020-07-17 09:14:01.612669"]]
  ↳ app/controllers/line_items_controller.rb:42:in `block in create'
  [1m[35m (72.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/line_items_controller.rb:42:in `block in create'
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 81]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 11.5ms | Allocations: 302)
  Rendered carts/_cart.html.erb (Duration: 31.4ms | Allocations: 2284)
  Rendered line_items/create.js.erb (Duration: 62.7ms | Allocations: 2858)
Completed 200 OK in 254ms (Views: 67.8ms | ActiveRecord: 155.5ms | Allocations: 15925)


Started GET "/en/orders/new" for ::1 at 2020-07-17 16:14:02 +0700
Processing by OrdersController#new as HTML
  Parameters: {"locale"=>"en"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 81], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 81], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:98:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 37.4ms | Allocations: 1564)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered orders/new.html.erb within layouts/application (Duration: 46.1ms | Allocations: 3700)
[Webpacker] Everything's up-to-date. Nothing to do
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 81], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:35
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 81]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 2.3ms | Allocations: 892)
  Rendered carts/_cart.html.erb (Duration: 5.2ms | Allocations: 2239)
Completed 200 OK in 209ms (Views: 74.9ms | ActiveRecord: 2.4ms | Allocations: 20822)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-17 16:14:03 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-17 16:14:03 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-17 16:14:03 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started POST "/orders" for ::1 at 2020-07-17 16:14:12 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"xG+2Rejln2HYP1UouthhJOFYG/y1vjW/UKmsGpPcNCJfl65hlYzH5xH12WfuVtcSARRNHvgF4xwsyxumUmdQuw==", "order"=>{"name"=>"HUỳnh Quốc Khánh", "address"=>"2", "email"=>"dave", "pay_type"=>"Purchase order", "po_number"=>"secret"}, "commit"=>"Place Order"}
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 81], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
[31mUnpermitted parameter: :po_number[0m
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 81]]
  ↳ app/models/order.rb:15:in `add_line_items_from_cart'
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/orders_controller.rb:43:in `block in create'
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:43:in `block in create'
  [1m[36mOrder Create (1.1ms)[0m  [1m[32mINSERT INTO "orders" ("name", "address", "email", "pay_type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "HUỳnh Quốc Khánh"], ["address", "2"], ["email", "dave"], ["pay_type", 2], ["created_at", "2020-07-17 09:14:12.256471"], ["updated_at", "2020-07-17 09:14:12.256471"]]
  ↳ app/controllers/orders_controller.rb:43:in `block in create'
  [1m[36mLineItem Update (0.6ms)[0m  [1m[33mUPDATE "line_items" SET "cart_id" = ?, "order_id" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["cart_id", nil], ["order_id", 18], ["updated_at", "2020-07-17 09:14:12.266373"], ["id", 85]]
  ↳ app/controllers/orders_controller.rb:43:in `block in create'
  [1m[35m (148.6ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/orders_controller.rb:43:in `block in create'
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 81], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:44:in `block in create'
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/orders_controller.rb:44:in `block in create'
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 81]]
  ↳ app/controllers/orders_controller.rb:44:in `block in create'
  [1m[36mCart Destroy (0.8ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 81]]
  ↳ app/controllers/orders_controller.rb:44:in `block in create'
  [1m[35m (175.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/orders_controller.rb:44:in `block in create'
[31mUnpermitted parameter: :po_number[0m
[31mUnpermitted parameter: :po_number[0m
[31mUnpermitted parameter: :po_number[0m
[31mUnpermitted parameters: :name, :address, :email, :pay_type[0m
[ActiveJob] Enqueued ChargeOrderJob (Job ID: 759e1c9d-63f2-4fe2-8146-423faa7c17ea) to Async(default) with arguments: #<GlobalID:0x00007f41d800f110 @uri=#<URI::GID gid://depot/Order/18>>, {"po_number"=>"secret"}
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 18], ["LIMIT", 1]]
Completed 500 Internal Server Error in 543ms (ActiveRecord: 329.0ms | Allocations: 61865)


[ActiveJob] [ChargeOrderJob] [759e1c9d-63f2-4fe2-8146-423faa7c17ea] Performing ChargeOrderJob (Job ID: 759e1c9d-63f2-4fe2-8146-423faa7c17ea) from Async(default) enqueued at 2020-07-17T09:14:12Z with arguments: #<GlobalID:0x00007f421c01fbc0 @uri=#<URI::GID gid://depot/Order/18>>, {"po_number"=>"secret"}
[ActiveJob] [ChargeOrderJob] [759e1c9d-63f2-4fe2-8146-423faa7c17ea] Processing purchase order: secret
  
NoMethodError (undefined method `assert_redirected_to' for #<OrdersController:0x00007f42081ac718>):
  
app/controllers/orders_controller.rb:56:in `block in create'
app/controllers/orders_controller.rb:42:in `create'
Finished "/cable/" [WebSocket] for ::1 at 2020-07-17 16:14:13 +0700
ProductsChannel stopped streaming from products
[ActiveJob] [ChargeOrderJob] [759e1c9d-63f2-4fe2-8146-423faa7c17ea] Done Processing Payment
[ActiveJob] [ChargeOrderJob] [759e1c9d-63f2-4fe2-8146-423faa7c17ea] Enqueued ActionMailer::MailDeliveryJob (Job ID: fe46d440-e98d-4e6b-9c4e-4716f6d2be32) to Async(mailers) with arguments: "OrderMailer", "received", "deliver_now", {:args=>[#<GlobalID:0x00007f42083800a8 @uri=#<URI::GID gid://depot/Order/18>>]}
[ActiveJob] [ChargeOrderJob] [759e1c9d-63f2-4fe2-8146-423faa7c17ea] Performed ChargeOrderJob (Job ID: 759e1c9d-63f2-4fe2-8146-423faa7c17ea) from Async(default) in 3171.77ms
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 18], ["LIMIT", 1]]
[ActiveJob] [ActionMailer::MailDeliveryJob] [fe46d440-e98d-4e6b-9c4e-4716f6d2be32] Performing ActionMailer::MailDeliveryJob (Job ID: fe46d440-e98d-4e6b-9c4e-4716f6d2be32) from Async(mailers) enqueued at 2020-07-17T09:14:15Z with arguments: "OrderMailer", "received", "deliver_now", {:args=>[#<GlobalID:0x00007f420835cd38 @uri=#<URI::GID gid://depot/Order/18>>]}
[ActiveJob] [ActionMailer::MailDeliveryJob] [fe46d440-e98d-4e6b-9c4e-4716f6d2be32]   Rendering order_mailer/received.html.erb within layouts/mailer
[ActiveJob] [ActionMailer::MailDeliveryJob] [fe46d440-e98d-4e6b-9c4e-4716f6d2be32]   Rendered order_mailer/received.html.erb within layouts/mailer (Duration: 10.2ms | Allocations: 102)
[ActiveJob] [ActionMailer::MailDeliveryJob] [fe46d440-e98d-4e6b-9c4e-4716f6d2be32]   Rendering order_mailer/received.text.erb within layouts/mailer
[ActiveJob] [ActionMailer::MailDeliveryJob] [fe46d440-e98d-4e6b-9c4e-4716f6d2be32]   [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."order_id" = ?[0m  [["order_id", 18]]
[ActiveJob] [ActionMailer::MailDeliveryJob] [fe46d440-e98d-4e6b-9c4e-4716f6d2be32]   ↳ app/views/order_mailer/received.text.erb:4
[ActiveJob] [ActionMailer::MailDeliveryJob] [fe46d440-e98d-4e6b-9c4e-4716f6d2be32]   [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
[ActiveJob] [ActionMailer::MailDeliveryJob] [fe46d440-e98d-4e6b-9c4e-4716f6d2be32]   ↳ app/views/line_items/_line_item.text.erb:3
[ActiveJob] [ActionMailer::MailDeliveryJob] [fe46d440-e98d-4e6b-9c4e-4716f6d2be32]   Rendered collection of line_items/_line_item.text.erb [1 times] (Duration: 15.6ms | Allocations: 881)
[ActiveJob] [ActionMailer::MailDeliveryJob] [fe46d440-e98d-4e6b-9c4e-4716f6d2be32]   Rendered order_mailer/received.text.erb within layouts/mailer (Duration: 28.1ms | Allocations: 2236)
[ActiveJob] [ActionMailer::MailDeliveryJob] [fe46d440-e98d-4e6b-9c4e-4716f6d2be32] OrderMailer#received: processed outbound mail in 65.3ms
[ActiveJob] [ActionMailer::MailDeliveryJob] [fe46d440-e98d-4e6b-9c4e-4716f6d2be32] Delivered mail 5f116be83c1f_8230792c31685@khanh-X510UAR.mail (36.6ms)
[ActiveJob] [ActionMailer::MailDeliveryJob] [fe46d440-e98d-4e6b-9c4e-4716f6d2be32] Date: Fri, 17 Jul 2020 16:14:16 +0700
From: Sam ruby <depot@example.com>
To: dave
Message-ID: <5f116be83c1f_8230792c31685@khanh-X510UAR.mail>
Subject: Pragmatic Store Order Confirmation
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5f116be82040_8230792c315bb";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5f116be82040_8230792c315bb
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: quoted-printable

Dear HU=E1=BB=B3nh Qu=E1=BB=91c Kh=C3=A1nh=0D
Thank you for your recent order from The Pragmatic Store.=0D
You ordered the following items:=0D
 1 x =C4=90i=E1=BB=87n Tho=E1=BA=A1i Samsung Galaxy Note 10 Lite (128GB/8=
GB)We'll send you a separate email when your order ships.=0D

----==_mimepart_5f116be82040_8230792c315bb
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <style>
      /* Email styles need to be inline */
    </style>
  </head>

  <body>
    <h1>Order#received</h1>

<p>
  , find me in app/views/order_mailer/received.html.erb
</p>

  </body>
</html>

----==_mimepart_5f116be82040_8230792c315bb--

[ActiveJob] [ActionMailer::MailDeliveryJob] [fe46d440-e98d-4e6b-9c4e-4716f6d2be32] Error performing ActionMailer::MailDeliveryJob (Job ID: fe46d440-e98d-4e6b-9c4e-4716f6d2be32) from Async(mailers) in 103.68ms: Errno::ECONNREFUSED (Connection refused - connect(2) for "localhost" port 587):
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/2.7.0/net/smtp.rb:539:in `initialize'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/2.7.0/net/smtp.rb:539:in `open'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/2.7.0/net/smtp.rb:539:in `tcp_socket'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/2.7.0/net/smtp.rb:549:in `block in do_start'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/2.7.0/timeout.rb:95:in `block in timeout'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/2.7.0/timeout.rb:105:in `timeout'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/2.7.0/net/smtp.rb:548:in `do_start'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/2.7.0/net/smtp.rb:518:in `start'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/mail-2.7.1/lib/mail/network/delivery_methods/smtp.rb:109:in `start_smtp_session'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/mail-2.7.1/lib/mail/network/delivery_methods/smtp.rb:100:in `deliver!'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/mail-2.7.1/lib/mail/message.rb:2159:in `do_delivery'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/mail-2.7.1/lib/mail/message.rb:260:in `block in deliver'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/actionmailer-6.0.3.2/lib/action_mailer/base.rb:589:in `block in deliver_mail'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/notifications.rb:180:in `block in instrument'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/notifications.rb:180:in `instrument'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/actionmailer-6.0.3.2/lib/action_mailer/base.rb:587:in `deliver_mail'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/mail-2.7.1/lib/mail/message.rb:260:in `deliver'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/actionmailer-6.0.3.2/lib/action_mailer/message_delivery.rb:115:in `block in deliver_now'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/actionmailer-6.0.3.2/lib/action_mailer/rescuable.rb:17:in `handle_exceptions'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/actionmailer-6.0.3.2/lib/action_mailer/message_delivery.rb:114:in `deliver_now'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/actionmailer-6.0.3.2/lib/action_mailer/mail_delivery_job.rb:23:in `perform'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/execution.rb:40:in `block in perform_now'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:112:in `block in run_callbacks'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/i18n-1.8.3/lib/i18n.rb:313:in `with_locale'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/translation.rb:9:in `block (2 levels) in <module:Translation>'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `instance_exec'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/core_ext/time/zones.rb:66:in `use_zone'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/timezones.rb:9:in `block (2 levels) in <module:Timezones>'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `instance_exec'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/logging.rb:25:in `block (4 levels) in <module:Logging>'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/notifications.rb:180:in `block in instrument'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/notifications.rb:180:in `instrument'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/logging.rb:24:in `block (3 levels) in <module:Logging>'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/logging.rb:45:in `block in tag_logger'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/tagged_logging.rb:28:in `tagged'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/tagged_logging.rb:80:in `tagged'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/logging.rb:45:in `tag_logger'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/logging.rb:21:in `block (2 levels) in <module:Logging>'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `instance_exec'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:139:in `run_callbacks'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/execution.rb:39:in `perform_now'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/execution.rb:25:in `block in execute'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:112:in `block in run_callbacks'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/railtie.rb:43:in `block (4 levels) in <class:Railtie>'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/execution_wrapper.rb:88:in `wrap'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/reloader.rb:72:in `block in wrap'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/execution_wrapper.rb:88:in `wrap'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/reloader.rb:71:in `wrap'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/railtie.rb:42:in `block (3 levels) in <class:Railtie>'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `instance_exec'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:139:in `run_callbacks'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/execution.rb:23:in `execute'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/queue_adapters/async_adapter.rb:70:in `perform'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/concurrent-ruby-1.1.6/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:353:in `run_task'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/concurrent-ruby-1.1.6/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:342:in `block (3 levels) in create_worker'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/concurrent-ruby-1.1.6/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:325:in `loop'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/concurrent-ruby-1.1.6/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:325:in `block (2 levels) in create_worker'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/concurrent-ruby-1.1.6/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:324:in `catch'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/concurrent-ruby-1.1.6/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:324:in `block in create_worker'
Started POST "/orders" for ::1 at 2020-07-17 16:15:26 +0700
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  
SyntaxError (/home/khanh/Desktop/depot/app/controllers/orders_controller.rb:116: syntax error, unexpected `end', expecting end-of-input):
  
app/controllers/orders_controller.rb:116: syntax error, unexpected `end', expecting end-of-input
app/controllers/orders_controller.rb:116: syntax error, unexpected `end', expecting end-of-input
app/controllers/orders_controller.rb:116: syntax error, unexpected `end', expecting end-of-input
Started POST "/orders" for ::1 at 2020-07-17 16:15:34 +0700
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"xG+2Rejln2HYP1UouthhJOFYG/y1vjW/UKmsGpPcNCJfl65hlYzH5xH12WfuVtcSARRNHvgF4xwsyxumUmdQuw==", "order"=>{"name"=>"HUỳnh Quốc Khánh", "address"=>"2", "email"=>"dave", "pay_type"=>"Purchase order", "po_number"=>"secret"}, "commit"=>"Place Order"}
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 81], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[36mCart Create (0.3ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2020-07-17 09:15:34.574226"], ["updated_at", "2020-07-17 09:15:34.574226"]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[35m (69.7ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
[31mUnpermitted parameter: :po_number[0m
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 82]]
  ↳ app/models/order.rb:15:in `add_line_items_from_cart'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/orders_controller.rb:43:in `block in create'
  [1m[36mOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "orders" ("name", "address", "email", "pay_type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "HUỳnh Quốc Khánh"], ["address", "2"], ["email", "dave"], ["pay_type", 2], ["created_at", "2020-07-17 09:15:34.689211"], ["updated_at", "2020-07-17 09:15:34.689211"]]
  ↳ app/controllers/orders_controller.rb:43:in `block in create'
  [1m[35m (99.8ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/orders_controller.rb:43:in `block in create'
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 82], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:44:in `block in create'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/orders_controller.rb:44:in `block in create'
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 82]]
  ↳ app/controllers/orders_controller.rb:44:in `block in create'
  [1m[36mCart Destroy (0.5ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 82]]
  ↳ app/controllers/orders_controller.rb:44:in `block in create'
  [1m[35m (69.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/orders_controller.rb:44:in `block in create'
[31mUnpermitted parameter: :po_number[0m
[31mUnpermitted parameter: :po_number[0m
[31mUnpermitted parameter: :po_number[0m
[31mUnpermitted parameters: :name, :address, :email, :pay_type[0m
[ActiveJob] Enqueued ChargeOrderJob (Job ID: d1ec4546-3d9a-4987-9116-c25e5b8035ce) to Async(default) with arguments: #<GlobalID:0x00007f42082ebf20 @uri=#<URI::GID gid://depot/Order/19>>, {"po_number"=>"secret"}
Completed 500 Internal Server Error in 479ms (ActiveRecord: 244.6ms | Allocations: 70769)


  
NoMethodError (undefined method `assert_redirected_to' for #<OrdersController:0x000055ff423cff68>):
  
app/controllers/orders_controller.rb:56:in `block in create'
app/controllers/orders_controller.rb:42:in `create'
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 19], ["LIMIT", 1]]
[ActiveJob] [ChargeOrderJob] [d1ec4546-3d9a-4987-9116-c25e5b8035ce] Performing ChargeOrderJob (Job ID: d1ec4546-3d9a-4987-9116-c25e5b8035ce) from Async(default) enqueued at 2020-07-17T09:15:34Z with arguments: #<GlobalID:0x00007f4214085248 @uri=#<URI::GID gid://depot/Order/19>>, {"po_number"=>"secret"}
[ActiveJob] [ChargeOrderJob] [d1ec4546-3d9a-4987-9116-c25e5b8035ce] Processing purchase order: secret
Started GET "/cable" for ::1 at 2020-07-17 16:15:36 +0700
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-17 16:15:36 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
[ActiveJob] [ChargeOrderJob] [d1ec4546-3d9a-4987-9116-c25e5b8035ce] Done Processing Payment
[ActiveJob] [ChargeOrderJob] [d1ec4546-3d9a-4987-9116-c25e5b8035ce] Enqueued ActionMailer::MailDeliveryJob (Job ID: 15b3a66e-9a55-47d4-890c-cd5eb5502b51) to Async(mailers) with arguments: "OrderMailer", "received", "deliver_now", {:args=>[#<GlobalID:0x00007f420c7e32b8 @uri=#<URI::GID gid://depot/Order/19>>]}
[ActiveJob] [ChargeOrderJob] [d1ec4546-3d9a-4987-9116-c25e5b8035ce] Performed ChargeOrderJob (Job ID: d1ec4546-3d9a-4987-9116-c25e5b8035ce) from Async(default) in 3006.59ms
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 19], ["LIMIT", 1]]
[ActiveJob] [ActionMailer::MailDeliveryJob] [15b3a66e-9a55-47d4-890c-cd5eb5502b51] Performing ActionMailer::MailDeliveryJob (Job ID: 15b3a66e-9a55-47d4-890c-cd5eb5502b51) from Async(mailers) enqueued at 2020-07-17T09:15:38Z with arguments: "OrderMailer", "received", "deliver_now", {:args=>[#<GlobalID:0x00007f420c79da38 @uri=#<URI::GID gid://depot/Order/19>>]}
[ActiveJob] [ActionMailer::MailDeliveryJob] [15b3a66e-9a55-47d4-890c-cd5eb5502b51]   Rendering order_mailer/received.html.erb within layouts/mailer
[ActiveJob] [ActionMailer::MailDeliveryJob] [15b3a66e-9a55-47d4-890c-cd5eb5502b51]   Rendered order_mailer/received.html.erb within layouts/mailer (Duration: 0.1ms | Allocations: 5)
[ActiveJob] [ActionMailer::MailDeliveryJob] [15b3a66e-9a55-47d4-890c-cd5eb5502b51]   Rendering order_mailer/received.text.erb within layouts/mailer
[ActiveJob] [ActionMailer::MailDeliveryJob] [15b3a66e-9a55-47d4-890c-cd5eb5502b51]   [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."order_id" = ?[0m  [["order_id", 19]]
[ActiveJob] [ActionMailer::MailDeliveryJob] [15b3a66e-9a55-47d4-890c-cd5eb5502b51]   ↳ app/views/order_mailer/received.text.erb:4
[ActiveJob] [ActionMailer::MailDeliveryJob] [15b3a66e-9a55-47d4-890c-cd5eb5502b51]   Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
[ActiveJob] [ActionMailer::MailDeliveryJob] [15b3a66e-9a55-47d4-890c-cd5eb5502b51]   Rendered order_mailer/received.text.erb within layouts/mailer (Duration: 5.1ms | Allocations: 2512)
[ActiveJob] [ActionMailer::MailDeliveryJob] [15b3a66e-9a55-47d4-890c-cd5eb5502b51] OrderMailer#received: processed outbound mail in 9.2ms
[ActiveJob] [ActionMailer::MailDeliveryJob] [15b3a66e-9a55-47d4-890c-cd5eb5502b51] Delivered mail 5f116c3a830d8_823010ce8318b9@khanh-X510UAR.mail (3.3ms)
[ActiveJob] [ActionMailer::MailDeliveryJob] [15b3a66e-9a55-47d4-890c-cd5eb5502b51] Date: Fri, 17 Jul 2020 16:15:38 +0700
From: Sam ruby <depot@example.com>
To: dave
Message-ID: <5f116c3a830d8_823010ce8318b9@khanh-X510UAR.mail>
Subject: Pragmatic Store Order Confirmation
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5f116c3a826a1_823010ce8317bd";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5f116c3a826a1_823010ce8317bd
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: quoted-printable

Dear HU=E1=BB=B3nh Qu=E1=BB=91c Kh=C3=A1nh=0D
Thank you for your recent order from The Pragmatic Store.=0D
You ordered the following items:=0D
We'll send you a separate email when your order ships.=0D

----==_mimepart_5f116c3a826a1_823010ce8317bd
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <style>
      /* Email styles need to be inline */
    </style>
  </head>

  <body>
    <h1>Order#received</h1>

<p>
  , find me in app/views/order_mailer/received.html.erb
</p>

  </body>
</html>

----==_mimepart_5f116c3a826a1_823010ce8317bd--

[ActiveJob] [ActionMailer::MailDeliveryJob] [15b3a66e-9a55-47d4-890c-cd5eb5502b51] Error performing ActionMailer::MailDeliveryJob (Job ID: 15b3a66e-9a55-47d4-890c-cd5eb5502b51) from Async(mailers) in 13.29ms: Errno::ECONNREFUSED (Connection refused - connect(2) for "localhost" port 587):
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/2.7.0/net/smtp.rb:539:in `initialize'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/2.7.0/net/smtp.rb:539:in `open'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/2.7.0/net/smtp.rb:539:in `tcp_socket'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/2.7.0/net/smtp.rb:549:in `block in do_start'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/2.7.0/timeout.rb:95:in `block in timeout'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/2.7.0/timeout.rb:105:in `timeout'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/2.7.0/net/smtp.rb:548:in `do_start'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/2.7.0/net/smtp.rb:518:in `start'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/mail-2.7.1/lib/mail/network/delivery_methods/smtp.rb:109:in `start_smtp_session'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/mail-2.7.1/lib/mail/network/delivery_methods/smtp.rb:100:in `deliver!'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/mail-2.7.1/lib/mail/message.rb:2159:in `do_delivery'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/mail-2.7.1/lib/mail/message.rb:260:in `block in deliver'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/actionmailer-6.0.3.2/lib/action_mailer/base.rb:589:in `block in deliver_mail'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/notifications.rb:180:in `block in instrument'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/notifications.rb:180:in `instrument'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/actionmailer-6.0.3.2/lib/action_mailer/base.rb:587:in `deliver_mail'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/mail-2.7.1/lib/mail/message.rb:260:in `deliver'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/actionmailer-6.0.3.2/lib/action_mailer/message_delivery.rb:115:in `block in deliver_now'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/actionmailer-6.0.3.2/lib/action_mailer/rescuable.rb:17:in `handle_exceptions'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/actionmailer-6.0.3.2/lib/action_mailer/message_delivery.rb:114:in `deliver_now'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/actionmailer-6.0.3.2/lib/action_mailer/mail_delivery_job.rb:23:in `perform'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/execution.rb:40:in `block in perform_now'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:112:in `block in run_callbacks'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/i18n-1.8.3/lib/i18n.rb:313:in `with_locale'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/translation.rb:9:in `block (2 levels) in <module:Translation>'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `instance_exec'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/core_ext/time/zones.rb:66:in `use_zone'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/timezones.rb:9:in `block (2 levels) in <module:Timezones>'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `instance_exec'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/logging.rb:25:in `block (4 levels) in <module:Logging>'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/notifications.rb:180:in `block in instrument'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/notifications.rb:180:in `instrument'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/logging.rb:24:in `block (3 levels) in <module:Logging>'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/logging.rb:45:in `block in tag_logger'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/tagged_logging.rb:28:in `tagged'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/tagged_logging.rb:80:in `tagged'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/logging.rb:45:in `tag_logger'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/logging.rb:21:in `block (2 levels) in <module:Logging>'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `instance_exec'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:139:in `run_callbacks'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/execution.rb:39:in `perform_now'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/execution.rb:25:in `block in execute'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:112:in `block in run_callbacks'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/railtie.rb:43:in `block (4 levels) in <class:Railtie>'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/execution_wrapper.rb:88:in `wrap'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/reloader.rb:72:in `block in wrap'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/execution_wrapper.rb:88:in `wrap'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/reloader.rb:71:in `wrap'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/railtie.rb:42:in `block (3 levels) in <class:Railtie>'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `instance_exec'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:139:in `run_callbacks'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/execution.rb:23:in `execute'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/queue_adapters/async_adapter.rb:70:in `perform'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/concurrent-ruby-1.1.6/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:353:in `run_task'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/concurrent-ruby-1.1.6/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:342:in `block (3 levels) in create_worker'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/concurrent-ruby-1.1.6/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:325:in `loop'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/concurrent-ruby-1.1.6/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:325:in `block (2 levels) in create_worker'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/concurrent-ruby-1.1.6/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:324:in `catch'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/concurrent-ruby-1.1.6/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:324:in `block in create_worker'
Started POST "/orders" for ::1 at 2020-07-17 16:15:41 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"xG+2Rejln2HYP1UouthhJOFYG/y1vjW/UKmsGpPcNCJfl65hlYzH5xH12WfuVtcSARRNHvgF4xwsyxumUmdQuw==", "order"=>{"name"=>"HUỳnh Quốc Khánh", "address"=>"2", "email"=>"01673khanh@gmail.com", "pay_type"=>"Purchase order"}, "commit"=>"Place Order"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 81], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[36mCart Create (0.3ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2020-07-17 09:15:41.566572"], ["updated_at", "2020-07-17 09:15:41.566572"]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[35m (114.8ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[36mLineItem Load (0.9ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 83]]
  ↳ app/models/order.rb:15:in `add_line_items_from_cart'
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/orders_controller.rb:43:in `block in create'
  [1m[36mOrder Create (0.9ms)[0m  [1m[32mINSERT INTO "orders" ("name", "address", "email", "pay_type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "HUỳnh Quốc Khánh"], ["address", "2"], ["email", "01673khanh@gmail.com"], ["pay_type", 2], ["created_at", "2020-07-17 09:15:41.699946"], ["updated_at", "2020-07-17 09:15:41.699946"]]
  ↳ app/controllers/orders_controller.rb:43:in `block in create'
  [1m[35m (64.6ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/orders_controller.rb:43:in `block in create'
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 83], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:44:in `block in create'
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/orders_controller.rb:44:in `block in create'
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 83]]
  ↳ app/controllers/orders_controller.rb:44:in `block in create'
  [1m[36mCart Destroy (0.7ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 83]]
  ↳ app/controllers/orders_controller.rb:44:in `block in create'
  [1m[35m (62.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/orders_controller.rb:44:in `block in create'
[31mUnpermitted parameters: :name, :address, :email, :pay_type[0m
[ActiveJob] Enqueued ChargeOrderJob (Job ID: 3b4acf12-4d5f-44d4-978e-dee5129e4946) to Async(default) with arguments: #<GlobalID:0x00007f420839de50 @uri=#<URI::GID gid://depot/Order/20>>, {}
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 20], ["LIMIT", 1]]
[ActiveJob] [ChargeOrderJob] [3b4acf12-4d5f-44d4-978e-dee5129e4946] Performing ChargeOrderJob (Job ID: 3b4acf12-4d5f-44d4-978e-dee5129e4946) from Async(default) enqueued at 2020-07-17T09:15:41Z with arguments: #<GlobalID:0x00007f420c899428 @uri=#<URI::GID gid://depot/Order/20>>, {}
Completed 500 Internal Server Error in 426ms (ActiveRecord: 246.5ms | Allocations: 64491)


[ActiveJob] [ChargeOrderJob] [3b4acf12-4d5f-44d4-978e-dee5129e4946] Processing purchase order: 
  
NoMethodError (undefined method `assert_redirected_to' for #<OrdersController:0x000055ff422bdc10>):
  
app/controllers/orders_controller.rb:56:in `block in create'
app/controllers/orders_controller.rb:42:in `create'
Finished "/cable/" [WebSocket] for ::1 at 2020-07-17 16:15:42 +0700
ProductsChannel stopped streaming from products
[ActiveJob] [ChargeOrderJob] [3b4acf12-4d5f-44d4-978e-dee5129e4946] Done Processing Payment
[ActiveJob] [ChargeOrderJob] [3b4acf12-4d5f-44d4-978e-dee5129e4946] Enqueued ActionMailer::MailDeliveryJob (Job ID: 65c16027-f5e9-4898-90bc-d0a7daaa0db7) to Async(mailers) with arguments: "OrderMailer", "received", "deliver_now", {:args=>[#<GlobalID:0x000055ff41f60db0 @uri=#<URI::GID gid://depot/Order/20>>]}
[ActiveJob] [ChargeOrderJob] [3b4acf12-4d5f-44d4-978e-dee5129e4946] Performed ChargeOrderJob (Job ID: 3b4acf12-4d5f-44d4-978e-dee5129e4946) from Async(default) in 3041.67ms
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 20], ["LIMIT", 1]]
[ActiveJob] [ActionMailer::MailDeliveryJob] [65c16027-f5e9-4898-90bc-d0a7daaa0db7] Performing ActionMailer::MailDeliveryJob (Job ID: 65c16027-f5e9-4898-90bc-d0a7daaa0db7) from Async(mailers) enqueued at 2020-07-17T09:15:45Z with arguments: "OrderMailer", "received", "deliver_now", {:args=>[#<GlobalID:0x000055ff41c36f18 @uri=#<URI::GID gid://depot/Order/20>>]}
[ActiveJob] [ActionMailer::MailDeliveryJob] [65c16027-f5e9-4898-90bc-d0a7daaa0db7]   Rendering order_mailer/received.html.erb within layouts/mailer
[ActiveJob] [ActionMailer::MailDeliveryJob] [65c16027-f5e9-4898-90bc-d0a7daaa0db7]   Rendered order_mailer/received.html.erb within layouts/mailer (Duration: 0.1ms | Allocations: 4)
[ActiveJob] [ActionMailer::MailDeliveryJob] [65c16027-f5e9-4898-90bc-d0a7daaa0db7]   Rendering order_mailer/received.text.erb within layouts/mailer
[ActiveJob] [ActionMailer::MailDeliveryJob] [65c16027-f5e9-4898-90bc-d0a7daaa0db7]   [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."order_id" = ?[0m  [["order_id", 20]]
[ActiveJob] [ActionMailer::MailDeliveryJob] [65c16027-f5e9-4898-90bc-d0a7daaa0db7]   ↳ app/views/order_mailer/received.text.erb:4
[ActiveJob] [ActionMailer::MailDeliveryJob] [65c16027-f5e9-4898-90bc-d0a7daaa0db7]   Rendered collection of templates [0 times] (Duration: 0.1ms | Allocations: 3)
[ActiveJob] [ActionMailer::MailDeliveryJob] [65c16027-f5e9-4898-90bc-d0a7daaa0db7]   Rendered order_mailer/received.text.erb within layouts/mailer (Duration: 4.4ms | Allocations: 852)
[ActiveJob] [ActionMailer::MailDeliveryJob] [65c16027-f5e9-4898-90bc-d0a7daaa0db7] OrderMailer#received: processed outbound mail in 14.2ms
[ActiveJob] [ActionMailer::MailDeliveryJob] [65c16027-f5e9-4898-90bc-d0a7daaa0db7] Delivered mail 5f116c41ce84_8230792c320be@khanh-X510UAR.mail (12.9ms)
[ActiveJob] [ActionMailer::MailDeliveryJob] [65c16027-f5e9-4898-90bc-d0a7daaa0db7] Date: Fri, 17 Jul 2020 16:15:45 +0700
From: Sam ruby <depot@example.com>
To: 01673khanh@gmail.com
Message-ID: <5f116c41ce84_8230792c320be@khanh-X510UAR.mail>
Subject: Pragmatic Store Order Confirmation
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5f116c41b1a1_8230792c319d7";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5f116c41b1a1_8230792c319d7
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: quoted-printable

Dear HU=E1=BB=B3nh Qu=E1=BB=91c Kh=C3=A1nh=0D
Thank you for your recent order from The Pragmatic Store.=0D
You ordered the following items:=0D
We'll send you a separate email when your order ships.=0D

----==_mimepart_5f116c41b1a1_8230792c319d7
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <style>
      /* Email styles need to be inline */
    </style>
  </head>

  <body>
    <h1>Order#received</h1>

<p>
  , find me in app/views/order_mailer/received.html.erb
</p>

  </body>
</html>

----==_mimepart_5f116c41b1a1_8230792c319d7--

[ActiveJob] [ActionMailer::MailDeliveryJob] [65c16027-f5e9-4898-90bc-d0a7daaa0db7] Error performing ActionMailer::MailDeliveryJob (Job ID: 65c16027-f5e9-4898-90bc-d0a7daaa0db7) from Async(mailers) in 28.63ms: Errno::ECONNREFUSED (Connection refused - connect(2) for "localhost" port 587):
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/2.7.0/net/smtp.rb:539:in `initialize'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/2.7.0/net/smtp.rb:539:in `open'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/2.7.0/net/smtp.rb:539:in `tcp_socket'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/2.7.0/net/smtp.rb:549:in `block in do_start'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/2.7.0/timeout.rb:95:in `block in timeout'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/2.7.0/timeout.rb:105:in `timeout'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/2.7.0/net/smtp.rb:548:in `do_start'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/2.7.0/net/smtp.rb:518:in `start'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/mail-2.7.1/lib/mail/network/delivery_methods/smtp.rb:109:in `start_smtp_session'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/mail-2.7.1/lib/mail/network/delivery_methods/smtp.rb:100:in `deliver!'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/mail-2.7.1/lib/mail/message.rb:2159:in `do_delivery'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/mail-2.7.1/lib/mail/message.rb:260:in `block in deliver'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/actionmailer-6.0.3.2/lib/action_mailer/base.rb:589:in `block in deliver_mail'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/notifications.rb:180:in `block in instrument'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/notifications.rb:180:in `instrument'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/actionmailer-6.0.3.2/lib/action_mailer/base.rb:587:in `deliver_mail'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/mail-2.7.1/lib/mail/message.rb:260:in `deliver'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/actionmailer-6.0.3.2/lib/action_mailer/message_delivery.rb:115:in `block in deliver_now'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/actionmailer-6.0.3.2/lib/action_mailer/rescuable.rb:17:in `handle_exceptions'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/actionmailer-6.0.3.2/lib/action_mailer/message_delivery.rb:114:in `deliver_now'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/actionmailer-6.0.3.2/lib/action_mailer/mail_delivery_job.rb:23:in `perform'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/execution.rb:40:in `block in perform_now'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:112:in `block in run_callbacks'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/i18n-1.8.3/lib/i18n.rb:313:in `with_locale'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/translation.rb:9:in `block (2 levels) in <module:Translation>'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `instance_exec'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/core_ext/time/zones.rb:66:in `use_zone'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/timezones.rb:9:in `block (2 levels) in <module:Timezones>'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `instance_exec'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/logging.rb:25:in `block (4 levels) in <module:Logging>'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/notifications.rb:180:in `block in instrument'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/notifications.rb:180:in `instrument'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/logging.rb:24:in `block (3 levels) in <module:Logging>'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/logging.rb:45:in `block in tag_logger'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/tagged_logging.rb:28:in `tagged'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/tagged_logging.rb:80:in `tagged'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/logging.rb:45:in `tag_logger'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/logging.rb:21:in `block (2 levels) in <module:Logging>'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `instance_exec'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:139:in `run_callbacks'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/execution.rb:39:in `perform_now'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/execution.rb:25:in `block in execute'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:112:in `block in run_callbacks'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/railtie.rb:43:in `block (4 levels) in <class:Railtie>'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/execution_wrapper.rb:88:in `wrap'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/reloader.rb:72:in `block in wrap'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/execution_wrapper.rb:88:in `wrap'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/reloader.rb:71:in `wrap'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/railtie.rb:42:in `block (3 levels) in <class:Railtie>'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `instance_exec'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:139:in `run_callbacks'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/execution.rb:23:in `execute'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/queue_adapters/async_adapter.rb:70:in `perform'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/concurrent-ruby-1.1.6/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:353:in `run_task'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/concurrent-ruby-1.1.6/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:342:in `block (3 levels) in create_worker'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/concurrent-ruby-1.1.6/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:325:in `loop'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/concurrent-ruby-1.1.6/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:325:in `block (2 levels) in create_worker'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/concurrent-ruby-1.1.6/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:324:in `catch'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/concurrent-ruby-1.1.6/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:324:in `block in create_worker'
Started POST "/orders" for ::1 at 2020-07-17 16:16:02 +0700
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"xG+2Rejln2HYP1UouthhJOFYG/y1vjW/UKmsGpPcNCJfl65hlYzH5xH12WfuVtcSARRNHvgF4xwsyxumUmdQuw==", "order"=>{"name"=>"HUỳnh Quốc Khánh", "address"=>"2", "email"=>"01673khanh@gmail.com", "pay_type"=>"Purchase order"}, "commit"=>"Place Order"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 81], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[36mCart Create (0.9ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2020-07-17 09:16:02.161181"], ["updated_at", "2020-07-17 09:16:02.161181"]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[35m (578.8ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 84]]
  ↳ app/models/order.rb:15:in `add_line_items_from_cart'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/orders_controller.rb:43:in `block in create'
  [1m[36mOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "orders" ("name", "address", "email", "pay_type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "HUỳnh Quốc Khánh"], ["address", "2"], ["email", "01673khanh@gmail.com"], ["pay_type", 2], ["created_at", "2020-07-17 09:16:02.785401"], ["updated_at", "2020-07-17 09:16:02.785401"]]
  ↳ app/controllers/orders_controller.rb:43:in `block in create'
  [1m[35m (848.6ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/orders_controller.rb:43:in `block in create'
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 84], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:44:in `block in create'
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/orders_controller.rb:44:in `block in create'
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 84]]
  ↳ app/controllers/orders_controller.rb:44:in `block in create'
  [1m[36mCart Destroy (0.7ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 84]]
  ↳ app/controllers/orders_controller.rb:44:in `block in create'
  [1m[35m (914.7ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/orders_controller.rb:44:in `block in create'
[31mUnpermitted parameters: :name, :address, :email, :pay_type[0m
[ActiveJob] Enqueued ChargeOrderJob (Job ID: cc59c0ba-525c-4250-9efc-3d70b70ff8be) to Async(default) with arguments: #<GlobalID:0x000055ff423bea60 @uri=#<URI::GID gid://depot/Order/21>>, {}
Redirected to http://localhost:3000/en
Completed 302 Found in 2432ms (ActiveRecord: 2348.8ms | Allocations: 23648)


  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 21], ["LIMIT", 1]]
Started GET "/en" for ::1 at 2020-07-17 16:16:04 +0700
[ActiveJob] [ChargeOrderJob] [cc59c0ba-525c-4250-9efc-3d70b70ff8be] Performing ChargeOrderJob (Job ID: cc59c0ba-525c-4250-9efc-3d70b70ff8be) from Async(default) enqueued at 2020-07-17T09:16:04Z with arguments: #<GlobalID:0x00007f42080a38f8 @uri=#<URI::GID gid://depot/Order/21>>, {}
[ActiveJob] [ChargeOrderJob] [cc59c0ba-525c-4250-9efc-3d70b70ff8be] Processing purchase order: 
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by StoreController#index as HTML
  Parameters: {"locale"=>"en"}
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[36mCart Create (0.3ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2020-07-17 09:16:04.704354"], ["updated_at", "2020-07-17 09:16:04.704354"]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[35m (402.6ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 26.6ms | Allocations: 6774)
[Webpacker] Everything's up-to-date. Nothing to do
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 85], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:35
Completed 200 OK in 477ms (Views: 41.5ms | ActiveRecord: 406.4ms | Allocations: 24146)


Started GET "/cable" for ::1 at 2020-07-17 16:16:05 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-17 16:16:05 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
[ActiveJob] [ChargeOrderJob] [cc59c0ba-525c-4250-9efc-3d70b70ff8be] Done Processing Payment
[ActiveJob] [ChargeOrderJob] [cc59c0ba-525c-4250-9efc-3d70b70ff8be] Enqueued ActionMailer::MailDeliveryJob (Job ID: 8bef13ad-15d2-4fdc-a89d-5c6b56a0219f) to Async(mailers) with arguments: "OrderMailer", "received", "deliver_now", {:args=>[#<GlobalID:0x00007f420c74ff90 @uri=#<URI::GID gid://depot/Order/21>>]}
[ActiveJob] [ChargeOrderJob] [cc59c0ba-525c-4250-9efc-3d70b70ff8be] Performed ChargeOrderJob (Job ID: cc59c0ba-525c-4250-9efc-3d70b70ff8be) from Async(default) in 3022.92ms
  [1m[36mOrder Load (1.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 21], ["LIMIT", 1]]
[ActiveJob] [ActionMailer::MailDeliveryJob] [8bef13ad-15d2-4fdc-a89d-5c6b56a0219f] Performing ActionMailer::MailDeliveryJob (Job ID: 8bef13ad-15d2-4fdc-a89d-5c6b56a0219f) from Async(mailers) enqueued at 2020-07-17T09:16:07Z with arguments: "OrderMailer", "received", "deliver_now", {:args=>[#<GlobalID:0x000055ff42668270 @uri=#<URI::GID gid://depot/Order/21>>]}
[ActiveJob] [ActionMailer::MailDeliveryJob] [8bef13ad-15d2-4fdc-a89d-5c6b56a0219f]   Rendering order_mailer/received.html.erb within layouts/mailer
[ActiveJob] [ActionMailer::MailDeliveryJob] [8bef13ad-15d2-4fdc-a89d-5c6b56a0219f]   Rendered order_mailer/received.html.erb within layouts/mailer (Duration: 0.2ms | Allocations: 4)
[ActiveJob] [ActionMailer::MailDeliveryJob] [8bef13ad-15d2-4fdc-a89d-5c6b56a0219f]   Rendering order_mailer/received.text.erb within layouts/mailer
[ActiveJob] [ActionMailer::MailDeliveryJob] [8bef13ad-15d2-4fdc-a89d-5c6b56a0219f]   [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."order_id" = ?[0m  [["order_id", 21]]
[ActiveJob] [ActionMailer::MailDeliveryJob] [8bef13ad-15d2-4fdc-a89d-5c6b56a0219f]   ↳ app/views/order_mailer/received.text.erb:4
[ActiveJob] [ActionMailer::MailDeliveryJob] [8bef13ad-15d2-4fdc-a89d-5c6b56a0219f]   Rendered collection of templates [0 times] (Duration: 0.1ms | Allocations: 3)
[ActiveJob] [ActionMailer::MailDeliveryJob] [8bef13ad-15d2-4fdc-a89d-5c6b56a0219f]   Rendered order_mailer/received.text.erb within layouts/mailer (Duration: 10.7ms | Allocations: 1494)
[ActiveJob] [ActionMailer::MailDeliveryJob] [8bef13ad-15d2-4fdc-a89d-5c6b56a0219f] OrderMailer#received: processed outbound mail in 22.5ms
[ActiveJob] [ActionMailer::MailDeliveryJob] [8bef13ad-15d2-4fdc-a89d-5c6b56a0219f] Delivered mail 5f116c57b5628_823010ce8322d4@khanh-X510UAR.mail (7.1ms)
[ActiveJob] [ActionMailer::MailDeliveryJob] [8bef13ad-15d2-4fdc-a89d-5c6b56a0219f] Date: Fri, 17 Jul 2020 16:16:07 +0700
From: Sam ruby <depot@example.com>
To: 01673khanh@gmail.com
Message-ID: <5f116c57b5628_823010ce8322d4@khanh-X510UAR.mail>
Subject: Pragmatic Store Order Confirmation
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5f116c57b3b2f_823010ce832118";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5f116c57b3b2f_823010ce832118
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: quoted-printable

Dear HU=E1=BB=B3nh Qu=E1=BB=91c Kh=C3=A1nh=0D
Thank you for your recent order from The Pragmatic Store.=0D
You ordered the following items:=0D
We'll send you a separate email when your order ships.=0D

----==_mimepart_5f116c57b3b2f_823010ce832118
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <style>
      /* Email styles need to be inline */
    </style>
  </head>

  <body>
    <h1>Order#received</h1>

<p>
  , find me in app/views/order_mailer/received.html.erb
</p>

  </body>
</html>

----==_mimepart_5f116c57b3b2f_823010ce832118--

[ActiveJob] [ActionMailer::MailDeliveryJob] [8bef13ad-15d2-4fdc-a89d-5c6b56a0219f] Error performing ActionMailer::MailDeliveryJob (Job ID: 8bef13ad-15d2-4fdc-a89d-5c6b56a0219f) from Async(mailers) in 31.79ms: Errno::ECONNREFUSED (Connection refused - connect(2) for "localhost" port 587):
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/2.7.0/net/smtp.rb:539:in `initialize'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/2.7.0/net/smtp.rb:539:in `open'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/2.7.0/net/smtp.rb:539:in `tcp_socket'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/2.7.0/net/smtp.rb:549:in `block in do_start'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/2.7.0/timeout.rb:95:in `block in timeout'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/2.7.0/timeout.rb:105:in `timeout'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/2.7.0/net/smtp.rb:548:in `do_start'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/2.7.0/net/smtp.rb:518:in `start'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/mail-2.7.1/lib/mail/network/delivery_methods/smtp.rb:109:in `start_smtp_session'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/mail-2.7.1/lib/mail/network/delivery_methods/smtp.rb:100:in `deliver!'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/mail-2.7.1/lib/mail/message.rb:2159:in `do_delivery'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/mail-2.7.1/lib/mail/message.rb:260:in `block in deliver'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/actionmailer-6.0.3.2/lib/action_mailer/base.rb:589:in `block in deliver_mail'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/notifications.rb:180:in `block in instrument'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/notifications.rb:180:in `instrument'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/actionmailer-6.0.3.2/lib/action_mailer/base.rb:587:in `deliver_mail'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/mail-2.7.1/lib/mail/message.rb:260:in `deliver'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/actionmailer-6.0.3.2/lib/action_mailer/message_delivery.rb:115:in `block in deliver_now'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/actionmailer-6.0.3.2/lib/action_mailer/rescuable.rb:17:in `handle_exceptions'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/actionmailer-6.0.3.2/lib/action_mailer/message_delivery.rb:114:in `deliver_now'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/actionmailer-6.0.3.2/lib/action_mailer/mail_delivery_job.rb:23:in `perform'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/execution.rb:40:in `block in perform_now'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:112:in `block in run_callbacks'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/i18n-1.8.3/lib/i18n.rb:313:in `with_locale'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/translation.rb:9:in `block (2 levels) in <module:Translation>'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `instance_exec'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/core_ext/time/zones.rb:66:in `use_zone'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/timezones.rb:9:in `block (2 levels) in <module:Timezones>'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `instance_exec'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/logging.rb:25:in `block (4 levels) in <module:Logging>'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/notifications.rb:180:in `block in instrument'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/notifications.rb:180:in `instrument'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/logging.rb:24:in `block (3 levels) in <module:Logging>'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/logging.rb:45:in `block in tag_logger'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/tagged_logging.rb:28:in `tagged'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/tagged_logging.rb:80:in `tagged'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/logging.rb:45:in `tag_logger'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/logging.rb:21:in `block (2 levels) in <module:Logging>'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `instance_exec'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:139:in `run_callbacks'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/execution.rb:39:in `perform_now'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/execution.rb:25:in `block in execute'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:112:in `block in run_callbacks'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/railtie.rb:43:in `block (4 levels) in <class:Railtie>'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/execution_wrapper.rb:88:in `wrap'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/reloader.rb:72:in `block in wrap'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/execution_wrapper.rb:88:in `wrap'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/reloader.rb:71:in `wrap'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/railtie.rb:42:in `block (3 levels) in <class:Railtie>'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `instance_exec'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:139:in `run_callbacks'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/execution.rb:23:in `execute'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/queue_adapters/async_adapter.rb:70:in `perform'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/concurrent-ruby-1.1.6/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:353:in `run_task'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/concurrent-ruby-1.1.6/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:342:in `block (3 levels) in create_worker'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/concurrent-ruby-1.1.6/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:325:in `loop'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/concurrent-ruby-1.1.6/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:325:in `block (2 levels) in create_worker'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/concurrent-ruby-1.1.6/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:324:in `catch'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/concurrent-ruby-1.1.6/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:324:in `block in create_worker'
Started GET "/en" for ::1 at 2020-07-17 16:18:05 +0700
Processing by StoreController#index as HTML
  Parameters: {"locale"=>"en"}
  [1m[36mCart Load (0.6ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 85], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 12.6ms | Allocations: 3328)
[Webpacker] Everything's up-to-date. Nothing to do
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 85], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:35
Completed 200 OK in 97ms (Views: 88.9ms | ActiveRecord: 1.0ms | Allocations: 11737)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-17 16:18:06 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-17 16:18:06 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-17 16:18:06 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started POST "/en/line_items?product_id=4" for ::1 at 2020-07-17 16:18:07 +0700
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"jilBBMbmd8aHqtLj1/Xqlm4DCUMAvu5ztfxcYzyMaJYV0Vkgu48vQE5gXqyDe1ygjk9foU0FONDJnuvf/TcMDw==", "product_id"=>"4", "locale"=>"en"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 85], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:38:in `create'
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 85], ["product_id", 4], ["LIMIT", 1]]
  ↳ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/line_items_controller.rb:42:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:42:in `block in create'
  [1m[36mLineItem Create (26.0ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 4], ["cart_id", 85], ["created_at", "2020-07-17 09:18:07.983758"], ["updated_at", "2020-07-17 09:18:07.983758"]]
  ↳ app/controllers/line_items_controller.rb:42:in `block in create'
  [1m[35m (411.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/line_items_controller.rb:42:in `block in create'
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 85]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 1.1ms | Allocations: 135)
  Rendered carts/_cart.html.erb (Duration: 12.0ms | Allocations: 1721)
  Rendered line_items/create.js.erb (Duration: 14.4ms | Allocations: 1898)
Completed 200 OK in 519ms (Views: 16.2ms | ActiveRecord: 457.1ms | Allocations: 13887)


Started GET "/en/orders/new" for ::1 at 2020-07-17 16:18:10 +0700
Processing by OrdersController#new as HTML
  Parameters: {"locale"=>"en"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 85], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 85], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:98:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 6.6ms | Allocations: 872)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered orders/new.html.erb within layouts/application (Duration: 13.2ms | Allocations: 2729)
[Webpacker] Everything's up-to-date. Nothing to do
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 85], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:35
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 85]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 2.1ms | Allocations: 892)
  Rendered carts/_cart.html.erb (Duration: 5.1ms | Allocations: 2125)
Completed 200 OK in 46ms (Views: 34.6ms | ActiveRecord: 1.0ms | Allocations: 14083)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-17 16:18:10 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-17 16:18:10 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-17 16:18:10 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started POST "/orders" for ::1 at 2020-07-17 16:18:50 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"hfmUV5HrO3QzxowdJLKZFl/GB1wgoJGjj/Lqk9h/eMMeAYxz7IJj8voMAFJwPC8gv4pRvm0bRwDzkF0vGcQcWg==", "order"=>{"name"=>"HUỳnh Quốc Khánh", "address"=>"rgfgfdg", "email"=>"01673khanh@gmail.com", "pay_type"=>""}, "commit"=>"Place Order"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 85], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 85]]
  ↳ app/models/order.rb:15:in `add_line_items_from_cart'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/orders_controller.rb:43:in `block in create'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:43:in `block in create'
  [1m[35m (0.1ms)[0m  [1m[31mrollback transaction[0m
  ↳ app/controllers/orders_controller.rb:43:in `block in create'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 8.9ms | Allocations: 1628)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered orders/new.html.erb within layouts/application (Duration: 13.4ms | Allocations: 3366)
[Webpacker] Everything's up-to-date. Nothing to do
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 0.3ms | Allocations: 135)
  Rendered carts/_cart.html.erb (Duration: 1.4ms | Allocations: 651)
Completed 200 OK in 38ms (Views: 26.2ms | ActiveRecord: 0.6ms | Allocations: 16893)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-17 16:18:51 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-17 16:18:51 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-17 16:18:51 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/orders" for ::1 at 2020-07-17 16:18:53 +0700
Processing by OrdersController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:20:in `authorize'
  Rendering orders/index.html.erb within layouts/application
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT "orders".* FROM "orders"[0m
  ↳ app/views/orders/index.html.erb:17
  Rendered orders/index.html.erb within layouts/application (Duration: 6.5ms | Allocations: 1643)
[Webpacker] Everything's up-to-date. Nothing to do
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 50ms (Views: 22.6ms | ActiveRecord: 1.7ms | Allocations: 14207)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-17 16:18:53 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-17 16:18:53 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-17 16:18:53 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started DELETE "/orders/21" for ::1 at 2020-07-17 16:18:56 +0700
Processing by OrdersController#destroy as HTML
  Parameters: {"authenticity_token"=>"ADODjPbnJv3sWa3mX7pIRahFVd3XtJdPh9mfN2V+DWuby5uoi45+eyWTIakLNP5zSAkDP5oPQez7uyiLpMVp8g==", "id"=>"21"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:20:in `authorize'
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 21], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:87:in `set_order'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/orders_controller.rb:77:in `destroy'
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."order_id" = ?[0m  [["order_id", 21]]
  ↳ app/controllers/orders_controller.rb:77:in `destroy'
  [1m[36mOrder Destroy (0.3ms)[0m  [1m[31mDELETE FROM "orders" WHERE "orders"."id" = ?[0m  [["id", 21]]
  ↳ app/controllers/orders_controller.rb:77:in `destroy'
  [1m[35m (140.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/orders_controller.rb:77:in `destroy'
Redirected to http://localhost:3000/orders
Completed 302 Found in 159ms (ActiveRecord: 140.9ms | Allocations: 5534)


Started GET "/orders" for ::1 at 2020-07-17 16:18:56 +0700
Processing by OrdersController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:20:in `authorize'
  Rendering orders/index.html.erb within layouts/application
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT "orders".* FROM "orders"[0m
  ↳ app/views/orders/index.html.erb:17
  Rendered orders/index.html.erb within layouts/application (Duration: 2.4ms | Allocations: 1194)
[Webpacker] Everything's up-to-date. Nothing to do
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 21ms (Views: 19.0ms | ActiveRecord: 0.3ms | Allocations: 8854)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-17 16:18:56 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-17 16:18:56 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-17 16:18:56 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started DELETE "/orders/18" for ::1 at 2020-07-17 16:18:59 +0700
Processing by OrdersController#destroy as HTML
  Parameters: {"authenticity_token"=>"a2V0s/Zx6NeSNQ4qnR4SAF5gXOtT+7ncKcawyBSBayfwnWyXixiwUVv/gmXJkKQ2viwKCR5Ab39VpAd01ToPvg==", "id"=>"18"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:20:in `authorize'
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 18], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:87:in `set_order'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/orders_controller.rb:77:in `destroy'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."order_id" = ?[0m  [["order_id", 18]]
  ↳ app/controllers/orders_controller.rb:77:in `destroy'
  [1m[36mLineItem Destroy (0.6ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 85]]
  ↳ app/controllers/orders_controller.rb:77:in `destroy'
  [1m[36mOrder Destroy (0.7ms)[0m  [1m[31mDELETE FROM "orders" WHERE "orders"."id" = ?[0m  [["id", 18]]
  ↳ app/controllers/orders_controller.rb:77:in `destroy'
  [1m[35m (85.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/orders_controller.rb:77:in `destroy'
Redirected to http://localhost:3000/orders
Completed 302 Found in 112ms (ActiveRecord: 87.3ms | Allocations: 6298)


Started GET "/orders" for ::1 at 2020-07-17 16:18:59 +0700
Processing by OrdersController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:20:in `authorize'
  Rendering orders/index.html.erb within layouts/application
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT "orders".* FROM "orders"[0m
  ↳ app/views/orders/index.html.erb:17
  Rendered orders/index.html.erb within layouts/application (Duration: 6.2ms | Allocations: 1055)
[Webpacker] Everything's up-to-date. Nothing to do
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 40ms (Views: 34.6ms | ActiveRecord: 0.4ms | Allocations: 8646)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-17 16:18:59 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-17 16:18:59 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-17 16:18:59 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started DELETE "/orders/19" for ::1 at 2020-07-17 16:19:01 +0700
Processing by OrdersController#destroy as HTML
  Parameters: {"authenticity_token"=>"cqFYQs9qV0XSEn1DBKctDboeMJ+xoyO7US2U9SYhHwHpWUBmsgMPwxvY8QxQKZs7WlJmffwY9RgtTyNJ55p7mA==", "id"=>"19"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:20:in `authorize'
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 19], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:87:in `set_order'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/orders_controller.rb:77:in `destroy'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."order_id" = ?[0m  [["order_id", 19]]
  ↳ app/controllers/orders_controller.rb:77:in `destroy'
  [1m[36mOrder Destroy (0.4ms)[0m  [1m[31mDELETE FROM "orders" WHERE "orders"."id" = ?[0m  [["id", 19]]
  ↳ app/controllers/orders_controller.rb:77:in `destroy'
  [1m[35m (783.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/orders_controller.rb:77:in `destroy'
Redirected to http://localhost:3000/orders
Completed 302 Found in 799ms (ActiveRecord: 784.0ms | Allocations: 5427)


Started GET "/orders" for ::1 at 2020-07-17 16:19:02 +0700
Processing by OrdersController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:20:in `authorize'
  Rendering orders/index.html.erb within layouts/application
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT "orders".* FROM "orders"[0m
  ↳ app/views/orders/index.html.erb:17
  Rendered orders/index.html.erb within layouts/application (Duration: 3.4ms | Allocations: 917)
[Webpacker] Everything's up-to-date. Nothing to do
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 21ms (Views: 16.5ms | ActiveRecord: 0.5ms | Allocations: 8547)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-17 16:19:02 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-17 16:19:02 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-17 16:19:02 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started DELETE "/orders/20" for ::1 at 2020-07-17 16:19:04 +0700
Processing by OrdersController#destroy as HTML
  Parameters: {"authenticity_token"=>"7cC1zxQ2GER+dpOdCBrAMHIz0I7rIN2/4yNyV1NarpR2OK3raV9Awre8H9JclHYGkn+GbKabCxyfQcXrkuHKDQ==", "id"=>"20"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:20:in `authorize'
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 20], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:87:in `set_order'
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/orders_controller.rb:77:in `destroy'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."order_id" = ?[0m  [["order_id", 20]]
  ↳ app/controllers/orders_controller.rb:77:in `destroy'
  [1m[36mOrder Destroy (2.3ms)[0m  [1m[31mDELETE FROM "orders" WHERE "orders"."id" = ?[0m  [["id", 20]]
  ↳ app/controllers/orders_controller.rb:77:in `destroy'
  [1m[35m (160.7ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/orders_controller.rb:77:in `destroy'
Redirected to http://localhost:3000/orders
Completed 302 Found in 182ms (ActiveRecord: 163.7ms | Allocations: 5411)


Started GET "/orders" for ::1 at 2020-07-17 16:19:04 +0700
Processing by OrdersController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:20:in `authorize'
  Rendering orders/index.html.erb within layouts/application
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT "orders".* FROM "orders"[0m
  ↳ app/views/orders/index.html.erb:17
  Rendered orders/index.html.erb within layouts/application (Duration: 3.1ms | Allocations: 779)
[Webpacker] Everything's up-to-date. Nothing to do
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 22ms (Views: 18.7ms | ActiveRecord: 0.4ms | Allocations: 8372)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-17 16:19:04 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-17 16:19:04 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-17 16:19:04 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/orders/1" for ::1 at 2020-07-17 16:19:05 +0700
Processing by OrdersController#show as HTML
  Parameters: {"id"=>"1"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:20:in `authorize'
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:87:in `set_order'
  Rendering orders/show.html.erb within layouts/application
  Rendered orders/show.html.erb within layouts/application (Duration: 27.1ms | Allocations: 303)
[Webpacker] Everything's up-to-date. Nothing to do
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 62ms (Views: 55.1ms | ActiveRecord: 0.5ms | Allocations: 8524)


Started GET "/orders" for ::1 at 2020-07-17 16:19:08 +0700
Processing by OrdersController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:20:in `authorize'
  Rendering orders/index.html.erb within layouts/application
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT "orders".* FROM "orders"[0m
  ↳ app/views/orders/index.html.erb:17
  Rendered orders/index.html.erb within layouts/application (Duration: 2.7ms | Allocations: 780)
[Webpacker] Everything's up-to-date. Nothing to do
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 20ms (Views: 16.5ms | ActiveRecord: 0.5ms | Allocations: 8407)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-17 16:19:11 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-17 16:19:11 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-17 16:19:11 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for ::1 at 2020-07-17 16:19:12 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-17 16:19:12 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-17 16:19:12 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for ::1 at 2020-07-17 16:19:13 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-17 16:19:13 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-17 16:19:13 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for ::1 at 2020-07-17 16:19:13 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-17 16:19:13 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-17 16:19:13 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for ::1 at 2020-07-17 16:19:13 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-17 16:19:13 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-17 16:19:13 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for ::1 at 2020-07-17 16:19:13 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-17 16:19:14 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-17 16:19:14 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for ::1 at 2020-07-17 16:19:14 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-17 16:19:14 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-17 16:19:14 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started POST "/orders" for ::1 at 2020-07-17 16:19:16 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"hfmUV5HrO3QzxowdJLKZFl/GB1wgoJGjj/Lqk9h/eMMeAYxz7IJj8voMAFJwPC8gv4pRvm0bRwDzkF0vGcQcWg==", "order"=>{"name"=>"HUỳnh Quốc Khánh", "address"=>"2", "email"=>"01673khanh@gmail.com", "pay_type"=>"Purchase order"}, "commit"=>"Place Order"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 85], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 85]]
  ↳ app/models/order.rb:15:in `add_line_items_from_cart'
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/orders_controller.rb:43:in `block in create'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:43:in `block in create'
  [1m[36mOrder Create (1.0ms)[0m  [1m[32mINSERT INTO "orders" ("name", "address", "email", "pay_type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "HUỳnh Quốc Khánh"], ["address", "2"], ["email", "01673khanh@gmail.com"], ["pay_type", 2], ["created_at", "2020-07-17 09:19:16.865454"], ["updated_at", "2020-07-17 09:19:16.865454"]]
  ↳ app/controllers/orders_controller.rb:43:in `block in create'
  [1m[36mLineItem Update (0.5ms)[0m  [1m[33mUPDATE "line_items" SET "cart_id" = ?, "order_id" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["cart_id", nil], ["order_id", 22], ["updated_at", "2020-07-17 09:19:16.871408"], ["id", 86]]
  ↳ app/controllers/orders_controller.rb:43:in `block in create'
  [1m[35m (216.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/orders_controller.rb:43:in `block in create'
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 85], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:44:in `block in create'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/orders_controller.rb:44:in `block in create'
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 85]]
  ↳ app/controllers/orders_controller.rb:44:in `block in create'
  [1m[36mCart Destroy (1.2ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 85]]
  ↳ app/controllers/orders_controller.rb:44:in `block in create'
  [1m[35m (1111.8ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/orders_controller.rb:44:in `block in create'
[31mUnpermitted parameters: :name, :address, :email, :pay_type[0m
[ActiveJob] Enqueued ChargeOrderJob (Job ID: 5f824186-5f08-4d21-974e-3206f9c31c60) to Async(default) with arguments: #<GlobalID:0x00007f420c813c60 @uri=#<URI::GID gid://depot/Order/22>>, {}
Redirected to http://localhost:3000/en
Completed 302 Found in 1394ms (ActiveRecord: 1332.9ms | Allocations: 13577)


  [1m[36mOrder Load (0.5ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 22], ["LIMIT", 1]]
[ActiveJob] [ChargeOrderJob] [5f824186-5f08-4d21-974e-3206f9c31c60] Performing ChargeOrderJob (Job ID: 5f824186-5f08-4d21-974e-3206f9c31c60) from Async(default) enqueued at 2020-07-17T09:19:18Z with arguments: #<GlobalID:0x00007f420c79f450 @uri=#<URI::GID gid://depot/Order/22>>, {}
[ActiveJob] [ChargeOrderJob] [5f824186-5f08-4d21-974e-3206f9c31c60] Processing purchase order: 
Started GET "/en" for ::1 at 2020-07-17 16:19:18 +0700
Processing by StoreController#index as HTML
  Parameters: {"locale"=>"en"}
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[36mCart Create (0.6ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2020-07-17 09:19:18.265571"], ["updated_at", "2020-07-17 09:19:18.265571"]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[35m (590.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 22.6ms | Allocations: 3341)
[Webpacker] Everything's up-to-date. Nothing to do
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 86], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:35
Completed 200 OK in 647ms (Views: 37.5ms | ActiveRecord: 591.9ms | Allocations: 14754)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-17 16:19:18 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-17 16:19:18 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-17 16:19:18 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
[ActiveJob] [ChargeOrderJob] [5f824186-5f08-4d21-974e-3206f9c31c60] Done Processing Payment
[ActiveJob] [ChargeOrderJob] [5f824186-5f08-4d21-974e-3206f9c31c60] Enqueued ActionMailer::MailDeliveryJob (Job ID: 0b6de714-b43c-4c55-95c7-156b8a309a53) to Async(mailers) with arguments: "OrderMailer", "received", "deliver_now", {:args=>[#<GlobalID:0x000055ff4088db10 @uri=#<URI::GID gid://depot/Order/22>>]}
[ActiveJob] [ChargeOrderJob] [5f824186-5f08-4d21-974e-3206f9c31c60] Performed ChargeOrderJob (Job ID: 5f824186-5f08-4d21-974e-3206f9c31c60) from Async(default) in 3006.48ms
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 22], ["LIMIT", 1]]
[ActiveJob] [ActionMailer::MailDeliveryJob] [0b6de714-b43c-4c55-95c7-156b8a309a53] Performing ActionMailer::MailDeliveryJob (Job ID: 0b6de714-b43c-4c55-95c7-156b8a309a53) from Async(mailers) enqueued at 2020-07-17T09:19:21Z with arguments: "OrderMailer", "received", "deliver_now", {:args=>[#<GlobalID:0x00007f42083cd380 @uri=#<URI::GID gid://depot/Order/22>>]}
[ActiveJob] [ActionMailer::MailDeliveryJob] [0b6de714-b43c-4c55-95c7-156b8a309a53]   Rendering order_mailer/received.html.erb within layouts/mailer
[ActiveJob] [ActionMailer::MailDeliveryJob] [0b6de714-b43c-4c55-95c7-156b8a309a53]   Rendered order_mailer/received.html.erb within layouts/mailer (Duration: 0.1ms | Allocations: 5)
[ActiveJob] [ActionMailer::MailDeliveryJob] [0b6de714-b43c-4c55-95c7-156b8a309a53]   Rendering order_mailer/received.text.erb within layouts/mailer
[ActiveJob] [ActionMailer::MailDeliveryJob] [0b6de714-b43c-4c55-95c7-156b8a309a53]   [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."order_id" = ?[0m  [["order_id", 22]]
[ActiveJob] [ActionMailer::MailDeliveryJob] [0b6de714-b43c-4c55-95c7-156b8a309a53]   ↳ app/views/order_mailer/received.text.erb:4
[ActiveJob] [ActionMailer::MailDeliveryJob] [0b6de714-b43c-4c55-95c7-156b8a309a53]   [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
[ActiveJob] [ActionMailer::MailDeliveryJob] [0b6de714-b43c-4c55-95c7-156b8a309a53]   ↳ app/views/line_items/_line_item.text.erb:3
[ActiveJob] [ActionMailer::MailDeliveryJob] [0b6de714-b43c-4c55-95c7-156b8a309a53]   Rendered collection of line_items/_line_item.text.erb [1 times] (Duration: 2.6ms | Allocations: 794)
[ActiveJob] [ActionMailer::MailDeliveryJob] [0b6de714-b43c-4c55-95c7-156b8a309a53]   Rendered order_mailer/received.text.erb within layouts/mailer (Duration: 6.4ms | Allocations: 1720)
[ActiveJob] [ActionMailer::MailDeliveryJob] [0b6de714-b43c-4c55-95c7-156b8a309a53] OrderMailer#received: processed outbound mail in 12.1ms
[ActiveJob] [ActionMailer::MailDeliveryJob] [0b6de714-b43c-4c55-95c7-156b8a309a53] Delivered mail 5f116d19459df_82301741c324e9@khanh-X510UAR.mail (3.5ms)
[ActiveJob] [ActionMailer::MailDeliveryJob] [0b6de714-b43c-4c55-95c7-156b8a309a53] Date: Fri, 17 Jul 2020 16:19:21 +0700
From: Sam ruby <depot@example.com>
To: 01673khanh@gmail.com
Message-ID: <5f116d19459df_82301741c324e9@khanh-X510UAR.mail>
Subject: Pragmatic Store Order Confirmation
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5f116d1944e09_82301741c32328";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5f116d1944e09_82301741c32328
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: quoted-printable

Dear HU=E1=BB=B3nh Qu=E1=BB=91c Kh=C3=A1nh=0D
Thank you for your recent order from The Pragmatic Store.=0D
You ordered the following items:=0D
 1 x =C4=90i=E1=BB=87n Tho=E1=BA=A1i Samsung Galaxy Note 10 Lite (128GB/8=
GB)We'll send you a separate email when your order ships.=0D

----==_mimepart_5f116d1944e09_82301741c32328
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <style>
      /* Email styles need to be inline */
    </style>
  </head>

  <body>
    <h1>Order#received</h1>

<p>
  , find me in app/views/order_mailer/received.html.erb
</p>

  </body>
</html>

----==_mimepart_5f116d1944e09_82301741c32328--

[ActiveJob] [ActionMailer::MailDeliveryJob] [0b6de714-b43c-4c55-95c7-156b8a309a53] Error performing ActionMailer::MailDeliveryJob (Job ID: 0b6de714-b43c-4c55-95c7-156b8a309a53) from Async(mailers) in 16.85ms: Errno::ECONNREFUSED (Connection refused - connect(2) for "localhost" port 587):
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/2.7.0/net/smtp.rb:539:in `initialize'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/2.7.0/net/smtp.rb:539:in `open'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/2.7.0/net/smtp.rb:539:in `tcp_socket'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/2.7.0/net/smtp.rb:549:in `block in do_start'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/2.7.0/timeout.rb:95:in `block in timeout'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/2.7.0/timeout.rb:105:in `timeout'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/2.7.0/net/smtp.rb:548:in `do_start'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/2.7.0/net/smtp.rb:518:in `start'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/mail-2.7.1/lib/mail/network/delivery_methods/smtp.rb:109:in `start_smtp_session'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/mail-2.7.1/lib/mail/network/delivery_methods/smtp.rb:100:in `deliver!'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/mail-2.7.1/lib/mail/message.rb:2159:in `do_delivery'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/mail-2.7.1/lib/mail/message.rb:260:in `block in deliver'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/actionmailer-6.0.3.2/lib/action_mailer/base.rb:589:in `block in deliver_mail'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/notifications.rb:180:in `block in instrument'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/notifications.rb:180:in `instrument'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/actionmailer-6.0.3.2/lib/action_mailer/base.rb:587:in `deliver_mail'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/mail-2.7.1/lib/mail/message.rb:260:in `deliver'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/actionmailer-6.0.3.2/lib/action_mailer/message_delivery.rb:115:in `block in deliver_now'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/actionmailer-6.0.3.2/lib/action_mailer/rescuable.rb:17:in `handle_exceptions'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/actionmailer-6.0.3.2/lib/action_mailer/message_delivery.rb:114:in `deliver_now'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/actionmailer-6.0.3.2/lib/action_mailer/mail_delivery_job.rb:23:in `perform'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/execution.rb:40:in `block in perform_now'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:112:in `block in run_callbacks'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/i18n-1.8.3/lib/i18n.rb:313:in `with_locale'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/translation.rb:9:in `block (2 levels) in <module:Translation>'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `instance_exec'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/core_ext/time/zones.rb:66:in `use_zone'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/timezones.rb:9:in `block (2 levels) in <module:Timezones>'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `instance_exec'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/logging.rb:25:in `block (4 levels) in <module:Logging>'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/notifications.rb:180:in `block in instrument'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/notifications.rb:180:in `instrument'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/logging.rb:24:in `block (3 levels) in <module:Logging>'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/logging.rb:45:in `block in tag_logger'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/tagged_logging.rb:28:in `tagged'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/tagged_logging.rb:80:in `tagged'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/logging.rb:45:in `tag_logger'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/logging.rb:21:in `block (2 levels) in <module:Logging>'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `instance_exec'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:139:in `run_callbacks'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/execution.rb:39:in `perform_now'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/execution.rb:25:in `block in execute'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:112:in `block in run_callbacks'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/railtie.rb:43:in `block (4 levels) in <class:Railtie>'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/execution_wrapper.rb:88:in `wrap'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/reloader.rb:72:in `block in wrap'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/execution_wrapper.rb:88:in `wrap'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/reloader.rb:71:in `wrap'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/railtie.rb:42:in `block (3 levels) in <class:Railtie>'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `instance_exec'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:139:in `run_callbacks'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/execution.rb:23:in `execute'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/queue_adapters/async_adapter.rb:70:in `perform'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/concurrent-ruby-1.1.6/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:353:in `run_task'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/concurrent-ruby-1.1.6/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:342:in `block (3 levels) in create_worker'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/concurrent-ruby-1.1.6/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:325:in `loop'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/concurrent-ruby-1.1.6/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:325:in `block (2 levels) in create_worker'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/concurrent-ruby-1.1.6/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:324:in `catch'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/concurrent-ruby-1.1.6/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:324:in `block in create_worker'
Started GET "/en" for ::1 at 2020-07-17 16:24:53 +0700
Processing by StoreController#index as HTML
  Parameters: {"locale"=>"en"}
  [1m[36mCart Load (106.9ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 86], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (19.9ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 83.3ms | Allocations: 3346)
[Webpacker] Everything's up-to-date. Nothing to do
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (33.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 86], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:35
Completed 200 OK in 580ms (Views: 412.1ms | ActiveRecord: 160.0ms | Allocations: 11640)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-17 16:24:53 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-17 16:24:54 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-17 16:24:54 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started POST "/en/line_items?product_id=4" for ::1 at 2020-07-17 16:24:55 +0700
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"p638qePdNtI892RhwL19NJ0AgZWCcyiYAnT4hHmaXQU8VeSNnrRuVPU96C6UM8sCfUzXd8/I/jt+Fk84uCE5nA==", "product_id"=>"4", "locale"=>"en"}
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 86], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:38:in `create'
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 86], ["product_id", 4], ["LIMIT", 1]]
  ↳ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/line_items_controller.rb:42:in `block in create'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:42:in `block in create'
  [1m[36mLineItem Create (81.4ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 4], ["cart_id", 86], ["created_at", "2020-07-17 09:24:55.216375"], ["updated_at", "2020-07-17 09:24:55.216375"]]
  ↳ app/controllers/line_items_controller.rb:42:in `block in create'
  [1m[35m (106.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/line_items_controller.rb:42:in `block in create'
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 86]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 1.0ms | Allocations: 134)
  Rendered carts/_cart.html.erb (Duration: 9.0ms | Allocations: 1475)
  Rendered line_items/create.js.erb (Duration: 10.1ms | Allocations: 1640)
Completed 200 OK in 231ms (Views: 11.2ms | ActiveRecord: 189.6ms | Allocations: 8683)


Started GET "/en/orders/new" for ::1 at 2020-07-17 16:24:56 +0700
Processing by OrdersController#new as HTML
  Parameters: {"locale"=>"en"}
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 86], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 86], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:98:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 7.8ms | Allocations: 809)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered orders/new.html.erb within layouts/application (Duration: 18.0ms | Allocations: 2665)
[Webpacker] Everything's up-to-date. Nothing to do
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 86], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:35
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 86]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 1.4ms | Allocations: 892)
  Rendered carts/_cart.html.erb (Duration: 3.7ms | Allocations: 2122)
Completed 200 OK in 81ms (Views: 56.0ms | ActiveRecord: 1.3ms | Allocations: 13735)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-17 16:24:56 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-17 16:24:56 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-17 16:24:56 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started POST "/orders" for ::1 at 2020-07-17 16:25:07 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"6fOHjDHmyYefxloAK5OLMEF8EYot4Hffh3c9oV9KQL1yC5+oTI+RAVYM1k9/HT0GoTBHaGBboXz7FYodnvEkJA==", "order"=>{"name"=>"HUỳnh Quốc Khánh", "address"=>"11111111111", "email"=>"dave", "pay_type"=>"Check", "routing_number"=>"secret", "account_number"=>"11111111"}, "commit"=>"Place Order"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 86], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
[31mUnpermitted parameters: :routing_number, :account_number[0m
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 86]]
  ↳ app/models/order.rb:15:in `add_line_items_from_cart'
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/orders_controller.rb:43:in `block in create'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:43:in `block in create'
  [1m[36mOrder Create (80.6ms)[0m  [1m[32mINSERT INTO "orders" ("name", "address", "email", "pay_type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "HUỳnh Quốc Khánh"], ["address", "11111111111"], ["email", "dave"], ["pay_type", 0], ["created_at", "2020-07-17 09:25:08.053276"], ["updated_at", "2020-07-17 09:25:08.053276"]]
  ↳ app/controllers/orders_controller.rb:43:in `block in create'
  [1m[36mLineItem Update (0.7ms)[0m  [1m[33mUPDATE "line_items" SET "cart_id" = ?, "order_id" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["cart_id", nil], ["order_id", 23], ["updated_at", "2020-07-17 09:25:08.142847"], ["id", 87]]
  ↳ app/controllers/orders_controller.rb:43:in `block in create'
  [1m[35m (117.7ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/orders_controller.rb:43:in `block in create'
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 86], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:44:in `block in create'
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/orders_controller.rb:44:in `block in create'
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 86]]
  ↳ app/controllers/orders_controller.rb:44:in `block in create'
  [1m[36mCart Destroy (1.3ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 86]]
  ↳ app/controllers/orders_controller.rb:44:in `block in create'
  [1m[35m (156.8ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/orders_controller.rb:44:in `block in create'
[31mUnpermitted parameters: :routing_number, :account_number[0m
[31mUnpermitted parameters: :routing_number, :account_number[0m
[31mUnpermitted parameters: :name, :address, :email, :pay_type[0m
[ActiveJob] Enqueued ChargeOrderJob (Job ID: a023559a-93c5-4d0c-af31-35a290bd35ea) to Async(default) with arguments: #<GlobalID:0x00007f420c8d9f78 @uri=#<URI::GID gid://depot/Order/23>>, {"routing_number"=>"secret", "account_number"=>"11111111"}
Redirected to http://localhost:3000/en
Completed 302 Found in 427ms (ActiveRecord: 359.6ms | Allocations: 13696)


  [1m[35m (0.4ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 23], ["LIMIT", 1]]
[ActiveJob] [ChargeOrderJob] [a023559a-93c5-4d0c-af31-35a290bd35ea] Performing ChargeOrderJob (Job ID: a023559a-93c5-4d0c-af31-35a290bd35ea) from Async(default) enqueued at 2020-07-17T09:25:08Z with arguments: #<GlobalID:0x00007f41e8029e38 @uri=#<URI::GID gid://depot/Order/23>>, {"routing_number"=>"secret", "account_number"=>"11111111"}
[ActiveJob] [ChargeOrderJob] [a023559a-93c5-4d0c-af31-35a290bd35ea] Processing check: secret/11111111
Started GET "/en" for ::1 at 2020-07-17 16:25:08 +0700
Processing by StoreController#index as HTML
  Parameters: {"locale"=>"en"}
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[36mCart Create (0.3ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2020-07-17 09:25:08.532818"], ["updated_at", "2020-07-17 09:25:08.532818"]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[35m (198.8ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 22.6ms | Allocations: 3334)
[Webpacker] Everything's up-to-date. Nothing to do
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 87], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:35
Completed 200 OK in 250ms (Views: 38.1ms | ActiveRecord: 199.8ms | Allocations: 14869)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-17 16:25:08 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-17 16:25:08 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-17 16:25:08 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
[ActiveJob] [ChargeOrderJob] [a023559a-93c5-4d0c-af31-35a290bd35ea] Done Processing Payment
[ActiveJob] [ChargeOrderJob] [a023559a-93c5-4d0c-af31-35a290bd35ea] Enqueued ActionMailer::MailDeliveryJob (Job ID: bf4d3841-acd7-442f-ab44-14dbd9187018) to Async(mailers) with arguments: "OrderMailer", "received", "deliver_now", {:args=>[#<GlobalID:0x000055ff41859710 @uri=#<URI::GID gid://depot/Order/23>>]}
[ActiveJob] [ChargeOrderJob] [a023559a-93c5-4d0c-af31-35a290bd35ea] Performed ChargeOrderJob (Job ID: a023559a-93c5-4d0c-af31-35a290bd35ea) from Async(default) in 3002.16ms
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 23], ["LIMIT", 1]]
[ActiveJob] [ActionMailer::MailDeliveryJob] [bf4d3841-acd7-442f-ab44-14dbd9187018] Performing ActionMailer::MailDeliveryJob (Job ID: bf4d3841-acd7-442f-ab44-14dbd9187018) from Async(mailers) enqueued at 2020-07-17T09:25:11Z with arguments: "OrderMailer", "received", "deliver_now", {:args=>[#<GlobalID:0x000055ff40c0dc18 @uri=#<URI::GID gid://depot/Order/23>>]}
[ActiveJob] [ActionMailer::MailDeliveryJob] [bf4d3841-acd7-442f-ab44-14dbd9187018]   Rendering order_mailer/received.html.erb within layouts/mailer
[ActiveJob] [ActionMailer::MailDeliveryJob] [bf4d3841-acd7-442f-ab44-14dbd9187018]   Rendered order_mailer/received.html.erb within layouts/mailer (Duration: 0.1ms | Allocations: 5)
[ActiveJob] [ActionMailer::MailDeliveryJob] [bf4d3841-acd7-442f-ab44-14dbd9187018]   Rendering order_mailer/received.text.erb within layouts/mailer
[ActiveJob] [ActionMailer::MailDeliveryJob] [bf4d3841-acd7-442f-ab44-14dbd9187018]   [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."order_id" = ?[0m  [["order_id", 23]]
[ActiveJob] [ActionMailer::MailDeliveryJob] [bf4d3841-acd7-442f-ab44-14dbd9187018]   ↳ app/views/order_mailer/received.text.erb:4
[ActiveJob] [ActionMailer::MailDeliveryJob] [bf4d3841-acd7-442f-ab44-14dbd9187018]   [1m[36mProduct Load (28.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
[ActiveJob] [ActionMailer::MailDeliveryJob] [bf4d3841-acd7-442f-ab44-14dbd9187018]   ↳ app/views/line_items/_line_item.text.erb:3
[ActiveJob] [ActionMailer::MailDeliveryJob] [bf4d3841-acd7-442f-ab44-14dbd9187018]   Rendered collection of line_items/_line_item.text.erb [1 times] (Duration: 30.3ms | Allocations: 794)
[ActiveJob] [ActionMailer::MailDeliveryJob] [bf4d3841-acd7-442f-ab44-14dbd9187018]   Rendered order_mailer/received.text.erb within layouts/mailer (Duration: 32.5ms | Allocations: 1720)
[ActiveJob] [ActionMailer::MailDeliveryJob] [bf4d3841-acd7-442f-ab44-14dbd9187018] OrderMailer#received: processed outbound mail in 39.6ms
[ActiveJob] [ActionMailer::MailDeliveryJob] [bf4d3841-acd7-442f-ab44-14dbd9187018] Delivered mail 5f116e7785d44_82301759832645@khanh-X510UAR.mail (7.2ms)
[ActiveJob] [ActionMailer::MailDeliveryJob] [bf4d3841-acd7-442f-ab44-14dbd9187018] Date: Fri, 17 Jul 2020 16:25:11 +0700
From: Sam ruby <depot@example.com>
To: dave
Message-ID: <5f116e7785d44_82301759832645@khanh-X510UAR.mail>
Subject: Pragmatic Store Order Confirmation
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5f116e77851d7_8230175983257";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5f116e77851d7_8230175983257
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: quoted-printable

Dear HU=E1=BB=B3nh Qu=E1=BB=91c Kh=C3=A1nh=0D
Thank you for your recent order from The Pragmatic Store.=0D
You ordered the following items:=0D
 1 x =C4=90i=E1=BB=87n Tho=E1=BA=A1i Samsung Galaxy Note 10 Lite (128GB/8=
GB)We'll send you a separate email when your order ships.=0D

----==_mimepart_5f116e77851d7_8230175983257
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <style>
      /* Email styles need to be inline */
    </style>
  </head>

  <body>
    <h1>Order#received</h1>

<p>
  , find me in app/views/order_mailer/received.html.erb
</p>

  </body>
</html>

----==_mimepart_5f116e77851d7_8230175983257--

[ActiveJob] [ActionMailer::MailDeliveryJob] [bf4d3841-acd7-442f-ab44-14dbd9187018] Error performing ActionMailer::MailDeliveryJob (Job ID: bf4d3841-acd7-442f-ab44-14dbd9187018) from Async(mailers) in 48.55ms: Errno::ECONNREFUSED (Connection refused - connect(2) for "localhost" port 587):
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/2.7.0/net/smtp.rb:539:in `initialize'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/2.7.0/net/smtp.rb:539:in `open'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/2.7.0/net/smtp.rb:539:in `tcp_socket'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/2.7.0/net/smtp.rb:549:in `block in do_start'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/2.7.0/timeout.rb:95:in `block in timeout'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/2.7.0/timeout.rb:105:in `timeout'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/2.7.0/net/smtp.rb:548:in `do_start'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/2.7.0/net/smtp.rb:518:in `start'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/mail-2.7.1/lib/mail/network/delivery_methods/smtp.rb:109:in `start_smtp_session'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/mail-2.7.1/lib/mail/network/delivery_methods/smtp.rb:100:in `deliver!'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/mail-2.7.1/lib/mail/message.rb:2159:in `do_delivery'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/mail-2.7.1/lib/mail/message.rb:260:in `block in deliver'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/actionmailer-6.0.3.2/lib/action_mailer/base.rb:589:in `block in deliver_mail'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/notifications.rb:180:in `block in instrument'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/notifications.rb:180:in `instrument'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/actionmailer-6.0.3.2/lib/action_mailer/base.rb:587:in `deliver_mail'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/mail-2.7.1/lib/mail/message.rb:260:in `deliver'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/actionmailer-6.0.3.2/lib/action_mailer/message_delivery.rb:115:in `block in deliver_now'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/actionmailer-6.0.3.2/lib/action_mailer/rescuable.rb:17:in `handle_exceptions'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/actionmailer-6.0.3.2/lib/action_mailer/message_delivery.rb:114:in `deliver_now'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/actionmailer-6.0.3.2/lib/action_mailer/mail_delivery_job.rb:23:in `perform'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/execution.rb:40:in `block in perform_now'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:112:in `block in run_callbacks'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/i18n-1.8.3/lib/i18n.rb:313:in `with_locale'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/translation.rb:9:in `block (2 levels) in <module:Translation>'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `instance_exec'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/core_ext/time/zones.rb:66:in `use_zone'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/timezones.rb:9:in `block (2 levels) in <module:Timezones>'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `instance_exec'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/logging.rb:25:in `block (4 levels) in <module:Logging>'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/notifications.rb:180:in `block in instrument'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/notifications.rb:180:in `instrument'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/logging.rb:24:in `block (3 levels) in <module:Logging>'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/logging.rb:45:in `block in tag_logger'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/tagged_logging.rb:28:in `tagged'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/tagged_logging.rb:80:in `tagged'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/logging.rb:45:in `tag_logger'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/logging.rb:21:in `block (2 levels) in <module:Logging>'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `instance_exec'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:139:in `run_callbacks'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/execution.rb:39:in `perform_now'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/execution.rb:25:in `block in execute'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:112:in `block in run_callbacks'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/railtie.rb:43:in `block (4 levels) in <class:Railtie>'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/execution_wrapper.rb:88:in `wrap'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/reloader.rb:72:in `block in wrap'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/execution_wrapper.rb:88:in `wrap'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/reloader.rb:71:in `wrap'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/railtie.rb:42:in `block (3 levels) in <class:Railtie>'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `instance_exec'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:139:in `run_callbacks'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/execution.rb:23:in `execute'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/queue_adapters/async_adapter.rb:70:in `perform'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/concurrent-ruby-1.1.6/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:353:in `run_task'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/concurrent-ruby-1.1.6/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:342:in `block (3 levels) in create_worker'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/concurrent-ruby-1.1.6/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:325:in `loop'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/concurrent-ruby-1.1.6/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:325:in `block (2 levels) in create_worker'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/concurrent-ruby-1.1.6/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:324:in `catch'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/concurrent-ruby-1.1.6/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:324:in `block in create_worker'
Started GET "/en" for ::1 at 2020-07-17 16:32:48 +0700
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by StoreController#index as HTML
  Parameters: {"locale"=>"en"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 87], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 17.9ms | Allocations: 3348)
[Webpacker] Everything's up-to-date. Nothing to do
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 87], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:35
Completed 200 OK in 52ms (Views: 48.5ms | ActiveRecord: 0.5ms | Allocations: 11604)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-17 16:32:48 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-17 16:32:48 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-17 16:32:48 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/en" for ::1 at 2020-07-17 16:32:49 +0700
Processing by StoreController#index as HTML
  Parameters: {"locale"=>"en"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 87], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 13.0ms | Allocations: 3327)
[Webpacker] Everything's up-to-date. Nothing to do
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 87], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:35
Completed 200 OK in 37ms (Views: 30.4ms | ActiveRecord: 0.6ms | Allocations: 11615)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-17 16:32:49 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-17 16:32:49 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-17 16:32:49 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/en" for ::1 at 2020-07-17 16:32:49 +0700
Processing by StoreController#index as HTML
  Parameters: {"locale"=>"en"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 87], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 15.4ms | Allocations: 3317)
[Webpacker] Everything's up-to-date. Nothing to do
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 87], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:35
Completed 200 OK in 38ms (Views: 34.9ms | ActiveRecord: 0.8ms | Allocations: 11558)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-17 16:32:49 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-17 16:32:49 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-17 16:32:49 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started POST "/en/line_items?product_id=4" for ::1 at 2020-07-17 16:32:50 +0700
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"GCulOuaq6HY4A73YnQeBsctzRcTwBv7d800FJRlcmwiD070em8Ow8PHJMZfJiTeHKz8TJr29KH6PL7KZ2Of/kQ==", "product_id"=>"4", "locale"=>"en"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 87], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.8ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:38:in `create'
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 87], ["product_id", 4], ["LIMIT", 1]]
  ↳ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/line_items_controller.rb:42:in `block in create'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:42:in `block in create'
  [1m[36mLineItem Create (0.8ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 4], ["cart_id", 87], ["created_at", "2020-07-17 09:32:50.288666"], ["updated_at", "2020-07-17 09:32:50.288666"]]
  ↳ app/controllers/line_items_controller.rb:42:in `block in create'
  [1m[35m (108.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/line_items_controller.rb:42:in `block in create'
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 87]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 0.9ms | Allocations: 134)
  Rendered carts/_cart.html.erb (Duration: 8.2ms | Allocations: 1465)
  Rendered line_items/create.js.erb (Duration: 9.6ms | Allocations: 1630)
Completed 200 OK in 154ms (Views: 10.5ms | ActiveRecord: 111.5ms | Allocations: 8715)


Started GET "/en/orders/new" for ::1 at 2020-07-17 16:32:52 +0700
Processing by OrdersController#new as HTML
  Parameters: {"locale"=>"en"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 87], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 87], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:98:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 5.2ms | Allocations: 807)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered orders/new.html.erb within layouts/application (Duration: 14.3ms | Allocations: 2663)
[Webpacker] Everything's up-to-date. Nothing to do
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 87], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:35
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 87]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 1.6ms | Allocations: 892)
  Rendered carts/_cart.html.erb (Duration: 5.1ms | Allocations: 2121)
Completed 200 OK in 48ms (Views: 37.3ms | ActiveRecord: 1.3ms | Allocations: 13717)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-17 16:32:52 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-17 16:32:52 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-17 16:32:52 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started POST "/orders" for ::1 at 2020-07-17 16:33:03 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"xmPz6FtZrgU0T533yfvScbpYQacEhUbkKhhJ8fwPVmRdm+vMJjD2g/2FEbiddWRHWhQXRUk+kEdWev5NPbQy/Q==", "order"=>{"name"=>"HUỳnh Quốc Khánh", "address"=>"hhhhhhhhhh", "email"=>"dave", "pay_type"=>"Check", "routing_number"=>"secret", "account_number"=>"11111111"}, "commit"=>"Place Order"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 87], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
[31mUnpermitted parameters: :routing_number, :account_number[0m
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 87]]
  ↳ app/models/order.rb:15:in `add_line_items_from_cart'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/orders_controller.rb:43:in `block in create'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:43:in `block in create'
  [1m[36mOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "orders" ("name", "address", "email", "pay_type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "HUỳnh Quốc Khánh"], ["address", "hhhhhhhhhh"], ["email", "dave"], ["pay_type", 0], ["created_at", "2020-07-17 09:33:03.471874"], ["updated_at", "2020-07-17 09:33:03.471874"]]
  ↳ app/controllers/orders_controller.rb:43:in `block in create'
  [1m[36mLineItem Update (0.4ms)[0m  [1m[33mUPDATE "line_items" SET "cart_id" = ?, "order_id" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["cart_id", nil], ["order_id", 24], ["updated_at", "2020-07-17 09:33:03.477228"], ["id", 88]]
  ↳ app/controllers/orders_controller.rb:43:in `block in create'
  [1m[35m (127.7ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/orders_controller.rb:43:in `block in create'
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 87], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:44:in `block in create'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/orders_controller.rb:44:in `block in create'
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 87]]
  ↳ app/controllers/orders_controller.rb:44:in `block in create'
  [1m[36mCart Destroy (0.9ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 87]]
  ↳ app/controllers/orders_controller.rb:44:in `block in create'
  [1m[35m (75.8ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/orders_controller.rb:44:in `block in create'
[31mUnpermitted parameters: :routing_number, :account_number[0m
[31mUnpermitted parameters: :routing_number, :account_number[0m
[31mUnpermitted parameters: :name, :address, :email, :pay_type[0m
[ActiveJob] Enqueued ChargeOrderJob (Job ID: 5c79bef9-2ec6-4765-8f9e-edcf06484c6a) to Async(default) with arguments: #<GlobalID:0x000055ff41898708 @uri=#<URI::GID gid://depot/Order/24>>, {"routing_number"=>"secret", "account_number"=>"11111111"}
Redirected to http://localhost:3000/en
Completed 302 Found in 261ms (ActiveRecord: 206.6ms | Allocations: 13706)


  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[36mOrder Load (0.6ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 24], ["LIMIT", 1]]
[ActiveJob] [ChargeOrderJob] [5c79bef9-2ec6-4765-8f9e-edcf06484c6a] Performing ChargeOrderJob (Job ID: 5c79bef9-2ec6-4765-8f9e-edcf06484c6a) from Async(default) enqueued at 2020-07-17T09:33:03Z with arguments: #<GlobalID:0x000055ff40233d78 @uri=#<URI::GID gid://depot/Order/24>>, {"routing_number"=>"secret", "account_number"=>"11111111"}
Started GET "/en" for ::1 at 2020-07-17 16:33:03 +0700
[ActiveJob] [ChargeOrderJob] [5c79bef9-2ec6-4765-8f9e-edcf06484c6a] Processing check: secret/11111111
Processing by StoreController#index as HTML
  Parameters: {"locale"=>"en"}
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[36mCart Create (0.6ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2020-07-17 09:33:03.761850"], ["updated_at", "2020-07-17 09:33:03.761850"]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[35m (62.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 13.6ms | Allocations: 3334)
[Webpacker] Everything's up-to-date. Nothing to do
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 88], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:35
Completed 200 OK in 110ms (Views: 35.4ms | ActiveRecord: 63.6ms | Allocations: 14749)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-17 16:33:03 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-17 16:33:03 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-17 16:33:03 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
[ActiveJob] [ChargeOrderJob] [5c79bef9-2ec6-4765-8f9e-edcf06484c6a] Done Processing Payment
[ActiveJob] [ChargeOrderJob] [5c79bef9-2ec6-4765-8f9e-edcf06484c6a] Enqueued ActionMailer::MailDeliveryJob (Job ID: cfffd070-69b5-4922-b392-18fdd1fd1451) to Async(mailers) with arguments: "OrderMailer", "received", "deliver_now", {:args=>[#<GlobalID:0x00007f4208015440 @uri=#<URI::GID gid://depot/Order/24>>]}
[ActiveJob] [ChargeOrderJob] [5c79bef9-2ec6-4765-8f9e-edcf06484c6a] Performed ChargeOrderJob (Job ID: 5c79bef9-2ec6-4765-8f9e-edcf06484c6a) from Async(default) in 3013.83ms
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 24], ["LIMIT", 1]]
[ActiveJob] [ActionMailer::MailDeliveryJob] [cfffd070-69b5-4922-b392-18fdd1fd1451] Performing ActionMailer::MailDeliveryJob (Job ID: cfffd070-69b5-4922-b392-18fdd1fd1451) from Async(mailers) enqueued at 2020-07-17T09:33:06Z with arguments: "OrderMailer", "received", "deliver_now", {:args=>[#<GlobalID:0x00007f421c046a18 @uri=#<URI::GID gid://depot/Order/24>>]}
[ActiveJob] [ActionMailer::MailDeliveryJob] [cfffd070-69b5-4922-b392-18fdd1fd1451]   Rendering order_mailer/received.html.erb within layouts/mailer
[ActiveJob] [ActionMailer::MailDeliveryJob] [cfffd070-69b5-4922-b392-18fdd1fd1451]   Rendered order_mailer/received.html.erb within layouts/mailer (Duration: 0.1ms | Allocations: 5)
[ActiveJob] [ActionMailer::MailDeliveryJob] [cfffd070-69b5-4922-b392-18fdd1fd1451]   Rendering order_mailer/received.text.erb within layouts/mailer
[ActiveJob] [ActionMailer::MailDeliveryJob] [cfffd070-69b5-4922-b392-18fdd1fd1451]   [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."order_id" = ?[0m  [["order_id", 24]]
[ActiveJob] [ActionMailer::MailDeliveryJob] [cfffd070-69b5-4922-b392-18fdd1fd1451]   ↳ app/views/order_mailer/received.text.erb:4
[ActiveJob] [ActionMailer::MailDeliveryJob] [cfffd070-69b5-4922-b392-18fdd1fd1451]   [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
[ActiveJob] [ActionMailer::MailDeliveryJob] [cfffd070-69b5-4922-b392-18fdd1fd1451]   ↳ app/views/line_items/_line_item.text.erb:3
[ActiveJob] [ActionMailer::MailDeliveryJob] [cfffd070-69b5-4922-b392-18fdd1fd1451]   Rendered collection of line_items/_line_item.text.erb [1 times] (Duration: 3.8ms | Allocations: 794)
[ActiveJob] [ActionMailer::MailDeliveryJob] [cfffd070-69b5-4922-b392-18fdd1fd1451]   Rendered order_mailer/received.text.erb within layouts/mailer (Duration: 9.6ms | Allocations: 1720)
[ActiveJob] [ActionMailer::MailDeliveryJob] [cfffd070-69b5-4922-b392-18fdd1fd1451] OrderMailer#received: processed outbound mail in 19.6ms
[ActiveJob] [ActionMailer::MailDeliveryJob] [cfffd070-69b5-4922-b392-18fdd1fd1451] Delivered mail 5f117052c133c_823017994328f3@khanh-X510UAR.mail (6.8ms)
[ActiveJob] [ActionMailer::MailDeliveryJob] [cfffd070-69b5-4922-b392-18fdd1fd1451] Date: Fri, 17 Jul 2020 16:33:06 +0700
From: Sam ruby <depot@example.com>
To: dave
Message-ID: <5f117052c133c_823017994328f3@khanh-X510UAR.mail>
Subject: Pragmatic Store Order Confirmation
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5f117052bf492_82301799432741";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5f117052bf492_82301799432741
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: quoted-printable

Dear HU=E1=BB=B3nh Qu=E1=BB=91c Kh=C3=A1nh=0D
Thank you for your recent order from The Pragmatic Store.=0D
You ordered the following items:=0D
 1 x =C4=90i=E1=BB=87n Tho=E1=BA=A1i Samsung Galaxy Note 10 Lite (128GB/8=
GB)We'll send you a separate email when your order ships.=0D

----==_mimepart_5f117052bf492_82301799432741
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <style>
      /* Email styles need to be inline */
    </style>
  </head>

  <body>
    <h1>Order#received</h1>

<p>
  , find me in app/views/order_mailer/received.html.erb
</p>

  </body>
</html>

----==_mimepart_5f117052bf492_82301799432741--

[ActiveJob] [ActionMailer::MailDeliveryJob] [cfffd070-69b5-4922-b392-18fdd1fd1451] Error performing ActionMailer::MailDeliveryJob (Job ID: cfffd070-69b5-4922-b392-18fdd1fd1451) from Async(mailers) in 28.23ms: Errno::ECONNREFUSED (Connection refused - connect(2) for "localhost" port 587):
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/2.7.0/net/smtp.rb:539:in `initialize'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/2.7.0/net/smtp.rb:539:in `open'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/2.7.0/net/smtp.rb:539:in `tcp_socket'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/2.7.0/net/smtp.rb:549:in `block in do_start'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/2.7.0/timeout.rb:95:in `block in timeout'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/2.7.0/timeout.rb:105:in `timeout'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/2.7.0/net/smtp.rb:548:in `do_start'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/2.7.0/net/smtp.rb:518:in `start'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/mail-2.7.1/lib/mail/network/delivery_methods/smtp.rb:109:in `start_smtp_session'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/mail-2.7.1/lib/mail/network/delivery_methods/smtp.rb:100:in `deliver!'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/mail-2.7.1/lib/mail/message.rb:2159:in `do_delivery'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/mail-2.7.1/lib/mail/message.rb:260:in `block in deliver'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/actionmailer-6.0.3.2/lib/action_mailer/base.rb:589:in `block in deliver_mail'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/notifications.rb:180:in `block in instrument'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/notifications.rb:180:in `instrument'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/actionmailer-6.0.3.2/lib/action_mailer/base.rb:587:in `deliver_mail'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/mail-2.7.1/lib/mail/message.rb:260:in `deliver'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/actionmailer-6.0.3.2/lib/action_mailer/message_delivery.rb:115:in `block in deliver_now'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/actionmailer-6.0.3.2/lib/action_mailer/rescuable.rb:17:in `handle_exceptions'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/actionmailer-6.0.3.2/lib/action_mailer/message_delivery.rb:114:in `deliver_now'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/actionmailer-6.0.3.2/lib/action_mailer/mail_delivery_job.rb:23:in `perform'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/execution.rb:40:in `block in perform_now'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:112:in `block in run_callbacks'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/i18n-1.8.3/lib/i18n.rb:313:in `with_locale'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/translation.rb:9:in `block (2 levels) in <module:Translation>'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `instance_exec'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/core_ext/time/zones.rb:66:in `use_zone'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/timezones.rb:9:in `block (2 levels) in <module:Timezones>'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `instance_exec'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/logging.rb:25:in `block (4 levels) in <module:Logging>'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/notifications.rb:180:in `block in instrument'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/notifications.rb:180:in `instrument'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/logging.rb:24:in `block (3 levels) in <module:Logging>'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/logging.rb:45:in `block in tag_logger'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/tagged_logging.rb:28:in `tagged'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/tagged_logging.rb:80:in `tagged'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/logging.rb:45:in `tag_logger'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/logging.rb:21:in `block (2 levels) in <module:Logging>'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `instance_exec'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:139:in `run_callbacks'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/execution.rb:39:in `perform_now'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/execution.rb:25:in `block in execute'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:112:in `block in run_callbacks'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/railtie.rb:43:in `block (4 levels) in <class:Railtie>'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/execution_wrapper.rb:88:in `wrap'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/reloader.rb:72:in `block in wrap'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/execution_wrapper.rb:88:in `wrap'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/reloader.rb:71:in `wrap'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/railtie.rb:42:in `block (3 levels) in <class:Railtie>'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `instance_exec'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:139:in `run_callbacks'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/execution.rb:23:in `execute'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/queue_adapters/async_adapter.rb:70:in `perform'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/concurrent-ruby-1.1.6/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:353:in `run_task'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/concurrent-ruby-1.1.6/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:342:in `block (3 levels) in create_worker'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/concurrent-ruby-1.1.6/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:325:in `loop'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/concurrent-ruby-1.1.6/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:325:in `block (2 levels) in create_worker'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/concurrent-ruby-1.1.6/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:324:in `catch'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/concurrent-ruby-1.1.6/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:324:in `block in create_worker'
Started GET "/en" for ::1 at 2020-07-17 16:34:45 +0700
Processing by StoreController#index as HTML
  Parameters: {"locale"=>"en"}
  [1m[36mCart Load (0.8ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 88], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 15.0ms | Allocations: 3335)
[Webpacker] Everything's up-to-date. Nothing to do
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 88], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:35
Completed 200 OK in 38ms (Views: 30.1ms | ActiveRecord: 1.5ms | Allocations: 11592)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-17 16:34:45 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-17 16:34:45 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-17 16:34:45 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/" for ::1 at 2020-07-17 16:34:46 +0700
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 88], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 15.5ms | Allocations: 3319)
[Webpacker] Everything's up-to-date. Nothing to do
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 88], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:35
Completed 200 OK in 38ms (Views: 30.2ms | ActiveRecord: 1.1ms | Allocations: 11556)


Started GET "/" for ::1 at 2020-07-17 16:49:48 +0700
  [1m[35m (0.4ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by StoreController#index as HTML
  [1m[36mCart Load (24.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 88], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (23.6ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 601.8ms | Allocations: 6610)
[Webpacker] Everything's up-to-date. Nothing to do
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (27.1ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 88], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:35
Completed 200 OK in 1356ms (Views: 1132.3ms | ActiveRecord: 75.0ms | Allocations: 20628)


Started GET "/cable" for ::1 at 2020-07-17 16:49:52 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-17 16:49:52 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/products" for ::1 at 2020-07-17 16:50:08 +0700
Processing by ProductsController#index as HTML
  [1m[36mUser Load (52.7ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:20:in `authorize'
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" LIMIT ?[0m  [["LIMIT", 3]]
  ↳ app/views/products/index.html.erb:12
  Rendered products/index.html.erb within layouts/application (Duration: 156.8ms | Allocations: 3299)
[Webpacker] Everything's up-to-date. Nothing to do
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 358ms (Views: 280.1ms | ActiveRecord: 53.2ms | Allocations: 14358)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-17 16:50:09 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-17 16:50:09 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-17 16:50:09 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/products/new" for ::1 at 2020-07-17 16:50:11 +0700
Processing by ProductsController#new as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:20:in `authorize'
  Rendering products/new.html.erb within layouts/application
  Rendered products/_form.html.erb (Duration: 36.1ms | Allocations: 1609)
  Rendered products/new.html.erb within layouts/application (Duration: 58.8ms | Allocations: 1931)
[Webpacker] Everything's up-to-date. Nothing to do
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 69ms (Views: 66.8ms | ActiveRecord: 0.1ms | Allocations: 9618)


Started POST "/products" for ::1 at 2020-07-17 16:53:44 +0700
Processing by ProductsController#create as HTML
  Parameters: {"authenticity_token"=>"x3Qg/1IwkA6blwgIFDRYHzVNXx6x+jd/ZE0B7E4LQxBykVhxpGkGTsxf0Ja6OLgjZEut9Obih9rlhqkZrENXnw==", "product"=>{"title"=>"Điện Thoại iPhone 11 64GB", "description"=>"Sản phẩm chỉ áp dụng hình thức thanh toán trả trước\r\nĐăng kí gói TikiNOW để nhận giao hàng miễn phí và nhiều ưu đãi dành riêng cho thành viên - Xem chi tiết\r\n\r\nHoàn tiền 15% cho mọi chi tiêu với TikiCARD - Mở thẻ ngay\r\nMiễn phí giao hàng cho đơn hàng từ 250k, tối đa 77k cho mỗi Đơn hàng. Áp dụng tối đa 3 lượt/khách hàng từ 08/07 - 22/07/2020 (Số lượng có hạn)\r\nNhận Quà Tặng 17.3tr & Gói TikiNOW 1 Năm với thẻ Citi. Mở thẻ ngay\r\nNhập mã TIKIMOMO khi tải và đăng kí MoMo để được: Coupon 50K cho đơn từ 300K, Thêm 2 coupon 30K cho đơn hàng tiếp theo từ 300K. Xem chi tiết", "image_url"=>"iphone-red.png", "price"=>"17.699.000"}, "commit"=>"Create Product"}
  [1m[36mUser Load (59.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:20:in `authorize'
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/products_controller.rb:31:in `block in create'
  [1m[36mProduct Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "products" WHERE "products"."title" = ? LIMIT ?[0m  [["title", "Điện Thoại iPhone 11 64GB"], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:31:in `block in create'
  [1m[35m (0.3ms)[0m  [1m[31mrollback transaction[0m
  ↳ app/controllers/products_controller.rb:31:in `block in create'
  Rendering products/new.html.erb within layouts/application
  Rendered products/_form.html.erb (Duration: 69.4ms | Allocations: 1245)
  Rendered products/new.html.erb within layouts/application (Duration: 70.3ms | Allocations: 1327)
[Webpacker] Everything's up-to-date. Nothing to do
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 1689ms (Views: 1450.5ms | ActiveRecord: 60.8ms | Allocations: 13115)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-17 16:53:46 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-17 16:53:47 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-17 16:53:47 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started POST "/products" for ::1 at 2020-07-17 16:53:54 +0700
Processing by ProductsController#create as HTML
  Parameters: {"authenticity_token"=>"BIapmSxyhnKShGn3CehnDasydQ44seA0AfXuQI0QkqWffrG9URve9FtO5bhdZtE7S34j7HUKNpd9l1n8TKv2PA==", "product"=>{"title"=>"Điện Thoại iPhone 11 64GB", "description"=>"Sản phẩm chỉ áp dụng hình thức thanh toán trả trước\r\nĐăng kí gói TikiNOW để nhận giao hàng miễn phí và nhiều ưu đãi dành riêng cho thành viên - Xem chi tiết\r\n\r\nHoàn tiền 15% cho mọi chi tiêu với TikiCARD - Mở thẻ ngay\r\nMiễn phí giao hàng cho đơn hàng từ 250k, tối đa 77k cho mỗi Đơn hàng. Áp dụng tối đa 3 lượt/khách hàng từ 08/07 - 22/07/2020 (Số lượng có hạn)\r\nNhận Quà Tặng 17.3tr & Gói TikiNOW 1 Năm với thẻ Citi. Mở thẻ ngay\r\nNhập mã TIKIMOMO khi tải và đăng kí MoMo để được: Coupon 50K cho đơn từ 300K, Thêm 2 coupon 30K cho đơn hàng tiếp theo từ 300K. Xem chi tiết", "image_url"=>"iphone-red.png", "price"=>"17699000"}, "commit"=>"Create Product"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:20:in `authorize'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/products_controller.rb:31:in `block in create'
  [1m[36mProduct Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "products" WHERE "products"."title" = ? LIMIT ?[0m  [["title", "Điện Thoại iPhone 11 64GB"], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:31:in `block in create'
  [1m[36mProduct Create (427.9ms)[0m  [1m[32mINSERT INTO "products" ("title", "description", "image_url", "price", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["title", "Điện Thoại iPhone 11 64GB"], ["description", "Sản phẩm chỉ áp dụng hình thức thanh toán trả trước\r\nĐăng kí gói TikiNOW để nhận giao hàng miễn phí và nhiều ưu đãi dành riêng cho thành viên - Xem chi tiết\r\n\r\nHoàn tiền 15% cho mọi chi tiêu với TikiCARD - Mở thẻ ngay\r\nMiễn phí giao hàng cho đơn hàng từ 250k, tối đa 77k cho mỗi Đơn hàng. Áp dụng tối đa 3 lượt/khách hàng từ 08/07 - 22/07/2020 (Số lượng có hạn)\r\nNhận Quà Tặng 17.3tr & Gói TikiNOW 1 Năm với thẻ Citi. Mở thẻ ngay\r\nNhập mã TIKIMOMO khi tải và đăng kí MoMo để được: Coupon 50K cho đơn từ 300K, Thêm 2 coupon 30K cho đơn hàng tiếp theo từ 300K. Xem chi tiết"], ["image_url", "iphone-red.png"], ["price", 17699000.0], ["created_at", "2020-07-17 09:53:54.688528"], ["updated_at", "2020-07-17 09:53:54.688528"]]
  ↳ app/controllers/products_controller.rb:31:in `block in create'
  [1m[35m (143.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/products_controller.rb:31:in `block in create'
Redirected to http://localhost:3000/products/7
Completed 302 Found in 589ms (ActiveRecord: 571.7ms | Allocations: 5690)


Started GET "/products/7" for ::1 at 2020-07-17 16:53:55 +0700
Processing by ProductsController#show as HTML
  Parameters: {"id"=>"7"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:20:in `authorize'
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 7], ["LIMIT", 1]]
  ↳ app/controllers/products_controller.rb:83:in `set_product'
  Rendering products/show.html.erb within layouts/application
  Rendered products/show.html.erb within layouts/application (Duration: 17.1ms | Allocations: 307)
[Webpacker] Everything's up-to-date. Nothing to do
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 146ms (Views: 46.2ms | ActiveRecord: 1.0ms | Allocations: 8930)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-17 16:53:55 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-17 16:53:56 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-17 16:53:56 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/" for ::1 at 2020-07-17 16:53:58 +0700
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.6ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 88], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 5206.3ms | Allocations: 23637)
[Webpacker] Everything's up-to-date. Nothing to do
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 88], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:35
Completed 200 OK in 5233ms (Views: 5226.2ms | ActiveRecord: 1.2ms | Allocations: 31761)


Started GET "/" for ::1 at 2020-07-17 16:54:24 +0700
  [1m[35m (0.8ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by StoreController#index as HTML
  [1m[36mCart Load (20.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 88], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 46.7ms | Allocations: 7620)
[Webpacker] Everything's up-to-date. Nothing to do
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (82.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 88], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:35
Completed 200 OK in 324ms (Views: 118.7ms | ActiveRecord: 108.9ms | Allocations: 22136)


Started GET "/cable" for ::1 at 2020-07-17 16:54:26 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-17 16:54:26 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/" for ::1 at 2020-07-17 16:54:31 +0700
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 88], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 44.2ms | Allocations: 7621)
[Webpacker] Everything's up-to-date. Nothing to do
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 88], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:35
Completed 200 OK in 100ms (Views: 68.0ms | ActiveRecord: 5.0ms | Allocations: 22170)


Started GET "/cable" for ::1 at 2020-07-17 16:54:31 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-17 16:54:31 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/" for ::1 at 2020-07-17 16:54:34 +0700
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 88], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 15.5ms | Allocations: 4207)
[Webpacker] Everything's up-to-date. Nothing to do
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 88], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:35
Completed 200 OK in 47ms (Views: 41.7ms | ActiveRecord: 0.9ms | Allocations: 12488)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-17 16:54:34 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-17 16:54:34 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-17 16:54:34 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/" for ::1 at 2020-07-17 16:55:18 +0700
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 88], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 28.7ms | Allocations: 7775)
[Webpacker] Everything's up-to-date. Nothing to do
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 88], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:35
Completed 200 OK in 60ms (Views: 47.1ms | ActiveRecord: 2.5ms | Allocations: 22297)


Started GET "/cable" for ::1 at 2020-07-17 16:55:18 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-17 16:55:18 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/" for ::1 at 2020-07-17 16:55:20 +0700
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 88], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 23.1ms | Allocations: 4206)
[Webpacker] Everything's up-to-date. Nothing to do
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 88], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:35
Completed 200 OK in 54ms (Views: 46.5ms | ActiveRecord: 1.5ms | Allocations: 12495)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-17 16:55:20 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-17 16:55:20 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-17 16:55:20 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/" for ::1 at 2020-07-17 16:55:20 +0700
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 88], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 21.3ms | Allocations: 4197)
[Webpacker] Everything's up-to-date. Nothing to do
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 88], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:35
Completed 200 OK in 44ms (Views: 41.5ms | ActiveRecord: 0.6ms | Allocations: 12410)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-17 16:55:20 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-17 16:55:20 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-17 16:55:20 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/" for ::1 at 2020-07-17 16:55:20 +0700
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 88], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 18.4ms | Allocations: 4197)
[Webpacker] Everything's up-to-date. Nothing to do
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 88], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:35
Completed 200 OK in 41ms (Views: 38.1ms | ActiveRecord: 1.1ms | Allocations: 12416)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-17 16:55:20 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-17 16:55:20 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-17 16:55:20 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/" for ::1 at 2020-07-17 16:55:21 +0700
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 88], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.8ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 22.0ms | Allocations: 4197)
[Webpacker] Everything's up-to-date. Nothing to do
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 88], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:35
Completed 200 OK in 57ms (Views: 52.4ms | ActiveRecord: 1.4ms | Allocations: 12424)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-17 16:55:21 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-17 16:55:21 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-17 16:55:21 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/" for ::1 at 2020-07-17 16:55:21 +0700
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 88], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 33.2ms | Allocations: 4206)
[Webpacker] Everything's up-to-date. Nothing to do
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 88], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:35
Completed 200 OK in 84ms (Views: 76.7ms | ActiveRecord: 1.7ms | Allocations: 12486)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-17 16:55:21 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-17 16:55:21 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-17 16:55:21 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/" for ::1 at 2020-07-17 16:55:50 +0700
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 88], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 21.5ms | Allocations: 4206)
[Webpacker] Everything's up-to-date. Nothing to do
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 88], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:35
Completed 200 OK in 47ms (Views: 41.6ms | ActiveRecord: 1.3ms | Allocations: 12457)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-17 16:55:50 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-17 16:55:50 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-17 16:55:50 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/" for ::1 at 2020-07-17 16:56:58 +0700
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 88], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 26.0ms | Allocations: 7618)
[Webpacker] Everything's up-to-date. Nothing to do
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 88], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:35
Completed 200 OK in 78ms (Views: 52.4ms | ActiveRecord: 5.0ms | Allocations: 22125)


Started GET "/cable" for ::1 at 2020-07-17 16:56:58 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-17 16:56:58 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/" for ::1 at 2020-07-17 16:57:00 +0700
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 88], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 18.3ms | Allocations: 4205)
[Webpacker] Everything's up-to-date. Nothing to do
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 88], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:35
Completed 200 OK in 50ms (Views: 43.2ms | ActiveRecord: 0.9ms | Allocations: 12452)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-17 16:57:00 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-17 16:57:00 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-17 16:57:00 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/" for ::1 at 2020-07-17 16:57:50 +0700
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.7ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 88], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 31.0ms | Allocations: 7618)
[Webpacker] Everything's up-to-date. Nothing to do
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 88], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:35
Completed 200 OK in 76ms (Views: 52.9ms | ActiveRecord: 6.1ms | Allocations: 22130)


Started GET "/cable" for ::1 at 2020-07-17 16:57:50 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-17 16:57:50 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/" for ::1 at 2020-07-17 17:01:45 +0700
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 88], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 29.0ms | Allocations: 7619)
[Webpacker] Everything's up-to-date. Nothing to do
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 88], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:35
Completed 200 OK in 84ms (Views: 55.6ms | ActiveRecord: 5.5ms | Allocations: 22156)


Started GET "/cable" for ::1 at 2020-07-17 17:01:45 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-17 17:01:45 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/" for ::1 at 2020-07-17 17:02:55 +0700
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 88], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 20.8ms | Allocations: 4197)
[Webpacker] Everything's up-to-date. Nothing to do
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 88], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:35
Completed 200 OK in 52ms (Views: 46.4ms | ActiveRecord: 1.1ms | Allocations: 12424)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-17 17:02:55 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-17 17:02:55 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-17 17:02:55 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/" for ::1 at 2020-07-17 17:31:12 +0700
  [1m[35m (0.2ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by StoreController#index as HTML
  [1m[36mCart Load (24.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 88], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (30.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 348.4ms | Allocations: 78528)
Completed 500 Internal Server Error in 475ms (ActiveRecord: 54.4ms | Allocations: 84395)


  
ActionView::Template::Error (undefined method `will_paginate' for #<#<Class:0x00007f420cb6ebf8>:0x00007f420cb6ca10>):
    15:         </div>
    16:     </li><% end %><% end %><% end %>
    17: </ul>
    18: <%= will_paginate @posts %>
  
app/views/store/index.html.erb:18
Started GET "/" for ::1 at 2020-07-17 17:31:25 +0700
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 88], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 205.0ms | Allocations: 75472)
Completed 500 Internal Server Error in 209ms (ActiveRecord: 0.2ms | Allocations: 77202)


  
ActionView::Template::Error (undefined method `will_paginate' for #<#<Class:0x000055ff42504c80>:0x000055ff424ea600>):
    14:         <% # <%= button_to "Add to Cart", line_items_path(product_id: product), remote: true %>
    15:         </div>
    16:     </li><% end %><% end %><% end %>
    17:     <%= will_paginate @posts %>
    18: </ul>
  
app/views/store/index.html.erb:17
Started GET "/" for ::1 at 2020-07-17 17:32:34 +0700
  [1m[35m (0.9ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.5ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.6ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 88], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 1081.8ms | Allocations: 18443)
Completed 500 Internal Server Error in 1199ms (ActiveRecord: 4.9ms | Allocations: 26682)


  
ActionView::Template::Error (The @store variable appears to be empty. Did you forget to pass the collection object for will_paginate?):
    15:         </div>
    16:     </li><% end %><% end %><% end %>
    17: </ul>
    18: <%= will_paginate @posts %>
  
app/views/store/index.html.erb:18
Started GET "/" for ::1 at 2020-07-17 17:34:13 +0700
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 88], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 27.7ms | Allocations: 8564)
Completed 500 Internal Server Error in 51ms (ActiveRecord: 3.6ms | Allocations: 14550)


  
ActionView::Template::Error (The @store variable appears to be empty. Did you forget to pass the collection object for will_paginate?):
    15:         </div>
    16:     </li><% end %><% end %><% end %>
    17: </ul>
    18: <%= will_paginate @posts %>
  
app/views/store/index.html.erb:18
DEPRECATION WARNING: Using `bin/rake routes` is deprecated and will be removed in Rails 6.1. Use `bin/rails routes` instead.
 (called from load at /home/khanh/.rbenv/versions/2.7.1/bin/rake:23)
Started GET "/" for ::1 at 2020-07-22 13:55:07 +0700
  [1m[35m (0.9ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.3ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by StoreController#index as HTML
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[36mCart Create (20.7ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2020-07-22 06:55:07.568883"], ["updated_at", "2020-07-22 06:55:07.568883"]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[35m (133.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (27.8ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 1400.9ms | Allocations: 16491)
Completed 500 Internal Server Error in 1834ms (ActiveRecord: 187.4ms | Allocations: 27507)


  
ActionView::Template::Error (The @store variable appears to be empty. Did you forget to pass the collection object for will_paginate?):
    15:         </div>
    16:     </li><% end %><% end %><% end %>
    17: </ul>
    18: <%= will_paginate @posts %>
  
app/views/store/index.html.erb:18
Started GET "/" for ::1 at 2020-07-22 13:55:14 +0700
Processing by StoreController#index as HTML
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[36mCart Create (0.7ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2020-07-22 06:55:14.528098"], ["updated_at", "2020-07-22 06:55:14.528098"]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[35m (88.7ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 17.8ms | Allocations: 5228)
Completed 500 Internal Server Error in 125ms (ActiveRecord: 89.9ms | Allocations: 9254)


  
ActionView::Template::Error (The @store variable appears to be empty. Did you forget to pass the collection object for will_paginate?):
    15:         </div>
    16:     </li><% end %><% end %><% end %>
    17: </ul>
    18: <%= will_paginate @posts %>
  
app/views/store/index.html.erb:18
Started GET "/" for ::1 at 2020-07-22 13:56:32 +0700
Processing by StoreController#index as HTML
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[36mCart Create (1.1ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2020-07-22 06:56:32.098379"], ["updated_at", "2020-07-22 06:56:32.098379"]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[35m (483.6ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 45.6ms | Allocations: 5035)
Completed 500 Internal Server Error in 557ms (ActiveRecord: 485.6ms | Allocations: 9411)


  
ActionView::Template::Error (The @store variable appears to be empty. Did you forget to pass the collection object for will_paginate?):
    15:         </div>
    16:     </li><% end %><% end %><% end %>
    17: </ul>
  
app/views/store/index.html.erb:18
Started GET "/" for ::1 at 2020-07-22 13:56:38 +0700
Processing by StoreController#index as HTML
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[36mCart Create (0.5ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2020-07-22 06:56:38.745239"], ["updated_at", "2020-07-22 06:56:38.745239"]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[35m (1445.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 14.5ms | Allocations: 4541)
[Webpacker] Everything's up-to-date. Nothing to do
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 92], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:35
Completed 200 OK in 2101ms (Views: 637.5ms | ActiveRecord: 1448.0ms | Allocations: 22623)


Started GET "/cable" for ::1 at 2020-07-22 13:56:41 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-22 13:56:41 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started POST "/en/line_items?product_id=4" for ::1 at 2020-07-22 13:56:49 +0700
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"PWm0x9eTAnAjVIoU0wIcSHJV92kbiAIeuuJVvM0AYa4hAObohoHUdZSPjB6zcDWPImg7fLHQNzzdKbQ58NOFcQ==", "product_id"=>"4", "locale"=>"en"}
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 92], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:38:in `create'
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 92], ["product_id", 4], ["LIMIT", 1]]
  ↳ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/line_items_controller.rb:42:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:42:in `block in create'
  [1m[36mLineItem Create (21.4ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 4], ["cart_id", 92], ["created_at", "2020-07-22 06:56:50.045809"], ["updated_at", "2020-07-22 06:56:50.045809"]]
  ↳ app/controllers/line_items_controller.rb:42:in `block in create'
  [1m[35m (139.7ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/line_items_controller.rb:42:in `block in create'
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 92]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 12.1ms | Allocations: 302)
  Rendered carts/_cart.html.erb (Duration: 31.5ms | Allocations: 2289)
  Rendered line_items/create.js.erb (Duration: 64.3ms | Allocations: 2708)
Completed 200 OK in 271ms (Views: 69.0ms | ActiveRecord: 164.2ms | Allocations: 16320)


Started GET "/en/orders/new" for ::1 at 2020-07-22 13:56:56 +0700
Processing by OrdersController#new as HTML
  Parameters: {"locale"=>"en"}
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 92], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 92], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:98:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 216.5ms | Allocations: 1898)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered orders/new.html.erb within layouts/application (Duration: 249.8ms | Allocations: 4035)
[Webpacker] Everything's up-to-date. Nothing to do
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 92], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:35
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 92]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 1.7ms | Allocations: 892)
  Rendered carts/_cart.html.erb (Duration: 5.3ms | Allocations: 2238)
Completed 200 OK in 352ms (Views: 290.5ms | ActiveRecord: 2.7ms | Allocations: 20784)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-22 13:56:57 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-22 13:56:57 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-22 13:56:57 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started POST "/orders" for ::1 at 2020-07-22 13:57:13 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"fXht3JIAnqiUp2+ton9QWIFOQN4cylAisxBaXt9RM2RhET/zwxJIrSN8aafCDXmf0XOMy7aSZQDU27vb4oLXuw==", "order"=>{"name"=>"HUỳnh Quốc Khánh", "address"=>"272, tổ 6", "email"=>"01673khanh@gmail.com", "pay_type"=>"Check", "routing_number"=>"secret", "account_number"=>"11111111"}, "commit"=>"Place Order"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 92], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
[31mUnpermitted parameters: :routing_number, :account_number[0m
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 92]]
  ↳ app/models/order.rb:15:in `add_line_items_from_cart'
  [1m[35m (0.4ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/orders_controller.rb:43:in `block in create'
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:43:in `block in create'
  [1m[36mOrder Create (0.9ms)[0m  [1m[32mINSERT INTO "orders" ("name", "address", "email", "pay_type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "HUỳnh Quốc Khánh"], ["address", "272, tổ 6"], ["email", "01673khanh@gmail.com"], ["pay_type", 0], ["created_at", "2020-07-22 06:57:13.566534"], ["updated_at", "2020-07-22 06:57:13.566534"]]
  ↳ app/controllers/orders_controller.rb:43:in `block in create'
  [1m[36mLineItem Update (2.1ms)[0m  [1m[33mUPDATE "line_items" SET "cart_id" = ?, "order_id" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["cart_id", nil], ["order_id", 25], ["updated_at", "2020-07-22 06:57:13.574425"], ["id", 89]]
  ↳ app/controllers/orders_controller.rb:43:in `block in create'
  [1m[35m (172.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/orders_controller.rb:43:in `block in create'
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 92], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:44:in `block in create'
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/orders_controller.rb:44:in `block in create'
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 92]]
  ↳ app/controllers/orders_controller.rb:44:in `block in create'
  [1m[36mCart Destroy (1.8ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 92]]
  ↳ app/controllers/orders_controller.rb:44:in `block in create'
  [1m[35m (63.6ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/orders_controller.rb:44:in `block in create'
Completed 500 Internal Server Error in 321ms (ActiveRecord: 243.3ms | Allocations: 15943)


  
NameError (uninitialized constant OrdersController::Notifier
Did you mean?  NotifierMailer):
  
app/controllers/orders_controller.rb:47:in `block in create'
app/controllers/orders_controller.rb:42:in `create'
Finished "/cable/" [WebSocket] for ::1 at 2020-07-22 13:57:14 +0700
ProductsChannel stopped streaming from products
Started POST "/orders" for ::1 at 2020-07-22 13:58:12 +0700
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"fXht3JIAnqiUp2+ton9QWIFOQN4cylAisxBaXt9RM2RhET/zwxJIrSN8aafCDXmf0XOMy7aSZQDU27vb4oLXuw==", "order"=>{"name"=>"HUỳnh Quốc Khánh", "address"=>"272, tổ 6", "email"=>"01673khanh@gmail.com", "pay_type"=>"Check", "routing_number"=>"secret", "account_number"=>"11111111"}, "commit"=>"Place Order"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 92], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[36mCart Create (0.3ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2020-07-22 06:58:12.161475"], ["updated_at", "2020-07-22 06:58:12.161475"]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[35m (369.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
[31mUnpermitted parameters: :routing_number, :account_number[0m
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 93]]
  ↳ app/models/order.rb:15:in `add_line_items_from_cart'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/orders_controller.rb:43:in `block in create'
  [1m[36mOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "orders" ("name", "address", "email", "pay_type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "HUỳnh Quốc Khánh"], ["address", "272, tổ 6"], ["email", "01673khanh@gmail.com"], ["pay_type", 0], ["created_at", "2020-07-22 06:58:12.574113"], ["updated_at", "2020-07-22 06:58:12.574113"]]
  ↳ app/controllers/orders_controller.rb:43:in `block in create'
  [1m[35m (128.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/orders_controller.rb:43:in `block in create'
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 93], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:44:in `block in create'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/orders_controller.rb:44:in `block in create'
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 93]]
  ↳ app/controllers/orders_controller.rb:44:in `block in create'
  [1m[36mCart Destroy (0.8ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 93]]
  ↳ app/controllers/orders_controller.rb:44:in `block in create'
  [1m[35m (67.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/orders_controller.rb:44:in `block in create'
Completed 500 Internal Server Error in 664ms (ActiveRecord: 570.2ms | Allocations: 23734)


  
SyntaxError (/home/khanh/Desktop/depot/app/mailers/notifier_mailer.rb:14: syntax error, unexpected =>
    mail to: => @order.email, :subject=> "We...
             ^~
/home/khanh/Desktop/depot/app/mailers/notifier_mailer.rb:14: syntax error, unexpected =>, expecting '.' or &. or :: or '['
...to: => @order.email, :subject=> "We've received your or orde...
...                             ^~
/home/khanh/Desktop/depot/app/mailers/notifier_mailer.rb:16: syntax error, unexpected end-of-input, expecting `end'):
  
app/mailers/notifier_mailer.rb:14: syntax error, unexpected =>
app/mailers/notifier_mailer.rb:14: syntax error, unexpected =>, expecting '.' or &. or :: or '['
app/mailers/notifier_mailer.rb:16: syntax error, unexpected end-of-input, expecting `end'
app/mailers/notifier_mailer.rb:14: syntax error, unexpected =>
app/mailers/notifier_mailer.rb:14: syntax error, unexpected =>, expecting '.' or &. or :: or '['
app/mailers/notifier_mailer.rb:16: syntax error, unexpected end-of-input, expecting `end'
app/mailers/notifier_mailer.rb:14: syntax error, unexpected =>
app/mailers/notifier_mailer.rb:14: syntax error, unexpected =>, expecting '.' or &. or :: or '['
app/mailers/notifier_mailer.rb:16: syntax error, unexpected end-of-input, expecting `end'
app/controllers/orders_controller.rb:47:in `block in create'
app/controllers/orders_controller.rb:42:in `create'
Started POST "/orders" for ::1 at 2020-07-22 13:59:11 +0700
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"fXht3JIAnqiUp2+ton9QWIFOQN4cylAisxBaXt9RM2RhET/zwxJIrSN8aafCDXmf0XOMy7aSZQDU27vb4oLXuw==", "order"=>{"name"=>"HUỳnh Quốc Khánh", "address"=>"272, tổ 6", "email"=>"01673khanh@gmail.com", "pay_type"=>"Check", "routing_number"=>"secret", "account_number"=>"11111111"}, "commit"=>"Place Order"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 92], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[36mCart Create (0.4ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2020-07-22 06:59:11.709134"], ["updated_at", "2020-07-22 06:59:11.709134"]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[35m (619.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
[31mUnpermitted parameters: :routing_number, :account_number[0m
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 94]]
  ↳ app/models/order.rb:15:in `add_line_items_from_cart'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/orders_controller.rb:43:in `block in create'
  [1m[36mOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "orders" ("name", "address", "email", "pay_type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "HUỳnh Quốc Khánh"], ["address", "272, tổ 6"], ["email", "01673khanh@gmail.com"], ["pay_type", 0], ["created_at", "2020-07-22 06:59:12.378818"], ["updated_at", "2020-07-22 06:59:12.378818"]]
  ↳ app/controllers/orders_controller.rb:43:in `block in create'
  [1m[35m (914.6ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/orders_controller.rb:43:in `block in create'
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 94], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:44:in `block in create'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/orders_controller.rb:44:in `block in create'
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 94]]
  ↳ app/controllers/orders_controller.rb:44:in `block in create'
  [1m[36mCart Destroy (0.9ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 94]]
  ↳ app/controllers/orders_controller.rb:44:in `block in create'
  [1m[35m (676.6ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/orders_controller.rb:44:in `block in create'
Completed 500 Internal Server Error in 2297ms (ActiveRecord: 2217.3ms | Allocations: 23655)


  
SyntaxError (/home/khanh/Desktop/depot/app/mailers/notifier_mailer.rb:14: syntax error, unexpected instance variable, expecting `end'
    mail :to @order.email, :subject=> "We've rec...
             ^~~~~~
/home/khanh/Desktop/depot/app/mailers/notifier_mailer.rb:14: syntax error, unexpected =>, expecting '.' or &. or :: or '['
...il :to @order.email, :subject=> "We've received your or orde...
...                             ^~
/home/khanh/Desktop/depot/app/mailers/notifier_mailer.rb:16: syntax error, unexpected end-of-input, expecting `end'):
  
app/mailers/notifier_mailer.rb:14: syntax error, unexpected instance variable, expecting `end'
app/mailers/notifier_mailer.rb:14: syntax error, unexpected =>, expecting '.' or &. or :: or '['
app/mailers/notifier_mailer.rb:16: syntax error, unexpected end-of-input, expecting `end'
app/mailers/notifier_mailer.rb:14: syntax error, unexpected instance variable, expecting `end'
app/mailers/notifier_mailer.rb:14: syntax error, unexpected =>, expecting '.' or &. or :: or '['
app/mailers/notifier_mailer.rb:16: syntax error, unexpected end-of-input, expecting `end'
app/mailers/notifier_mailer.rb:14: syntax error, unexpected instance variable, expecting `end'
app/mailers/notifier_mailer.rb:14: syntax error, unexpected =>, expecting '.' or &. or :: or '['
app/mailers/notifier_mailer.rb:16: syntax error, unexpected end-of-input, expecting `end'
app/controllers/orders_controller.rb:47:in `block in create'
app/controllers/orders_controller.rb:42:in `create'
Started POST "/orders" for ::1 at 2020-07-22 13:59:35 +0700
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"fXht3JIAnqiUp2+ton9QWIFOQN4cylAisxBaXt9RM2RhET/zwxJIrSN8aafCDXmf0XOMy7aSZQDU27vb4oLXuw==", "order"=>{"name"=>"HUỳnh Quốc Khánh", "address"=>"272, tổ 6", "email"=>"01673khanh@gmail.com", "pay_type"=>"Check", "routing_number"=>"secret", "account_number"=>"11111111"}, "commit"=>"Place Order"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 92], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[36mCart Create (1.2ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2020-07-22 06:59:35.239632"], ["updated_at", "2020-07-22 06:59:35.239632"]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[35m (1831.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
[31mUnpermitted parameters: :routing_number, :account_number[0m
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 95]]
  ↳ app/models/order.rb:15:in `add_line_items_from_cart'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/orders_controller.rb:43:in `block in create'
  [1m[36mOrder Create (0.2ms)[0m  [1m[32mINSERT INTO "orders" ("name", "address", "email", "pay_type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "HUỳnh Quốc Khánh"], ["address", "272, tổ 6"], ["email", "01673khanh@gmail.com"], ["pay_type", 0], ["created_at", "2020-07-22 06:59:37.114828"], ["updated_at", "2020-07-22 06:59:37.114828"]]
  ↳ app/controllers/orders_controller.rb:43:in `block in create'
  [1m[35m (794.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/orders_controller.rb:43:in `block in create'
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 95], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:44:in `block in create'
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/orders_controller.rb:44:in `block in create'
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 95]]
  ↳ app/controllers/orders_controller.rb:44:in `block in create'
  [1m[36mCart Destroy (0.7ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 95]]
  ↳ app/controllers/orders_controller.rb:44:in `block in create'
  [1m[35m (575.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/orders_controller.rb:44:in `block in create'
Completed 500 Internal Server Error in 3283ms (ActiveRecord: 3207.8ms | Allocations: 23795)


  
SyntaxError (/home/khanh/Desktop/depot/app/mailers/notifier_mailer.rb:16: syntax error, unexpected end-of-input, expecting `end'):
  
app/mailers/notifier_mailer.rb:16: syntax error, unexpected end-of-input, expecting `end'
app/mailers/notifier_mailer.rb:16: syntax error, unexpected end-of-input, expecting `end'
app/mailers/notifier_mailer.rb:16: syntax error, unexpected end-of-input, expecting `end'
app/controllers/orders_controller.rb:47:in `block in create'
app/controllers/orders_controller.rb:42:in `create'
Started POST "/orders" for ::1 at 2020-07-22 14:00:10 +0700
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"fXht3JIAnqiUp2+ton9QWIFOQN4cylAisxBaXt9RM2RhET/zwxJIrSN8aafCDXmf0XOMy7aSZQDU27vb4oLXuw==", "order"=>{"name"=>"HUỳnh Quốc Khánh", "address"=>"272, tổ 6", "email"=>"01673khanh@gmail.com", "pay_type"=>"Check", "routing_number"=>"secret", "account_number"=>"11111111"}, "commit"=>"Place Order"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 92], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[36mCart Create (0.3ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2020-07-22 07:00:10.460552"], ["updated_at", "2020-07-22 07:00:10.460552"]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[35m (354.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
[31mUnpermitted parameters: :routing_number, :account_number[0m
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 96]]
  ↳ app/models/order.rb:15:in `add_line_items_from_cart'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/orders_controller.rb:43:in `block in create'
  [1m[36mOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "orders" ("name", "address", "email", "pay_type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "HUỳnh Quốc Khánh"], ["address", "272, tổ 6"], ["email", "01673khanh@gmail.com"], ["pay_type", 0], ["created_at", "2020-07-22 07:00:10.858211"], ["updated_at", "2020-07-22 07:00:10.858211"]]
  ↳ app/controllers/orders_controller.rb:43:in `block in create'
  [1m[35m (988.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/orders_controller.rb:43:in `block in create'
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 96], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:44:in `block in create'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/orders_controller.rb:44:in `block in create'
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 96]]
  ↳ app/controllers/orders_controller.rb:44:in `block in create'
  [1m[36mCart Destroy (0.7ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 96]]
  ↳ app/controllers/orders_controller.rb:44:in `block in create'
  [1m[35m (576.6ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/orders_controller.rb:44:in `block in create'
NotifierMailer#order_received: processed outbound mail in 0.5ms
Completed 500 Internal Server Error in 3034ms (ActiveRecord: 1926.0ms | Allocations: 35496)


  
ArgumentError (wrong number of arguments (given 1, expected 0)):
  
app/mailers/notifier_mailer.rb:8:in `order_received'
app/controllers/orders_controller.rb:47:in `block in create'
app/controllers/orders_controller.rb:42:in `create'
Started POST "/orders" for ::1 at 2020-07-22 14:02:22 +0700
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"fXht3JIAnqiUp2+ton9QWIFOQN4cylAisxBaXt9RM2RhET/zwxJIrSN8aafCDXmf0XOMy7aSZQDU27vb4oLXuw==", "order"=>{"name"=>"HUỳnh Quốc Khánh", "address"=>"272, tổ 6", "email"=>"01673khanh@gmail.com", "pay_type"=>"Check", "routing_number"=>"secret", "account_number"=>"11111111"}, "commit"=>"Place Order"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 92], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[36mCart Create (0.3ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2020-07-22 07:02:22.368474"], ["updated_at", "2020-07-22 07:02:22.368474"]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[35m (1080.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
[31mUnpermitted parameters: :routing_number, :account_number[0m
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 97]]
  ↳ app/models/order.rb:15:in `add_line_items_from_cart'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/orders_controller.rb:43:in `block in create'
  [1m[36mOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "orders" ("name", "address", "email", "pay_type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "HUỳnh Quốc Khánh"], ["address", "272, tổ 6"], ["email", "01673khanh@gmail.com"], ["pay_type", 0], ["created_at", "2020-07-22 07:02:23.494875"], ["updated_at", "2020-07-22 07:02:23.494875"]]
  ↳ app/controllers/orders_controller.rb:43:in `block in create'
  [1m[35m (99.6ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/orders_controller.rb:43:in `block in create'
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 97], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:44:in `block in create'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/orders_controller.rb:44:in `block in create'
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 97]]
  ↳ app/controllers/orders_controller.rb:44:in `block in create'
  [1m[36mCart Destroy (0.9ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 97]]
  ↳ app/controllers/orders_controller.rb:44:in `block in create'
  [1m[35m (98.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/orders_controller.rb:44:in `block in create'
  Rendering notifier_mailer/order_received.html.erb within layouts/mailer
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."order_id" = ?[0m  [["order_id", 30]]
  ↳ app/views/notifier_mailer/order_received.html.erb:14
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered notifier_mailer/order_received.html.erb within layouts/mailer (Duration: 29.8ms | Allocations: 1719)
  Rendering notifier_mailer/order_received.text.erb within layouts/mailer
  Rendered notifier_mailer/order_received.text.erb within layouts/mailer (Duration: 26.2ms | Allocations: 280)
NotifierMailer#order_received: processed outbound mail in 155.5ms
Delivered mail 5f17e47fe6f94_1a443944558ed@khanh-X510UAR.mail (1888.9ms)
Date: Wed, 22 Jul 2020 14:02:23 +0700
From: 01673khanh@gmail.com
To: 01673khanh@gmail.com
Message-ID: <5f17e47fe6f94_1a443944558ed@khanh-X510UAR.mail>
Subject: We've received your or order
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5f17e47fd62fc_1a44394455750";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5f17e47fd62fc_1a44394455750
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Notifier#order_received

, find me in app/views/notifier_mailer/order_received.text.erb


----==_mimepart_5f17e47fd62fc_1a44394455750
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<!DOCTYPE html>=0D
<html>=0D
  <head>=0D
    <meta http-equiv=3D"Content-Type" content=3D"text/html; charset=3Dutf=
-8" />=0D
    <style>=0D
      /* Email styles need to be inline */=0D
    </style>=0D
  </head>=0D
=0D
  <body>=0D
    <h3>Books Store</h3>=0D
<p>=0D
    Dear <b>HU=E1=BB=B3nh Qu=E1=BB=91c Kh=C3=A1nh</b>,=0D
</p>=0D
 =0D
<p>=0D
    Thank you for your order, your items:=0D
</p>=0D
<table>=0D
    <tr>=0D
        <th colspan=3D"2">Quantity</th>=0D
        <th>Description</th>=0D
    </tr>=0D
    =0D
</table>=0D
 =0D
<p>Your payment type: <b>Check</b></p>=0D
<p>Thanks for shopping with <b>Books Store<b> and best regards.</p>=0D
  </body>=0D
</html>=0D

----==_mimepart_5f17e47fd62fc_1a44394455750--

Completed 500 Internal Server Error in 3434ms (ActiveRecord: 1285.7ms | Allocations: 38379)


  
Net::SMTPAuthenticationError (535-5.7.8 Username and Password not accepted. Learn more at
):
  
app/controllers/orders_controller.rb:47:in `block in create'
app/controllers/orders_controller.rb:42:in `create'
Started POST "/orders" for ::1 at 2020-07-22 14:03:37 +0700
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"fXht3JIAnqiUp2+ton9QWIFOQN4cylAisxBaXt9RM2RhET/zwxJIrSN8aafCDXmf0XOMy7aSZQDU27vb4oLXuw==", "order"=>{"name"=>"HUỳnh Quốc Khánh", "address"=>"272, tổ 6", "email"=>"01673khanh@gmail.com", "pay_type"=>"Check", "routing_number"=>"secret", "account_number"=>"11111111"}, "commit"=>"Place Order"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 92], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[36mCart Create (0.2ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2020-07-22 07:03:37.917637"], ["updated_at", "2020-07-22 07:03:37.917637"]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[35m (837.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
[31mUnpermitted parameters: :routing_number, :account_number[0m
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 98]]
  ↳ app/models/order.rb:15:in `add_line_items_from_cart'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/orders_controller.rb:43:in `block in create'
  [1m[36mOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "orders" ("name", "address", "email", "pay_type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "HUỳnh Quốc Khánh"], ["address", "272, tổ 6"], ["email", "01673khanh@gmail.com"], ["pay_type", 0], ["created_at", "2020-07-22 07:03:38.801686"], ["updated_at", "2020-07-22 07:03:38.801686"]]
  ↳ app/controllers/orders_controller.rb:43:in `block in create'
  [1m[35m (866.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/orders_controller.rb:43:in `block in create'
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 98], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:44:in `block in create'
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/orders_controller.rb:44:in `block in create'
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 98]]
  ↳ app/controllers/orders_controller.rb:44:in `block in create'
  [1m[36mCart Destroy (0.6ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 98]]
  ↳ app/controllers/orders_controller.rb:44:in `block in create'
  [1m[35m (865.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/orders_controller.rb:44:in `block in create'
Completed 500 Internal Server Error in 2664ms (ActiveRecord: 2574.9ms | Allocations: 25237)


  
NameError (uninitialized constant OrdersController::Notifier
Did you mean?  NotifierMailer):
  
app/controllers/orders_controller.rb:47:in `block in create'
app/controllers/orders_controller.rb:42:in `create'
Started POST "/orders" for ::1 at 2020-07-22 14:04:06 +0700
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"fXht3JIAnqiUp2+ton9QWIFOQN4cylAisxBaXt9RM2RhET/zwxJIrSN8aafCDXmf0XOMy7aSZQDU27vb4oLXuw==", "order"=>{"name"=>"HUỳnh Quốc Khánh", "address"=>"272, tổ 6", "email"=>"01673khanh@gmail.com", "pay_type"=>"Check", "routing_number"=>"secret", "account_number"=>"11111111"}, "commit"=>"Place Order"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 92], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[36mCart Create (0.9ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2020-07-22 07:04:06.542852"], ["updated_at", "2020-07-22 07:04:06.542852"]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[35m (1005.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
[31mUnpermitted parameters: :routing_number, :account_number[0m
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 99]]
  ↳ app/models/order.rb:15:in `add_line_items_from_cart'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/orders_controller.rb:43:in `block in create'
  [1m[36mOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "orders" ("name", "address", "email", "pay_type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "HUỳnh Quốc Khánh"], ["address", "272, tổ 6"], ["email", "01673khanh@gmail.com"], ["pay_type", 0], ["created_at", "2020-07-22 07:04:07.601985"], ["updated_at", "2020-07-22 07:04:07.601985"]]
  ↳ app/controllers/orders_controller.rb:43:in `block in create'
  [1m[35m (105.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/orders_controller.rb:43:in `block in create'
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 99], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:44:in `block in create'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/orders_controller.rb:44:in `block in create'
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 99]]
  ↳ app/controllers/orders_controller.rb:44:in `block in create'
  [1m[36mCart Destroy (1.9ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 99]]
  ↳ app/controllers/orders_controller.rb:44:in `block in create'
  [1m[35m (67.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/orders_controller.rb:44:in `block in create'
  Rendering notifier_mailer/order_received.html.erb within layouts/mailer
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."order_id" = ?[0m  [["order_id", 32]]
  ↳ app/views/notifier_mailer/order_received.html.erb:14
  Rendered collection of templates [0 times] (Duration: 0.1ms | Allocations: 3)
  Rendered notifier_mailer/order_received.html.erb within layouts/mailer (Duration: 4.9ms | Allocations: 1580)
  Rendering notifier_mailer/order_received.text.erb within layouts/mailer
  Rendered notifier_mailer/order_received.text.erb within layouts/mailer (Duration: 0.0ms | Allocations: 4)
NotifierMailer#order_received: processed outbound mail in 8.8ms
Delivered mail 5f17e4e7c729f_1a443944560d5@khanh-X510UAR.mail (1568.4ms)
Date: Wed, 22 Jul 2020 14:04:07 +0700
From: 01673khanh@gmail.com
To: 01673khanh@gmail.com
Message-ID: <5f17e4e7c729f_1a443944560d5@khanh-X510UAR.mail>
Subject: We've received your or order
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5f17e4e7c6805_1a443944559bc";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5f17e4e7c6805_1a443944559bc
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Notifier#order_received

, find me in app/views/notifier_mailer/order_received.text.erb


----==_mimepart_5f17e4e7c6805_1a443944559bc
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<!DOCTYPE html>=0D
<html>=0D
  <head>=0D
    <meta http-equiv=3D"Content-Type" content=3D"text/html; charset=3Dutf=
-8" />=0D
    <style>=0D
      /* Email styles need to be inline */=0D
    </style>=0D
  </head>=0D
=0D
  <body>=0D
    <h3>Books Store</h3>=0D
<p>=0D
    Dear <b>HU=E1=BB=B3nh Qu=E1=BB=91c Kh=C3=A1nh</b>,=0D
</p>=0D
 =0D
<p>=0D
    Thank you for your order, your items:=0D
</p>=0D
<table>=0D
    <tr>=0D
        <th colspan=3D"2">Quantity</th>=0D
        <th>Description</th>=0D
    </tr>=0D
    =0D
</table>=0D
 =0D
<p>Your payment type: <b>Check</b></p>=0D
<p>Thanks for shopping with <b>Books Store<b> and best regards.</p>=0D
  </body>=0D
</html>=0D

----==_mimepart_5f17e4e7c6805_1a443944559bc--

Completed 500 Internal Server Error in 2851ms (ActiveRecord: 1185.1ms | Allocations: 36934)


  
Net::SMTPAuthenticationError (535-5.7.8 Username and Password not accepted. Learn more at
):
  
app/controllers/orders_controller.rb:47:in `block in create'
app/controllers/orders_controller.rb:42:in `create'
Started POST "/orders" for ::1 at 2020-07-22 14:08:05 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"fXht3JIAnqiUp2+ton9QWIFOQN4cylAisxBaXt9RM2RhET/zwxJIrSN8aafCDXmf0XOMy7aSZQDU27vb4oLXuw==", "order"=>{"name"=>"HUỳnh Quốc Khánh", "address"=>"272, tổ 6", "email"=>"01673khanh@gmail.com", "pay_type"=>"Check", "routing_number"=>"secret", "account_number"=>"11111111"}, "commit"=>"Place Order"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 92], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[36mCart Create (1.6ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2020-07-22 07:08:05.985155"], ["updated_at", "2020-07-22 07:08:05.985155"]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[35m (91.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
[31mUnpermitted parameters: :routing_number, :account_number[0m
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 100]]
  ↳ app/models/order.rb:15:in `add_line_items_from_cart'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/orders_controller.rb:43:in `block in create'
  [1m[36mOrder Create (0.6ms)[0m  [1m[32mINSERT INTO "orders" ("name", "address", "email", "pay_type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "HUỳnh Quốc Khánh"], ["address", "272, tổ 6"], ["email", "01673khanh@gmail.com"], ["pay_type", 0], ["created_at", "2020-07-22 07:08:06.095331"], ["updated_at", "2020-07-22 07:08:06.095331"]]
  ↳ app/controllers/orders_controller.rb:43:in `block in create'
  [1m[35m (119.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/orders_controller.rb:43:in `block in create'
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 100], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:44:in `block in create'
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/orders_controller.rb:44:in `block in create'
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 100]]
  ↳ app/controllers/orders_controller.rb:44:in `block in create'
  [1m[36mCart Destroy (0.6ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 100]]
  ↳ app/controllers/orders_controller.rb:44:in `block in create'
  [1m[35m (185.8ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/orders_controller.rb:44:in `block in create'
  Rendering notifier_mailer/order_received.html.erb within layouts/mailer
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."order_id" = ?[0m  [["order_id", 33]]
  ↳ app/views/notifier_mailer/order_received.html.erb:14
  Rendered collection of templates [0 times] (Duration: 0.1ms | Allocations: 3)
  Rendered notifier_mailer/order_received.html.erb within layouts/mailer (Duration: 4.9ms | Allocations: 852)
  Rendering notifier_mailer/order_received.text.erb within layouts/mailer
  Rendered notifier_mailer/order_received.text.erb within layouts/mailer (Duration: 0.1ms | Allocations: 4)
NotifierMailer#order_received: processed outbound mail in 17.2ms
Delivered mail 5f17e5d66ff99_1a44729c56249@khanh-X510UAR.mail (1625.2ms)
Date: Wed, 22 Jul 2020 14:08:06 +0700
From: 01673khanh@gmail.com
To: 01673khanh@gmail.com
Message-ID: <5f17e5d66ff99_1a44729c56249@khanh-X510UAR.mail>
Subject: We've received your or order
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5f17e5d66d850_1a44729c561e1";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5f17e5d66d850_1a44729c561e1
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Notifier#order_received

, find me in app/views/notifier_mailer/order_received.text.erb


----==_mimepart_5f17e5d66d850_1a44729c561e1
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<!DOCTYPE html>=0D
<html>=0D
  <head>=0D
    <meta http-equiv=3D"Content-Type" content=3D"text/html; charset=3Dutf=
-8" />=0D
    <style>=0D
      /* Email styles need to be inline */=0D
    </style>=0D
  </head>=0D
=0D
  <body>=0D
    <h3>Books Store</h3>=0D
<p>=0D
    Dear <b>HU=E1=BB=B3nh Qu=E1=BB=91c Kh=C3=A1nh</b>,=0D
</p>=0D
 =0D
<p>=0D
    Thank you for your order, your items:=0D
</p>=0D
<table>=0D
    <tr>=0D
        <th colspan=3D"2">Quantity</th>=0D
        <th>Description</th>=0D
    </tr>=0D
    =0D
</table>=0D
 =0D
<p>Your payment type: <b>Check</b></p>=0D
<p>Thanks for shopping with <b>Books Store<b> and best regards.</p>=0D
  </body>=0D
</html>=0D

----==_mimepart_5f17e5d66d850_1a44729c561e1--

Completed 500 Internal Server Error in 2105ms (ActiveRecord: 401.7ms | Allocations: 23242)


  
Net::SMTPAuthenticationError (535-5.7.8 Username and Password not accepted. Learn more at
):
  
app/controllers/orders_controller.rb:47:in `block in create'
app/controllers/orders_controller.rb:42:in `create'
Started POST "/orders" for ::1 at 2020-07-22 14:08:53 +0700
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"fXht3JIAnqiUp2+ton9QWIFOQN4cylAisxBaXt9RM2RhET/zwxJIrSN8aafCDXmf0XOMy7aSZQDU27vb4oLXuw==", "order"=>{"name"=>"HUỳnh Quốc Khánh", "address"=>"272, tổ 6", "email"=>"01673khanh@gmail.com", "pay_type"=>"Check", "routing_number"=>"secret", "account_number"=>"11111111"}, "commit"=>"Place Order"}
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 92], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[36mCart Create (0.8ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2020-07-22 07:08:55.241766"], ["updated_at", "2020-07-22 07:08:55.241766"]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[35m (75.6ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
[31mUnpermitted parameters: :routing_number, :account_number[0m
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 101]]
  ↳ app/models/order.rb:15:in `add_line_items_from_cart'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/orders_controller.rb:43:in `block in create'
  [1m[36mOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "orders" ("name", "address", "email", "pay_type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "HUỳnh Quốc Khánh"], ["address", "272, tổ 6"], ["email", "01673khanh@gmail.com"], ["pay_type", 0], ["created_at", "2020-07-22 07:08:55.374338"], ["updated_at", "2020-07-22 07:08:55.374338"]]
  ↳ app/controllers/orders_controller.rb:43:in `block in create'
  [1m[35m (116.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/orders_controller.rb:43:in `block in create'
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 101], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:44:in `block in create'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/orders_controller.rb:44:in `block in create'
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 101]]
  ↳ app/controllers/orders_controller.rb:44:in `block in create'
  [1m[36mCart Destroy (0.6ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 101]]
  ↳ app/controllers/orders_controller.rb:44:in `block in create'
  [1m[35m (67.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/orders_controller.rb:44:in `block in create'
  Rendering notifier_mailer/order_received.html.erb within layouts/mailer
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."order_id" = ?[0m  [["order_id", 34]]
  ↳ app/views/notifier_mailer/order_received.html.erb:14
  Rendered collection of templates [0 times] (Duration: 0.1ms | Allocations: 3)
  Rendered notifier_mailer/order_received.html.erb within layouts/mailer (Duration: 7.1ms | Allocations: 1580)
  Rendering notifier_mailer/order_received.text.erb within layouts/mailer
  Rendered notifier_mailer/order_received.text.erb within layouts/mailer (Duration: 0.1ms | Allocations: 4)
NotifierMailer#order_received: processed outbound mail in 19.1ms
Delivered mail 5f17e6079f5f1_1a44394456473@khanh-X510UAR.mail (1449.6ms)
Date: Wed, 22 Jul 2020 14:08:55 +0700
From: 01673khanh@gmail.com
To: 01673khanh@gmail.com
Message-ID: <5f17e6079f5f1_1a44394456473@khanh-X510UAR.mail>
Subject: We've received your or order
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5f17e6079d2ab_1a443944563f";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5f17e6079d2ab_1a443944563f
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Notifier#order_received

, find me in app/views/notifier_mailer/order_received.text.erb


----==_mimepart_5f17e6079d2ab_1a443944563f
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<!DOCTYPE html>=0D
<html>=0D
  <head>=0D
    <meta http-equiv=3D"Content-Type" content=3D"text/html; charset=3Dutf=
-8" />=0D
    <style>=0D
      /* Email styles need to be inline */=0D
    </style>=0D
  </head>=0D
=0D
  <body>=0D
    <h3>Books Store</h3>=0D
<p>=0D
    Dear <b>HU=E1=BB=B3nh Qu=E1=BB=91c Kh=C3=A1nh</b>,=0D
</p>=0D
 =0D
<p>=0D
    Thank you for your order, your items:=0D
</p>=0D
<table>=0D
    <tr>=0D
        <th colspan=3D"2">Quantity</th>=0D
        <th>Description</th>=0D
    </tr>=0D
    =0D
</table>=0D
 =0D
<p>Your payment type: <b>Check</b></p>=0D
<p>Thanks for shopping with <b>Books Store<b> and best regards.</p>=0D
  </body>=0D
</html>=0D

----==_mimepart_5f17e6079d2ab_1a443944563f--

Completed 500 Internal Server Error in 1878ms (ActiveRecord: 270.5ms | Allocations: 36757)


  
Net::SMTPAuthenticationError (535-5.7.8 Username and Password not accepted. Learn more at
):
  
app/controllers/orders_controller.rb:47:in `block in create'
app/controllers/orders_controller.rb:42:in `create'
Started POST "/orders" for ::1 at 2020-07-22 14:09:07 +0700
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"fXht3JIAnqiUp2+ton9QWIFOQN4cylAisxBaXt9RM2RhET/zwxJIrSN8aafCDXmf0XOMy7aSZQDU27vb4oLXuw==", "order"=>{"name"=>"HUỳnh Quốc Khánh", "address"=>"272, tổ 6", "email"=>"01673khanh@gmail.com", "pay_type"=>"Check", "routing_number"=>"secret", "account_number"=>"11111111"}, "commit"=>"Place Order"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 92], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[36mCart Create (0.5ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2020-07-22 07:09:07.802265"], ["updated_at", "2020-07-22 07:09:07.802265"]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[35m (1313.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
[31mUnpermitted parameters: :routing_number, :account_number[0m
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 102]]
  ↳ app/models/order.rb:15:in `add_line_items_from_cart'
  [1m[35m (0.0ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/orders_controller.rb:43:in `block in create'
  [1m[36mOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "orders" ("name", "address", "email", "pay_type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "HUỳnh Quốc Khánh"], ["address", "272, tổ 6"], ["email", "01673khanh@gmail.com"], ["pay_type", 0], ["created_at", "2020-07-22 07:09:09.165966"], ["updated_at", "2020-07-22 07:09:09.165966"]]
  ↳ app/controllers/orders_controller.rb:43:in `block in create'
  [1m[35m (95.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/orders_controller.rb:43:in `block in create'
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 102], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:44:in `block in create'
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/orders_controller.rb:44:in `block in create'
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 102]]
  ↳ app/controllers/orders_controller.rb:44:in `block in create'
  [1m[36mCart Destroy (0.4ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 102]]
  ↳ app/controllers/orders_controller.rb:44:in `block in create'
  [1m[35m (235.8ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/orders_controller.rb:44:in `block in create'
  Rendering notifier_mailer/order_received.html.erb within layouts/mailer
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."order_id" = ?[0m  [["order_id", 35]]
  ↳ app/views/notifier_mailer/order_received.html.erb:14
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered notifier_mailer/order_received.html.erb within layouts/mailer (Duration: 2.9ms | Allocations: 1580)
  Rendering notifier_mailer/order_received.text.erb within layouts/mailer
  Rendered notifier_mailer/order_received.text.erb within layouts/mailer (Duration: 0.0ms | Allocations: 4)
NotifierMailer#order_received: processed outbound mail in 8.0ms
Delivered mail 5f17e61585eca_1a446e505669f@khanh-X510UAR.mail (2339.0ms)
Date: Wed, 22 Jul 2020 14:09:09 +0700
From: 01673khanh@gmail.com
To: 01673khanh@gmail.com
Message-ID: <5f17e61585eca_1a446e505669f@khanh-X510UAR.mail>
Subject: We've received your or order
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5f17e615854a8_1a446e5056553";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5f17e615854a8_1a446e5056553
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Notifier#order_received

, find me in app/views/notifier_mailer/order_received.text.erb


----==_mimepart_5f17e615854a8_1a446e5056553
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<!DOCTYPE html>=0D
<html>=0D
  <head>=0D
    <meta http-equiv=3D"Content-Type" content=3D"text/html; charset=3Dutf=
-8" />=0D
    <style>=0D
      /* Email styles need to be inline */=0D
    </style>=0D
  </head>=0D
=0D
  <body>=0D
    <h3>Books Store</h3>=0D
<p>=0D
    Dear <b>HU=E1=BB=B3nh Qu=E1=BB=91c Kh=C3=A1nh</b>,=0D
</p>=0D
 =0D
<p>=0D
    Thank you for your order, your items:=0D
</p>=0D
<table>=0D
    <tr>=0D
        <th colspan=3D"2">Quantity</th>=0D
        <th>Description</th>=0D
    </tr>=0D
    =0D
</table>=0D
 =0D
<p>Your payment type: <b>Check</b></p>=0D
<p>Thanks for shopping with <b>Books Store<b> and best regards.</p>=0D
  </body>=0D
</html>=0D

----==_mimepart_5f17e615854a8_1a446e5056553--

Completed 500 Internal Server Error in 4094ms (ActiveRecord: 1649.7ms | Allocations: 36808)


  
Net::SMTPAuthenticationError (535-5.7.8 Username and Password not accepted. Learn more at
):
  
app/controllers/orders_controller.rb:47:in `block in create'
app/controllers/orders_controller.rb:42:in `create'
Started POST "/orders" for ::1 at 2020-07-22 14:10:27 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"fXht3JIAnqiUp2+ton9QWIFOQN4cylAisxBaXt9RM2RhET/zwxJIrSN8aafCDXmf0XOMy7aSZQDU27vb4oLXuw==", "order"=>{"name"=>"HUỳnh Quốc Khánh", "address"=>"272, tổ 6", "email"=>"01673khanh@gmail.com", "pay_type"=>"Check", "routing_number"=>"secret", "account_number"=>"11111111"}, "commit"=>"Place Order"}
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 92], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[36mCart Create (0.8ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2020-07-22 07:10:27.513023"], ["updated_at", "2020-07-22 07:10:27.513023"]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[35m (142.6ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
[31mUnpermitted parameters: :routing_number, :account_number[0m
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 103]]
  ↳ app/models/order.rb:15:in `add_line_items_from_cart'
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/orders_controller.rb:43:in `block in create'
  [1m[36mOrder Create (1.3ms)[0m  [1m[32mINSERT INTO "orders" ("name", "address", "email", "pay_type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "HUỳnh Quốc Khánh"], ["address", "272, tổ 6"], ["email", "01673khanh@gmail.com"], ["pay_type", 0], ["created_at", "2020-07-22 07:10:27.685505"], ["updated_at", "2020-07-22 07:10:27.685505"]]
  ↳ app/controllers/orders_controller.rb:43:in `block in create'
  [1m[35m (126.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/orders_controller.rb:43:in `block in create'
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 103], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:44:in `block in create'
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/orders_controller.rb:44:in `block in create'
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 103]]
  ↳ app/controllers/orders_controller.rb:44:in `block in create'
  [1m[36mCart Destroy (0.6ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 103]]
  ↳ app/controllers/orders_controller.rb:44:in `block in create'
  [1m[35m (89.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/orders_controller.rb:44:in `block in create'
  Rendering notifier_mailer/order_received.html.erb within layouts/mailer
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."order_id" = ?[0m  [["order_id", 36]]
  ↳ app/views/notifier_mailer/order_received.html.erb:14
  Rendered collection of templates [0 times] (Duration: 0.1ms | Allocations: 3)
  Rendered notifier_mailer/order_received.html.erb within layouts/mailer (Duration: 6.0ms | Allocations: 852)
  Rendering notifier_mailer/order_received.text.erb within layouts/mailer
  Rendered notifier_mailer/order_received.text.erb within layouts/mailer (Duration: 0.1ms | Allocations: 4)
NotifierMailer#order_received: processed outbound mail in 18.6ms
Delivered mail 5f17e663ebefc_1a44714856831@khanh-X510UAR.mail (1567.9ms)
Date: Wed, 22 Jul 2020 14:10:27 +0700
From: 01673khanh@gmail.com
To: 01673khanh@gmail.com
Message-ID: <5f17e663ebefc_1a44714856831@khanh-X510UAR.mail>
Subject: We've received your or order
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5f17e663e90ac_1a4471485678e";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5f17e663e90ac_1a4471485678e
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Notifier#order_received

, find me in app/views/notifier_mailer/order_received.text.erb


----==_mimepart_5f17e663e90ac_1a4471485678e
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<!DOCTYPE html>=0D
<html>=0D
  <head>=0D
    <meta http-equiv=3D"Content-Type" content=3D"text/html; charset=3Dutf=
-8" />=0D
    <style>=0D
      /* Email styles need to be inline */=0D
    </style>=0D
  </head>=0D
=0D
  <body>=0D
    <h3>Books Store</h3>=0D
<p>=0D
    Dear <b>HU=E1=BB=B3nh Qu=E1=BB=91c Kh=C3=A1nh</b>,=0D
</p>=0D
 =0D
<p>=0D
    Thank you for your order, your items:=0D
</p>=0D
<table>=0D
    <tr>=0D
        <th colspan=3D"2">Quantity</th>=0D
        <th>Description</th>=0D
    </tr>=0D
    =0D
</table>=0D
 =0D
<p>Your payment type: <b>Check</b></p>=0D
<p>Thanks for shopping with <b>Books Store<b> and best regards.</p>=0D
  </body>=0D
</html>=0D

----==_mimepart_5f17e663e90ac_1a4471485678e--

Completed 500 Internal Server Error in 2024ms (ActiveRecord: 362.8ms | Allocations: 23233)


  
Net::SMTPAuthenticationError (535-5.7.8 Username and Password not accepted. Learn more at
):
  
app/controllers/orders_controller.rb:47:in `block in create'
app/controllers/orders_controller.rb:42:in `create'
Started POST "/orders" for ::1 at 2020-07-22 14:10:44 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"fXht3JIAnqiUp2+ton9QWIFOQN4cylAisxBaXt9RM2RhET/zwxJIrSN8aafCDXmf0XOMy7aSZQDU27vb4oLXuw==", "order"=>{"name"=>"HUỳnh Quốc Khánh", "address"=>"272, tổ 6", "email"=>"01673khanh@gmail.com", "pay_type"=>"Check", "routing_number"=>"secret", "account_number"=>"11111111"}, "commit"=>"Place Order"}
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 92], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[36mCart Create (0.5ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2020-07-22 07:10:44.818807"], ["updated_at", "2020-07-22 07:10:44.818807"]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[35m (139.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
[31mUnpermitted parameters: :routing_number, :account_number[0m
  [1m[36mLineItem Load (0.8ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 104]]
  ↳ app/models/order.rb:15:in `add_line_items_from_cart'
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/orders_controller.rb:43:in `block in create'
  [1m[36mOrder Create (1.1ms)[0m  [1m[32mINSERT INTO "orders" ("name", "address", "email", "pay_type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "HUỳnh Quốc Khánh"], ["address", "272, tổ 6"], ["email", "01673khanh@gmail.com"], ["pay_type", 0], ["created_at", "2020-07-22 07:10:44.980194"], ["updated_at", "2020-07-22 07:10:44.980194"]]
  ↳ app/controllers/orders_controller.rb:43:in `block in create'
  [1m[35m (97.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/orders_controller.rb:43:in `block in create'
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 104], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:44:in `block in create'
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/orders_controller.rb:44:in `block in create'
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 104]]
  ↳ app/controllers/orders_controller.rb:44:in `block in create'
  [1m[36mCart Destroy (0.6ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 104]]
  ↳ app/controllers/orders_controller.rb:44:in `block in create'
  [1m[35m (142.8ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/orders_controller.rb:44:in `block in create'
  Rendering notifier_mailer/order_received.html.erb within layouts/mailer
  [1m[36mLineItem Load (0.8ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."order_id" = ?[0m  [["order_id", 37]]
  ↳ app/views/notifier_mailer/order_received.html.erb:14
  Rendered collection of templates [0 times] (Duration: 0.1ms | Allocations: 3)
  Rendered notifier_mailer/order_received.html.erb within layouts/mailer (Duration: 9.3ms | Allocations: 852)
  Rendering notifier_mailer/order_received.text.erb within layouts/mailer
  Rendered notifier_mailer/order_received.text.erb within layouts/mailer (Duration: 0.1ms | Allocations: 4)
NotifierMailer#order_received: processed outbound mail in 25.0ms
Delivered mail 5f17e67547dd5_1a4439445705f@khanh-X510UAR.mail (1563.9ms)
Date: Wed, 22 Jul 2020 14:10:45 +0700
From: 01673khanh@gmail.com
To: 01673khanh@gmail.com
Message-ID: <5f17e67547dd5_1a4439445705f@khanh-X510UAR.mail>
Subject: We've received your or order
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5f17e6754423e_1a44394456940";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5f17e6754423e_1a44394456940
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Notifier#order_received

, find me in app/views/notifier_mailer/order_received.text.erb


----==_mimepart_5f17e6754423e_1a44394456940
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<!DOCTYPE html>=0D
<html>=0D
  <head>=0D
    <meta http-equiv=3D"Content-Type" content=3D"text/html; charset=3Dutf=
-8" />=0D
    <style>=0D
      /* Email styles need to be inline */=0D
    </style>=0D
  </head>=0D
=0D
  <body>=0D
    <h3>Books Store</h3>=0D
<p>=0D
    Dear <b>HU=E1=BB=B3nh Qu=E1=BB=91c Kh=C3=A1nh</b>,=0D
</p>=0D
 =0D
<p>=0D
    Thank you for your order, your items:=0D
</p>=0D
<table>=0D
    <tr>=0D
        <th colspan=3D"2">Quantity</th>=0D
        <th>Description</th>=0D
    </tr>=0D
    =0D
</table>=0D
 =0D
<p>Your payment type: <b>Check</b></p>=0D
<p>Thanks for shopping with <b>Books Store<b> and best regards.</p>=0D
  </body>=0D
</html>=0D

----==_mimepart_5f17e6754423e_1a44394456940--

Completed 500 Internal Server Error in 2040ms (ActiveRecord: 385.7ms | Allocations: 23231)


  
Net::SMTPAuthenticationError (535-5.7.8 Username and Password not accepted. Learn more at
):
  
app/controllers/orders_controller.rb:47:in `block in create'
app/controllers/orders_controller.rb:42:in `create'
Started POST "/orders" for ::1 at 2020-07-22 14:11:04 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"fXht3JIAnqiUp2+ton9QWIFOQN4cylAisxBaXt9RM2RhET/zwxJIrSN8aafCDXmf0XOMy7aSZQDU27vb4oLXuw==", "order"=>{"name"=>"HUỳnh Quốc Khánh", "address"=>"272, tổ 6", "email"=>"01673khanh@gmail.com", "pay_type"=>"Check", "routing_number"=>"secret", "account_number"=>"11111111"}, "commit"=>"Place Order"}
  [1m[36mCart Load (0.6ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 92], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[36mCart Create (1.2ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2020-07-22 07:11:04.422817"], ["updated_at", "2020-07-22 07:11:04.422817"]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[35m (81.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
[31mUnpermitted parameters: :routing_number, :account_number[0m
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 105]]
  ↳ app/models/order.rb:15:in `add_line_items_from_cart'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/orders_controller.rb:43:in `block in create'
  [1m[36mOrder Create (1.4ms)[0m  [1m[32mINSERT INTO "orders" ("name", "address", "email", "pay_type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "HUỳnh Quốc Khánh"], ["address", "272, tổ 6"], ["email", "01673khanh@gmail.com"], ["pay_type", 0], ["created_at", "2020-07-22 07:11:04.522468"], ["updated_at", "2020-07-22 07:11:04.522468"]]
  ↳ app/controllers/orders_controller.rb:43:in `block in create'
  [1m[35m (66.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/orders_controller.rb:43:in `block in create'
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 105], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:44:in `block in create'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/orders_controller.rb:44:in `block in create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 105]]
  ↳ app/controllers/orders_controller.rb:44:in `block in create'
  [1m[36mCart Destroy (0.3ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 105]]
  ↳ app/controllers/orders_controller.rb:44:in `block in create'
  [1m[35m (66.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/orders_controller.rb:44:in `block in create'
  Rendering notifier_mailer/order_received.html.erb within layouts/mailer
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."order_id" = ?[0m  [["order_id", 38]]
  ↳ app/views/notifier_mailer/order_received.html.erb:14
  Rendered collection of templates [0 times] (Duration: 0.1ms | Allocations: 3)
  Rendered notifier_mailer/order_received.html.erb within layouts/mailer (Duration: 3.1ms | Allocations: 852)
  Rendering notifier_mailer/order_received.text.erb within layouts/mailer
  Rendered notifier_mailer/order_received.text.erb within layouts/mailer (Duration: 0.1ms | Allocations: 4)
NotifierMailer#order_received: processed outbound mail in 12.5ms
Delivered mail 5f17e688aae67_1a44d84057245@khanh-X510UAR.mail (2095.0ms)
Date: Wed, 22 Jul 2020 14:11:04 +0700
From: 01673khanh@gmail.com
To: 01673khanh@gmail.com
Message-ID: <5f17e688aae67_1a44d84057245@khanh-X510UAR.mail>
Subject: We've received your or order
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5f17e688a9afa_1a44d840571b0";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5f17e688a9afa_1a44d840571b0
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Notifier#order_received

, find me in app/views/notifier_mailer/order_received.text.erb


----==_mimepart_5f17e688a9afa_1a44d840571b0
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<!DOCTYPE html>=0D
<html>=0D
  <head>=0D
    <meta http-equiv=3D"Content-Type" content=3D"text/html; charset=3Dutf=
-8" />=0D
    <style>=0D
      /* Email styles need to be inline */=0D
    </style>=0D
  </head>=0D
=0D
  <body>=0D
    <h3>Books Store</h3>=0D
<p>=0D
    Dear <b>HU=E1=BB=B3nh Qu=E1=BB=91c Kh=C3=A1nh</b>,=0D
</p>=0D
 =0D
<p>=0D
    Thank you for your order, your items:=0D
</p>=0D
<table>=0D
    <tr>=0D
        <th colspan=3D"2">Quantity</th>=0D
        <th>Description</th>=0D
    </tr>=0D
    =0D
</table>=0D
 =0D
<p>Your payment type: <b>Check</b></p>=0D
<p>Thanks for shopping with <b>Books Store<b> and best regards.</p>=0D
  </body>=0D
</html>=0D

----==_mimepart_5f17e688a9afa_1a44d840571b0--

Completed 500 Internal Server Error in 2378ms (ActiveRecord: 219.7ms | Allocations: 23208)


  
Net::SMTPAuthenticationError (535-5.7.8 Username and Password not accepted. Learn more at
):
  
app/controllers/orders_controller.rb:47:in `block in create'
app/controllers/orders_controller.rb:42:in `create'
Started POST "/orders" for ::1 at 2020-07-22 14:11:18 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"fXht3JIAnqiUp2+ton9QWIFOQN4cylAisxBaXt9RM2RhET/zwxJIrSN8aafCDXmf0XOMy7aSZQDU27vb4oLXuw==", "order"=>{"name"=>"HUỳnh Quốc Khánh", "address"=>"272, tổ 6", "email"=>"01673khanh@gmail.com", "pay_type"=>"Check", "routing_number"=>"secret", "account_number"=>"11111111"}, "commit"=>"Place Order"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 92], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[36mCart Create (0.3ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2020-07-22 07:11:18.626201"], ["updated_at", "2020-07-22 07:11:18.626201"]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[35m (777.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
[31mUnpermitted parameters: :routing_number, :account_number[0m
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 106]]
  ↳ app/models/order.rb:15:in `add_line_items_from_cart'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/orders_controller.rb:43:in `block in create'
  [1m[36mOrder Create (1.3ms)[0m  [1m[32mINSERT INTO "orders" ("name", "address", "email", "pay_type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "HUỳnh Quốc Khánh"], ["address", "272, tổ 6"], ["email", "01673khanh@gmail.com"], ["pay_type", 0], ["created_at", "2020-07-22 07:11:19.412367"], ["updated_at", "2020-07-22 07:11:19.412367"]]
  ↳ app/controllers/orders_controller.rb:43:in `block in create'
  [1m[35m (552.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/orders_controller.rb:43:in `block in create'
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 106], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:44:in `block in create'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/orders_controller.rb:44:in `block in create'
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 106]]
  ↳ app/controllers/orders_controller.rb:44:in `block in create'
  [1m[36mCart Destroy (0.7ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 106]]
  ↳ app/controllers/orders_controller.rb:44:in `block in create'
  [1m[35m (159.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/orders_controller.rb:44:in `block in create'
  Rendering notifier_mailer/order_received.html.erb within layouts/mailer
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."order_id" = ?[0m  [["order_id", 39]]
  ↳ app/views/notifier_mailer/order_received.html.erb:14
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered notifier_mailer/order_received.html.erb within layouts/mailer (Duration: 5.6ms | Allocations: 852)
  Rendering notifier_mailer/order_received.text.erb within layouts/mailer
  Rendered notifier_mailer/order_received.text.erb within layouts/mailer (Duration: 0.0ms | Allocations: 4)
NotifierMailer#order_received: processed outbound mail in 13.9ms
Delivered mail 5f17e6982ac21_1a44729c57481@khanh-X510UAR.mail (1262.0ms)
Date: Wed, 22 Jul 2020 14:11:20 +0700
From: 01673khanh@gmail.com
To: 01673khanh@gmail.com
Message-ID: <5f17e6982ac21_1a44729c57481@khanh-X510UAR.mail>
Subject: We've received your or order
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5f17e69829e12_1a44729c57383";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5f17e69829e12_1a44729c57383
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Notifier#order_received

, find me in app/views/notifier_mailer/order_received.text.erb


----==_mimepart_5f17e69829e12_1a44729c57383
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<!DOCTYPE html>=0D
<html>=0D
  <head>=0D
    <meta http-equiv=3D"Content-Type" content=3D"text/html; charset=3Dutf=
-8" />=0D
    <style>=0D
      /* Email styles need to be inline */=0D
    </style>=0D
  </head>=0D
=0D
  <body>=0D
    <h3>Books Store</h3>=0D
<p>=0D
    Dear <b>HU=E1=BB=B3nh Qu=E1=BB=91c Kh=C3=A1nh</b>,=0D
</p>=0D
 =0D
<p>=0D
    Thank you for your order, your items:=0D
</p>=0D
<table>=0D
    <tr>=0D
        <th colspan=3D"2">Quantity</th>=0D
        <th>Description</th>=0D
    </tr>=0D
    =0D
</table>=0D
 =0D
<p>Your payment type: <b>Check</b></p>=0D
<p>Thanks for shopping with <b>Books Store<b> and best regards.</p>=0D
  </body>=0D
</html>=0D

----==_mimepart_5f17e69829e12_1a44729c57383--

Completed 500 Internal Server Error in 2814ms (ActiveRecord: 1492.9ms | Allocations: 23202)


  
Net::SMTPAuthenticationError (535-5.7.8 Username and Password not accepted. Learn more at
):
  
app/controllers/orders_controller.rb:47:in `block in create'
app/controllers/orders_controller.rb:42:in `create'
Started POST "/orders" for ::1 at 2020-07-22 14:11:41 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"fXht3JIAnqiUp2+ton9QWIFOQN4cylAisxBaXt9RM2RhET/zwxJIrSN8aafCDXmf0XOMy7aSZQDU27vb4oLXuw==", "order"=>{"name"=>"HUỳnh Quốc Khánh", "address"=>"272, tổ 6", "email"=>"01673khanh@gmail.com", "pay_type"=>"Check", "routing_number"=>"secret", "account_number"=>"11111111"}, "commit"=>"Place Order"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 92], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[36mCart Create (1.0ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2020-07-22 07:11:42.154941"], ["updated_at", "2020-07-22 07:11:42.154941"]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[35m (133.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
[31mUnpermitted parameters: :routing_number, :account_number[0m
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 107]]
  ↳ app/models/order.rb:15:in `add_line_items_from_cart'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/orders_controller.rb:43:in `block in create'
  [1m[36mOrder Create (0.6ms)[0m  [1m[32mINSERT INTO "orders" ("name", "address", "email", "pay_type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "HUỳnh Quốc Khánh"], ["address", "272, tổ 6"], ["email", "01673khanh@gmail.com"], ["pay_type", 0], ["created_at", "2020-07-22 07:11:42.305946"], ["updated_at", "2020-07-22 07:11:42.305946"]]
  ↳ app/controllers/orders_controller.rb:43:in `block in create'
  [1m[35m (133.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/orders_controller.rb:43:in `block in create'
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 107], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:44:in `block in create'
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/orders_controller.rb:44:in `block in create'
  [1m[36mLineItem Load (0.7ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 107]]
  ↳ app/controllers/orders_controller.rb:44:in `block in create'
  [1m[36mCart Destroy (0.6ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 107]]
  ↳ app/controllers/orders_controller.rb:44:in `block in create'
  [1m[35m (169.8ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/orders_controller.rb:44:in `block in create'
  Rendering notifier_mailer/order_received.html.erb within layouts/mailer
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."order_id" = ?[0m  [["order_id", 40]]
  ↳ app/views/notifier_mailer/order_received.html.erb:14
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered notifier_mailer/order_received.html.erb within layouts/mailer (Duration: 3.8ms | Allocations: 852)
  Rendering notifier_mailer/order_received.text.erb within layouts/mailer
  Rendered notifier_mailer/order_received.text.erb within layouts/mailer (Duration: 0.3ms | Allocations: 4)
NotifierMailer#order_received: processed outbound mail in 17.9ms
Delivered mail 5f17e6aea3cb5_1a446e5057630@khanh-X510UAR.mail (2007.3ms)
Date: Wed, 22 Jul 2020 14:11:42 +0700
From: 01673khanh@gmail.com
To: 01673khanh@gmail.com
Message-ID: <5f17e6aea3cb5_1a446e5057630@khanh-X510UAR.mail>
Subject: We've received your or order
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5f17e6aea1737_1a446e505753";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5f17e6aea1737_1a446e505753
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Notifier#order_received

, find me in app/views/notifier_mailer/order_received.text.erb


----==_mimepart_5f17e6aea1737_1a446e505753
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<!DOCTYPE html>=0D
<html>=0D
  <head>=0D
    <meta http-equiv=3D"Content-Type" content=3D"text/html; charset=3Dutf=
-8" />=0D
    <style>=0D
      /* Email styles need to be inline */=0D
    </style>=0D
  </head>=0D
=0D
  <body>=0D
    <h3>Books Store</h3>=0D
<p>=0D
    Dear <b>HU=E1=BB=B3nh Qu=E1=BB=91c Kh=C3=A1nh</b>,=0D
</p>=0D
 =0D
<p>=0D
    Thank you for your order, your items:=0D
</p>=0D
<table>=0D
    <tr>=0D
        <th colspan=3D"2">Quantity</th>=0D
        <th>Description</th>=0D
    </tr>=0D
    =0D
</table>=0D
 =0D
<p>Your payment type: <b>Check</b></p>=0D
<p>Thanks for shopping with <b>Books Store<b> and best regards.</p>=0D
  </body>=0D
</html>=0D

----==_mimepart_5f17e6aea1737_1a446e505753--

Completed 500 Internal Server Error in 2527ms (ActiveRecord: 441.3ms | Allocations: 23231)


  
Net::SMTPAuthenticationError (535-5.7.8 Username and Password not accepted. Learn more at
):
  
app/controllers/orders_controller.rb:47:in `block in create'
app/controllers/orders_controller.rb:42:in `create'
Started POST "/orders" for ::1 at 2020-07-22 14:12:29 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"fXht3JIAnqiUp2+ton9QWIFOQN4cylAisxBaXt9RM2RhET/zwxJIrSN8aafCDXmf0XOMy7aSZQDU27vb4oLXuw==", "order"=>{"name"=>"HUỳnh Quốc Khánh", "address"=>"272, tổ 6", "email"=>"01673khanh@gmail.com", "pay_type"=>"Check", "routing_number"=>"secret", "account_number"=>"11111111"}, "commit"=>"Place Order"}
  [1m[36mCart Load (1.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 92], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[36mCart Create (1.3ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2020-07-22 07:12:29.968070"], ["updated_at", "2020-07-22 07:12:29.968070"]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[35m (86.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
[31mUnpermitted parameters: :routing_number, :account_number[0m
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 108]]
  ↳ app/models/order.rb:15:in `add_line_items_from_cart'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/orders_controller.rb:43:in `block in create'
  [1m[36mOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "orders" ("name", "address", "email", "pay_type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "HUỳnh Quốc Khánh"], ["address", "272, tổ 6"], ["email", "01673khanh@gmail.com"], ["pay_type", 0], ["created_at", "2020-07-22 07:12:30.074493"], ["updated_at", "2020-07-22 07:12:30.074493"]]
  ↳ app/controllers/orders_controller.rb:43:in `block in create'
  [1m[35m (64.6ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/orders_controller.rb:43:in `block in create'
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 108], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:44:in `block in create'
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/orders_controller.rb:44:in `block in create'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 108]]
  ↳ app/controllers/orders_controller.rb:44:in `block in create'
  [1m[36mCart Destroy (0.3ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 108]]
  ↳ app/controllers/orders_controller.rb:44:in `block in create'
  [1m[35m (63.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/orders_controller.rb:44:in `block in create'
  Rendering notifier_mailer/order_received.html.erb within layouts/mailer
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."order_id" = ?[0m  [["order_id", 41]]
  ↳ app/views/notifier_mailer/order_received.html.erb:14
  Rendered collection of templates [0 times] (Duration: 0.1ms | Allocations: 3)
  Rendered notifier_mailer/order_received.html.erb within layouts/mailer (Duration: 4.7ms | Allocations: 852)
  Rendering notifier_mailer/order_received.text.erb within layouts/mailer
  Rendered notifier_mailer/order_received.text.erb within layouts/mailer (Duration: 0.1ms | Allocations: 4)
NotifierMailer#order_received: processed outbound mail in 16.5ms
Delivered mail 5f17e6de3c566_1a447148578a1@khanh-X510UAR.mail (1430.6ms)
Date: Wed, 22 Jul 2020 14:12:30 +0700
From: 01673khanh@gmail.com
To: 01673khanh@gmail.com
Message-ID: <5f17e6de3c566_1a447148578a1@khanh-X510UAR.mail>
Subject: We've received your or order
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5f17e6de3a46e_1a447148577a6";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5f17e6de3a46e_1a447148577a6
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Notifier#order_received

, find me in app/views/notifier_mailer/order_received.text.erb


----==_mimepart_5f17e6de3a46e_1a447148577a6
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<!DOCTYPE html>=0D
<html>=0D
  <head>=0D
    <meta http-equiv=3D"Content-Type" content=3D"text/html; charset=3Dutf=
-8" />=0D
    <style>=0D
      /* Email styles need to be inline */=0D
    </style>=0D
  </head>=0D
=0D
  <body>=0D
    <h3>Books Store</h3>=0D
<p>=0D
    Dear <b>HU=E1=BB=B3nh Qu=E1=BB=91c Kh=C3=A1nh</b>,=0D
</p>=0D
 =0D
<p>=0D
    Thank you for your order, your items:=0D
</p>=0D
<table>=0D
    <tr>=0D
        <th colspan=3D"2">Quantity</th>=0D
        <th>Description</th>=0D
    </tr>=0D
    =0D
</table>=0D
 =0D
<p>Your payment type: <b>Check</b></p>=0D
<p>Thanks for shopping with <b>Books Store<b> and best regards.</p>=0D
  </body>=0D
</html>=0D

----==_mimepart_5f17e6de3a46e_1a447148577a6--

Completed 500 Internal Server Error in 1717ms (ActiveRecord: 219.6ms | Allocations: 23018)


  
Net::SMTPAuthenticationError (535-5.7.8 Username and Password not accepted. Learn more at
):
  
app/controllers/orders_controller.rb:47:in `block in create'
app/controllers/orders_controller.rb:42:in `create'
Started POST "/orders" for ::1 at 2020-07-22 14:13:08 +0700
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"fXht3JIAnqiUp2+ton9QWIFOQN4cylAisxBaXt9RM2RhET/zwxJIrSN8aafCDXmf0XOMy7aSZQDU27vb4oLXuw==", "order"=>{"name"=>"HUỳnh Quốc Khánh", "address"=>"272, tổ 6", "email"=>"01673khanh@gmail.com", "pay_type"=>"Check", "routing_number"=>"secret", "account_number"=>"11111111"}, "commit"=>"Place Order"}
  [1m[36mCart Load (1.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 92], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[36mCart Create (1.2ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2020-07-22 07:13:09.239834"], ["updated_at", "2020-07-22 07:13:09.239834"]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[35m (80.7ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
[31mUnpermitted parameters: :routing_number, :account_number[0m
  [1m[36mLineItem Load (24.8ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 109]]
  ↳ app/models/order.rb:15:in `add_line_items_from_cart'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/orders_controller.rb:43:in `block in create'
  [1m[36mOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "orders" ("name", "address", "email", "pay_type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "HUỳnh Quốc Khánh"], ["address", "272, tổ 6"], ["email", "01673khanh@gmail.com"], ["pay_type", 0], ["created_at", "2020-07-22 07:13:09.432685"], ["updated_at", "2020-07-22 07:13:09.432685"]]
  ↳ app/controllers/orders_controller.rb:43:in `block in create'
  [1m[35m (105.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/orders_controller.rb:43:in `block in create'
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 109], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:44:in `block in create'
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/orders_controller.rb:44:in `block in create'
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 109]]
  ↳ app/controllers/orders_controller.rb:44:in `block in create'
  [1m[36mCart Destroy (0.5ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 109]]
  ↳ app/controllers/orders_controller.rb:44:in `block in create'
  [1m[35m (96.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/orders_controller.rb:44:in `block in create'
  Rendering notifier_mailer/order_received.html.erb within layouts/mailer
  [1m[36mLineItem Load (40.5ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."order_id" = ?[0m  [["order_id", 42]]
  ↳ app/views/notifier_mailer/order_received.html.erb:14
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered notifier_mailer/order_received.html.erb within layouts/mailer (Duration: 57.6ms | Allocations: 1580)
  Rendering notifier_mailer/order_received.text.erb within layouts/mailer
  Rendered notifier_mailer/order_received.text.erb within layouts/mailer (Duration: 0.0ms | Allocations: 4)
NotifierMailer#order_received: processed outbound mail in 63.7ms
Delivered mail 5f17e7063fd09_1a44d8405806e@khanh-X510UAR.mail (1447.2ms)
Date: Wed, 22 Jul 2020 14:13:10 +0700
From: 01673khanh@gmail.com
To: 01673khanh@gmail.com
Message-ID: <5f17e7063fd09_1a44d8405806e@khanh-X510UAR.mail>
Subject: We've received your or order
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5f17e7063f163_1a44d84057973";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5f17e7063f163_1a44d84057973
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Notifier#order_received

, find me in app/views/notifier_mailer/order_received.text.erb


----==_mimepart_5f17e7063f163_1a44d84057973
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<!DOCTYPE html>=0D
<html>=0D
  <head>=0D
    <meta http-equiv=3D"Content-Type" content=3D"text/html; charset=3Dutf=
-8" />=0D
    <style>=0D
      /* Email styles need to be inline */=0D
    </style>=0D
  </head>=0D
=0D
  <body>=0D
    <h3>Books Store</h3>=0D
<p>=0D
    Dear <b>HU=E1=BB=B3nh Qu=E1=BB=91c Kh=C3=A1nh</b>,=0D
</p>=0D
 =0D
<p>=0D
    Thank you for your order, your items:=0D
</p>=0D
<table>=0D
    <tr>=0D
        <th colspan=3D"2">Quantity</th>=0D
        <th>Description</th>=0D
    </tr>=0D
    =0D
</table>=0D
 =0D
<p>Your payment type: <b>Check</b></p>=0D
<p>Thanks for shopping with <b>Books Store<b> and best regards.</p>=0D
  </body>=0D
</html>=0D

----==_mimepart_5f17e7063f163_1a44d84057973--

Completed 500 Internal Server Error in 2516ms (ActiveRecord: 359.3ms | Allocations: 36836)


  
Net::SMTPAuthenticationError (535-5.7.8 Username and Password not accepted. Learn more at
):
  
app/controllers/orders_controller.rb:47:in `block in create'
app/controllers/orders_controller.rb:42:in `create'
Started POST "/orders" for ::1 at 2020-07-22 14:14:03 +0700
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"fXht3JIAnqiUp2+ton9QWIFOQN4cylAisxBaXt9RM2RhET/zwxJIrSN8aafCDXmf0XOMy7aSZQDU27vb4oLXuw==", "order"=>{"name"=>"HUỳnh Quốc Khánh", "address"=>"272, tổ 6", "email"=>"01673khanh@gmail.com", "pay_type"=>"Check", "routing_number"=>"secret", "account_number"=>"11111111"}, "commit"=>"Place Order"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 92], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[36mCart Create (0.4ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2020-07-22 07:14:03.797032"], ["updated_at", "2020-07-22 07:14:03.797032"]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[35m (72.8ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
[31mUnpermitted parameters: :routing_number, :account_number[0m
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 110]]
  ↳ app/models/order.rb:15:in `add_line_items_from_cart'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/orders_controller.rb:43:in `block in create'
  [1m[36mOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "orders" ("name", "address", "email", "pay_type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "HUỳnh Quốc Khánh"], ["address", "272, tổ 6"], ["email", "01673khanh@gmail.com"], ["pay_type", 0], ["created_at", "2020-07-22 07:14:03.930801"], ["updated_at", "2020-07-22 07:14:03.930801"]]
  ↳ app/controllers/orders_controller.rb:43:in `block in create'
  [1m[35m (64.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/orders_controller.rb:43:in `block in create'
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 110], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:44:in `block in create'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/orders_controller.rb:44:in `block in create'
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 110]]
  ↳ app/controllers/orders_controller.rb:44:in `block in create'
  [1m[36mCart Destroy (0.6ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 110]]
  ↳ app/controllers/orders_controller.rb:44:in `block in create'
  [1m[35m (62.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/orders_controller.rb:44:in `block in create'
Completed 500 Internal Server Error in 320ms (ActiveRecord: 205.1ms | Allocations: 24970)


  
NameError (uninitialized constant OrdersController::Notifier
Did you mean?  NotifierMailer):
  
app/controllers/orders_controller.rb:47:in `block in create'
app/controllers/orders_controller.rb:42:in `create'
Started POST "/orders" for ::1 at 2020-07-22 14:15:02 +0700
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"fXht3JIAnqiUp2+ton9QWIFOQN4cylAisxBaXt9RM2RhET/zwxJIrSN8aafCDXmf0XOMy7aSZQDU27vb4oLXuw==", "order"=>{"name"=>"HUỳnh Quốc Khánh", "address"=>"272, tổ 6", "email"=>"01673khanh@gmail.com", "pay_type"=>"Check", "routing_number"=>"secret", "account_number"=>"11111111"}, "commit"=>"Place Order"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 92], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[36mCart Create (1.0ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2020-07-22 07:15:02.784923"], ["updated_at", "2020-07-22 07:15:02.784923"]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[35m (119.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
[31mUnpermitted parameters: :routing_number, :account_number[0m
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 111]]
  ↳ app/models/order.rb:15:in `add_line_items_from_cart'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/orders_controller.rb:43:in `block in create'
  [1m[36mOrder Create (0.4ms)[0m  [1m[32mINSERT INTO "orders" ("name", "address", "email", "pay_type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "HUỳnh Quốc Khánh"], ["address", "272, tổ 6"], ["email", "01673khanh@gmail.com"], ["pay_type", 0], ["created_at", "2020-07-22 07:15:02.951667"], ["updated_at", "2020-07-22 07:15:02.951667"]]
  ↳ app/controllers/orders_controller.rb:43:in `block in create'
  [1m[35m (66.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/orders_controller.rb:43:in `block in create'
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 111], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:44:in `block in create'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/orders_controller.rb:44:in `block in create'
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 111]]
  ↳ app/controllers/orders_controller.rb:44:in `block in create'
  [1m[36mCart Destroy (1.1ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 111]]
  ↳ app/controllers/orders_controller.rb:44:in `block in create'
  [1m[35m (67.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/orders_controller.rb:44:in `block in create'
  Rendering notifier_mailer/order_received.html.erb within layouts/mailer
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."order_id" = ?[0m  [["order_id", 44]]
  ↳ app/views/notifier_mailer/order_received.html.erb:14
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered notifier_mailer/order_received.html.erb within layouts/mailer (Duration: 6.6ms | Allocations: 1640)
  Rendering notifier_mailer/order_received.text.erb within layouts/mailer
  Rendered notifier_mailer/order_received.text.erb within layouts/mailer (Duration: 0.0ms | Allocations: 4)
NotifierMailer#order_received: processed outbound mail in 12.2ms
Delivered mail 5f17e77724365_1a44714858226@khanh-X510UAR.mail (1402.9ms)
Date: Wed, 22 Jul 2020 14:15:03 +0700
From: 01673khanh@gmail.com
To: 01673khanh@gmail.com
Message-ID: <5f17e77724365_1a44714858226@khanh-X510UAR.mail>
Subject: We've received your or order
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5f17e77723820_1a44714858144";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5f17e77723820_1a44714858144
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Notifier#order_received

, find me in app/views/notifier_mailer/order_received.text.erb


----==_mimepart_5f17e77723820_1a44714858144
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<!DOCTYPE html>=0D
<html>=0D
  <head>=0D
    <meta http-equiv=3D"Content-Type" content=3D"text/html; charset=3Dutf=
-8" />=0D
    <style>=0D
      /* Email styles need to be inline */=0D
    </style>=0D
  </head>=0D
=0D
  <body>=0D
    <h3>Books Store</h3>=0D
<p>=0D
    Dear <b>HU=E1=BB=B3nh Qu=E1=BB=91c Kh=C3=A1nh</b>,=0D
</p>=0D
 =0D
<p>=0D
    Thank you for your order, your items:=0D
</p>=0D
<table>=0D
    <tr>=0D
        <th colspan=3D"2">Quantity</th>=0D
        <th>Description</th>=0D
    </tr>=0D
    =0D
</table>=0D
 =0D
<p>Your payment type: <b>Check</b></p>=0D
<p>Thanks for shopping with <b>Books Store<b> and best regards.</p>=0D
  </body>=0D
</html>=0D

----==_mimepart_5f17e77723820_1a44714858144--

Completed 500 Internal Server Error in 1776ms (ActiveRecord: 260.6ms | Allocations: 36722)


  
Net::SMTPAuthenticationError (535-5.7.8 Username and Password not accepted. Learn more at
):
  
app/controllers/orders_controller.rb:47:in `block in create'
app/controllers/orders_controller.rb:42:in `create'
Started POST "/orders" for ::1 at 2020-07-22 14:15:28 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"fXht3JIAnqiUp2+ton9QWIFOQN4cylAisxBaXt9RM2RhET/zwxJIrSN8aafCDXmf0XOMy7aSZQDU27vb4oLXuw==", "order"=>{"name"=>"HUỳnh Quốc Khánh", "address"=>"272, tổ 6", "email"=>"01673khanh@gmail.com", "pay_type"=>"Check", "routing_number"=>"secret", "account_number"=>"11111111"}, "commit"=>"Place Order"}
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 92], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[36mCart Create (0.4ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2020-07-22 07:15:28.799586"], ["updated_at", "2020-07-22 07:15:28.799586"]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[35m (1955.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
[31mUnpermitted parameters: :routing_number, :account_number[0m
  [1m[36mLineItem Load (0.7ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 112]]
  ↳ app/models/order.rb:15:in `add_line_items_from_cart'
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/orders_controller.rb:43:in `block in create'
  [1m[36mOrder Create (0.8ms)[0m  [1m[32mINSERT INTO "orders" ("name", "address", "email", "pay_type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "HUỳnh Quốc Khánh"], ["address", "272, tổ 6"], ["email", "01673khanh@gmail.com"], ["pay_type", 0], ["created_at", "2020-07-22 07:15:30.773208"], ["updated_at", "2020-07-22 07:15:30.773208"]]
  ↳ app/controllers/orders_controller.rb:43:in `block in create'
  [1m[35m (627.6ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/orders_controller.rb:43:in `block in create'
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 112], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:44:in `block in create'
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/orders_controller.rb:44:in `block in create'
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 112]]
  ↳ app/controllers/orders_controller.rb:44:in `block in create'
  [1m[36mCart Destroy (0.7ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 112]]
  ↳ app/controllers/orders_controller.rb:44:in `block in create'
  [1m[35m (66.2ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/orders_controller.rb:44:in `block in create'
  Rendering notifier_mailer/order_received.html.erb within layouts/mailer
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."order_id" = ?[0m  [["order_id", 45]]
  ↳ app/views/notifier_mailer/order_received.html.erb:14
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered notifier_mailer/order_received.html.erb within layouts/mailer (Duration: 2.2ms | Allocations: 852)
  Rendering notifier_mailer/order_received.text.erb within layouts/mailer
  Rendered notifier_mailer/order_received.text.erb within layouts/mailer (Duration: 0.0ms | Allocations: 4)
NotifierMailer#order_received: processed outbound mail in 7.0ms
Delivered mail 5f17e7937c95b_1a443944584f4@khanh-X510UAR.mail (1303.5ms)
Date: Wed, 22 Jul 2020 14:15:31 +0700
From: 01673khanh@gmail.com
To: 01673khanh@gmail.com
Message-ID: <5f17e7937c95b_1a443944584f4@khanh-X510UAR.mail>
Subject: We've received your or order
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5f17e7937bc07_1a443944583f9";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5f17e7937bc07_1a443944583f9
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Notifier#order_received

, find me in app/views/notifier_mailer/order_received.text.erb


----==_mimepart_5f17e7937bc07_1a443944583f9
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<!DOCTYPE html>=0D
<html>=0D
  <head>=0D
    <meta http-equiv=3D"Content-Type" content=3D"text/html; charset=3Dutf=
-8" />=0D
    <style>=0D
      /* Email styles need to be inline */=0D
    </style>=0D
  </head>=0D
=0D
  <body>=0D
    <h3>Books Store</h3>=0D
<p>=0D
    Dear <b>HU=E1=BB=B3nh Qu=E1=BB=91c Kh=C3=A1nh</b>,=0D
</p>=0D
 =0D
<p>=0D
    Thank you for your order, your items:=0D
</p>=0D
<table>=0D
    <tr>=0D
        <th colspan=3D"2">Quantity</th>=0D
        <th>Description</th>=0D
    </tr>=0D
    =0D
</table>=0D
 =0D
<p>Your payment type: <b>Check</b></p>=0D
<p>Thanks for shopping with <b>Books Store<b> and best regards.</p>=0D
  </body>=0D
</html>=0D

----==_mimepart_5f17e7937bc07_1a443944583f9--

Completed 500 Internal Server Error in 4019ms (ActiveRecord: 2653.6ms | Allocations: 23175)


  
Net::SMTPAuthenticationError (535-5.7.8 Username and Password not accepted. Learn more at
):
  
app/controllers/orders_controller.rb:47:in `block in create'
app/controllers/orders_controller.rb:42:in `create'
Started POST "/orders" for ::1 at 2020-07-22 14:15:50 +0700
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"fXht3JIAnqiUp2+ton9QWIFOQN4cylAisxBaXt9RM2RhET/zwxJIrSN8aafCDXmf0XOMy7aSZQDU27vb4oLXuw==", "order"=>{"name"=>"HUỳnh Quốc Khánh", "address"=>"272, tổ 6", "email"=>"01673khanh@gmail.com", "pay_type"=>"Check", "routing_number"=>"secret", "account_number"=>"11111111"}, "commit"=>"Place Order"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 92], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[36mCart Create (0.7ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2020-07-22 07:15:50.940222"], ["updated_at", "2020-07-22 07:15:50.940222"]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[35m (169.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
[31mUnpermitted parameters: :routing_number, :account_number[0m
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 113]]
  ↳ app/models/order.rb:15:in `add_line_items_from_cart'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/orders_controller.rb:43:in `block in create'
  [1m[36mOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "orders" ("name", "address", "email", "pay_type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "HUỳnh Quốc Khánh"], ["address", "272, tổ 6"], ["email", "01673khanh@gmail.com"], ["pay_type", 0], ["created_at", "2020-07-22 07:15:51.155529"], ["updated_at", "2020-07-22 07:15:51.155529"]]
  ↳ app/controllers/orders_controller.rb:43:in `block in create'
  [1m[35m (69.8ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/orders_controller.rb:43:in `block in create'
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 113], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:44:in `block in create'
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/orders_controller.rb:44:in `block in create'
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 113]]
  ↳ app/controllers/orders_controller.rb:44:in `block in create'
  [1m[36mCart Destroy (0.7ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 113]]
  ↳ app/controllers/orders_controller.rb:44:in `block in create'
  [1m[35m (67.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/orders_controller.rb:44:in `block in create'
[31mUnpermitted parameters: :routing_number, :account_number[0m
[31mUnpermitted parameters: :routing_number, :account_number[0m
[31mUnpermitted parameters: :name, :address, :email, :pay_type[0m
[ActiveJob] Enqueued ChargeOrderJob (Job ID: 95264ae3-7468-41d2-9e4e-1a066dd8e4da) to Async(default) with arguments: #<GlobalID:0x00007f9a5d358b40 @uri=#<URI::GID gid://depot/Order/46>>, {"routing_number"=>"secret", "account_number"=>"11111111"}
  Rendering notifier_mailer/order_received.html.erb within layouts/mailer
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."order_id" = ?[0m  [["order_id", 46]]
  ↳ app/views/notifier_mailer/order_received.html.erb:14
  Rendered collection of templates [0 times] (Duration: 0.0ms | Allocations: 3)
  Rendered notifier_mailer/order_received.html.erb within layouts/mailer (Duration: 4.2ms | Allocations: 1580)
  Rendering notifier_mailer/order_received.text.erb within layouts/mailer
  Rendered notifier_mailer/order_received.text.erb within layouts/mailer (Duration: 0.0ms | Allocations: 4)
NotifierMailer#order_received: processed outbound mail in 9.2ms
Delivered mail 5f17e7a7d0251_1a446e505866d@khanh-X510UAR.mail (1118.4ms)
Date: Wed, 22 Jul 2020 14:15:51 +0700
From: 01673khanh@gmail.com
To: 01673khanh@gmail.com
Message-ID: <5f17e7a7d0251_1a446e505866d@khanh-X510UAR.mail>
Subject: We've received your or order
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5f17e7a7cf778_1a446e5058595";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5f17e7a7cf778_1a446e5058595
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

Notifier#order_received

, find me in app/views/notifier_mailer/order_received.text.erb


----==_mimepart_5f17e7a7cf778_1a446e5058595
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: quoted-printable

<!DOCTYPE html>=0D
<html>=0D
  <head>=0D
    <meta http-equiv=3D"Content-Type" content=3D"text/html; charset=3Dutf=
-8" />=0D
    <style>=0D
      /* Email styles need to be inline */=0D
    </style>=0D
  </head>=0D
=0D
  <body>=0D
    <h3>Books Store</h3>=0D
<p>=0D
    Dear <b>HU=E1=BB=B3nh Qu=E1=BB=91c Kh=C3=A1nh</b>,=0D
</p>=0D
 =0D
<p>=0D
    Thank you for your order, your items:=0D
</p>=0D
<table>=0D
    <tr>=0D
        <th colspan=3D"2">Quantity</th>=0D
        <th>Description</th>=0D
    </tr>=0D
    =0D
</table>=0D
 =0D
<p>Your payment type: <b>Check</b></p>=0D
<p>Thanks for shopping with <b>Books Store<b> and best regards.</p>=0D
  </body>=0D
</html>=0D

----==_mimepart_5f17e7a7cf778_1a446e5058595--

Completed 500 Internal Server Error in 2042ms (ActiveRecord: 313.5ms | Allocations: 37618)


  
Net::SMTPAuthenticationError (535-5.7.8 Username and Password not accepted. Learn more at
):
  
app/controllers/orders_controller.rb:47:in `block in create'
app/controllers/orders_controller.rb:42:in `create'
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 46], ["LIMIT", 1]]
[ActiveJob] [ChargeOrderJob] [95264ae3-7468-41d2-9e4e-1a066dd8e4da] Performing ChargeOrderJob (Job ID: 95264ae3-7468-41d2-9e4e-1a066dd8e4da) from Async(default) enqueued at 2020-07-22T07:15:51Z with arguments: #<GlobalID:0x00007f9a5d337288 @uri=#<URI::GID gid://depot/Order/46>>, {"routing_number"=>"secret", "account_number"=>"11111111"}
[ActiveJob] [ChargeOrderJob] [95264ae3-7468-41d2-9e4e-1a066dd8e4da] Processing check: secret/11111111
[ActiveJob] [ChargeOrderJob] [95264ae3-7468-41d2-9e4e-1a066dd8e4da] Done Processing Payment
[ActiveJob] [ChargeOrderJob] [95264ae3-7468-41d2-9e4e-1a066dd8e4da] Enqueued ActionMailer::MailDeliveryJob (Job ID: 749ff869-ccf9-4a09-b76a-3438663fe6b2) to Async(mailers) with arguments: "OrderMailer", "received", "deliver_now", {:args=>[#<GlobalID:0x00007f9a5d30f8a0 @uri=#<URI::GID gid://depot/Order/46>>]}
[ActiveJob] [ChargeOrderJob] [95264ae3-7468-41d2-9e4e-1a066dd8e4da] Performed ChargeOrderJob (Job ID: 95264ae3-7468-41d2-9e4e-1a066dd8e4da) from Async(default) in 3234.9ms
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 46], ["LIMIT", 1]]
[ActiveJob] [ActionMailer::MailDeliveryJob] [749ff869-ccf9-4a09-b76a-3438663fe6b2] Performing ActionMailer::MailDeliveryJob (Job ID: 749ff869-ccf9-4a09-b76a-3438663fe6b2) from Async(mailers) enqueued at 2020-07-22T07:15:56Z with arguments: "OrderMailer", "received", "deliver_now", {:args=>[#<GlobalID:0x00007f9a5d2f7908 @uri=#<URI::GID gid://depot/Order/46>>]}
[ActiveJob] [ActionMailer::MailDeliveryJob] [749ff869-ccf9-4a09-b76a-3438663fe6b2]   Rendering order_mailer/received.html.erb within layouts/mailer
[ActiveJob] [ActionMailer::MailDeliveryJob] [749ff869-ccf9-4a09-b76a-3438663fe6b2]   Rendered order_mailer/received.html.erb within layouts/mailer (Duration: 90.0ms | Allocations: 100)
[ActiveJob] [ActionMailer::MailDeliveryJob] [749ff869-ccf9-4a09-b76a-3438663fe6b2]   Rendering order_mailer/received.text.erb within layouts/mailer
[ActiveJob] [ActionMailer::MailDeliveryJob] [749ff869-ccf9-4a09-b76a-3438663fe6b2]   [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."order_id" = ?[0m  [["order_id", 46]]
[ActiveJob] [ActionMailer::MailDeliveryJob] [749ff869-ccf9-4a09-b76a-3438663fe6b2]   ↳ app/views/order_mailer/received.text.erb:4
[ActiveJob] [ActionMailer::MailDeliveryJob] [749ff869-ccf9-4a09-b76a-3438663fe6b2]   Rendered collection of templates [0 times] (Duration: 0.1ms | Allocations: 3)
[ActiveJob] [ActionMailer::MailDeliveryJob] [749ff869-ccf9-4a09-b76a-3438663fe6b2]   Rendered order_mailer/received.text.erb within layouts/mailer (Duration: 47.5ms | Allocations: 2619)
[ActiveJob] [ActionMailer::MailDeliveryJob] [749ff869-ccf9-4a09-b76a-3438663fe6b2] OrderMailer#received: processed outbound mail in 148.3ms
[ActiveJob] [ActionMailer::MailDeliveryJob] [749ff869-ccf9-4a09-b76a-3438663fe6b2] Delivered mail 5f17e7acd4977_1a44307505889a@khanh-X510UAR.mail (1470.7ms)
[ActiveJob] [ActionMailer::MailDeliveryJob] [749ff869-ccf9-4a09-b76a-3438663fe6b2] Date: Wed, 22 Jul 2020 14:15:56 +0700
From: Sam ruby <depot@example.com>
To: 01673khanh@gmail.com
Message-ID: <5f17e7acd4977_1a44307505889a@khanh-X510UAR.mail>
Subject: Pragmatic Store Order Confirmation
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5f17e7acd32cd_1a4430750587b6";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5f17e7acd32cd_1a4430750587b6
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: quoted-printable

Dear HU=E1=BB=B3nh Qu=E1=BB=91c Kh=C3=A1nh=0D
Thank you for your recent order from The Pragmatic Store.=0D
You ordered the following items:=0D
We'll send you a separate email when your order ships.=0D

----==_mimepart_5f17e7acd32cd_1a4430750587b6
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <style>
      /* Email styles need to be inline */
    </style>
  </head>

  <body>
    <h1>Order#received</h1>

<p>
  , find me in app/views/order_mailer/received.html.erb
</p>

  </body>
</html>

----==_mimepart_5f17e7acd32cd_1a4430750587b6--

[ActiveJob] [ActionMailer::MailDeliveryJob] [749ff869-ccf9-4a09-b76a-3438663fe6b2] Error performing ActionMailer::MailDeliveryJob (Job ID: 749ff869-ccf9-4a09-b76a-3438663fe6b2) from Async(mailers) in 1620.99ms: Net::SMTPAuthenticationError (535-5.7.8 Username and Password not accepted. Learn more at
):
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/2.7.0/net/smtp.rb:975:in `check_auth_response'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/2.7.0/net/smtp.rb:736:in `auth_plain'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/2.7.0/net/smtp.rb:728:in `authenticate'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/2.7.0/net/smtp.rb:565:in `do_start'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/2.7.0/net/smtp.rb:518:in `start'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/mail-2.7.1/lib/mail/network/delivery_methods/smtp.rb:109:in `start_smtp_session'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/mail-2.7.1/lib/mail/network/delivery_methods/smtp.rb:100:in `deliver!'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/mail-2.7.1/lib/mail/message.rb:2159:in `do_delivery'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/mail-2.7.1/lib/mail/message.rb:260:in `block in deliver'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/actionmailer-6.0.3.2/lib/action_mailer/base.rb:589:in `block in deliver_mail'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/notifications.rb:180:in `block in instrument'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/notifications.rb:180:in `instrument'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/actionmailer-6.0.3.2/lib/action_mailer/base.rb:587:in `deliver_mail'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/mail-2.7.1/lib/mail/message.rb:260:in `deliver'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/actionmailer-6.0.3.2/lib/action_mailer/message_delivery.rb:115:in `block in deliver_now'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/actionmailer-6.0.3.2/lib/action_mailer/rescuable.rb:17:in `handle_exceptions'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/actionmailer-6.0.3.2/lib/action_mailer/message_delivery.rb:114:in `deliver_now'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/actionmailer-6.0.3.2/lib/action_mailer/mail_delivery_job.rb:23:in `perform'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/execution.rb:40:in `block in perform_now'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:112:in `block in run_callbacks'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/i18n-1.8.3/lib/i18n.rb:313:in `with_locale'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/translation.rb:9:in `block (2 levels) in <module:Translation>'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `instance_exec'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/core_ext/time/zones.rb:66:in `use_zone'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/timezones.rb:9:in `block (2 levels) in <module:Timezones>'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `instance_exec'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/logging.rb:25:in `block (4 levels) in <module:Logging>'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/notifications.rb:180:in `block in instrument'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/notifications.rb:180:in `instrument'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/logging.rb:24:in `block (3 levels) in <module:Logging>'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/logging.rb:45:in `block in tag_logger'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/tagged_logging.rb:28:in `tagged'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/tagged_logging.rb:80:in `tagged'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/logging.rb:45:in `tag_logger'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/logging.rb:21:in `block (2 levels) in <module:Logging>'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `instance_exec'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:139:in `run_callbacks'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/execution.rb:39:in `perform_now'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/execution.rb:25:in `block in execute'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:112:in `block in run_callbacks'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/railtie.rb:43:in `block (4 levels) in <class:Railtie>'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/execution_wrapper.rb:88:in `wrap'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/reloader.rb:72:in `block in wrap'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/execution_wrapper.rb:88:in `wrap'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/reloader.rb:71:in `wrap'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/railtie.rb:42:in `block (3 levels) in <class:Railtie>'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `instance_exec'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:139:in `run_callbacks'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/execution.rb:23:in `execute'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/queue_adapters/async_adapter.rb:70:in `perform'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/concurrent-ruby-1.1.6/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:353:in `run_task'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/concurrent-ruby-1.1.6/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:342:in `block (3 levels) in create_worker'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/concurrent-ruby-1.1.6/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:325:in `loop'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/concurrent-ruby-1.1.6/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:325:in `block (2 levels) in create_worker'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/concurrent-ruby-1.1.6/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:324:in `catch'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/concurrent-ruby-1.1.6/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:324:in `block in create_worker'
Started POST "/orders" for ::1 at 2020-07-22 14:17:41 +0700
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"fXht3JIAnqiUp2+ton9QWIFOQN4cylAisxBaXt9RM2RhET/zwxJIrSN8aafCDXmf0XOMy7aSZQDU27vb4oLXuw==", "order"=>{"name"=>"HUỳnh Quốc Khánh", "address"=>"272, tổ 6", "email"=>"01673khanh@gmail.com", "pay_type"=>"Check", "routing_number"=>"secret", "account_number"=>"11111111"}, "commit"=>"Place Order"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 92], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[36mCart Create (0.8ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2020-07-22 07:17:41.406363"], ["updated_at", "2020-07-22 07:17:41.406363"]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[35m (1352.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
[31mUnpermitted parameters: :routing_number, :account_number[0m
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 114]]
  ↳ app/models/order.rb:15:in `add_line_items_from_cart'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/orders_controller.rb:43:in `block in create'
  [1m[36mOrder Create (0.3ms)[0m  [1m[32mINSERT INTO "orders" ("name", "address", "email", "pay_type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "HUỳnh Quốc Khánh"], ["address", "272, tổ 6"], ["email", "01673khanh@gmail.com"], ["pay_type", 0], ["created_at", "2020-07-22 07:17:42.814102"], ["updated_at", "2020-07-22 07:17:42.814102"]]
  ↳ app/controllers/orders_controller.rb:43:in `block in create'
  [1m[35m (830.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/orders_controller.rb:43:in `block in create'
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 114], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:44:in `block in create'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/orders_controller.rb:44:in `block in create'
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 114]]
  ↳ app/controllers/orders_controller.rb:44:in `block in create'
  [1m[36mCart Destroy (0.6ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 114]]
  ↳ app/controllers/orders_controller.rb:44:in `block in create'
  [1m[35m (651.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/orders_controller.rb:44:in `block in create'
[31mUnpermitted parameters: :routing_number, :account_number[0m
[31mUnpermitted parameters: :routing_number, :account_number[0m
[31mUnpermitted parameters: :name, :address, :email, :pay_type[0m
[ActiveJob] Enqueued ChargeOrderJob (Job ID: bd3c288c-18a3-489d-b1ca-723ed6fa13f8) to Async(default) with arguments: #<GlobalID:0x00007f9a5daa6cd0 @uri=#<URI::GID gid://depot/Order/47>>, {"routing_number"=>"secret", "account_number"=>"11111111"}
Redirected to http://localhost:3000/en
Completed 302 Found in 2935ms (ActiveRecord: 2840.4ms | Allocations: 23534)


  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Started GET "/en" for ::1 at 2020-07-22 14:17:44 +0700
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 47], ["LIMIT", 1]]
[ActiveJob] [ChargeOrderJob] [bd3c288c-18a3-489d-b1ca-723ed6fa13f8] Performing ChargeOrderJob (Job ID: bd3c288c-18a3-489d-b1ca-723ed6fa13f8) from Async(default) enqueued at 2020-07-22T07:17:44Z with arguments: #<GlobalID:0x00007f9a5d68eda0 @uri=#<URI::GID gid://depot/Order/47>>, {"routing_number"=>"secret", "account_number"=>"11111111"}
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
[ActiveJob] [ChargeOrderJob] [bd3c288c-18a3-489d-b1ca-723ed6fa13f8] Processing check: secret/11111111
Processing by StoreController#index as HTML
  Parameters: {"locale"=>"en"}
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[36mCart Create (0.7ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2020-07-22 07:17:44.508758"], ["updated_at", "2020-07-22 07:17:44.508758"]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[35m (410.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (12.4ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 331.4ms | Allocations: 7948)
[Webpacker] Everything's up-to-date. Nothing to do
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 115], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:35
Completed 200 OK in 1266ms (Views: 796.0ms | ActiveRecord: 429.2ms | Allocations: 26442)


Started GET "/cable" for ::1 at 2020-07-22 14:17:46 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-22 14:17:46 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
[ActiveJob] [ChargeOrderJob] [bd3c288c-18a3-489d-b1ca-723ed6fa13f8] Done Processing Payment
[ActiveJob] [ChargeOrderJob] [bd3c288c-18a3-489d-b1ca-723ed6fa13f8] Enqueued ActionMailer::MailDeliveryJob (Job ID: b3b3c0f6-0314-40b7-9fde-a6e79784f915) to Async(mailers) with arguments: "OrderMailer", "received", "deliver_now", {:args=>[#<GlobalID:0x00007f9a7404a2e8 @uri=#<URI::GID gid://depot/Order/47>>]}
[ActiveJob] [ChargeOrderJob] [bd3c288c-18a3-489d-b1ca-723ed6fa13f8] Performed ChargeOrderJob (Job ID: bd3c288c-18a3-489d-b1ca-723ed6fa13f8) from Async(default) in 3018.09ms
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 47], ["LIMIT", 1]]
[ActiveJob] [ActionMailer::MailDeliveryJob] [b3b3c0f6-0314-40b7-9fde-a6e79784f915] Performing ActionMailer::MailDeliveryJob (Job ID: b3b3c0f6-0314-40b7-9fde-a6e79784f915) from Async(mailers) enqueued at 2020-07-22T07:17:47Z with arguments: "OrderMailer", "received", "deliver_now", {:args=>[#<GlobalID:0x00007f9a5cf17388 @uri=#<URI::GID gid://depot/Order/47>>]}
[ActiveJob] [ActionMailer::MailDeliveryJob] [b3b3c0f6-0314-40b7-9fde-a6e79784f915]   Rendering order_mailer/received.html.erb within layouts/mailer
[ActiveJob] [ActionMailer::MailDeliveryJob] [b3b3c0f6-0314-40b7-9fde-a6e79784f915]   Rendered order_mailer/received.html.erb within layouts/mailer (Duration: 1.2ms | Allocations: 94)
[ActiveJob] [ActionMailer::MailDeliveryJob] [b3b3c0f6-0314-40b7-9fde-a6e79784f915]   Rendering order_mailer/received.text.erb within layouts/mailer
[ActiveJob] [ActionMailer::MailDeliveryJob] [b3b3c0f6-0314-40b7-9fde-a6e79784f915]   [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."order_id" = ?[0m  [["order_id", 47]]
[ActiveJob] [ActionMailer::MailDeliveryJob] [b3b3c0f6-0314-40b7-9fde-a6e79784f915]   ↳ app/views/order_mailer/received.text.erb:4
[ActiveJob] [ActionMailer::MailDeliveryJob] [b3b3c0f6-0314-40b7-9fde-a6e79784f915]   Rendered collection of templates [0 times] (Duration: 0.1ms | Allocations: 3)
[ActiveJob] [ActionMailer::MailDeliveryJob] [b3b3c0f6-0314-40b7-9fde-a6e79784f915]   Rendered order_mailer/received.text.erb within layouts/mailer (Duration: 10.2ms | Allocations: 1647)
Started POST "/en/line_items?product_id=4" for ::1 at 2020-07-22 14:17:47 +0700
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"SGNTQFeR77zO21EuOcjsVcHQ0FJHcb+vZL5/XGYhQzxUCgFvBoM5uXkAVyRZusWSke0cR+0pio0DdZ7ZW/Kn4w==", "product_id"=>"4", "locale"=>"en"}
[ActiveJob] [ActionMailer::MailDeliveryJob] [b3b3c0f6-0314-40b7-9fde-a6e79784f915] OrderMailer#received: processed outbound mail in 407.2ms
  [1m[36mCart Load (0.6ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 115], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:38:in `create'
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 115], ["product_id", 4], ["LIMIT", 1]]
  ↳ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/line_items_controller.rb:42:in `block in create'
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:42:in `block in create'
  [1m[36mLineItem Create (47.3ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 4], ["cart_id", 115], ["created_at", "2020-07-22 07:17:47.911439"], ["updated_at", "2020-07-22 07:17:47.911439"]]
  ↳ app/controllers/line_items_controller.rb:42:in `block in create'
  [1m[35m (74.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/line_items_controller.rb:42:in `block in create'
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 115]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 11.6ms | Allocations: 293)
  Rendered carts/_cart.html.erb (Duration: 32.6ms | Allocations: 2232)
  Rendered line_items/create.js.erb (Duration: 60.5ms | Allocations: 2784)
Completed 200 OK in 246ms (Views: 65.7ms | ActiveRecord: 124.9ms | Allocations: 18279)


Started GET "/en/orders/new" for ::1 at 2020-07-22 14:17:49 +0700
Processing by OrdersController#new as HTML
  Parameters: {"locale"=>"en"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 115], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 115], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:98:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 20.5ms | Allocations: 1272)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered orders/new.html.erb within layouts/application (Duration: 134.8ms | Allocations: 3559)
[Webpacker] Everything's up-to-date. Nothing to do
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 115], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:35
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 115]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 2.3ms | Allocations: 892)
  Rendered carts/_cart.html.erb (Duration: 6.1ms | Allocations: 2237)
Completed 200 OK in 180ms (Views: 166.7ms | ActiveRecord: 1.1ms | Allocations: 15306)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-22 14:17:49 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-22 14:17:49 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-22 14:17:49 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
[ActiveJob] [ActionMailer::MailDeliveryJob] [b3b3c0f6-0314-40b7-9fde-a6e79784f915] Delivered mail 5f17e81bd5800_1a443686c5903d@khanh-X510UAR.mail (2079.5ms)
[ActiveJob] [ActionMailer::MailDeliveryJob] [b3b3c0f6-0314-40b7-9fde-a6e79784f915] Date: Wed, 22 Jul 2020 14:17:47 +0700
From: Sam ruby <depot@example.com>
To: 01673khanh@gmail.com
Message-ID: <5f17e81bd5800_1a443686c5903d@khanh-X510UAR.mail>
Subject: Pragmatic Store Order Confirmation
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5f17e81bd267b_1a443686c589dc";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5f17e81bd267b_1a443686c589dc
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: quoted-printable

Dear HU=E1=BB=B3nh Qu=E1=BB=91c Kh=C3=A1nh=0D
Thank you for your recent order from The Pragmatic Store.=0D
You ordered the following items:=0D
We'll send you a separate email when your order ships.=0D

----==_mimepart_5f17e81bd267b_1a443686c589dc
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <style>
      /* Email styles need to be inline */
    </style>
  </head>

  <body>
    <h1>Order#received</h1>

<p>
  , find me in app/views/order_mailer/received.html.erb
</p>

  </body>
</html>

----==_mimepart_5f17e81bd267b_1a443686c589dc--

[ActiveJob] [ActionMailer::MailDeliveryJob] [b3b3c0f6-0314-40b7-9fde-a6e79784f915] Error performing ActionMailer::MailDeliveryJob (Job ID: b3b3c0f6-0314-40b7-9fde-a6e79784f915) from Async(mailers) in 2493.81ms: Net::SMTPAuthenticationError (535-5.7.8 Username and Password not accepted. Learn more at
):
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/2.7.0/net/smtp.rb:975:in `check_auth_response'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/2.7.0/net/smtp.rb:736:in `auth_plain'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/2.7.0/net/smtp.rb:728:in `authenticate'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/2.7.0/net/smtp.rb:565:in `do_start'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/2.7.0/net/smtp.rb:518:in `start'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/mail-2.7.1/lib/mail/network/delivery_methods/smtp.rb:109:in `start_smtp_session'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/mail-2.7.1/lib/mail/network/delivery_methods/smtp.rb:100:in `deliver!'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/mail-2.7.1/lib/mail/message.rb:2159:in `do_delivery'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/mail-2.7.1/lib/mail/message.rb:260:in `block in deliver'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/actionmailer-6.0.3.2/lib/action_mailer/base.rb:589:in `block in deliver_mail'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/notifications.rb:180:in `block in instrument'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/notifications.rb:180:in `instrument'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/actionmailer-6.0.3.2/lib/action_mailer/base.rb:587:in `deliver_mail'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/mail-2.7.1/lib/mail/message.rb:260:in `deliver'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/actionmailer-6.0.3.2/lib/action_mailer/message_delivery.rb:115:in `block in deliver_now'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/actionmailer-6.0.3.2/lib/action_mailer/rescuable.rb:17:in `handle_exceptions'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/actionmailer-6.0.3.2/lib/action_mailer/message_delivery.rb:114:in `deliver_now'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/actionmailer-6.0.3.2/lib/action_mailer/mail_delivery_job.rb:23:in `perform'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/execution.rb:40:in `block in perform_now'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:112:in `block in run_callbacks'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/i18n-1.8.3/lib/i18n.rb:313:in `with_locale'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/translation.rb:9:in `block (2 levels) in <module:Translation>'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `instance_exec'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/core_ext/time/zones.rb:66:in `use_zone'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/timezones.rb:9:in `block (2 levels) in <module:Timezones>'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `instance_exec'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/logging.rb:25:in `block (4 levels) in <module:Logging>'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/notifications.rb:180:in `block in instrument'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/notifications.rb:180:in `instrument'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/logging.rb:24:in `block (3 levels) in <module:Logging>'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/logging.rb:45:in `block in tag_logger'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/tagged_logging.rb:28:in `tagged'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/tagged_logging.rb:80:in `tagged'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/logging.rb:45:in `tag_logger'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/logging.rb:21:in `block (2 levels) in <module:Logging>'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `instance_exec'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:139:in `run_callbacks'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/execution.rb:39:in `perform_now'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/execution.rb:25:in `block in execute'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:112:in `block in run_callbacks'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/railtie.rb:43:in `block (4 levels) in <class:Railtie>'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/execution_wrapper.rb:88:in `wrap'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/reloader.rb:72:in `block in wrap'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/execution_wrapper.rb:88:in `wrap'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/reloader.rb:71:in `wrap'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/railtie.rb:42:in `block (3 levels) in <class:Railtie>'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `instance_exec'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:139:in `run_callbacks'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/execution.rb:23:in `execute'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/queue_adapters/async_adapter.rb:70:in `perform'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/concurrent-ruby-1.1.6/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:353:in `run_task'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/concurrent-ruby-1.1.6/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:342:in `block (3 levels) in create_worker'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/concurrent-ruby-1.1.6/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:325:in `loop'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/concurrent-ruby-1.1.6/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:325:in `block (2 levels) in create_worker'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/concurrent-ruby-1.1.6/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:324:in `catch'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/concurrent-ruby-1.1.6/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:324:in `block in create_worker'
Started POST "/orders" for ::1 at 2020-07-22 14:18:01 +0700
Processing by OrdersController#create as HTML
  Parameters: {"authenticity_token"=>"qNUGKpETKmuIgb2Ns16CDIWTCU8dRYpm7OP0npWw7GO0vFQFwAH8bj9au4fTLKvL1a7FWrcdv0SLKBUbqGMIvA==", "order"=>{"name"=>"HUỳnh Quốc Khánh", "address"=>"1", "email"=>"01673khanh@gmail.com", "pay_type"=>"Check", "routing_number"=>"secret", "account_number"=>"11111111"}, "commit"=>"Place Order"}
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 115], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
[31mUnpermitted parameters: :routing_number, :account_number[0m
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 115]]
  ↳ app/models/order.rb:15:in `add_line_items_from_cart'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/orders_controller.rb:43:in `block in create'
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:43:in `block in create'
  [1m[36mOrder Create (0.5ms)[0m  [1m[32mINSERT INTO "orders" ("name", "address", "email", "pay_type", "created_at", "updated_at") VALUES (?, ?, ?, ?, ?, ?)[0m  [["name", "HUỳnh Quốc Khánh"], ["address", "1"], ["email", "01673khanh@gmail.com"], ["pay_type", 0], ["created_at", "2020-07-22 07:18:01.581347"], ["updated_at", "2020-07-22 07:18:01.581347"]]
  ↳ app/controllers/orders_controller.rb:43:in `block in create'
  [1m[36mLineItem Update (0.3ms)[0m  [1m[33mUPDATE "line_items" SET "cart_id" = ?, "order_id" = ?, "updated_at" = ? WHERE "line_items"."id" = ?[0m  [["cart_id", nil], ["order_id", 48], ["updated_at", "2020-07-22 07:18:01.585693"], ["id", 90]]
  ↳ app/controllers/orders_controller.rb:43:in `block in create'
  [1m[35m (134.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/orders_controller.rb:43:in `block in create'
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 115], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:44:in `block in create'
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/orders_controller.rb:44:in `block in create'
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 115]]
  ↳ app/controllers/orders_controller.rb:44:in `block in create'
  [1m[36mCart Destroy (0.6ms)[0m  [1m[31mDELETE FROM "carts" WHERE "carts"."id" = ?[0m  [["id", 115]]
  ↳ app/controllers/orders_controller.rb:44:in `block in create'
  [1m[35m (73.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/orders_controller.rb:44:in `block in create'
[31mUnpermitted parameters: :routing_number, :account_number[0m
[31mUnpermitted parameters: :routing_number, :account_number[0m
[31mUnpermitted parameters: :name, :address, :email, :pay_type[0m
[ActiveJob] Enqueued ChargeOrderJob (Job ID: c5ae69f2-e8f5-4a8b-baed-01480f720a9e) to Async(default) with arguments: #<GlobalID:0x00007f9a5da28f38 @uri=#<URI::GID gid://depot/Order/48>>, {"routing_number"=>"secret", "account_number"=>"11111111"}
Redirected to http://localhost:3000/en
Completed 302 Found in 283ms (ActiveRecord: 211.5ms | Allocations: 14301)


  [1m[36mOrder Load (0.7ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 48], ["LIMIT", 1]]
[ActiveJob] [ChargeOrderJob] [c5ae69f2-e8f5-4a8b-baed-01480f720a9e] Performing ChargeOrderJob (Job ID: c5ae69f2-e8f5-4a8b-baed-01480f720a9e) from Async(default) enqueued at 2020-07-22T07:18:01Z with arguments: #<GlobalID:0x00007f9a5d9e32d0 @uri=#<URI::GID gid://depot/Order/48>>, {"routing_number"=>"secret", "account_number"=>"11111111"}
[ActiveJob] [ChargeOrderJob] [c5ae69f2-e8f5-4a8b-baed-01480f720a9e] Processing check: secret/11111111
Started GET "/en" for ::1 at 2020-07-22 14:18:01 +0700
Processing by StoreController#index as HTML
  Parameters: {"locale"=>"en"}
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[36mCart Create (0.4ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2020-07-22 07:18:01.861550"], ["updated_at", "2020-07-22 07:18:01.861550"]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[35m (66.8ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 24.3ms | Allocations: 4242)
[Webpacker] Everything's up-to-date. Nothing to do
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 116], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:35
Completed 200 OK in 118ms (Views: 37.3ms | ActiveRecord: 68.1ms | Allocations: 15468)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-22 14:18:01 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-22 14:18:02 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-22 14:18:02 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
[ActiveJob] [ChargeOrderJob] [c5ae69f2-e8f5-4a8b-baed-01480f720a9e] Done Processing Payment
[ActiveJob] [ChargeOrderJob] [c5ae69f2-e8f5-4a8b-baed-01480f720a9e] Enqueued ActionMailer::MailDeliveryJob (Job ID: 4fc533df-5d11-4cb2-8f85-47184305301c) to Async(mailers) with arguments: "OrderMailer", "received", "deliver_now", {:args=>[#<GlobalID:0x00007f9a5d715e68 @uri=#<URI::GID gid://depot/Order/48>>]}
[ActiveJob] [ChargeOrderJob] [c5ae69f2-e8f5-4a8b-baed-01480f720a9e] Performed ChargeOrderJob (Job ID: c5ae69f2-e8f5-4a8b-baed-01480f720a9e) from Async(default) in 3004.21ms
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 48], ["LIMIT", 1]]
[ActiveJob] [ActionMailer::MailDeliveryJob] [4fc533df-5d11-4cb2-8f85-47184305301c] Performing ActionMailer::MailDeliveryJob (Job ID: 4fc533df-5d11-4cb2-8f85-47184305301c) from Async(mailers) enqueued at 2020-07-22T07:18:04Z with arguments: "OrderMailer", "received", "deliver_now", {:args=>[#<GlobalID:0x00007f9a5d6e1fa0 @uri=#<URI::GID gid://depot/Order/48>>]}
[ActiveJob] [ActionMailer::MailDeliveryJob] [4fc533df-5d11-4cb2-8f85-47184305301c]   Rendering order_mailer/received.html.erb within layouts/mailer
[ActiveJob] [ActionMailer::MailDeliveryJob] [4fc533df-5d11-4cb2-8f85-47184305301c]   Rendered order_mailer/received.html.erb within layouts/mailer (Duration: 0.1ms | Allocations: 4)
[ActiveJob] [ActionMailer::MailDeliveryJob] [4fc533df-5d11-4cb2-8f85-47184305301c]   Rendering order_mailer/received.text.erb within layouts/mailer
[ActiveJob] [ActionMailer::MailDeliveryJob] [4fc533df-5d11-4cb2-8f85-47184305301c]   [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."order_id" = ?[0m  [["order_id", 48]]
[ActiveJob] [ActionMailer::MailDeliveryJob] [4fc533df-5d11-4cb2-8f85-47184305301c]   ↳ app/views/order_mailer/received.text.erb:4
[ActiveJob] [ActionMailer::MailDeliveryJob] [4fc533df-5d11-4cb2-8f85-47184305301c]   [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
[ActiveJob] [ActionMailer::MailDeliveryJob] [4fc533df-5d11-4cb2-8f85-47184305301c]   ↳ app/views/line_items/_line_item.text.erb:3
[ActiveJob] [ActionMailer::MailDeliveryJob] [4fc533df-5d11-4cb2-8f85-47184305301c]   Rendered collection of line_items/_line_item.text.erb [1 times] (Duration: 46.6ms | Allocations: 863)
[ActiveJob] [ActionMailer::MailDeliveryJob] [4fc533df-5d11-4cb2-8f85-47184305301c]   Rendered order_mailer/received.text.erb within layouts/mailer (Duration: 52.1ms | Allocations: 1914)
[ActiveJob] [ActionMailer::MailDeliveryJob] [4fc533df-5d11-4cb2-8f85-47184305301c] OrderMailer#received: processed outbound mail in 61.5ms
[ActiveJob] [ActionMailer::MailDeliveryJob] [4fc533df-5d11-4cb2-8f85-47184305301c] Delivered mail 5f17e82ce164a_1a4430750592f@khanh-X510UAR.mail (1421.4ms)
[ActiveJob] [ActionMailer::MailDeliveryJob] [4fc533df-5d11-4cb2-8f85-47184305301c] Date: Wed, 22 Jul 2020 14:18:04 +0700
From: Sam ruby <depot@example.com>
To: 01673khanh@gmail.com
Message-ID: <5f17e82ce164a_1a4430750592f@khanh-X510UAR.mail>
Subject: Pragmatic Store Order Confirmation
Mime-Version: 1.0
Content-Type: multipart/alternative;
 boundary="--==_mimepart_5f17e82cdfd8e_1a4430750591b2";
 charset=UTF-8
Content-Transfer-Encoding: 7bit


----==_mimepart_5f17e82cdfd8e_1a4430750591b2
Content-Type: text/plain;
 charset=UTF-8
Content-Transfer-Encoding: quoted-printable

Dear HU=E1=BB=B3nh Qu=E1=BB=91c Kh=C3=A1nh=0D
Thank you for your recent order from The Pragmatic Store.=0D
You ordered the following items:=0D
 1 x =C4=90i=E1=BB=87n Tho=E1=BA=A1i Samsung Galaxy Note 10 Lite (128GB/8=
GB)We'll send you a separate email when your order ships.=0D

----==_mimepart_5f17e82cdfd8e_1a4430750591b2
Content-Type: text/html;
 charset=UTF-8
Content-Transfer-Encoding: 7bit

<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <style>
      /* Email styles need to be inline */
    </style>
  </head>

  <body>
    <h1>Order#received</h1>

<p>
  , find me in app/views/order_mailer/received.html.erb
</p>

  </body>
</html>

----==_mimepart_5f17e82cdfd8e_1a4430750591b2--

[ActiveJob] [ActionMailer::MailDeliveryJob] [4fc533df-5d11-4cb2-8f85-47184305301c] Error performing ActionMailer::MailDeliveryJob (Job ID: 4fc533df-5d11-4cb2-8f85-47184305301c) from Async(mailers) in 1485.22ms: Net::SMTPAuthenticationError (535-5.7.8 Username and Password not accepted. Learn more at
):
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/2.7.0/net/smtp.rb:975:in `check_auth_response'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/2.7.0/net/smtp.rb:736:in `auth_plain'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/2.7.0/net/smtp.rb:728:in `authenticate'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/2.7.0/net/smtp.rb:565:in `do_start'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/2.7.0/net/smtp.rb:518:in `start'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/mail-2.7.1/lib/mail/network/delivery_methods/smtp.rb:109:in `start_smtp_session'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/mail-2.7.1/lib/mail/network/delivery_methods/smtp.rb:100:in `deliver!'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/mail-2.7.1/lib/mail/message.rb:2159:in `do_delivery'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/mail-2.7.1/lib/mail/message.rb:260:in `block in deliver'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/actionmailer-6.0.3.2/lib/action_mailer/base.rb:589:in `block in deliver_mail'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/notifications.rb:180:in `block in instrument'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/notifications.rb:180:in `instrument'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/actionmailer-6.0.3.2/lib/action_mailer/base.rb:587:in `deliver_mail'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/mail-2.7.1/lib/mail/message.rb:260:in `deliver'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/actionmailer-6.0.3.2/lib/action_mailer/message_delivery.rb:115:in `block in deliver_now'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/actionmailer-6.0.3.2/lib/action_mailer/rescuable.rb:17:in `handle_exceptions'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/actionmailer-6.0.3.2/lib/action_mailer/message_delivery.rb:114:in `deliver_now'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/actionmailer-6.0.3.2/lib/action_mailer/mail_delivery_job.rb:23:in `perform'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/execution.rb:40:in `block in perform_now'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:112:in `block in run_callbacks'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/i18n-1.8.3/lib/i18n.rb:313:in `with_locale'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/translation.rb:9:in `block (2 levels) in <module:Translation>'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `instance_exec'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/core_ext/time/zones.rb:66:in `use_zone'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/timezones.rb:9:in `block (2 levels) in <module:Timezones>'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `instance_exec'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/logging.rb:25:in `block (4 levels) in <module:Logging>'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/notifications.rb:180:in `block in instrument'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/notifications/instrumenter.rb:24:in `instrument'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/notifications.rb:180:in `instrument'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/logging.rb:24:in `block (3 levels) in <module:Logging>'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/logging.rb:45:in `block in tag_logger'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/tagged_logging.rb:80:in `block in tagged'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/tagged_logging.rb:28:in `tagged'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/tagged_logging.rb:80:in `tagged'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/logging.rb:45:in `tag_logger'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/logging.rb:21:in `block (2 levels) in <module:Logging>'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `instance_exec'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:139:in `run_callbacks'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/execution.rb:39:in `perform_now'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/execution.rb:25:in `block in execute'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:112:in `block in run_callbacks'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/railtie.rb:43:in `block (4 levels) in <class:Railtie>'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/execution_wrapper.rb:88:in `wrap'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/reloader.rb:72:in `block in wrap'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/execution_wrapper.rb:88:in `wrap'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/reloader.rb:71:in `wrap'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/railtie.rb:42:in `block (3 levels) in <class:Railtie>'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `instance_exec'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:121:in `block in run_callbacks'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activesupport-6.0.3.2/lib/active_support/callbacks.rb:139:in `run_callbacks'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/execution.rb:23:in `execute'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/activejob-6.0.3.2/lib/active_job/queue_adapters/async_adapter.rb:70:in `perform'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/concurrent-ruby-1.1.6/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:353:in `run_task'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/concurrent-ruby-1.1.6/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:342:in `block (3 levels) in create_worker'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/concurrent-ruby-1.1.6/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:325:in `loop'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/concurrent-ruby-1.1.6/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:325:in `block (2 levels) in create_worker'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/concurrent-ruby-1.1.6/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:324:in `catch'
/home/khanh/.rbenv/versions/2.7.1/lib/ruby/gems/2.7.0/gems/concurrent-ruby-1.1.6/lib/concurrent-ruby/concurrent/executor/ruby_thread_pool_executor.rb:324:in `block in create_worker'
Started POST "/" for ::1 at 2020-07-22 14:21:43 +0700
Processing by StoreController#index as HTML
  Parameters: {"authenticity_token"=>"yYklzuKIJVqrfD+d/QyPLVfm/uBfFnW2ScAJjog5ZWPV4Hfhs5rzXxynOZedfqbqB9sy9fVOQJQuC+gLteqBvA==", "set_locale"=>"es"}
  [1m[36mCart Load (63.9ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 116], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
Redirected to http://localhost:3000/es
Completed 302 Found in 87ms (ActiveRecord: 63.9ms | Allocations: 877)


Started GET "/es" for ::1 at 2020-07-22 14:21:45 +0700
Processing by StoreController#index as HTML
  Parameters: {"locale"=>"es"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 116], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 195.6ms | Allocations: 4270)
[Webpacker] Everything's up-to-date. Nothing to do
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 116], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:35
Completed 200 OK in 670ms (Views: 662.9ms | ActiveRecord: 1.8ms | Allocations: 12889)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-22 14:21:45 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-22 14:21:46 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-22 14:21:46 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started POST "/" for ::1 at 2020-07-22 14:21:50 +0700
Processing by StoreController#index as HTML
  Parameters: {"authenticity_token"=>"gc34/qxtoERgE2ts3r6p0sdUFOFrd9XFMViRMs6+iN2dpKrR/X92QdfIbWa+zIAVl2nY9MEv4OdWk3C3821sAg==", "set_locale"=>"en"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 116], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
Redirected to http://localhost:3000/en
Completed 302 Found in 4ms (ActiveRecord: 0.2ms | Allocations: 877)


Started GET "/en" for ::1 at 2020-07-22 14:21:50 +0700
Processing by StoreController#index as HTML
  Parameters: {"locale"=>"en"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 116], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 12.8ms | Allocations: 4197)
[Webpacker] Everything's up-to-date. Nothing to do
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 116], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:35
Completed 200 OK in 38ms (Views: 32.2ms | ActiveRecord: 1.0ms | Allocations: 12224)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-22 14:21:50 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-22 14:21:50 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-22 14:21:50 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/en" for ::1 at 2020-07-22 14:33:05 +0700
  [1m[35m (11.0ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (9.9ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by StoreController#index as HTML
  Parameters: {"locale"=>"en"}
  [1m[36mCart Load (25.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 116], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (25.8ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 570.8ms | Allocations: 15333)
[Webpacker] Everything's up-to-date. Nothing to do
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (24.8ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 116], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:35
Completed 200 OK in 894ms (Views: 645.8ms | ActiveRecord: 80.7ms | Allocations: 34580)


Started GET "/cable" for ::1 at 2020-07-22 14:33:06 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-22 14:33:06 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/en" for ::1 at 2020-07-22 14:33:11 +0700
Processing by StoreController#index as HTML
  Parameters: {"locale"=>"en"}
  [1m[36mCart Load (0.5ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 116], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 12.8ms | Allocations: 4203)
[Webpacker] Everything's up-to-date. Nothing to do
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 116], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:35
Completed 200 OK in 36ms (Views: 28.7ms | ActiveRecord: 1.3ms | Allocations: 12258)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-22 14:33:11 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-22 14:33:11 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-22 14:33:11 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/products" for ::1 at 2020-07-22 14:33:14 +0700
  
SyntaxError (/home/khanh/Desktop/depot/app/controllers/products_controller.rb:7: syntax error, unexpected integer literal, expecting literal content or terminator or tSTRING_DBEG or tSTRING_DVAR
...title).paginate(page: params[:0], per_page: 5)
...                              ^
/home/khanh/Desktop/depot/app/controllers/products_controller.rb:89: syntax error, unexpected end-of-input, expecting `end'):
  
app/controllers/products_controller.rb:7: syntax error, unexpected integer literal, expecting literal content or terminator or tSTRING_DBEG or tSTRING_DVAR
app/controllers/products_controller.rb:89: syntax error, unexpected end-of-input, expecting `end'
app/controllers/products_controller.rb:7: syntax error, unexpected integer literal, expecting literal content or terminator or tSTRING_DBEG or tSTRING_DVAR
app/controllers/products_controller.rb:89: syntax error, unexpected end-of-input, expecting `end'
app/controllers/products_controller.rb:7: syntax error, unexpected integer literal, expecting literal content or terminator or tSTRING_DBEG or tSTRING_DVAR
app/controllers/products_controller.rb:89: syntax error, unexpected end-of-input, expecting `end'
Finished "/cable/" [WebSocket] for ::1 at 2020-07-22 14:33:18 +0700
ProductsChannel stopped streaming from products
Started GET "/products" for ::1 at 2020-07-22 14:33:41 +0700
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  
SyntaxError (/home/khanh/Desktop/depot/app/controllers/products_controller.rb:7: syntax error, unexpected integer literal, expecting literal content or terminator or tSTRING_DBEG or tSTRING_DVAR
...title).paginate(page: params[:0], per_page: 3)
...                              ^
/home/khanh/Desktop/depot/app/controllers/products_controller.rb:89: syntax error, unexpected end-of-input, expecting `end'):
  
app/controllers/products_controller.rb:7: syntax error, unexpected integer literal, expecting literal content or terminator or tSTRING_DBEG or tSTRING_DVAR
app/controllers/products_controller.rb:89: syntax error, unexpected end-of-input, expecting `end'
app/controllers/products_controller.rb:7: syntax error, unexpected integer literal, expecting literal content or terminator or tSTRING_DBEG or tSTRING_DVAR
app/controllers/products_controller.rb:89: syntax error, unexpected end-of-input, expecting `end'
app/controllers/products_controller.rb:7: syntax error, unexpected integer literal, expecting literal content or terminator or tSTRING_DBEG or tSTRING_DVAR
app/controllers/products_controller.rb:89: syntax error, unexpected end-of-input, expecting `end'
Started GET "/products" for ::1 at 2020-07-22 14:33:52 +0700
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by ProductsController#index as HTML
  [1m[36mUser Load (15.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:20:in `authorize'
Redirected to http://localhost:3000/login
Filter chain halted as :authorize rendered or redirected
Completed 302 Found in 50ms (ActiveRecord: 16.0ms | Allocations: 2414)


Started GET "/login" for ::1 at 2020-07-22 14:33:52 +0700
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 15.6ms | Allocations: 1217)
[Webpacker] Everything's up-to-date. Nothing to do
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 36ms (Views: 33.6ms | ActiveRecord: 0.0ms | Allocations: 8844)


Started GET "/cable" for ::1 at 2020-07-22 14:33:52 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-22 14:33:52 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/login" for ::1 at 2020-07-22 14:33:53 +0700
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.1ms | Allocations: 302)
[Webpacker] Everything's up-to-date. Nothing to do
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 19ms (Views: 16.7ms | ActiveRecord: 0.0ms | Allocations: 7094)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-22 14:33:53 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-22 14:33:53 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-22 14:33:53 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/login" for ::1 at 2020-07-22 14:33:54 +0700
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.3ms | Allocations: 303)
[Webpacker] Everything's up-to-date. Nothing to do
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 25ms (Views: 22.8ms | ActiveRecord: 0.0ms | Allocations: 7117)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-22 14:33:54 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-22 14:33:54 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-22 14:33:54 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/login" for ::1 at 2020-07-22 14:33:54 +0700
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.4ms | Allocations: 301)
[Webpacker] Everything's up-to-date. Nothing to do
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 29ms (Views: 26.5ms | ActiveRecord: 0.0ms | Allocations: 7120)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-22 14:33:54 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-22 14:33:54 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-22 14:33:54 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/login" for ::1 at 2020-07-22 14:33:54 +0700
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.7ms | Allocations: 301)
[Webpacker] Everything's up-to-date. Nothing to do
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 19ms (Views: 18.2ms | ActiveRecord: 0.0ms | Allocations: 7098)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-22 14:33:54 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-22 14:33:54 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-22 14:33:54 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/login" for ::1 at 2020-07-22 14:33:54 +0700
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.4ms | Allocations: 301)
[Webpacker] Everything's up-to-date. Nothing to do
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 34ms (Views: 32.9ms | ActiveRecord: 0.0ms | Allocations: 7090)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-22 14:33:54 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-22 14:33:54 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-22 14:33:54 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/products" for ::1 at 2020-07-22 14:33:58 +0700
Processing by ProductsController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" IS NULL LIMIT ?[0m  [["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:20:in `authorize'
Redirected to http://localhost:3000/login
Filter chain halted as :authorize rendered or redirected
Completed 302 Found in 3ms (ActiveRecord: 0.1ms | Allocations: 1009)


Started GET "/login" for ::1 at 2020-07-22 14:33:59 +0700
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.7ms | Allocations: 301)
[Webpacker] Everything's up-to-date. Nothing to do
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 18ms (Views: 16.4ms | ActiveRecord: 0.0ms | Allocations: 7127)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-22 14:33:59 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-22 14:33:59 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-22 14:33:59 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/login" for ::1 at 2020-07-22 14:34:08 +0700
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.7ms | Allocations: 301)
[Webpacker] Everything's up-to-date. Nothing to do
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 10ms (Views: 9.8ms | ActiveRecord: 0.0ms | Allocations: 7096)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-22 14:34:08 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-22 14:34:08 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-22 14:34:08 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/login" for ::1 at 2020-07-22 14:34:09 +0700
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 11.6ms | Allocations: 964)
[Webpacker] Everything's up-to-date. Nothing to do
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 28ms (Views: 27.7ms | ActiveRecord: 0.0ms | Allocations: 8195)


Started GET "/cable" for ::1 at 2020-07-22 14:34:10 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-22 14:34:10 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/login" for ::1 at 2020-07-22 14:34:12 +0700
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.7ms | Allocations: 301)
[Webpacker] Everything's up-to-date. Nothing to do
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 21ms (Views: 20.4ms | ActiveRecord: 0.0ms | Allocations: 7111)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-22 14:34:12 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-22 14:34:12 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-22 14:34:12 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/login" for ::1 at 2020-07-22 14:34:12 +0700
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.1ms | Allocations: 301)
[Webpacker] Everything's up-to-date. Nothing to do
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 30ms (Views: 28.9ms | ActiveRecord: 0.0ms | Allocations: 7100)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-22 14:34:12 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-22 14:34:12 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-22 14:34:12 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/login" for ::1 at 2020-07-22 14:34:12 +0700
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.9ms | Allocations: 301)
[Webpacker] Everything's up-to-date. Nothing to do
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 21ms (Views: 19.4ms | ActiveRecord: 0.0ms | Allocations: 7092)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-22 14:34:12 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-22 14:34:12 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-22 14:34:12 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/login" for ::1 at 2020-07-22 14:34:12 +0700
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 1.4ms | Allocations: 301)
[Webpacker] Everything's up-to-date. Nothing to do
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 39ms (Views: 37.8ms | ActiveRecord: 0.0ms | Allocations: 7090)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-22 14:34:13 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-22 14:34:13 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-22 14:34:13 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/login" for ::1 at 2020-07-22 14:35:39 +0700
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 3.0ms | Allocations: 1203)
[Webpacker] Everything's up-to-date. Nothing to do
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 25ms (Views: 22.2ms | ActiveRecord: 0.0ms | Allocations: 9684)


Started GET "/cable" for ::1 at 2020-07-22 14:35:39 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-22 14:35:39 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started POST "/login" for ::1 at 2020-07-22 14:35:42 +0700
Processing by SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"C5HG/sz4lVaxHbhr2sRP+R9mNB3mzH650li14OuMjwkX+JTRnepDUwbGvmG6tmY+T1v4CEyUS5u1k1Rl1l9r1g==", "name"=>"01673khanh@gmail.com", "password"=>"[FILTERED]", "commit"=>"Login"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "01673khanh@gmail.com"], ["LIMIT", 1]]
  ↳ app/controllers/sessions_controller.rb:7:in `create'
Redirected to http://localhost:3000/login
Completed 302 Found in 20ms (ActiveRecord: 1.8ms | Allocations: 2049)


Started GET "/login" for ::1 at 2020-07-22 14:35:42 +0700
Processing by SessionsController#new as HTML
  Rendering sessions/new.html.erb within layouts/application
  Rendered sessions/new.html.erb within layouts/application (Duration: 0.7ms | Allocations: 310)
[Webpacker] Everything's up-to-date. Nothing to do
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 12ms (Views: 11.6ms | ActiveRecord: 0.0ms | Allocations: 7154)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-22 14:35:42 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-22 14:35:42 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-22 14:35:42 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started POST "/login" for ::1 at 2020-07-22 14:35:53 +0700
Processing by SessionsController#create as HTML
  Parameters: {"authenticity_token"=>"Gz6fnBIHP0GArhUzYvm8K/IdxspcHDuCeJcuPtDTRjIHV82zQxXpRDd1EzkCi5XsoiAK3/ZEDqAfXM+77QCi7Q==", "name"=>"dave", "password"=>"[FILTERED]", "commit"=>"Login"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."name" = ? LIMIT ?[0m  [["name", "dave"], ["LIMIT", 1]]
  ↳ app/controllers/sessions_controller.rb:7:in `create'
Redirected to http://localhost:3000/admin
Completed 302 Found in 268ms (ActiveRecord: 0.5ms | Allocations: 3500)


Started GET "/admin" for ::1 at 2020-07-22 14:35:54 +0700
Processing by AdminController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:20:in `authorize'
  [1m[35m (36.3ms)[0m  [1m[34mSELECT COUNT(*) FROM "orders"[0m
  ↳ app/controllers/admin_controller.rb:3:in `index'
  Rendering admin/index.html.erb within layouts/application
  Rendered admin/index.html.erb within layouts/application (Duration: 32.4ms | Allocations: 131)
[Webpacker] Everything's up-to-date. Nothing to do
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 217ms (Views: 64.2ms | ActiveRecord: 37.9ms | Allocations: 10712)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-22 14:35:54 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-22 14:35:54 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-22 14:35:54 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/orders" for ::1 at 2020-07-22 14:35:55 +0700
Processing by OrdersController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:20:in `authorize'
  Rendering orders/index.html.erb within layouts/application
  [1m[36mOrder Load (0.7ms)[0m  [1m[34mSELECT "orders".* FROM "orders"[0m
  ↳ app/views/orders/index.html.erb:17
  Rendered orders/index.html.erb within layouts/application (Duration: 63.5ms | Allocations: 8351)
[Webpacker] Everything's up-to-date. Nothing to do
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 82ms (Views: 74.9ms | ActiveRecord: 1.8ms | Allocations: 16696)


Started GET "/products" for ::1 at 2020-07-22 14:35:59 +0700
Processing by ProductsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:20:in `authorize'
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (166.3ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC LIMIT ? OFFSET ?[0m  [["LIMIT", 30], ["OFFSET", 0]]
  ↳ app/views/products/index.html.erb:12
  Rendered products/index.html.erb within layouts/application (Duration: 317.9ms | Allocations: 8125)
[Webpacker] Everything's up-to-date. Nothing to do
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 362ms (Views: 176.7ms | ActiveRecord: 168.3ms | Allocations: 18181)


Started GET "/users" for ::1 at 2020-07-22 14:36:02 +0700
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:20:in `authorize'
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."name" ASC[0m
  ↳ app/views/users/index.html.erb:14
  Rendered users/index.html.erb within layouts/application (Duration: 36.1ms | Allocations: 1071)
[Webpacker] Everything's up-to-date. Nothing to do
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 74ms (Views: 67.7ms | ActiveRecord: 0.9ms | Allocations: 9474)


Started GET "/users" for ::1 at 2020-07-22 14:36:03 +0700
Processing by UsersController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:20:in `authorize'
  Rendering users/index.html.erb within layouts/application
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" ORDER BY "users"."name" ASC[0m
  ↳ app/views/users/index.html.erb:14
  Rendered users/index.html.erb within layouts/application (Duration: 4.6ms | Allocations: 763)
[Webpacker] Everything's up-to-date. Nothing to do
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 35ms (Views: 29.1ms | ActiveRecord: 0.7ms | Allocations: 8341)


Started GET "/products" for ::1 at 2020-07-22 14:36:04 +0700
Processing by ProductsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:20:in `authorize'
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC LIMIT ? OFFSET ?[0m  [["LIMIT", 30], ["OFFSET", 0]]
  ↳ app/views/products/index.html.erb:12
  Rendered products/index.html.erb within layouts/application (Duration: 18.9ms | Allocations: 3755)
[Webpacker] Everything's up-to-date. Nothing to do
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 41ms (Views: 33.2ms | ActiveRecord: 0.9ms | Allocations: 11302)


Started GET "/orders" for ::1 at 2020-07-22 14:36:22 +0700
Processing by OrdersController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:20:in `authorize'
  Rendering orders/index.html.erb within layouts/application
  [1m[36mOrder Load (0.6ms)[0m  [1m[34mSELECT "orders".* FROM "orders"[0m
  ↳ app/views/orders/index.html.erb:17
  Rendered orders/index.html.erb within layouts/application (Duration: 13.2ms | Allocations: 4513)
[Webpacker] Everything's up-to-date. Nothing to do
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 41ms (Views: 32.0ms | ActiveRecord: 1.0ms | Allocations: 12099)


Started DELETE "/orders/27" for ::1 at 2020-07-22 14:36:30 +0700
Processing by OrdersController#destroy as HTML
  Parameters: {"authenticity_token"=>"FPwCSuhIEhnmfiESgk8dVLiOI++v1JFJp9lOcyT7aFQIlVBluVrEHFGlJxjiPTST6LPv+gWMpGvAEq/2GSiMiw==", "id"=>"27"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:20:in `authorize'
  [1m[36mOrder Load (0.6ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 27], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:87:in `set_order'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/orders_controller.rb:77:in `destroy'
  [1m[36mLineItem Load (104.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."order_id" = ?[0m  [["order_id", 27]]
  ↳ app/controllers/orders_controller.rb:77:in `destroy'
  [1m[36mOrder Destroy (38.6ms)[0m  [1m[31mDELETE FROM "orders" WHERE "orders"."id" = ?[0m  [["id", 27]]
  ↳ app/controllers/orders_controller.rb:77:in `destroy'
  [1m[35m (77.5ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/orders_controller.rb:77:in `destroy'
Redirected to http://localhost:3000/orders
Completed 302 Found in 264ms (ActiveRecord: 221.8ms | Allocations: 9385)


Started GET "/orders" for ::1 at 2020-07-22 14:36:30 +0700
Processing by OrdersController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:20:in `authorize'
  Rendering orders/index.html.erb within layouts/application
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT "orders".* FROM "orders"[0m
  ↳ app/views/orders/index.html.erb:17
  Rendered orders/index.html.erb within layouts/application (Duration: 15.0ms | Allocations: 4368)
[Webpacker] Everything's up-to-date. Nothing to do
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 32ms (Views: 27.3ms | ActiveRecord: 0.7ms | Allocations: 11955)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-22 14:36:30 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-22 14:36:30 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-22 14:36:30 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started DELETE "/orders/28" for ::1 at 2020-07-22 14:36:32 +0700
Processing by OrdersController#destroy as HTML
  Parameters: {"authenticity_token"=>"51BqSJ7r/8IIneYnxXNnuYSKNeZKy5qb8ojAXjurhTH7OThnz/kpx79G4C2lAU5+1Lf58+CTr7mVQyHbBnhh7g==", "id"=>"28"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:20:in `authorize'
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 28], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:87:in `set_order'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/orders_controller.rb:77:in `destroy'
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."order_id" = ?[0m  [["order_id", 28]]
  ↳ app/controllers/orders_controller.rb:77:in `destroy'
  [1m[36mOrder Destroy (0.3ms)[0m  [1m[31mDELETE FROM "orders" WHERE "orders"."id" = ?[0m  [["id", 28]]
  ↳ app/controllers/orders_controller.rb:77:in `destroy'
  [1m[35m (642.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/orders_controller.rb:77:in `destroy'
Redirected to http://localhost:3000/orders
Completed 302 Found in 662ms (ActiveRecord: 643.4ms | Allocations: 5424)


Started GET "/orders" for ::1 at 2020-07-22 14:36:33 +0700
Processing by OrdersController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:20:in `authorize'
  Rendering orders/index.html.erb within layouts/application
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT "orders".* FROM "orders"[0m
  ↳ app/views/orders/index.html.erb:17
  Rendered orders/index.html.erb within layouts/application (Duration: 16.4ms | Allocations: 4230)
[Webpacker] Everything's up-to-date. Nothing to do
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 40ms (Views: 34.8ms | ActiveRecord: 0.7ms | Allocations: 11874)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-22 14:36:33 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-22 14:36:33 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-22 14:36:33 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started DELETE "/orders/31" for ::1 at 2020-07-22 14:36:36 +0700
Processing by OrdersController#destroy as HTML
  Parameters: {"authenticity_token"=>"aezQcFGOhznRl5avBC3Zhsx29reDdqF7aKV9XxDKW7Z1hYJfAJxRPGZMkKVkX/BBnEs6oikulFkPbpzaLRm/aQ==", "id"=>"31"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:20:in `authorize'
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 31], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:87:in `set_order'
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/orders_controller.rb:77:in `destroy'
  [1m[36mLineItem Load (0.6ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."order_id" = ?[0m  [["order_id", 31]]
  ↳ app/controllers/orders_controller.rb:77:in `destroy'
  [1m[36mOrder Destroy (0.8ms)[0m  [1m[31mDELETE FROM "orders" WHERE "orders"."id" = ?[0m  [["id", 31]]
  ↳ app/controllers/orders_controller.rb:77:in `destroy'
  [1m[35m (168.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/orders_controller.rb:77:in `destroy'
Redirected to http://localhost:3000/orders
Completed 302 Found in 194ms (ActiveRecord: 170.3ms | Allocations: 5413)


Started GET "/orders" for ::1 at 2020-07-22 14:36:36 +0700
Processing by OrdersController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:20:in `authorize'
  Rendering orders/index.html.erb within layouts/application
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT "orders".* FROM "orders"[0m
  ↳ app/views/orders/index.html.erb:17
  Rendered orders/index.html.erb within layouts/application (Duration: 17.6ms | Allocations: 4092)
[Webpacker] Everything's up-to-date. Nothing to do
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 45ms (Views: 39.1ms | ActiveRecord: 0.8ms | Allocations: 11698)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-22 14:36:36 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-22 14:36:36 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-22 14:36:36 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started DELETE "/orders/37" for ::1 at 2020-07-22 14:36:43 +0700
Processing by OrdersController#destroy as HTML
  Parameters: {"authenticity_token"=>"oGGH3mKL2A3bzdFlR1TaU/Zurm49SEs6TCIqvW6ACIy8CNXxM5kOCGwW128nJvOUplNie5cQfhgr6cs4U1PsUw==", "id"=>"37"}
  [1m[36mUser Load (1.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:20:in `authorize'
  [1m[36mOrder Load (0.6ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 37], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:87:in `set_order'
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/orders_controller.rb:77:in `destroy'
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."order_id" = ?[0m  [["order_id", 37]]
  ↳ app/controllers/orders_controller.rb:77:in `destroy'
  [1m[36mOrder Destroy (0.7ms)[0m  [1m[31mDELETE FROM "orders" WHERE "orders"."id" = ?[0m  [["id", 37]]
  ↳ app/controllers/orders_controller.rb:77:in `destroy'
  [1m[35m (908.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/orders_controller.rb:77:in `destroy'
Redirected to http://localhost:3000/orders
Completed 302 Found in 949ms (ActiveRecord: 911.4ms | Allocations: 5421)


Started GET "/orders" for ::1 at 2020-07-22 14:36:44 +0700
Processing by OrdersController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:20:in `authorize'
  Rendering orders/index.html.erb within layouts/application
  [1m[36mOrder Load (0.6ms)[0m  [1m[34mSELECT "orders".* FROM "orders"[0m
  ↳ app/views/orders/index.html.erb:17
  Rendered orders/index.html.erb within layouts/application (Duration: 36.3ms | Allocations: 3954)
[Webpacker] Everything's up-to-date. Nothing to do
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 91ms (Views: 83.1ms | ActiveRecord: 1.0ms | Allocations: 11712)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-22 14:36:45 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-22 14:36:45 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-22 14:36:45 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started DELETE "/orders/35" for ::1 at 2020-07-22 14:36:49 +0700
Processing by OrdersController#destroy as HTML
  Parameters: {"authenticity_token"=>"ydMbS6ZUxw5jKqA1JGHgOERlkiwmhYGyaquGzlOx09nVuklk90YRC9Txpj9EE8n/FFheOYzdtJANYGdLbmI3Bg==", "id"=>"35"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:20:in `authorize'
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 35], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:87:in `set_order'
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/orders_controller.rb:77:in `destroy'
  [1m[36mLineItem Load (0.8ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."order_id" = ?[0m  [["order_id", 35]]
  ↳ app/controllers/orders_controller.rb:77:in `destroy'
  [1m[36mOrder Destroy (0.6ms)[0m  [1m[31mDELETE FROM "orders" WHERE "orders"."id" = ?[0m  [["id", 35]]
  ↳ app/controllers/orders_controller.rb:77:in `destroy'
  [1m[35m (75.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/orders_controller.rb:77:in `destroy'
Redirected to http://localhost:3000/orders
Completed 302 Found in 109ms (ActiveRecord: 77.2ms | Allocations: 5337)


Started GET "/orders" for ::1 at 2020-07-22 14:36:49 +0700
Processing by OrdersController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:20:in `authorize'
  Rendering orders/index.html.erb within layouts/application
  [1m[36mOrder Load (0.7ms)[0m  [1m[34mSELECT "orders".* FROM "orders"[0m
  ↳ app/views/orders/index.html.erb:17
  Rendered orders/index.html.erb within layouts/application (Duration: 29.2ms | Allocations: 3816)
[Webpacker] Everything's up-to-date. Nothing to do
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 68ms (Views: 59.0ms | ActiveRecord: 1.1ms | Allocations: 11463)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-22 14:36:50 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-22 14:36:50 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-22 14:36:50 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started DELETE "/orders/39" for ::1 at 2020-07-22 14:36:51 +0700
Processing by OrdersController#destroy as HTML
  Parameters: {"authenticity_token"=>"NLgEu1txzSE7802v3P1Us8tsg+zZBDmE9ivkSnX7AiMo0VaUCmMbJIwoS6W8j310m1FP+XNcDKaR4AXPSCjm/A==", "id"=>"39"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:20:in `authorize'
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 39], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:87:in `set_order'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/orders_controller.rb:77:in `destroy'
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."order_id" = ?[0m  [["order_id", 39]]
  ↳ app/controllers/orders_controller.rb:77:in `destroy'
  [1m[36mOrder Destroy (0.4ms)[0m  [1m[31mDELETE FROM "orders" WHERE "orders"."id" = ?[0m  [["id", 39]]
  ↳ app/controllers/orders_controller.rb:77:in `destroy'
  [1m[35m (1052.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/orders_controller.rb:77:in `destroy'
Redirected to http://localhost:3000/orders
Completed 302 Found in 1072ms (ActiveRecord: 1053.4ms | Allocations: 5409)


Started GET "/orders" for ::1 at 2020-07-22 14:36:53 +0700
Processing by OrdersController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:20:in `authorize'
  Rendering orders/index.html.erb within layouts/application
  [1m[36mOrder Load (1.1ms)[0m  [1m[34mSELECT "orders".* FROM "orders"[0m
  ↳ app/views/orders/index.html.erb:17
  Rendered orders/index.html.erb within layouts/application (Duration: 37.5ms | Allocations: 3678)
[Webpacker] Everything's up-to-date. Nothing to do
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 77ms (Views: 68.5ms | ActiveRecord: 1.5ms | Allocations: 11500)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-22 14:36:53 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-22 14:36:53 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-22 14:36:53 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started DELETE "/orders/33" for ::1 at 2020-07-22 14:36:55 +0700
Processing by OrdersController#destroy as HTML
  Parameters: {"authenticity_token"=>"RSNwB+/myJV86ilJHP82i7y51P7IDG2vbBW+eQ+mT/5ZSiIovvQekMsxL0N8jR9M7IQY62JUWI0L3l/8MnWrIQ==", "id"=>"33"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:20:in `authorize'
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 33], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:87:in `set_order'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/orders_controller.rb:77:in `destroy'
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."order_id" = ?[0m  [["order_id", 33]]
  ↳ app/controllers/orders_controller.rb:77:in `destroy'
  [1m[36mOrder Destroy (0.7ms)[0m  [1m[31mDELETE FROM "orders" WHERE "orders"."id" = ?[0m  [["id", 33]]
  ↳ app/controllers/orders_controller.rb:77:in `destroy'
  [1m[35m (895.6ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/orders_controller.rb:77:in `destroy'
Redirected to http://localhost:3000/orders
Completed 302 Found in 925ms (ActiveRecord: 897.1ms | Allocations: 5427)


Started GET "/orders" for ::1 at 2020-07-22 14:36:56 +0700
Processing by OrdersController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:20:in `authorize'
  Rendering orders/index.html.erb within layouts/application
  [1m[36mOrder Load (0.7ms)[0m  [1m[34mSELECT "orders".* FROM "orders"[0m
  ↳ app/views/orders/index.html.erb:17
  Rendered orders/index.html.erb within layouts/application (Duration: 21.9ms | Allocations: 3540)
[Webpacker] Everything's up-to-date. Nothing to do
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 53ms (Views: 41.0ms | ActiveRecord: 1.2ms | Allocations: 11135)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-22 14:36:56 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-22 14:36:56 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-22 14:36:56 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started DELETE "/orders/36" for ::1 at 2020-07-22 14:36:57 +0700
Processing by OrdersController#destroy as HTML
  Parameters: {"authenticity_token"=>"f4cq554gEGowfD5I4wmfQSm2Ws38dvoWwq01dglY59Jj7njIzzLGb4enOEKDe7aGeYuW2FYuzzSlZtTzNIsDDQ==", "id"=>"36"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:20:in `authorize'
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 36], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:87:in `set_order'
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/orders_controller.rb:77:in `destroy'
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."order_id" = ?[0m  [["order_id", 36]]
  ↳ app/controllers/orders_controller.rb:77:in `destroy'
  [1m[36mOrder Destroy (0.5ms)[0m  [1m[31mDELETE FROM "orders" WHERE "orders"."id" = ?[0m  [["id", 36]]
  ↳ app/controllers/orders_controller.rb:77:in `destroy'
  [1m[35m (175.6ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/orders_controller.rb:77:in `destroy'
Redirected to http://localhost:3000/orders
Completed 302 Found in 201ms (ActiveRecord: 177.2ms | Allocations: 5410)


Started GET "/orders" for ::1 at 2020-07-22 14:36:57 +0700
Processing by OrdersController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:20:in `authorize'
  Rendering orders/index.html.erb within layouts/application
  [1m[36mOrder Load (1.0ms)[0m  [1m[34mSELECT "orders".* FROM "orders"[0m
  ↳ app/views/orders/index.html.erb:17
  Rendered orders/index.html.erb within layouts/application (Duration: 25.0ms | Allocations: 3402)
[Webpacker] Everything's up-to-date. Nothing to do
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 75ms (Views: 67.4ms | ActiveRecord: 1.6ms | Allocations: 11161)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-22 14:36:57 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-22 14:36:57 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-22 14:36:57 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started DELETE "/orders/34" for ::1 at 2020-07-22 14:36:59 +0700
Processing by OrdersController#destroy as HTML
  Parameters: {"authenticity_token"=>"w+K4R6rAq/8r+CJSFBHMUNm/16y5/RbXRZXYL2V1AHbfi+po+9J9+pwjJFh0Y+WXiYIbuROlI/UiXjmqWKbkqQ==", "id"=>"34"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:20:in `authorize'
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 34], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:87:in `set_order'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/orders_controller.rb:77:in `destroy'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."order_id" = ?[0m  [["order_id", 34]]
  ↳ app/controllers/orders_controller.rb:77:in `destroy'
  [1m[36mOrder Destroy (1.1ms)[0m  [1m[31mDELETE FROM "orders" WHERE "orders"."id" = ?[0m  [["id", 34]]
  ↳ app/controllers/orders_controller.rb:77:in `destroy'
  [1m[35m (1185.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/orders_controller.rb:77:in `destroy'
Redirected to http://localhost:3000/orders
Completed 302 Found in 1205ms (ActiveRecord: 1186.6ms | Allocations: 5424)


Started GET "/orders" for ::1 at 2020-07-22 14:37:00 +0700
Processing by OrdersController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:20:in `authorize'
  Rendering orders/index.html.erb within layouts/application
  [1m[36mOrder Load (0.6ms)[0m  [1m[34mSELECT "orders".* FROM "orders"[0m
  ↳ app/views/orders/index.html.erb:17
  Rendered orders/index.html.erb within layouts/application (Duration: 10.1ms | Allocations: 3264)
[Webpacker] Everything's up-to-date. Nothing to do
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 31ms (Views: 27.3ms | ActiveRecord: 0.8ms | Allocations: 10916)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-22 14:37:01 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-22 14:37:01 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-22 14:37:01 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started DELETE "/orders/32" for ::1 at 2020-07-22 14:37:03 +0700
Processing by OrdersController#destroy as HTML
  Parameters: {"authenticity_token"=>"iPbNyPPrtubEnXMsUryBSL0FR86AZ5ym6l/QzGlUozOUn5/novlg43NGdSYyzqiP7TiL2yo/qYSNlDFJVIdH7A==", "id"=>"32"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:20:in `authorize'
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 32], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:87:in `set_order'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/orders_controller.rb:77:in `destroy'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."order_id" = ?[0m  [["order_id", 32]]
  ↳ app/controllers/orders_controller.rb:77:in `destroy'
  [1m[36mOrder Destroy (0.2ms)[0m  [1m[31mDELETE FROM "orders" WHERE "orders"."id" = ?[0m  [["id", 32]]
  ↳ app/controllers/orders_controller.rb:77:in `destroy'
  [1m[35m (107.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/orders_controller.rb:77:in `destroy'
Redirected to http://localhost:3000/orders
Completed 302 Found in 123ms (ActiveRecord: 107.6ms | Allocations: 5415)


Started GET "/orders" for ::1 at 2020-07-22 14:37:03 +0700
Processing by OrdersController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:20:in `authorize'
  Rendering orders/index.html.erb within layouts/application
  [1m[36mOrder Load (1.0ms)[0m  [1m[34mSELECT "orders".* FROM "orders"[0m
  ↳ app/views/orders/index.html.erb:17
  Rendered orders/index.html.erb within layouts/application (Duration: 12.7ms | Allocations: 3126)
[Webpacker] Everything's up-to-date. Nothing to do
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 42ms (Views: 38.4ms | ActiveRecord: 1.1ms | Allocations: 10731)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-22 14:37:03 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-22 14:37:03 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-22 14:37:03 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started DELETE "/orders/38" for ::1 at 2020-07-22 14:37:05 +0700
Processing by OrdersController#destroy as HTML
  Parameters: {"authenticity_token"=>"ca/XQbtbnrAukZdyc6ShAdV5Rc1XcocZfhQywAaNXmhtxoVu6klItZlKkXgT1ojGhUSJ2P0qsjsZ39NFO166tw==", "id"=>"38"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:20:in `authorize'
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 38], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:87:in `set_order'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/orders_controller.rb:77:in `destroy'
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."order_id" = ?[0m  [["order_id", 38]]
  ↳ app/controllers/orders_controller.rb:77:in `destroy'
  [1m[36mOrder Destroy (0.8ms)[0m  [1m[31mDELETE FROM "orders" WHERE "orders"."id" = ?[0m  [["id", 38]]
  ↳ app/controllers/orders_controller.rb:77:in `destroy'
  [1m[35m (164.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/orders_controller.rb:77:in `destroy'
Redirected to http://localhost:3000/orders
Completed 302 Found in 191ms (ActiveRecord: 165.8ms | Allocations: 5424)


Started GET "/orders" for ::1 at 2020-07-22 14:37:06 +0700
Processing by OrdersController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:20:in `authorize'
  Rendering orders/index.html.erb within layouts/application
  [1m[36mOrder Load (0.7ms)[0m  [1m[34mSELECT "orders".* FROM "orders"[0m
  ↳ app/views/orders/index.html.erb:17
  Rendered orders/index.html.erb within layouts/application (Duration: 30.1ms | Allocations: 2988)
[Webpacker] Everything's up-to-date. Nothing to do
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 71ms (Views: 64.0ms | ActiveRecord: 1.2ms | Allocations: 10590)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-22 14:37:06 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-22 14:37:06 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-22 14:37:06 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started DELETE "/orders/40" for ::1 at 2020-07-22 14:37:07 +0700
Processing by OrdersController#destroy as HTML
  Parameters: {"authenticity_token"=>"PMxvN/2h2dFXdIZMd+6TOZnhStDkmYfI2DkJZymfLL4gpT0YrLMP1OCvgEYXnLr+ydyGxU7Bsuq/8ujiFEzIYQ==", "id"=>"40"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:20:in `authorize'
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 40], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:87:in `set_order'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/orders_controller.rb:77:in `destroy'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."order_id" = ?[0m  [["order_id", 40]]
  ↳ app/controllers/orders_controller.rb:77:in `destroy'
  [1m[36mOrder Destroy (0.8ms)[0m  [1m[31mDELETE FROM "orders" WHERE "orders"."id" = ?[0m  [["id", 40]]
  ↳ app/controllers/orders_controller.rb:77:in `destroy'
  [1m[35m (170.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/orders_controller.rb:77:in `destroy'
Redirected to http://localhost:3000/orders
Completed 302 Found in 202ms (ActiveRecord: 172.0ms | Allocations: 5416)


Started GET "/orders" for ::1 at 2020-07-22 14:37:08 +0700
Processing by OrdersController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:20:in `authorize'
  Rendering orders/index.html.erb within layouts/application
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT "orders".* FROM "orders"[0m
  ↳ app/views/orders/index.html.erb:17
  Rendered orders/index.html.erb within layouts/application (Duration: 6.1ms | Allocations: 2850)
[Webpacker] Everything's up-to-date. Nothing to do
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 24ms (Views: 21.7ms | ActiveRecord: 0.4ms | Allocations: 10488)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-22 14:37:08 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-22 14:37:08 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-22 14:37:08 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started DELETE "/orders/30" for ::1 at 2020-07-22 14:37:09 +0700
Processing by OrdersController#destroy as HTML
  Parameters: {"authenticity_token"=>"HNvAX22YSxRmmc52l7zpIR/jHUlMHN7QSO20lZL5ONEAspJwPIqdEdFCyHz3zsDmT97RXOZE6/IvJlUQryrcDg==", "id"=>"30"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:20:in `authorize'
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 30], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:87:in `set_order'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/orders_controller.rb:77:in `destroy'
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."order_id" = ?[0m  [["order_id", 30]]
  ↳ app/controllers/orders_controller.rb:77:in `destroy'
  [1m[36mOrder Destroy (1.2ms)[0m  [1m[31mDELETE FROM "orders" WHERE "orders"."id" = ?[0m  [["id", 30]]
  ↳ app/controllers/orders_controller.rb:77:in `destroy'
  [1m[35m (1826.8ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/orders_controller.rb:77:in `destroy'
Started DELETE "/orders/30" for ::1 at 2020-07-22 14:37:11 +0700
Redirected to http://localhost:3000/orders
Completed 302 Found in 1848ms (ActiveRecord: 1828.5ms | Allocations: 6099)


  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by OrdersController#destroy as HTML
  Parameters: {"authenticity_token"=>"HNvAX22YSxRmmc52l7zpIR/jHUlMHN7QSO20lZL5ONEAspJwPIqdEdFCyHz3zsDmT97RXOZE6/IvJlUQryrcDg==", "id"=>"30"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:20:in `authorize'
  [1m[36mOrder Load (0.5ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 30], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:87:in `set_order'
Completed 404 Not Found in 8ms (ActiveRecord: 1.0ms | Allocations: 1739)


  
ActiveRecord::RecordNotFound (Couldn't find Order with 'id'=30):
  
app/controllers/orders_controller.rb:87:in `set_order'
Finished "/cable/" [WebSocket] for ::1 at 2020-07-22 14:37:12 +0700
ProductsChannel stopped streaming from products
Started DELETE "/orders/30" for ::1 at 2020-07-22 14:37:17 +0700
Processing by OrdersController#destroy as HTML
  Parameters: {"authenticity_token"=>"HNvAX22YSxRmmc52l7zpIR/jHUlMHN7QSO20lZL5ONEAspJwPIqdEdFCyHz3zsDmT97RXOZE6/IvJlUQryrcDg==", "id"=>"30"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:20:in `authorize'
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 30], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:87:in `set_order'
Completed 404 Not Found in 7ms (ActiveRecord: 0.5ms | Allocations: 1699)


  
ActiveRecord::RecordNotFound (Couldn't find Order with 'id'=30):
  
app/controllers/orders_controller.rb:87:in `set_order'
Started GET "/cable" for ::1 at 2020-07-22 14:37:18 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-22 14:37:18 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/orders/29/edit" for ::1 at 2020-07-22 14:37:20 +0700
Processing by OrdersController#edit as HTML
  Parameters: {"id"=>"29"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:20:in `authorize'
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 29], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:87:in `set_order'
  Rendering orders/edit.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 536.0ms | Allocations: 3804)
  Rendered orders/edit.html.erb within layouts/application (Duration: 913.5ms | Allocations: 4188)
[Webpacker] Everything's up-to-date. Nothing to do
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 969ms (Views: 958.7ms | ActiveRecord: 0.5ms | Allocations: 12372)


Started GET "/orders/30" for ::1 at 2020-07-22 14:37:24 +0700
Processing by OrdersController#show as HTML
  Parameters: {"id"=>"30"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:20:in `authorize'
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 30], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:87:in `set_order'
Completed 404 Not Found in 8ms (ActiveRecord: 0.6ms | Allocations: 1670)


  
ActiveRecord::RecordNotFound (Couldn't find Order with 'id'=30):
  
app/controllers/orders_controller.rb:87:in `set_order'
Started GET "/orders" for ::1 at 2020-07-22 14:37:29 +0700
Processing by OrdersController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:20:in `authorize'
  Rendering orders/index.html.erb within layouts/application
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT "orders".* FROM "orders"[0m
  ↳ app/views/orders/index.html.erb:17
  Rendered orders/index.html.erb within layouts/application (Duration: 8.6ms | Allocations: 2734)
[Webpacker] Everything's up-to-date. Nothing to do
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 43ms (Views: 36.7ms | ActiveRecord: 0.8ms | Allocations: 10362)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-22 14:37:29 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-22 14:37:29 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-22 14:37:29 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started DELETE "/orders/41" for ::1 at 2020-07-22 14:37:31 +0700
Processing by OrdersController#destroy as HTML
  Parameters: {"authenticity_token"=>"3e2BT47HxI43KSEhcUJmO2jjjzglLfwvsZ/gUPDcqgnBhNNg39USi4DyJysRME/8ON5DLY91yQ3WVAHVzQ9O1g==", "id"=>"41"}
  [1m[36mUser Load (0.8ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:20:in `authorize'
  [1m[36mOrder Load (0.9ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 41], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:87:in `set_order'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/orders_controller.rb:77:in `destroy'
  [1m[36mLineItem Load (0.9ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."order_id" = ?[0m  [["order_id", 41]]
  ↳ app/controllers/orders_controller.rb:77:in `destroy'
  [1m[36mOrder Destroy (1.4ms)[0m  [1m[31mDELETE FROM "orders" WHERE "orders"."id" = ?[0m  [["id", 41]]
  ↳ app/controllers/orders_controller.rb:77:in `destroy'
  [1m[35m (1730.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/orders_controller.rb:77:in `destroy'
Redirected to http://localhost:3000/orders
Completed 302 Found in 1773ms (ActiveRecord: 1734.3ms | Allocations: 5453)


Started GET "/orders" for ::1 at 2020-07-22 14:37:33 +0700
Processing by OrdersController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:20:in `authorize'
  Rendering orders/index.html.erb within layouts/application
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT "orders".* FROM "orders"[0m
  ↳ app/views/orders/index.html.erb:17
  Rendered orders/index.html.erb within layouts/application (Duration: 11.4ms | Allocations: 2574)
[Webpacker] Everything's up-to-date. Nothing to do
[Webpacker] Everything's up-to-date. Nothing to do
Started DELETE "/orders/41" for ::1 at 2020-07-22 14:37:33 +0700
Completed 200 OK in 40ms (Views: 34.9ms | ActiveRecord: 0.6ms | Allocations: 11346)


Processing by OrdersController#destroy as HTML
  Parameters: {"authenticity_token"=>"3e2BT47HxI43KSEhcUJmO2jjjzglLfwvsZ/gUPDcqgnBhNNg39USi4DyJysRME/8ON5DLY91yQ3WVAHVzQ9O1g==", "id"=>"41"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:20:in `authorize'
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 41], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:87:in `set_order'
Completed 404 Not Found in 3ms (ActiveRecord: 0.3ms | Allocations: 1720)


  
ActiveRecord::RecordNotFound (Couldn't find Order with 'id'=41):
  
app/controllers/orders_controller.rb:87:in `set_order'
Finished "/cable/" [WebSocket] for ::1 at 2020-07-22 14:37:33 +0700
ProductsChannel stopped streaming from products
Started GET "/orders" for ::1 at 2020-07-22 14:37:35 +0700
Processing by OrdersController#index as HTML
  [1m[36mUser Load (0.6ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:20:in `authorize'
  Rendering orders/index.html.erb within layouts/application
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT "orders".* FROM "orders"[0m
  ↳ app/views/orders/index.html.erb:17
  Rendered orders/index.html.erb within layouts/application (Duration: 13.1ms | Allocations: 2574)
[Webpacker] Everything's up-to-date. Nothing to do
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 38ms (Views: 32.0ms | ActiveRecord: 1.0ms | Allocations: 10219)


Started GET "/cable" for ::1 at 2020-07-22 14:37:35 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-22 14:37:35 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started DELETE "/orders/29" for ::1 at 2020-07-22 14:37:38 +0700
Processing by OrdersController#destroy as HTML
  Parameters: {"authenticity_token"=>"KPczoXHyR+ar9L2usSOaZag+6/DV9Z7Jzjkngc4set40nmGOIOCR4xwvu6TRUbOi+AMn5X+tq+up8sYE8/+eAQ==", "id"=>"29"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:20:in `authorize'
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 29], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:87:in `set_order'
  [1m[35m (0.3ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/orders_controller.rb:77:in `destroy'
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."order_id" = ?[0m  [["order_id", 29]]
  ↳ app/controllers/orders_controller.rb:77:in `destroy'
  [1m[36mOrder Destroy (1.3ms)[0m  [1m[31mDELETE FROM "orders" WHERE "orders"."id" = ?[0m  [["id", 29]]
  ↳ app/controllers/orders_controller.rb:77:in `destroy'
  [1m[35m (1007.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/orders_controller.rb:77:in `destroy'
Redirected to http://localhost:3000/orders
Completed 302 Found in 1032ms (ActiveRecord: 1009.4ms | Allocations: 5420)


Started GET "/orders" for ::1 at 2020-07-22 14:37:39 +0700
Processing by OrdersController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:20:in `authorize'
  Rendering orders/index.html.erb within layouts/application
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT "orders".* FROM "orders"[0m
  ↳ app/views/orders/index.html.erb:17
  Rendered orders/index.html.erb within layouts/application (Duration: 7.0ms | Allocations: 2436)
[Webpacker] Everything's up-to-date. Nothing to do
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 32ms (Views: 24.8ms | ActiveRecord: 0.5ms | Allocations: 10016)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-22 14:37:40 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-22 14:37:40 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-22 14:37:40 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started DELETE "/orders/42" for ::1 at 2020-07-22 14:37:41 +0700
Processing by OrdersController#destroy as HTML
  Parameters: {"authenticity_token"=>"FQ9GwLYak+bKI8OJhWdXS8+iVjMGkkg/bEV2PplTs7kJZhTv5whF4334xYPlFX6Mn5+aJqzKfR0Ljpe7pIBXZg==", "id"=>"42"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:20:in `authorize'
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 42], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:87:in `set_order'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/orders_controller.rb:77:in `destroy'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."order_id" = ?[0m  [["order_id", 42]]
  ↳ app/controllers/orders_controller.rb:77:in `destroy'
  [1m[36mOrder Destroy (0.3ms)[0m  [1m[31mDELETE FROM "orders" WHERE "orders"."id" = ?[0m  [["id", 42]]
  ↳ app/controllers/orders_controller.rb:77:in `destroy'
Started DELETE "/orders/43" for ::1 at 2020-07-22 14:37:43 +0700
  [1m[35m (1846.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/orders_controller.rb:77:in `destroy'
Redirected to http://localhost:3000/orders
Completed 302 Found in 1871ms (ActiveRecord: 1846.9ms | Allocations: 6418)


Processing by OrdersController#destroy as HTML
  Parameters: {"authenticity_token"=>"FQ9GwLYak+bKI8OJhWdXS8+iVjMGkkg/bEV2PplTs7kJZhTv5whF4334xYPlFX6Mn5+aJqzKfR0Ljpe7pIBXZg==", "id"=>"43"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:20:in `authorize'
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 43], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:87:in `set_order'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/orders_controller.rb:77:in `destroy'
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."order_id" = ?[0m  [["order_id", 43]]
  ↳ app/controllers/orders_controller.rb:77:in `destroy'
  [1m[36mOrder Destroy (0.5ms)[0m  [1m[31mDELETE FROM "orders" WHERE "orders"."id" = ?[0m  [["id", 43]]
  ↳ app/controllers/orders_controller.rb:77:in `destroy'
  [1m[35m (550.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/orders_controller.rb:77:in `destroy'
Redirected to http://localhost:3000/orders
Completed 302 Found in 577ms (ActiveRecord: 552.0ms | Allocations: 5487)


Started GET "/orders" for ::1 at 2020-07-22 14:37:44 +0700
Processing by OrdersController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:20:in `authorize'
  Rendering orders/index.html.erb within layouts/application
  [1m[36mOrder Load (0.7ms)[0m  [1m[34mSELECT "orders".* FROM "orders"[0m
  ↳ app/views/orders/index.html.erb:17
  Rendered orders/index.html.erb within layouts/application (Duration: 14.5ms | Allocations: 2160)
[Webpacker] Everything's up-to-date. Nothing to do
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 39ms (Views: 30.5ms | ActiveRecord: 1.2ms | Allocations: 9811)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-22 14:37:44 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-22 14:37:44 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-22 14:37:44 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started DELETE "/orders/26" for ::1 at 2020-07-22 14:37:48 +0700
Processing by OrdersController#destroy as HTML
  Parameters: {"authenticity_token"=>"5UVXi8Qinqji+SuBdMnEJNQZMW/wgfx2icfGtOrsvjT5LAWklTBIrVUiLYsUu+3jhCT9elrZyVTuDCcx1z9a6w==", "id"=>"26"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:20:in `authorize'
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 26], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:87:in `set_order'
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/orders_controller.rb:77:in `destroy'
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."order_id" = ?[0m  [["order_id", 26]]
  ↳ app/controllers/orders_controller.rb:77:in `destroy'
  [1m[36mOrder Destroy (0.4ms)[0m  [1m[31mDELETE FROM "orders" WHERE "orders"."id" = ?[0m  [["id", 26]]
  ↳ app/controllers/orders_controller.rb:77:in `destroy'
  [1m[35m (951.8ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/orders_controller.rb:77:in `destroy'
Redirected to http://localhost:3000/orders
Completed 302 Found in 972ms (ActiveRecord: 952.8ms | Allocations: 5433)


Started GET "/orders" for ::1 at 2020-07-22 14:37:49 +0700
Processing by OrdersController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:20:in `authorize'
  Rendering orders/index.html.erb within layouts/application
  [1m[36mOrder Load (0.3ms)[0m  [1m[34mSELECT "orders".* FROM "orders"[0m
  ↳ app/views/orders/index.html.erb:17
  Rendered orders/index.html.erb within layouts/application (Duration: 6.1ms | Allocations: 2022)
[Webpacker] Everything's up-to-date. Nothing to do
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 22ms (Views: 17.4ms | ActiveRecord: 0.6ms | Allocations: 9673)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-22 14:37:49 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-22 14:37:49 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-22 14:37:49 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started DELETE "/orders/45" for ::1 at 2020-07-22 14:37:51 +0700
Processing by OrdersController#destroy as HTML
  Parameters: {"authenticity_token"=>"2OypUQxasHpkT5F8C7NuzSf/iv46v8zO/ev0Yggk5J/Ehft+XUhmf9OUl3ZrwUcKd8JG65Dn+eyaIBXnNfcAQA==", "id"=>"45"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:20:in `authorize'
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 45], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:87:in `set_order'
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/orders_controller.rb:77:in `destroy'
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."order_id" = ?[0m  [["order_id", 45]]
  ↳ app/controllers/orders_controller.rb:77:in `destroy'
  [1m[36mOrder Destroy (0.7ms)[0m  [1m[31mDELETE FROM "orders" WHERE "orders"."id" = ?[0m  [["id", 45]]
  ↳ app/controllers/orders_controller.rb:77:in `destroy'
  [1m[35m (1520.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/orders_controller.rb:77:in `destroy'
Redirected to http://localhost:3000/orders
Completed 302 Found in 1546ms (ActiveRecord: 1522.5ms | Allocations: 5680)


Started GET "/orders" for ::1 at 2020-07-22 14:37:53 +0700
Processing by OrdersController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:20:in `authorize'
  Rendering orders/index.html.erb within layouts/application
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT "orders".* FROM "orders"[0m
  ↳ app/views/orders/index.html.erb:17
  Rendered orders/index.html.erb within layouts/application (Duration: 9.5ms | Allocations: 1884)
[Webpacker] Everything's up-to-date. Nothing to do
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 51ms (Views: 42.8ms | ActiveRecord: 0.9ms | Allocations: 9491)


Started DELETE "/orders/45" for ::1 at 2020-07-22 14:37:53 +0700
Processing by OrdersController#destroy as HTML
  Parameters: {"authenticity_token"=>"2OypUQxasHpkT5F8C7NuzSf/iv46v8zO/ev0Yggk5J/Ehft+XUhmf9OUl3ZrwUcKd8JG65Dn+eyaIBXnNfcAQA==", "id"=>"45"}
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:20:in `authorize'
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 45], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:87:in `set_order'
Completed 404 Not Found in 8ms (ActiveRecord: 0.6ms | Allocations: 1736)


  
ActiveRecord::RecordNotFound (Couldn't find Order with 'id'=45):
  
app/controllers/orders_controller.rb:87:in `set_order'
Finished "/cable/" [WebSocket] for ::1 at 2020-07-22 14:37:53 +0700
ProductsChannel stopped streaming from products
Started GET "/orders" for ::1 at 2020-07-22 14:37:57 +0700
Processing by OrdersController#index as HTML
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:20:in `authorize'
  Rendering orders/index.html.erb within layouts/application
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT "orders".* FROM "orders"[0m
  ↳ app/views/orders/index.html.erb:17
  Rendered orders/index.html.erb within layouts/application (Duration: 9.9ms | Allocations: 1884)
[Webpacker] Everything's up-to-date. Nothing to do
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 31ms (Views: 26.6ms | ActiveRecord: 0.4ms | Allocations: 9544)


Started GET "/cable" for ::1 at 2020-07-22 14:37:57 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-22 14:37:57 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started DELETE "/orders/46" for ::1 at 2020-07-22 14:38:01 +0700
Processing by OrdersController#destroy as HTML
  Parameters: {"authenticity_token"=>"tfel+AcIL31nEdhVq97IWlRpyfXpBnjONsLCQbg/pG2pnvfXVhr5eNDK3l/LrOGdBFQF4ENeTexRCSPEhexAsg==", "id"=>"46"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:20:in `authorize'
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 46], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:87:in `set_order'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/orders_controller.rb:77:in `destroy'
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."order_id" = ?[0m  [["order_id", 46]]
  ↳ app/controllers/orders_controller.rb:77:in `destroy'
  [1m[36mOrder Destroy (0.9ms)[0m  [1m[31mDELETE FROM "orders" WHERE "orders"."id" = ?[0m  [["id", 46]]
  ↳ app/controllers/orders_controller.rb:77:in `destroy'
  [1m[35m (2485.7ms)[0m  [1m[36mcommit transaction[0m
Started DELETE "/orders/44" for ::1 at 2020-07-22 14:38:03 +0700
  ↳ app/controllers/orders_controller.rb:77:in `destroy'
Redirected to http://localhost:3000/orders
Completed 302 Found in 2514ms (ActiveRecord: 2487.1ms | Allocations: 6844)


Processing by OrdersController#destroy as HTML
  Parameters: {"authenticity_token"=>"tfel+AcIL31nEdhVq97IWlRpyfXpBnjONsLCQbg/pG2pnvfXVhr5eNDK3l/LrOGdBFQF4ENeTexRCSPEhexAsg==", "id"=>"44"}
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:20:in `authorize'
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 44], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:87:in `set_order'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/orders_controller.rb:77:in `destroy'
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."order_id" = ?[0m  [["order_id", 44]]
  ↳ app/controllers/orders_controller.rb:77:in `destroy'
  [1m[36mOrder Destroy (0.4ms)[0m  [1m[31mDELETE FROM "orders" WHERE "orders"."id" = ?[0m  [["id", 44]]
  ↳ app/controllers/orders_controller.rb:77:in `destroy'
  [1m[35m (1229.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/orders_controller.rb:77:in `destroy'
Redirected to http://localhost:3000/orders
Completed 302 Found in 1255ms (ActiveRecord: 1230.5ms | Allocations: 5516)


Started GET "/orders" for ::1 at 2020-07-22 14:38:05 +0700
Processing by OrdersController#index as HTML
  [1m[36mUser Load (0.5ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:20:in `authorize'
  Rendering orders/index.html.erb within layouts/application
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT "orders".* FROM "orders"[0m
  ↳ app/views/orders/index.html.erb:17
  Rendered orders/index.html.erb within layouts/application (Duration: 5.7ms | Allocations: 1608)
[Webpacker] Everything's up-to-date. Nothing to do
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 23ms (Views: 16.9ms | ActiveRecord: 0.7ms | Allocations: 9194)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-22 14:38:05 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-22 14:38:05 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-22 14:38:05 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started DELETE "/orders/47" for ::1 at 2020-07-22 14:38:07 +0700
Processing by OrdersController#destroy as HTML
  Parameters: {"authenticity_token"=>"WlyYMJPRq+sanUxYgXyYU4C7AkcZks4OyPkzQDt3JQxGNcofwsN97q1GSlLhDrGU0IbOUrPK+yyvMtLFBqTB0w==", "id"=>"47"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:20:in `authorize'
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 47], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:87:in `set_order'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/orders_controller.rb:77:in `destroy'
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."order_id" = ?[0m  [["order_id", 47]]
  ↳ app/controllers/orders_controller.rb:77:in `destroy'
  [1m[36mOrder Destroy (1.2ms)[0m  [1m[31mDELETE FROM "orders" WHERE "orders"."id" = ?[0m  [["id", 47]]
  ↳ app/controllers/orders_controller.rb:77:in `destroy'
  [1m[35m (1401.6ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/orders_controller.rb:77:in `destroy'
Redirected to http://localhost:3000/orders
Completed 302 Found in 1421ms (ActiveRecord: 1403.4ms | Allocations: 5425)


Started GET "/orders" for ::1 at 2020-07-22 14:38:09 +0700
Processing by OrdersController#index as HTML
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:20:in `authorize'
  Rendering orders/index.html.erb within layouts/application
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT "orders".* FROM "orders"[0m
  ↳ app/views/orders/index.html.erb:17
  Rendered orders/index.html.erb within layouts/application (Duration: 5.5ms | Allocations: 1470)
[Webpacker] Everything's up-to-date. Nothing to do
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 28ms (Views: 24.2ms | ActiveRecord: 0.7ms | Allocations: 9070)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-22 14:38:09 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-22 14:38:09 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-22 14:38:09 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started DELETE "/orders/25" for ::1 at 2020-07-22 14:38:11 +0700
Processing by OrdersController#destroy as HTML
  Parameters: {"authenticity_token"=>"Hc+KJJQxPgDdR/zrrKwd7c8xkILrKlhKR8niggjbo4EBptgLxSPoBWqc+uHM3jQqnwxcl0FybWggAgMHNQhHXg==", "id"=>"25"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:20:in `authorize'
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 25], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:87:in `set_order'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/orders_controller.rb:77:in `destroy'
  [1m[36mLineItem Load (8.8ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."order_id" = ?[0m  [["order_id", 25]]
  ↳ app/controllers/orders_controller.rb:77:in `destroy'
  [1m[36mLineItem Destroy (120.1ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 89]]
  ↳ app/controllers/orders_controller.rb:77:in `destroy'
  [1m[36mOrder Destroy (0.7ms)[0m  [1m[31mDELETE FROM "orders" WHERE "orders"."id" = ?[0m  [["id", 25]]
  ↳ app/controllers/orders_controller.rb:77:in `destroy'
  [1m[35m (1368.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/orders_controller.rb:77:in `destroy'
Started DELETE "/orders/25" for ::1 at 2020-07-22 14:38:13 +0700
Redirected to http://localhost:3000/orders
Completed 302 Found in 2133ms (ActiveRecord: 1498.9ms | Allocations: 13448)


Processing by OrdersController#destroy as HTML
  Parameters: {"authenticity_token"=>"Hc+KJJQxPgDdR/zrrKwd7c8xkILrKlhKR8niggjbo4EBptgLxSPoBWqc+uHM3jQqnwxcl0FybWggAgMHNQhHXg==", "id"=>"25"}
  [1m[36mUser Load (0.9ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:20:in `authorize'
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 25], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:87:in `set_order'
Completed 404 Not Found in 12ms (ActiveRecord: 1.3ms | Allocations: 1713)


  
ActiveRecord::RecordNotFound (Couldn't find Order with 'id'=25):
  
app/controllers/orders_controller.rb:87:in `set_order'
Finished "/cable/" [WebSocket] for ::1 at 2020-07-22 14:38:14 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-22 14:38:16 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-22 14:38:16 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started DELETE "/orders/48" for ::1 at 2020-07-22 14:38:18 +0700
Processing by OrdersController#destroy as HTML
  Parameters: {"authenticity_token"=>"Hc+KJJQxPgDdR/zrrKwd7c8xkILrKlhKR8niggjbo4EBptgLxSPoBWqc+uHM3jQqnwxcl0FybWggAgMHNQhHXg==", "id"=>"48"}
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:20:in `authorize'
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 48], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:87:in `set_order'
  [1m[35m (0.4ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/orders_controller.rb:77:in `destroy'
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."order_id" = ?[0m  [["order_id", 48]]
  ↳ app/controllers/orders_controller.rb:77:in `destroy'
  [1m[36mLineItem Destroy (0.9ms)[0m  [1m[31mDELETE FROM "line_items" WHERE "line_items"."id" = ?[0m  [["id", 90]]
  ↳ app/controllers/orders_controller.rb:77:in `destroy'
  [1m[36mOrder Destroy (0.3ms)[0m  [1m[31mDELETE FROM "orders" WHERE "orders"."id" = ?[0m  [["id", 48]]
  ↳ app/controllers/orders_controller.rb:77:in `destroy'
  [1m[35m (1131.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/orders_controller.rb:77:in `destroy'
Redirected to http://localhost:3000/orders
Completed 302 Found in 1153ms (ActiveRecord: 1133.1ms | Allocations: 6698)


Started GET "/orders/25" for ::1 at 2020-07-22 14:38:19 +0700
Started GET "/orders" for ::1 at 2020-07-22 14:38:19 +0700
Processing by OrdersController#show as HTML
  Parameters: {"id"=>"25"}
  [1m[36mUser Load (0.2ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:20:in `authorize'
  [1m[36mOrder Load (0.2ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 25], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:87:in `set_order'
Completed 404 Not Found in 5ms (ActiveRecord: 0.3ms | Allocations: 1708)


Processing by OrdersController#index as HTML
  [1m[36mUser Load (0.1ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  
ActiveRecord::RecordNotFound (Couldn't find Order with 'id'=25):
  
app/controllers/orders_controller.rb:87:in `set_order'
  ↳ app/controllers/application_controller.rb:20:in `authorize'
  Rendering orders/index.html.erb within layouts/application
  [1m[36mOrder Load (0.1ms)[0m  [1m[34mSELECT "orders".* FROM "orders"[0m
  ↳ app/views/orders/index.html.erb:17
  Rendered orders/index.html.erb within layouts/application (Duration: 2.6ms | Allocations: 1822)
[Webpacker] Everything's up-to-date. Nothing to do
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 173ms (Views: 39.3ms | ActiveRecord: 0.2ms | Allocations: 180957)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-22 14:38:19 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-07-22 14:38:19 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-07-22 14:38:19 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/orders/24" for ::1 at 2020-07-22 14:38:24 +0700
Processing by OrdersController#show as HTML
  Parameters: {"id"=>"24"}
  [1m[36mUser Load (0.3ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:20:in `authorize'
  [1m[36mOrder Load (0.4ms)[0m  [1m[34mSELECT "orders".* FROM "orders" WHERE "orders"."id" = ? LIMIT ?[0m  [["id", 24], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:87:in `set_order'
  Rendering orders/show.html.erb within layouts/application
  Rendered orders/show.html.erb within layouts/application (Duration: 563.2ms | Allocations: 299)
[Webpacker] Everything's up-to-date. Nothing to do
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 608ms (Views: 597.3ms | ActiveRecord: 0.7ms | Allocations: 8533)


Started GET "/products" for ::1 at 2020-07-22 14:38:31 +0700
Processing by ProductsController#index as HTML
  [1m[36mUser Load (0.4ms)[0m  [1m[34mSELECT "users".* FROM "users" WHERE "users"."id" = ? LIMIT ?[0m  [["id", 1], ["LIMIT", 1]]
  ↳ app/controllers/application_controller.rb:20:in `authorize'
  Rendering products/index.html.erb within layouts/application
  [1m[36mProduct Load (1.0ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC LIMIT ? OFFSET ?[0m  [["LIMIT", 30], ["OFFSET", 0]]
  ↳ app/views/products/index.html.erb:12
  Rendered products/index.html.erb within layouts/application (Duration: 18.0ms | Allocations: 3772)
[Webpacker] Everything's up-to-date. Nothing to do
[Webpacker] Everything's up-to-date. Nothing to do
Completed 200 OK in 43ms (Views: 34.5ms | ActiveRecord: 1.4ms | Allocations: 11289)


Finished "/cable/" [WebSocket] for ::1 at 2020-07-22 14:47:12 +0700
ProductsChannel stopped streaming from products
Started GET "/" for ::1 at 2020-08-27 15:42:55 +0700
  [1m[35m (6.6ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.6ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/" for ::1 at 2020-08-27 15:42:56 +0700
  [1m[35m (0.5ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by StoreController#index as HTML
  [1m[36mCart Load (28.9ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 66], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[35m (0.4ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[36mCart Create (36.6ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2020-08-27 08:42:56.516690"], ["updated_at", "2020-08-27 08:42:56.516690"]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[35m (441.0ms)[0m  [1m[36mcommit transaction[0m
Processing by StoreController#index as HTML
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[36mCart Load (0.7ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 66], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[36mCart Create (0.5ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2020-08-27 08:42:57.272794"], ["updated_at", "2020-08-27 08:42:57.272794"]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[35m (107.9ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  Rendering store/index.html.erb within layouts/application
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (28.3ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 1025.6ms | Allocations: 25915)
  Rendered store/index.html.erb within layouts/application (Duration: 901.0ms | Allocations: 26423)
[Webpacker] Everything's up-to-date. Nothing to do
[Webpacker] Everything's up-to-date. Nothing to do
[Webpacker] Everything's up-to-date. Nothing to do
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (8.3ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 118], ["LIMIT", 1]]
  [1m[36mLineItem Exists? (0.6ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 117], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:35
  ↳ app/views/layouts/application.html.erb:35
Completed 200 OK in 1908ms (Views: 1505.5ms | ActiveRecord: 147.9ms | Allocations: 57265)


Completed 200 OK in 2776ms (Views: 1557.9ms | ActiveRecord: 511.1ms | Allocations: 74146)


Started GET "/cable" for ::1 at 2020-08-27 15:43:00 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-08-27 15:43:00 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started POST "/" for ::1 at 2020-08-27 15:43:30 +0700
Processing by StoreController#index as HTML
  Parameters: {"authenticity_token"=>"TP4q5YI4xHpM5T0w4X0AlTTwTuY2yLhCKHI5MoyFlPTkHfN7vPnNczVm0R7/x+DqLnMccFgP6n1X0uQ3dDeygA==", "set_locale"=>"es"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 117], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
Redirected to http://localhost:3000/es
Completed 302 Found in 17ms (ActiveRecord: 0.2ms | Allocations: 925)


Started GET "/es" for ::1 at 2020-08-27 15:43:30 +0700
Processing by StoreController#index as HTML
  Parameters: {"locale"=>"es"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 117], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 19.1ms | Allocations: 4270)
[Webpacker] Everything's up-to-date. Nothing to do
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 117], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:35
Completed 200 OK in 57ms (Views: 53.1ms | ActiveRecord: 0.9ms | Allocations: 12993)


Finished "/cable/" [WebSocket] for ::1 at 2020-08-27 15:43:30 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-08-27 15:43:30 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-08-27 15:43:30 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started POST "/" for ::1 at 2020-08-27 15:43:37 +0700
Processing by StoreController#index as HTML
  Parameters: {"authenticity_token"=>"uYVlVfTNtVJ1jHyAbwloDvaTIej4jS2T2aJYyP7mqTsRZrzLygy8WwwPkK5xs4hx7BBzfpZKf6ymAoXNBlSPTw==", "set_locale"=>"en"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 117], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
Redirected to http://localhost:3000/en
Completed 302 Found in 5ms (ActiveRecord: 0.3ms | Allocations: 883)


Started GET "/en" for ::1 at 2020-08-27 15:43:37 +0700
Processing by StoreController#index as HTML
  Parameters: {"locale"=>"en"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 117], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 38.7ms | Allocations: 4197)
[Webpacker] Everything's up-to-date. Nothing to do
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 117], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:35
Completed 200 OK in 84ms (Views: 75.8ms | ActiveRecord: 1.3ms | Allocations: 12232)


Finished "/cable/" [WebSocket] for ::1 at 2020-08-27 15:43:37 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-08-27 15:43:37 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-08-27 15:43:37 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started POST "/" for ::1 at 2020-08-27 15:43:39 +0700
Processing by StoreController#index as HTML
  Parameters: {"authenticity_token"=>"9QoqX9wF3DXhnDJ8JgXmbCEhcnww9nkPTjv/zavRu/Rd6fPB4sTVPJgf3lI4vwYTO6Ig6l4xKzAxmyLIU2OdgA==", "set_locale"=>"es"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 117], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
Redirected to http://localhost:3000/es
Completed 302 Found in 4ms (ActiveRecord: 0.2ms | Allocations: 875)


Started GET "/es" for ::1 at 2020-08-27 15:43:39 +0700
Processing by StoreController#index as HTML
  Parameters: {"locale"=>"es"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 117], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 30.6ms | Allocations: 4250)
[Webpacker] Everything's up-to-date. Nothing to do
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 117], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:35
Completed 200 OK in 72ms (Views: 66.2ms | ActiveRecord: 1.3ms | Allocations: 12318)


Finished "/cable/" [WebSocket] for ::1 at 2020-08-27 15:43:39 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-08-27 15:43:39 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-08-27 15:43:39 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started POST "/" for ::1 at 2020-08-27 15:43:42 +0700
Processing by StoreController#index as HTML
  Parameters: {"authenticity_token"=>"1XmLtAIKJYJ5nFWHYwjrETy/07oPDRyjBXEYaRdCM8F9mlIqPMssiwAfual9sgtuJjyBLGHKTpx60cVs7/AVtQ==", "set_locale"=>"en"}
  [1m[36mCart Load (0.7ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 117], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
Redirected to http://localhost:3000/en
Completed 302 Found in 8ms (ActiveRecord: 0.7ms | Allocations: 892)


Started GET "/en" for ::1 at 2020-08-27 15:43:42 +0700
Processing by StoreController#index as HTML
  Parameters: {"locale"=>"en"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 117], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.8ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 32.2ms | Allocations: 4203)
[Webpacker] Everything's up-to-date. Nothing to do
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 117], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:35
Completed 200 OK in 81ms (Views: 73.5ms | ActiveRecord: 1.9ms | Allocations: 12244)


Finished "/cable/" [WebSocket] for ::1 at 2020-08-27 15:43:42 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-08-27 15:43:42 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-08-27 15:43:42 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started POST "/en/line_items?product_id=4" for ::1 at 2020-08-27 15:43:44 +0700
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"Q/EJGYag+44y4oXt1Z62TSncOw4J8J6wh1tqi7rnf2frEtCHuGHyh0thacPLJFYyM19pmGc3zI/4+7eOQlVZEw==", "product_id"=>"4", "locale"=>"en"}
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 117], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:38:in `create'
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 117], ["product_id", 4], ["LIMIT", 1]]
  ↳ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/line_items_controller.rb:42:in `block in create'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:42:in `block in create'
  [1m[36mLineItem Create (105.9ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 4], ["cart_id", 117], ["created_at", "2020-08-27 08:43:44.513412"], ["updated_at", "2020-08-27 08:43:44.513412"]]
  ↳ app/controllers/line_items_controller.rb:42:in `block in create'
  [1m[35m (185.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/line_items_controller.rb:42:in `block in create'
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.4ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 117]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 14.3ms | Allocations: 302)
  Rendered carts/_cart.html.erb (Duration: 30.2ms | Allocations: 2288)
  Rendered line_items/create.js.erb (Duration: 59.5ms | Allocations: 2718)
Completed 200 OK in 634ms (Views: 69.4ms | ActiveRecord: 293.4ms | Allocations: 16788)


Finished "/cable/" [WebSocket] for ::1 at 2020-08-27 15:48:06 +0700
ProductsChannel stopped streaming from products
Started GET "/" for ::1 at 2020-08-27 20:44:46 +0700
  [1m[35m (45.7ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (6.1ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by StoreController#index as HTML
  [1m[36mCart Load (30.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 69], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[36mCart Create (22.1ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2020-08-27 13:44:48.281749"], ["updated_at", "2020-08-27 13:44:48.281749"]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[35m (621.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
Started GET "/" for ::1 at 2020-08-27 20:44:49 +0700
  Rendering store/index.html.erb within layouts/application
  [1m[35m (0.3ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[36mProduct Load (2.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.7ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 69], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[35m (0.2ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[36mCart Create (0.9ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2020-08-27 13:44:49.900176"], ["updated_at", "2020-08-27 13:44:49.900176"]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[35m (186.4ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.7ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 1583.3ms | Allocations: 20183)
  Rendered store/index.html.erb within layouts/application (Duration: 2015.4ms | Allocations: 32117)
[Webpacker] Everything's up-to-date. Nothing to do
[Webpacker] Everything's up-to-date. Nothing to do
[Webpacker] Everything's up-to-date. Nothing to do
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (12.0ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 120], ["LIMIT", 1]]
  [1m[36mLineItem Exists? (0.5ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 119], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:35
  ↳ app/views/layouts/application.html.erb:35
Completed 200 OK in 2805ms (Views: 2544.9ms | ActiveRecord: 202.0ms | Allocations: 44511)


Completed 200 OK in 4551ms (Views: 3449.5ms | ActiveRecord: 679.4ms | Allocations: 63885)


Started GET "/cable" for ::1 at 2020-08-27 20:44:54 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-08-27 20:44:55 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started POST "/en/line_items?product_id=4" for ::1 at 2020-08-27 20:45:55 +0700
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"zTTktg/x6qbSYiQejr1G+S4ONcGW9lZJ71rkRhRYrOwTfXgKTJYPikzkBJTYOne5ttszui9/OLiXfmcpxIkrBA==", "product_id"=>"4", "locale"=>"en"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 120], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.8ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:38:in `create'
  [1m[36mLineItem Load (0.9ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 120], ["product_id", 4], ["LIMIT", 1]]
  ↳ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/line_items_controller.rb:42:in `block in create'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:42:in `block in create'
  [1m[36mLineItem Create (32.2ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 4], ["cart_id", 120], ["created_at", "2020-08-27 13:45:55.579004"], ["updated_at", "2020-08-27 13:45:55.579004"]]
  ↳ app/controllers/line_items_controller.rb:42:in `block in create'
  [1m[35m (420.8ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/line_items_controller.rb:42:in `block in create'
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 120]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 6.9ms | Allocations: 302)
  Rendered carts/_cart.html.erb (Duration: 21.1ms | Allocations: 2288)
  Rendered line_items/create.js.erb (Duration: 54.8ms | Allocations: 2714)
Completed 200 OK in 613ms (Views: 61.0ms | ActiveRecord: 456.0ms | Allocations: 16421)


Started GET "/en/orders/new" for ::1 at 2020-08-27 20:45:58 +0700
Processing by OrdersController#new as HTML
  Parameters: {"locale"=>"en"}
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 120], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Exists? (0.8ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 120], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:98:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 375.3ms | Allocations: 2400)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered orders/new.html.erb within layouts/application (Duration: 424.2ms | Allocations: 4539)
[Webpacker] Everything's up-to-date. Nothing to do
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mCACHE LineItem Exists? (0.0ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 120], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:35
  [1m[36mLineItem Load (0.1ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 120]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.8ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 8.2ms | Allocations: 892)
  Rendered carts/_cart.html.erb (Duration: 14.0ms | Allocations: 2238)
Completed 200 OK in 602ms (Views: 459.8ms | ActiveRecord: 4.4ms | Allocations: 21487)


Finished "/cable/" [WebSocket] for ::1 at 2020-08-27 20:45:59 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-08-27 20:45:59 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-08-27 20:45:59 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/" for ::1 at 2020-08-27 20:46:12 +0700
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 120], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 18.6ms | Allocations: 4215)
[Webpacker] Everything's up-to-date. Nothing to do
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 120], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:35
  [1m[36mLineItem Load (0.7ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 120]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 4.0ms | Allocations: 892)
  Rendered carts/_cart.html.erb (Duration: 11.1ms | Allocations: 2116)
Completed 200 OK in 62ms (Views: 57.6ms | ActiveRecord: 1.8ms | Allocations: 14427)


Started GET "/questions" for ::1 at 2020-08-27 20:46:14 +0700
Processing by StoreController#index as HTML
  Parameters: {"locale"=>"questions"}
questions translation not available
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 120], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 20.7ms | Allocations: 4193)
[Webpacker] Everything's up-to-date. Nothing to do
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 120], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:35
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 120]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 8.4ms | Allocations: 892)
  Rendered carts/_cart.html.erb (Duration: 14.0ms | Allocations: 2117)
Completed 200 OK in 67ms (Views: 59.8ms | ActiveRecord: 1.8ms | Allocations: 14451)


Started GET "/news" for ::1 at 2020-08-27 20:46:17 +0700
Processing by StoreController#index as HTML
  Parameters: {"locale"=>"news"}
news translation not available
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 120], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 23.6ms | Allocations: 4200)
[Webpacker] Everything's up-to-date. Nothing to do
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 120], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:35
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 120]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 4.1ms | Allocations: 892)
  Rendered carts/_cart.html.erb (Duration: 11.5ms | Allocations: 2117)
Completed 200 OK in 68ms (Views: 60.9ms | ActiveRecord: 2.0ms | Allocations: 14456)


Started GET "/contact" for ::1 at 2020-08-27 20:46:19 +0700
Processing by StoreController#index as HTML
  Parameters: {"locale"=>"contact"}
contact translation not available
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 120], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.5ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 25.7ms | Allocations: 4204)
[Webpacker] Everything's up-to-date. Nothing to do
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.4ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 120], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:35
  [1m[36mLineItem Load (0.8ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 120]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 4.1ms | Allocations: 892)
  Rendered carts/_cart.html.erb (Duration: 12.2ms | Allocations: 2117)
Completed 200 OK in 63ms (Views: 55.4ms | ActiveRecord: 2.3ms | Allocations: 14509)


Started GET "/contact" for ::1 at 2020-08-27 20:46:20 +0700
Processing by StoreController#index as HTML
  Parameters: {"locale"=>"contact"}
contact translation not available
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 120], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 23.1ms | Allocations: 4195)
[Webpacker] Everything's up-to-date. Nothing to do
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 120], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:35
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 120]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 2.2ms | Allocations: 892)
  Rendered carts/_cart.html.erb (Duration: 7.1ms | Allocations: 2117)
Completed 200 OK in 64ms (Views: 55.9ms | ActiveRecord: 1.5ms | Allocations: 14452)


Started GET "/contact" for ::1 at 2020-08-27 20:46:20 +0700
Processing by StoreController#index as HTML
  Parameters: {"locale"=>"contact"}
contact translation not available
  [1m[36mCart Load (0.2ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 120], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 30.8ms | Allocations: 4196)
[Webpacker] Everything's up-to-date. Nothing to do
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 120], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:35
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 120]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 2.2ms | Allocations: 892)
  Rendered carts/_cart.html.erb (Duration: 5.2ms | Allocations: 2117)
Completed 200 OK in 88ms (Views: 82.9ms | ActiveRecord: 1.1ms | Allocations: 14453)


Started GET "/" for ::1 at 2020-08-27 20:46:21 +0700
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 120], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 23.2ms | Allocations: 4211)
[Webpacker] Everything's up-to-date. Nothing to do
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (1.1ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 120], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:35
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 120]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.4ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 3.9ms | Allocations: 892)
  Rendered carts/_cart.html.erb (Duration: 12.7ms | Allocations: 2112)
Completed 200 OK in 80ms (Views: 70.9ms | ActiveRecord: 2.5ms | Allocations: 14476)


Started GET "/cable" for ::1 at 2020-08-28 16:47:48 +0700
  [1m[35m (1.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.2ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Started GET "/cable/" [WebSocket] for ::1 at 2020-08-28 16:47:48 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/orders/new" for ::1 at 2020-08-28 16:48:12 +0700
Processing by OrdersController#new as HTML
  [1m[36mCart Load (9.8ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 70], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Exists? (0.7ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 70], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:98:in `ensure_cart_isnt_empty'
Redirected to http://localhost:3000/
Filter chain halted as :ensure_cart_isnt_empty rendered or redirected
Completed 302 Found in 104ms (ActiveRecord: 14.9ms | Allocations: 8579)


Started GET "/" for ::1 at 2020-08-28 16:48:12 +0700
Processing by StoreController#index as HTML
  [1m[36mCart Load (0.9ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 70], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (12.7ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 465.8ms | Allocations: 15313)
[Webpacker] Everything's up-to-date. Nothing to do
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.9ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 70], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:35
Completed 200 OK in 735ms (Views: 678.3ms | ActiveRecord: 16.9ms | Allocations: 27749)


Finished "/cable/" [WebSocket] for ::1 at 2020-08-28 16:48:13 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-08-28 16:48:13 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-08-28 16:48:13 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started POST "/en/line_items?product_id=5" for ::1 at 2020-08-28 16:50:48 +0700
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"I8FA/CtCh1JQreLNJLMtT8DSrNOvQ1/Ly3bf6orf+0PZkux+790eLKr8sSmhmPtUrk/9D9wQ9byXk48H3UReNg==", "product_id"=>"5", "locale"=>"en"}
  [1m[36mCart Load (0.1ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 70], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.2ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:38:in `create'
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 70], ["product_id", 5], ["LIMIT", 1]]
  ↳ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/line_items_controller.rb:42:in `block in create'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:42:in `block in create'
  [1m[36mLineItem Create (5.0ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 5], ["cart_id", 70], ["created_at", "2020-08-28 09:50:48.829103"], ["updated_at", "2020-08-28 09:50:48.829103"]]
  ↳ app/controllers/line_items_controller.rb:42:in `block in create'
  [1m[35m (117.3ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/line_items_controller.rb:42:in `block in create'
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.5ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 70]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 43.3ms | Allocations: 487)
  Rendered carts/_cart.html.erb (Duration: 104.6ms | Allocations: 2476)
  Rendered line_items/create.js.erb (Duration: 129.3ms | Allocations: 2907)
Completed 200 OK in 293ms (Views: 132.7ms | ActiveRecord: 124.1ms | Allocations: 16801)


Started GET "/en/orders/new" for ::1 at 2020-08-28 16:50:50 +0700
Processing by OrdersController#new as HTML
  Parameters: {"locale"=>"en"}
  [1m[36mCart Load (0.4ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 70], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Exists? (1.3ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 70], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:98:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 78.2ms | Allocations: 1903)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered orders/new.html.erb within layouts/application (Duration: 102.9ms | Allocations: 4042)
[Webpacker] Everything's up-to-date. Nothing to do
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mCACHE LineItem Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 70], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:35
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 70]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.1ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 5], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 6.1ms | Allocations: 892)
  Rendered carts/_cart.html.erb (Duration: 11.8ms | Allocations: 2238)
Completed 200 OK in 199ms (Views: 146.9ms | ActiveRecord: 3.0ms | Allocations: 20806)


Finished "/cable/" [WebSocket] for ::1 at 2020-08-28 16:50:50 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-08-28 16:50:50 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-08-28 16:50:50 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started GET "/" for ::1 at 2020-08-28 20:41:47 +0700
  [1m[35m (5.9ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
  [1m[35m (0.4ms)[0m  [1m[34mSELECT "schema_migrations"."version" FROM "schema_migrations" ORDER BY "schema_migrations"."version" ASC[0m
Processing by StoreController#index as HTML
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[36mCart Create (1.2ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2020-08-28 13:41:47.925205"], ["updated_at", "2020-08-28 13:41:47.925205"]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[35m (316.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (12.3ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
Started GET "/" for ::1 at 2020-08-28 20:41:50 +0700
  [1m[35m (0.1ms)[0m  [1m[34mSELECT sqlite_version(*)[0m
Processing by StoreController#index as HTML
  [1m[35m (0.7ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[36mCart Create (0.6ms)[0m  [1m[32mINSERT INTO "carts" ("created_at", "updated_at") VALUES (?, ?)[0m  [["created_at", "2020-08-28 13:41:50.545317"], ["updated_at", "2020-08-28 13:41:50.545317"]]
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  [1m[35m (109.0ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/concerns/current_cart.rb:6:in `rescue in set_cart'
  Rendering store/index.html.erb within layouts/application
  [1m[36mProduct Load (1.1ms)[0m  [1m[34mSELECT "products".* FROM "products" ORDER BY "products"."title" ASC[0m
  ↳ app/views/store/index.html.erb:5
  Rendered store/index.html.erb within layouts/application (Duration: 1839.1ms | Allocations: 120987)
  Rendered store/index.html.erb within layouts/application (Duration: 3979.1ms | Allocations: 134403)
[Webpacker] Everything's up-to-date. Nothing to do
[Webpacker] Everything's up-to-date. Nothing to do
[Webpacker] Everything's up-to-date. Nothing to do
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 122], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:35
  [1m[36mLineItem Exists? (0.2ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 121], ["LIMIT", 1]]
Completed 200 OK in 2330ms (Views: 2192.2ms | ActiveRecord: 112.1ms | Allocations: 170321)


  ↳ app/views/layouts/application.html.erb:35
Completed 200 OK in 4997ms (Views: 4508.7ms | ActiveRecord: 332.7ms | Allocations: 192423)


Started GET "/cable" for ::1 at 2020-08-28 20:41:53 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-08-28 20:41:53 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Started POST "/en/line_items?product_id=4" for ::1 at 2020-08-28 20:41:59 +0700
Processing by LineItemsController#create as JS
  Parameters: {"authenticity_token"=>"wXc/bSqhHNiOR0CFvsXYDy380ZIPMzRJ+V264bUeMNJ3ann+aBd5Sryw3zqLHvucQHnZhP9iOzC9GKU1PyeNMA==", "product_id"=>"4", "locale"=>"en"}
  [1m[36mCart Load (0.3ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 122], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mProduct Load (0.3ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:38:in `create'
  [1m[36mLineItem Load (0.2ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ? AND "line_items"."product_id" = ? LIMIT ?[0m  [["cart_id", 122], ["product_id", 4], ["LIMIT", 1]]
  ↳ app/models/cart.rb:5:in `add_product'
  [1m[35m (0.1ms)[0m  [1m[36mbegin transaction[0m
  ↳ app/controllers/line_items_controller.rb:42:in `block in create'
  [1m[36mProduct Load (0.8ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/controllers/line_items_controller.rb:42:in `block in create'
  [1m[36mLineItem Create (25.1ms)[0m  [1m[32mINSERT INTO "line_items" ("product_id", "cart_id", "created_at", "updated_at") VALUES (?, ?, ?, ?)[0m  [["product_id", 4], ["cart_id", 122], ["created_at", "2020-08-28 13:41:59.453368"], ["updated_at", "2020-08-28 13:41:59.453368"]]
  ↳ app/controllers/line_items_controller.rb:42:in `block in create'
  [1m[35m (84.1ms)[0m  [1m[36mcommit transaction[0m
  ↳ app/controllers/line_items_controller.rb:42:in `block in create'
  Rendering line_items/create.js.erb
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 122]]
  ↳ app/views/carts/_cart.html.erb:8
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 1.4ms | Allocations: 302)
  Rendered carts/_cart.html.erb (Duration: 9.5ms | Allocations: 2438)
  Rendered line_items/create.js.erb (Duration: 11.5ms | Allocations: 2868)
Completed 200 OK in 185ms (Views: 14.2ms | ActiveRecord: 112.8ms | Allocations: 17145)


Started GET "/en/orders/new" for ::1 at 2020-08-28 20:42:01 +0700
Processing by OrdersController#new as HTML
  Parameters: {"locale"=>"en"}
  [1m[36mCart Load (1.0ms)[0m  [1m[34mSELECT "carts".* FROM "carts" WHERE "carts"."id" = ? LIMIT ?[0m  [["id", 122], ["LIMIT", 1]]
  ↳ app/controllers/concerns/current_cart.rb:4:in `set_cart'
  [1m[36mLineItem Exists? (0.3ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 122], ["LIMIT", 1]]
  ↳ app/controllers/orders_controller.rb:98:in `ensure_cart_isnt_empty'
  Rendering orders/new.html.erb within layouts/application
  Rendered orders/_form.html.erb (Duration: 18.5ms | Allocations: 2398)
[Webpacker] Everything's up-to-date. Nothing to do
  Rendered orders/new.html.erb within layouts/application (Duration: 25.1ms | Allocations: 4529)
[Webpacker] Everything's up-to-date. Nothing to do
[Webpacker] Everything's up-to-date. Nothing to do
  [1m[36mCACHE LineItem Exists? (0.1ms)[0m  [1m[34mSELECT 1 AS one FROM "line_items" WHERE "line_items"."cart_id" = ? LIMIT ?[0m  [["cart_id", 122], ["LIMIT", 1]]
  ↳ app/views/layouts/application.html.erb:35
  [1m[36mLineItem Load (0.3ms)[0m  [1m[34mSELECT "line_items".* FROM "line_items" WHERE "line_items"."cart_id" = ?[0m  [["cart_id", 122]]
  ↳ app/views/carts/_cart.html.erb:8
  [1m[36mProduct Load (0.6ms)[0m  [1m[34mSELECT "products".* FROM "products" WHERE "products"."id" = ? LIMIT ?[0m  [["id", 4], ["LIMIT", 1]]
  ↳ app/views/line_items/_line_item.html.erb:7
  Rendered collection of line_items/_line_item.html.erb [1 times] (Duration: 7.5ms | Allocations: 892)
  Rendered carts/_cart.html.erb (Duration: 15.4ms | Allocations: 2238)
Completed 200 OK in 133ms (Views: 92.2ms | ActiveRecord: 5.0ms | Allocations: 21666)


Finished "/cable/" [WebSocket] for ::1 at 2020-08-28 20:42:01 +0700
ProductsChannel stopped streaming from products
Started GET "/cable" for ::1 at 2020-08-28 20:42:01 +0700
Started GET "/cable/" [WebSocket] for ::1 at 2020-08-28 20:42:01 +0700
Successfully upgraded to WebSocket (REQUEST_METHOD: GET, HTTP_CONNECTION: Upgrade, HTTP_UPGRADE: websocket)
ProductsChannel is transmitting the subscription confirmation
ProductsChannel is streaming from products
Finished "/cable/" [WebSocket] for ::1 at 2020-08-28 20:45:19 +0700
ProductsChannel stopped streaming from products
